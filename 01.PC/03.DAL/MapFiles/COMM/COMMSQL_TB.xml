<?xml version="1.0" encoding="utf-8" ?>
<!--
/************************************************************************
* 文件名: ComSQL_TB.xml
* **********************************************************************
* 文件概要:系统共通TableSQLMap
*
*     本文件由工具自动生成，请勿手动修改此文件！
*
* 详细:
*  [系统名]     : SkyCar
*  [子系统名]   : 无
*  [功能概要]   : 系统共通TableSQLMap定义
*
* 履历:
* No.   日期  　     姓名  　　内容
* 1.    2017/11/17   Tool      自动生成，请勿修改；
* 
************************************************************************/
-->
<sqlMap namespace="Model" xmlns="http://ibatis.apache.org/mapping" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <!--模块配置-->
  <alias>
    <!--配件档案TBModel-->
    <typeAlias alias="MDLBS_AutoPartsArchive" type="SkyCar.Coeus.TBModel.MDLBS_AutoPartsArchive,SkyCar.Coeus.TBModel" />
    <!--配件名称TBModel-->
    <typeAlias alias="MDLBS_AutoPartsName" type="SkyCar.Coeus.TBModel.MDLBS_AutoPartsName,SkyCar.Coeus.TBModel" />
    <!--车辆品牌车系TBModel-->
    <typeAlias alias="MDLBS_VehicleBrandInspireSumma" type="SkyCar.Coeus.TBModel.MDLBS_VehicleBrandInspireSumma,SkyCar.Coeus.TBModel" />
    <!--配件级别TBModel-->
    <typeAlias alias="MDLBS_AutoPartsLevel" type="SkyCar.Coeus.TBModel.MDLBS_AutoPartsLevel,SkyCar.Coeus.TBModel" />
    <!--配件类别TBModel-->
    <typeAlias alias="MDLBS_AutoPartsType" type="SkyCar.Coeus.TBModel.MDLBS_AutoPartsType,SkyCar.Coeus.TBModel" />
    <!--配件价格类别TBModel-->
    <typeAlias alias="MDLBS_AutoPartsPriceType" type="SkyCar.Coeus.TBModel.MDLBS_AutoPartsPriceType,SkyCar.Coeus.TBModel" />
    <!--车辆信息TBModel-->
    <typeAlias alias="MDLBS_VehicleInfo" type="SkyCar.Coeus.TBModel.MDLBS_VehicleInfo,SkyCar.Coeus.TBModel" />
    <!--车辆原厂件信息TBModel-->
    <typeAlias alias="MDLBS_VehicleOemPartsInfo" type="SkyCar.Coeus.TBModel.MDLBS_VehicleOemPartsInfo,SkyCar.Coeus.TBModel" />
    <!--车辆品牌件信息TBModel-->
    <typeAlias alias="MDLBS_VehicleThirdPartsInfo" type="SkyCar.Coeus.TBModel.MDLBS_VehicleThirdPartsInfo,SkyCar.Coeus.TBModel" />
    <!--车辆原厂品牌关联信息TBModel-->
    <typeAlias alias="MDLBS_VehicleBrandPartsInfo" type="SkyCar.Coeus.TBModel.MDLBS_VehicleBrandPartsInfo,SkyCar.Coeus.TBModel" />
    <!--编码段TBModel-->
    <typeAlias alias="MDLSM_CodingSegment" type="SkyCar.Coeus.TBModel.MDLSM_CodingSegment,SkyCar.Coeus.TBModel" />
    <!--编码规则TBModel-->
    <typeAlias alias="MDLSM_EncodingRule" type="SkyCar.Coeus.TBModel.MDLSM_EncodingRule,SkyCar.Coeus.TBModel" />
    <!--系统编号TBModel-->
    <typeAlias alias="MDLSM_SystemNo" type="SkyCar.Coeus.TBModel.MDLSM_SystemNo,SkyCar.Coeus.TBModel" />
    <!--组织管理TBModel-->
    <typeAlias alias="MDLSM_Organization" type="SkyCar.Coeus.TBModel.MDLSM_Organization,SkyCar.Coeus.TBModel" />
    <!--菜单TBModel-->
    <typeAlias alias="MDLSM_Menu" type="SkyCar.Coeus.TBModel.MDLSM_Menu,SkyCar.Coeus.TBModel" />
    <!--菜单分组TBModel-->
    <typeAlias alias="MDLSM_MenuGroup" type="SkyCar.Coeus.TBModel.MDLSM_MenuGroup,SkyCar.Coeus.TBModel" />
    <!--菜单明细TBModel-->
    <typeAlias alias="MDLSM_MenuDetail" type="SkyCar.Coeus.TBModel.MDLSM_MenuDetail,SkyCar.Coeus.TBModel" />
    <!--系统动作TBModel-->
    <typeAlias alias="MDLSM_Action" type="SkyCar.Coeus.TBModel.MDLSM_Action,SkyCar.Coeus.TBModel" />
    <!--菜单明细动作TBModel-->
    <typeAlias alias="MDLSM_MenuDetailAction" type="SkyCar.Coeus.TBModel.MDLSM_MenuDetailAction,SkyCar.Coeus.TBModel" />
    <!--用户菜单TBModel-->
    <typeAlias alias="MDLSM_UserMenuAuthority" type="SkyCar.Coeus.TBModel.MDLSM_UserMenuAuthority,SkyCar.Coeus.TBModel" />
    <!--用户菜单动作TBModel-->
    <typeAlias alias="MDLSM_UserActionAuthority" type="SkyCar.Coeus.TBModel.MDLSM_UserActionAuthority,SkyCar.Coeus.TBModel" />
    <!--用户TBModel-->
    <typeAlias alias="MDLSM_User" type="SkyCar.Coeus.TBModel.MDLSM_User,SkyCar.Coeus.TBModel" />
    <!--用户登录日志TBModel-->
    <typeAlias alias="MDLSM_UserLoginLog" type="SkyCar.Coeus.TBModel.MDLSM_UserLoginLog,SkyCar.Coeus.TBModel" />
    <!--用户组织TBModel-->
    <typeAlias alias="MDLSM_UserOrg" type="SkyCar.Coeus.TBModel.MDLSM_UserOrg,SkyCar.Coeus.TBModel" />
    <!--用户业务角色TBModel-->
    <typeAlias alias="MDLSM_UserBusinessRole" type="SkyCar.Coeus.TBModel.MDLSM_UserBusinessRole,SkyCar.Coeus.TBModel" />
    <!--用户作业权限TBModel-->
    <typeAlias alias="MDLSM_UserJobAuthority" type="SkyCar.Coeus.TBModel.MDLSM_UserJobAuthority,SkyCar.Coeus.TBModel" />
    <!--汽配汽修商户授权TBModel-->
    <typeAlias alias="MDLSM_AROrgSupMerchantAuthority" type="SkyCar.Coeus.TBModel.MDLSM_AROrgSupMerchantAuthority,SkyCar.Coeus.TBModel" />
    <!--汽配汽修组织授权TBModel-->
    <typeAlias alias="MDLSM_AROrgSupOrgAuthority" type="SkyCar.Coeus.TBModel.MDLSM_AROrgSupOrgAuthority,SkyCar.Coeus.TBModel" />
    <!--使用许可证TBModel-->
    <typeAlias alias="MDLSM_ClientUseLicense" type="SkyCar.Coeus.TBModel.MDLSM_ClientUseLicense,SkyCar.Coeus.TBModel" />
    <!--系统参数TBModel-->
    <typeAlias alias="MDLSM_Parameter" type="SkyCar.Coeus.TBModel.MDLSM_Parameter,SkyCar.Coeus.TBModel" />
    <!--码表TBModel-->
    <typeAlias alias="MDLSM_CodeTable" type="SkyCar.Coeus.TBModel.MDLSM_CodeTable,SkyCar.Coeus.TBModel" />
    <!--系统枚举TBModel-->
    <typeAlias alias="MDLSM_Enum" type="SkyCar.Coeus.TBModel.MDLSM_Enum,SkyCar.Coeus.TBModel" />
    <!--系统消息TBModel-->
    <typeAlias alias="MDLSM_Message" type="SkyCar.Coeus.TBModel.MDLSM_Message,SkyCar.Coeus.TBModel" />
    <!--消息推送TBModel-->
    <typeAlias alias="MDLSM_PushMesage" type="SkyCar.Coeus.TBModel.MDLSM_PushMesage,SkyCar.Coeus.TBModel" />
    <!--中国大区TBModel-->
    <typeAlias alias="MDLSM_ChineseRegion" type="SkyCar.Coeus.TBModel.MDLSM_ChineseRegion,SkyCar.Coeus.TBModel" />
    <!--中国省份TBModel-->
    <typeAlias alias="MDLSM_ChineseProvince" type="SkyCar.Coeus.TBModel.MDLSM_ChineseProvince,SkyCar.Coeus.TBModel" />
    <!--省份城市TBModel-->
    <typeAlias alias="MDLSM_ProvinceCity" type="SkyCar.Coeus.TBModel.MDLSM_ProvinceCity,SkyCar.Coeus.TBModel" />
    <!--城市区域TBModel-->
    <typeAlias alias="MDLSM_CityDistrict" type="SkyCar.Coeus.TBModel.MDLSM_CityDistrict,SkyCar.Coeus.TBModel" />
    <!--付款单TBModel-->
    <typeAlias alias="MDLFM_PayBill" type="SkyCar.Coeus.TBModel.MDLFM_PayBill,SkyCar.Coeus.TBModel" />
    <!--付款单明细TBModel-->
    <typeAlias alias="MDLFM_PayBillDetail" type="SkyCar.Coeus.TBModel.MDLFM_PayBillDetail,SkyCar.Coeus.TBModel" />
    <!--收款单TBModel-->
    <typeAlias alias="MDLFM_ReceiptBill" type="SkyCar.Coeus.TBModel.MDLFM_ReceiptBill,SkyCar.Coeus.TBModel" />
    <!--收款单明细TBModel-->
    <typeAlias alias="MDLFM_ReceiptBillDetail" type="SkyCar.Coeus.TBModel.MDLFM_ReceiptBillDetail,SkyCar.Coeus.TBModel" />
    <!--应付单TBModel-->
    <typeAlias alias="MDLFM_AccountPayableBill" type="SkyCar.Coeus.TBModel.MDLFM_AccountPayableBill,SkyCar.Coeus.TBModel" />
    <!--应付单明细TBModel-->
    <typeAlias alias="MDLFM_AccountPayableBillDetail" type="SkyCar.Coeus.TBModel.MDLFM_AccountPayableBillDetail,SkyCar.Coeus.TBModel" />
    <!--应付单日志TBModel-->
    <typeAlias alias="MDLFM_AccountPayableBillLog" type="SkyCar.Coeus.TBModel.MDLFM_AccountPayableBillLog,SkyCar.Coeus.TBModel" />
    <!--应收单TBModel-->
    <typeAlias alias="MDLFM_AccountReceivableBill" type="SkyCar.Coeus.TBModel.MDLFM_AccountReceivableBill,SkyCar.Coeus.TBModel" />
    <!--应收单明细TBModel-->
    <typeAlias alias="MDLFM_AccountReceivableBillDetail" type="SkyCar.Coeus.TBModel.MDLFM_AccountReceivableBillDetail,SkyCar.Coeus.TBModel" />
    <!--应收单日志TBModel-->
    <typeAlias alias="MDLFM_AccountReceivableBillLog" type="SkyCar.Coeus.TBModel.MDLFM_AccountReceivableBillLog,SkyCar.Coeus.TBModel" />
    <!--采购订单TBModel-->
    <typeAlias alias="MDLPIS_PurchaseOrder" type="SkyCar.Coeus.TBModel.MDLPIS_PurchaseOrder,SkyCar.Coeus.TBModel" />
    <!--采购订单明细TBModel-->
    <typeAlias alias="MDLPIS_PurchaseOrderDetail" type="SkyCar.Coeus.TBModel.MDLPIS_PurchaseOrderDetail,SkyCar.Coeus.TBModel" />
    <!--采购预测订单TBModel-->
    <typeAlias alias="MDLPIS_PurchaseForecastOrder" type="SkyCar.Coeus.TBModel.MDLPIS_PurchaseForecastOrder,SkyCar.Coeus.TBModel" />
    <!--采购预测订单明细TBModel-->
    <typeAlias alias="MDLPIS_PurchaseForecastOrderDetail" type="SkyCar.Coeus.TBModel.MDLPIS_PurchaseForecastOrderDetail,SkyCar.Coeus.TBModel" />
    <!--仓库TBModel-->
    <typeAlias alias="MDLPIS_Warehouse" type="SkyCar.Coeus.TBModel.MDLPIS_Warehouse,SkyCar.Coeus.TBModel" />
    <!--仓位TBModel-->
    <typeAlias alias="MDLPIS_WarehouseBin" type="SkyCar.Coeus.TBModel.MDLPIS_WarehouseBin,SkyCar.Coeus.TBModel" />
    <!--出库单TBModel-->
    <typeAlias alias="MDLPIS_StockOutBill" type="SkyCar.Coeus.TBModel.MDLPIS_StockOutBill,SkyCar.Coeus.TBModel" />
    <!--出库单明细TBModel-->
    <typeAlias alias="MDLPIS_StockOutBillDetail" type="SkyCar.Coeus.TBModel.MDLPIS_StockOutBillDetail,SkyCar.Coeus.TBModel" />
    <!--供应商管理TBModel-->
    <typeAlias alias="MDLPIS_Supplier" type="SkyCar.Coeus.TBModel.MDLPIS_Supplier,SkyCar.Coeus.TBModel" />
    <!--库存TBModel-->
    <typeAlias alias="MDLPIS_Inventory" type="SkyCar.Coeus.TBModel.MDLPIS_Inventory,SkyCar.Coeus.TBModel" />
    <!--库存图片TBModel-->
    <typeAlias alias="MDLPIS_InventoryPicture" type="SkyCar.Coeus.TBModel.MDLPIS_InventoryPicture,SkyCar.Coeus.TBModel" />
    <!--库存异动日志TBModel-->
    <typeAlias alias="MDLPIS_InventoryTransLog" type="SkyCar.Coeus.TBModel.MDLPIS_InventoryTransLog,SkyCar.Coeus.TBModel" />
    <!--共享库存TBModel-->
    <typeAlias alias="MDLPIS_ShareInventory" type="SkyCar.Coeus.TBModel.MDLPIS_ShareInventory,SkyCar.Coeus.TBModel" />
    <!--盘点任务TBModel-->
    <typeAlias alias="MDLPIS_StocktakingTask" type="SkyCar.Coeus.TBModel.MDLPIS_StocktakingTask,SkyCar.Coeus.TBModel" />
    <!--盘点任务明细TBModel-->
    <typeAlias alias="MDLPIS_StocktakingTaskDetail" type="SkyCar.Coeus.TBModel.MDLPIS_StocktakingTaskDetail,SkyCar.Coeus.TBModel" />
    <!--普通客户TBModel-->
    <typeAlias alias="MDLPIS_GeneralCustomer" type="SkyCar.Coeus.TBModel.MDLPIS_GeneralCustomer,SkyCar.Coeus.TBModel" />
    <!--汽修商客户TBModel-->
    <typeAlias alias="MDLPIS_AutoFactoryCustomer" type="SkyCar.Coeus.TBModel.MDLPIS_AutoFactoryCustomer,SkyCar.Coeus.TBModel" />
    <!--调拨单TBModel-->
    <typeAlias alias="MDLPIS_TransferBill" type="SkyCar.Coeus.TBModel.MDLPIS_TransferBill,SkyCar.Coeus.TBModel" />
    <!--调拨单明细TBModel-->
    <typeAlias alias="MDLPIS_TransferBillDetail" type="SkyCar.Coeus.TBModel.MDLPIS_TransferBillDetail,SkyCar.Coeus.TBModel" />
    <!--入库单TBModel-->
    <typeAlias alias="MDLPIS_StockInBill" type="SkyCar.Coeus.TBModel.MDLPIS_StockInBill,SkyCar.Coeus.TBModel" />
    <!--入库单明细TBModel-->
    <typeAlias alias="MDLPIS_StockInDetail" type="SkyCar.Coeus.TBModel.MDLPIS_StockInDetail,SkyCar.Coeus.TBModel" />
    <!--微信菜单TBModel-->
    <typeAlias alias="MDLWC_Menu" type="SkyCar.Coeus.TBModel.MDLWC_Menu,SkyCar.Coeus.TBModel" />
    <!--微信消息TBModel-->
    <typeAlias alias="MDLWC_Message" type="SkyCar.Coeus.TBModel.MDLWC_Message,SkyCar.Coeus.TBModel" />
    <!--微信用户TBModel-->
    <typeAlias alias="MDLWC_User" type="SkyCar.Coeus.TBModel.MDLWC_User,SkyCar.Coeus.TBModel" />
    <!--微信用户明细TBModel-->
    <typeAlias alias="MDLWC_UserDetail" type="SkyCar.Coeus.TBModel.MDLWC_UserDetail,SkyCar.Coeus.TBModel" />
    <!--微信用户明细异动TBModel-->
    <typeAlias alias="MDLWC_UserDetailTrans" type="SkyCar.Coeus.TBModel.MDLWC_UserDetailTrans,SkyCar.Coeus.TBModel" />
    <!--微信用户关注明细TBModel-->
    <typeAlias alias="MDLWC_UserSubscribeTrans" type="SkyCar.Coeus.TBModel.MDLWC_UserSubscribeTrans,SkyCar.Coeus.TBModel" />
    <!--物流订单TBModel-->
    <typeAlias alias="MDLSD_LogisticsBill" type="SkyCar.Coeus.TBModel.MDLSD_LogisticsBill,SkyCar.Coeus.TBModel" />
    <!--物流订单明细TBModel-->
    <typeAlias alias="MDLSD_LogisticsBillDetail" type="SkyCar.Coeus.TBModel.MDLSD_LogisticsBillDetail,SkyCar.Coeus.TBModel" />
    <!--物流订单异动TBModel-->
    <typeAlias alias="MDLSD_LogisticsBillTrans" type="SkyCar.Coeus.TBModel.MDLSD_LogisticsBillTrans,SkyCar.Coeus.TBModel" />
    <!--销售订单TBModel-->
    <typeAlias alias="MDLSD_SalesOrder" type="SkyCar.Coeus.TBModel.MDLSD_SalesOrder,SkyCar.Coeus.TBModel" />
    <!--销售订单明细TBModel-->
    <typeAlias alias="MDLSD_SalesOrderDetail" type="SkyCar.Coeus.TBModel.MDLSD_SalesOrderDetail,SkyCar.Coeus.TBModel" />
    <!--下发路径TBModel-->
    <typeAlias alias="MDLSD_DistributePath" type="SkyCar.Coeus.TBModel.MDLSD_DistributePath,SkyCar.Coeus.TBModel" />
    <!--销售模板TBModel-->
    <typeAlias alias="MDLSD_SalesTemplate" type="SkyCar.Coeus.TBModel.MDLSD_SalesTemplate,SkyCar.Coeus.TBModel" />
    <!--销售模板明细TBModel-->
    <typeAlias alias="MDLSD_SalesTemplateDetail" type="SkyCar.Coeus.TBModel.MDLSD_SalesTemplateDetail,SkyCar.Coeus.TBModel" />
    <!--销售预测订单TBModel-->
    <typeAlias alias="MDLSD_SalesForecastOrder" type="SkyCar.Coeus.TBModel.MDLSD_SalesForecastOrder,SkyCar.Coeus.TBModel" />
    <!--销售预测订单明细TBModel-->
    <typeAlias alias="MDLSD_SalesForecastOrderDetail" type="SkyCar.Coeus.TBModel.MDLSD_SalesForecastOrderDetail,SkyCar.Coeus.TBModel" />
    <!--系统作业TBModel-->
    <typeAlias alias="MDLCSM_BatchJob" type="SkyCar.Coeus.TBModel.MDLCSM_BatchJob,SkyCar.Coeus.TBModel" />
    <!--系统作业日志TBModel-->
    <typeAlias alias="MDLCSM_BatchJobLog" type="SkyCar.Coeus.TBModel.MDLCSM_BatchJobLog,SkyCar.Coeus.TBModel" />
    <!--业务提醒日志TBModel-->
    <typeAlias alias="MDLCSM_BusinessRemindLog" type="SkyCar.Coeus.TBModel.MDLCSM_BusinessRemindLog,SkyCar.Coeus.TBModel" />
    <!--消息推送接收日志TBModel-->
    <typeAlias alias="MDLCSM_PushMesageLog" type="SkyCar.Coeus.TBModel.MDLCSM_PushMesageLog,SkyCar.Coeus.TBModel" />
    <!--电子钱包TBModel-->
    <typeAlias alias="MDLEWM_Wallet" type="SkyCar.Coeus.TBModel.MDLEWM_Wallet,SkyCar.Coeus.TBModel" />
    <!--电子钱包异动TBModel-->
    <typeAlias alias="MDLEWM_WalletTrans" type="SkyCar.Coeus.TBModel.MDLEWM_WalletTrans,SkyCar.Coeus.TBModel" />
  </alias>
  <!--statements配置-->
  <statements>
    <!--新增[配件档案]信息-->
    <insert id="COMM_SQL_INSERT_MDLBS_AutoPartsArchive" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        BS_AutoPartsArchive
        (
        <!--配置档案ID-->
        APA_ID,
        <!--组织ID-->
        APA_Org_ID,
        <!--条形码-->
        APA_Barcode,
        <!--原厂编码-->
        APA_OEMNo,
        <!--第三方编码-->
        APA_ThirdNo,
        <!--配件名称-->
        APA_Name,
        <!--配件品牌-->
        APA_Brand,
        <!--规格型号-->
        APA_Specification,
        <!--计量单位-->
        APA_UOM,
        <!--配件级别-->
        APA_Level,
        <!--汽车品牌-->
        APA_VehicleBrand,
        <!--车系-->
        APA_VehicleInspire,
        <!--排量-->
        APA_VehicleCapacity,
        <!--年款-->
        APA_VehicleYearModel,
        <!--变速类型编码-->
        APA_VehicleGearboxTypeCode,
        <!--变速类型名称-->
        APA_VehicleGearboxTypeName,
        <!--默认供应商ID-->
        APA_SUPP_ID,
        <!--默认仓库ID-->
        APA_WH_ID,
        <!--默认仓位ID-->
        APA_WHB_ID,
        <!--安全库存是否预警-->
        APA_IsWarningSafeStock,
        <!--安全库存-->
        APA_SafeStockNum,
        <!--呆滞件是否预警-->
        APA_IsWarningDeadStock,
        <!--呆滞天数-->
        APA_SlackDays,
        <!--销价系数-->
        APA_SalePriceRate,
        <!--销价-->
        APA_SalePrice,
        <!--车型代码-->
        APA_VehicleModelCode,
        <!--互换码-->
        APA_ExchangeCode,
        <!--有效-->
        APA_IsValid,
        <!--创建人-->
        APA_CreatedBy,
        <!--创建时间-->
        APA_CreatedTime,
        <!--修改人-->
        APA_UpdatedBy,
        <!--修改时间-->
        APA_UpdatedTime,
        <!--版本号-->
        APA_VersionNo,
        <!--事务编号-->
        APA_TransID
        )
        VALUES
        (
        <!--配置档案ID-->
        #[].APA_ID#,
        <!--组织ID-->
        #[].APA_Org_ID#,
        <!--条形码-->
        #[].APA_Barcode#,
        <!--原厂编码-->
        #[].APA_OEMNo#,
        <!--第三方编码-->
        #[].APA_ThirdNo#,
        <!--配件名称-->
        #[].APA_Name#,
        <!--配件品牌-->
        #[].APA_Brand#,
        <!--规格型号-->
        #[].APA_Specification#,
        <!--计量单位-->
        #[].APA_UOM#,
        <!--配件级别-->
        #[].APA_Level#,
        <!--汽车品牌-->
        #[].APA_VehicleBrand#,
        <!--车系-->
        #[].APA_VehicleInspire#,
        <!--排量-->
        #[].APA_VehicleCapacity#,
        <!--年款-->
        #[].APA_VehicleYearModel#,
        <!--变速类型编码-->
        #[].APA_VehicleGearboxTypeCode#,
        <!--变速类型名称-->
        #[].APA_VehicleGearboxTypeName#,
        <!--默认供应商ID-->
        #[].APA_SUPP_ID#,
        <!--默认仓库ID-->
        #[].APA_WH_ID#,
        <!--默认仓位ID-->
        #[].APA_WHB_ID#,
        <!--安全库存是否预警-->
        #[].APA_IsWarningSafeStock#,
        <!--安全库存-->
        #[].APA_SafeStockNum#,
        <!--呆滞件是否预警-->
        #[].APA_IsWarningDeadStock#,
        <!--呆滞天数-->
        #[].APA_SlackDays#,
        <!--销价系数-->
        #[].APA_SalePriceRate#,
        <!--销价-->
        #[].APA_SalePrice#,
        <!--车型代码-->
        #[].APA_VehicleModelCode#,
        <!--互换码-->
        #[].APA_ExchangeCode#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].APA_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].APA_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].APA_TransID#
        )
      </iterate>
    </insert>

    <!--查询[配件档案]信息（精确条件）-->
    <select id="COMM_SQL_MDLBS_AutoPartsArchive" parameterClass="MDLBS_AutoPartsArchive" resultClass="MDLBS_AutoPartsArchive">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APA_ID)
      FROM BS_AutoPartsArchive
      <dynamic prepend="WHERE">
        <!--配置档案ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ID">APA_ID=#WHERE_APA_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Org_ID">APA_Org_ID=#WHERE_APA_Org_ID#</isNotEmpty>
        <!--条形码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Barcode">APA_Barcode=#WHERE_APA_Barcode#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_OEMNo">APA_OEMNo=#WHERE_APA_OEMNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ThirdNo">APA_ThirdNo=#WHERE_APA_ThirdNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Name">APA_Name=#WHERE_APA_Name#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Brand">APA_Brand=#WHERE_APA_Brand#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Specification">APA_Specification=#WHERE_APA_Specification#</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_APA_UOM">APA_UOM=#WHERE_APA_UOM#</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Level">APA_Level=#WHERE_APA_Level#</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleBrand">APA_VehicleBrand=#WHERE_APA_VehicleBrand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleInspire">APA_VehicleInspire=#WHERE_APA_VehicleInspire#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleCapacity">APA_VehicleCapacity=#WHERE_APA_VehicleCapacity#</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleYearModel">APA_VehicleYearModel=#WHERE_APA_VehicleYearModel#</isNotEmpty>
        <!--变速类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleGearboxTypeCode">APA_VehicleGearboxTypeCode=#WHERE_APA_VehicleGearboxTypeCode#</isNotEmpty>
        <!--变速类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleGearboxTypeName">APA_VehicleGearboxTypeName=#WHERE_APA_VehicleGearboxTypeName#</isNotEmpty>
        <!--默认供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_SUPP_ID">APA_SUPP_ID=#WHERE_APA_SUPP_ID#</isNotEmpty>
        <!--默认仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_WH_ID">APA_WH_ID=#WHERE_APA_WH_ID#</isNotEmpty>
        <!--默认仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_WHB_ID">APA_WHB_ID=#WHERE_APA_WHB_ID#</isNotEmpty>
        <!--安全库存是否预警-->
        <isNotNull prepend="AND" property="WHERE_APA_IsWarningSafeStock">APA_IsWarningSafeStock=#WHERE_APA_IsWarningSafeStock#</isNotNull>
        <!--安全库存-->
        <isNotNull prepend="AND" property="WHERE_APA_SafeStockNum">APA_SafeStockNum=#WHERE_APA_SafeStockNum#</isNotNull>
        <!--呆滞件是否预警-->
        <isNotNull prepend="AND" property="WHERE_APA_IsWarningDeadStock">APA_IsWarningDeadStock=#WHERE_APA_IsWarningDeadStock#</isNotNull>
        <!--呆滞天数-->
        <isNotNull prepend="AND" property="WHERE_APA_SlackDays">APA_SlackDays=#WHERE_APA_SlackDays#</isNotNull>
        <!--销价系数-->
        <isNotNull prepend="AND" property="WHERE_APA_SalePriceRate">APA_SalePriceRate=#WHERE_APA_SalePriceRate#</isNotNull>
        <!--销价-->
        <isNotNull prepend="AND" property="WHERE_APA_SalePrice">APA_SalePrice=#WHERE_APA_SalePrice#</isNotNull>
        <!--车型代码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleModelCode">APA_VehicleModelCode=#WHERE_APA_VehicleModelCode#</isNotEmpty>
        <!--互换码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ExchangeCode">APA_ExchangeCode=#WHERE_APA_ExchangeCode#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APA_IsValid">APA_IsValid=#WHERE_APA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APA_CreatedBy">APA_CreatedBy=#WHERE_APA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APA_UpdatedBy">APA_UpdatedBy=#WHERE_APA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APA_VersionNo">APA_VersionNo=#WHERE_APA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APA_TransID">APA_TransID=#WHERE_APA_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APA_ID,
      APA_Org_ID,
      APA_Barcode,
      APA_OEMNo,
      APA_ThirdNo,
      APA_Name,
      APA_Brand,
      APA_Specification,
      APA_UOM,
      APA_Level,
      APA_VehicleBrand,
      APA_VehicleInspire,
      APA_VehicleCapacity,
      APA_VehicleYearModel,
      APA_VehicleGearboxTypeCode,
      APA_VehicleGearboxTypeName,
      APA_SUPP_ID,
      APA_WH_ID,
      APA_WHB_ID,
      APA_IsWarningSafeStock,
      APA_SafeStockNum,
      APA_IsWarningDeadStock,
      APA_SlackDays,
      APA_SalePriceRate,
      APA_SalePrice,
      APA_VehicleModelCode,
      APA_ExchangeCode,
      APA_IsValid,
      APA_CreatedBy,
      APA_CreatedTime,
      APA_UpdatedBy,
      APA_UpdatedTime,
      APA_VersionNo,
      APA_TransID
      FROM BS_AutoPartsArchive
      <dynamic prepend="WHERE">
        <!--配置档案ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ID">APA_ID=#WHERE_APA_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Org_ID">APA_Org_ID=#WHERE_APA_Org_ID#</isNotEmpty>
        <!--条形码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Barcode">APA_Barcode=#WHERE_APA_Barcode#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_OEMNo">APA_OEMNo=#WHERE_APA_OEMNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ThirdNo">APA_ThirdNo=#WHERE_APA_ThirdNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Name">APA_Name=#WHERE_APA_Name#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Brand">APA_Brand=#WHERE_APA_Brand#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Specification">APA_Specification=#WHERE_APA_Specification#</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_APA_UOM">APA_UOM=#WHERE_APA_UOM#</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Level">APA_Level=#WHERE_APA_Level#</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleBrand">APA_VehicleBrand=#WHERE_APA_VehicleBrand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleInspire">APA_VehicleInspire=#WHERE_APA_VehicleInspire#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleCapacity">APA_VehicleCapacity=#WHERE_APA_VehicleCapacity#</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleYearModel">APA_VehicleYearModel=#WHERE_APA_VehicleYearModel#</isNotEmpty>
        <!--变速类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleGearboxTypeCode">APA_VehicleGearboxTypeCode=#WHERE_APA_VehicleGearboxTypeCode#</isNotEmpty>
        <!--变速类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleGearboxTypeName">APA_VehicleGearboxTypeName=#WHERE_APA_VehicleGearboxTypeName#</isNotEmpty>
        <!--默认供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_SUPP_ID">APA_SUPP_ID=#WHERE_APA_SUPP_ID#</isNotEmpty>
        <!--默认仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_WH_ID">APA_WH_ID=#WHERE_APA_WH_ID#</isNotEmpty>
        <!--默认仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_WHB_ID">APA_WHB_ID=#WHERE_APA_WHB_ID#</isNotEmpty>
        <!--安全库存是否预警-->
        <isNotNull prepend="AND" property="WHERE_APA_IsWarningSafeStock">APA_IsWarningSafeStock=#WHERE_APA_IsWarningSafeStock#</isNotNull>
        <!--安全库存-->
        <isNotNull prepend="AND" property="WHERE_APA_SafeStockNum">APA_SafeStockNum=#WHERE_APA_SafeStockNum#</isNotNull>
        <!--呆滞件是否预警-->
        <isNotNull prepend="AND" property="WHERE_APA_IsWarningDeadStock">APA_IsWarningDeadStock=#WHERE_APA_IsWarningDeadStock#</isNotNull>
        <!--呆滞天数-->
        <isNotNull prepend="AND" property="WHERE_APA_SlackDays">APA_SlackDays=#WHERE_APA_SlackDays#</isNotNull>
        <!--销价系数-->
        <isNotNull prepend="AND" property="WHERE_APA_SalePriceRate">APA_SalePriceRate=#WHERE_APA_SalePriceRate#</isNotNull>
        <!--销价-->
        <isNotNull prepend="AND" property="WHERE_APA_SalePrice">APA_SalePrice=#WHERE_APA_SalePrice#</isNotNull>
        <!--车型代码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleModelCode">APA_VehicleModelCode=#WHERE_APA_VehicleModelCode#</isNotEmpty>
        <!--互换码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ExchangeCode">APA_ExchangeCode=#WHERE_APA_ExchangeCode#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APA_IsValid">APA_IsValid=#WHERE_APA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APA_CreatedBy">APA_CreatedBy=#WHERE_APA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APA_UpdatedBy">APA_UpdatedBy=#WHERE_APA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APA_VersionNo">APA_VersionNo=#WHERE_APA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APA_TransID">APA_TransID=#WHERE_APA_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APA_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[配件档案]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLBS_AutoPartsArchive" parameterClass="MDLBS_AutoPartsArchive" resultClass="MDLBS_AutoPartsArchive">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APA_ID)
      FROM BS_AutoPartsArchive
      <dynamic prepend="WHERE">
        <!--配置档案ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ID">APA_ID=#WHERE_APA_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Org_ID">APA_Org_ID LIKE '%'+#WHERE_APA_Org_ID#+'%'</isNotEmpty>
        <!--条形码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Barcode">APA_Barcode LIKE '%'+#WHERE_APA_Barcode#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_OEMNo">APA_OEMNo LIKE '%'+#WHERE_APA_OEMNo#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ThirdNo">APA_ThirdNo LIKE '%'+#WHERE_APA_ThirdNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Name">APA_Name LIKE '%'+#WHERE_APA_Name#+'%'</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Brand">APA_Brand LIKE '%'+#WHERE_APA_Brand#+'%'</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Specification">APA_Specification LIKE '%'+#WHERE_APA_Specification#+'%'</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_APA_UOM">APA_UOM LIKE '%'+#WHERE_APA_UOM#+'%'</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Level">APA_Level LIKE '%'+#WHERE_APA_Level#+'%'</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleBrand">APA_VehicleBrand LIKE '%'+#WHERE_APA_VehicleBrand#+'%'</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleInspire">APA_VehicleInspire LIKE '%'+#WHERE_APA_VehicleInspire#+'%'</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleCapacity">APA_VehicleCapacity LIKE '%'+#WHERE_APA_VehicleCapacity#+'%'</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleYearModel">APA_VehicleYearModel LIKE '%'+#WHERE_APA_VehicleYearModel#+'%'</isNotEmpty>
        <!--变速类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleGearboxTypeCode">APA_VehicleGearboxTypeCode LIKE '%'+#WHERE_APA_VehicleGearboxTypeCode#+'%'</isNotEmpty>
        <!--变速类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleGearboxTypeName">APA_VehicleGearboxTypeName LIKE '%'+#WHERE_APA_VehicleGearboxTypeName#+'%'</isNotEmpty>
        <!--默认供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_SUPP_ID">APA_SUPP_ID LIKE '%'+#WHERE_APA_SUPP_ID#+'%'</isNotEmpty>
        <!--默认仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_WH_ID">APA_WH_ID LIKE '%'+#WHERE_APA_WH_ID#+'%'</isNotEmpty>
        <!--默认仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_WHB_ID">APA_WHB_ID LIKE '%'+#WHERE_APA_WHB_ID#+'%'</isNotEmpty>
        <!--安全库存是否预警-->
        <isNotNull prepend="AND" property="WHERE_APA_IsWarningSafeStock">APA_IsWarningSafeStock=#WHERE_APA_IsWarningSafeStock#</isNotNull>
        <!--安全库存-->
        <isNotNull prepend="AND" property="WHERE_APA_SafeStockNum">APA_SafeStockNum=#WHERE_APA_SafeStockNum#</isNotNull>
        <!--呆滞件是否预警-->
        <isNotNull prepend="AND" property="WHERE_APA_IsWarningDeadStock">APA_IsWarningDeadStock=#WHERE_APA_IsWarningDeadStock#</isNotNull>
        <!--呆滞天数-->
        <isNotNull prepend="AND" property="WHERE_APA_SlackDays">APA_SlackDays=#WHERE_APA_SlackDays#</isNotNull>
        <!--销价系数-->
        <isNotNull prepend="AND" property="WHERE_APA_SalePriceRate">APA_SalePriceRate=#WHERE_APA_SalePriceRate#</isNotNull>
        <!--销价-->
        <isNotNull prepend="AND" property="WHERE_APA_SalePrice">APA_SalePrice=#WHERE_APA_SalePrice#</isNotNull>
        <!--车型代码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleModelCode">APA_VehicleModelCode LIKE '%'+#WHERE_APA_VehicleModelCode#+'%'</isNotEmpty>
        <!--互换码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ExchangeCode">APA_ExchangeCode LIKE '%'+#WHERE_APA_ExchangeCode#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APA_IsValid">APA_IsValid=#WHERE_APA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APA_CreatedBy">APA_CreatedBy LIKE '%'+#WHERE_APA_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APA_UpdatedBy">APA_UpdatedBy LIKE '%'+#WHERE_APA_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APA_VersionNo">APA_VersionNo=#WHERE_APA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APA_TransID">APA_TransID LIKE '%'+#WHERE_APA_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APA_ID,
      APA_Org_ID,
      APA_Barcode,
      APA_OEMNo,
      APA_ThirdNo,
      APA_Name,
      APA_Brand,
      APA_Specification,
      APA_UOM,
      APA_Level,
      APA_VehicleBrand,
      APA_VehicleInspire,
      APA_VehicleCapacity,
      APA_VehicleYearModel,
      APA_VehicleGearboxTypeCode,
      APA_VehicleGearboxTypeName,
      APA_SUPP_ID,
      APA_WH_ID,
      APA_WHB_ID,
      APA_IsWarningSafeStock,
      APA_SafeStockNum,
      APA_IsWarningDeadStock,
      APA_SlackDays,
      APA_SalePriceRate,
      APA_SalePrice,
      APA_VehicleModelCode,
      APA_ExchangeCode,
      APA_IsValid,
      APA_CreatedBy,
      APA_CreatedTime,
      APA_UpdatedBy,
      APA_UpdatedTime,
      APA_VersionNo,
      APA_TransID
      FROM BS_AutoPartsArchive
      <dynamic prepend="WHERE">
        <!--配置档案ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ID">APA_ID=#WHERE_APA_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Org_ID">APA_Org_ID LIKE '%'+#WHERE_APA_Org_ID#+'%'</isNotEmpty>
        <!--条形码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Barcode">APA_Barcode LIKE '%'+#WHERE_APA_Barcode#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_OEMNo">APA_OEMNo LIKE '%'+#WHERE_APA_OEMNo#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ThirdNo">APA_ThirdNo LIKE '%'+#WHERE_APA_ThirdNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Name">APA_Name LIKE '%'+#WHERE_APA_Name#+'%'</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Brand">APA_Brand LIKE '%'+#WHERE_APA_Brand#+'%'</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Specification">APA_Specification LIKE '%'+#WHERE_APA_Specification#+'%'</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_APA_UOM">APA_UOM LIKE '%'+#WHERE_APA_UOM#+'%'</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Level">APA_Level LIKE '%'+#WHERE_APA_Level#+'%'</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleBrand">APA_VehicleBrand LIKE '%'+#WHERE_APA_VehicleBrand#+'%'</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleInspire">APA_VehicleInspire LIKE '%'+#WHERE_APA_VehicleInspire#+'%'</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleCapacity">APA_VehicleCapacity LIKE '%'+#WHERE_APA_VehicleCapacity#+'%'</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleYearModel">APA_VehicleYearModel LIKE '%'+#WHERE_APA_VehicleYearModel#+'%'</isNotEmpty>
        <!--变速类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleGearboxTypeCode">APA_VehicleGearboxTypeCode LIKE '%'+#WHERE_APA_VehicleGearboxTypeCode#+'%'</isNotEmpty>
        <!--变速类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleGearboxTypeName">APA_VehicleGearboxTypeName LIKE '%'+#WHERE_APA_VehicleGearboxTypeName#+'%'</isNotEmpty>
        <!--默认供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_SUPP_ID">APA_SUPP_ID LIKE '%'+#WHERE_APA_SUPP_ID#+'%'</isNotEmpty>
        <!--默认仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_WH_ID">APA_WH_ID LIKE '%'+#WHERE_APA_WH_ID#+'%'</isNotEmpty>
        <!--默认仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_WHB_ID">APA_WHB_ID LIKE '%'+#WHERE_APA_WHB_ID#+'%'</isNotEmpty>
        <!--安全库存是否预警-->
        <isNotNull prepend="AND" property="WHERE_APA_IsWarningSafeStock">APA_IsWarningSafeStock=#WHERE_APA_IsWarningSafeStock#</isNotNull>
        <!--安全库存-->
        <isNotNull prepend="AND" property="WHERE_APA_SafeStockNum">APA_SafeStockNum=#WHERE_APA_SafeStockNum#</isNotNull>
        <!--呆滞件是否预警-->
        <isNotNull prepend="AND" property="WHERE_APA_IsWarningDeadStock">APA_IsWarningDeadStock=#WHERE_APA_IsWarningDeadStock#</isNotNull>
        <!--呆滞天数-->
        <isNotNull prepend="AND" property="WHERE_APA_SlackDays">APA_SlackDays=#WHERE_APA_SlackDays#</isNotNull>
        <!--销价系数-->
        <isNotNull prepend="AND" property="WHERE_APA_SalePriceRate">APA_SalePriceRate=#WHERE_APA_SalePriceRate#</isNotNull>
        <!--销价-->
        <isNotNull prepend="AND" property="WHERE_APA_SalePrice">APA_SalePrice=#WHERE_APA_SalePrice#</isNotNull>
        <!--车型代码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleModelCode">APA_VehicleModelCode LIKE '%'+#WHERE_APA_VehicleModelCode#+'%'</isNotEmpty>
        <!--互换码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ExchangeCode">APA_ExchangeCode LIKE '%'+#WHERE_APA_ExchangeCode#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APA_IsValid">APA_IsValid=#WHERE_APA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APA_CreatedBy">APA_CreatedBy LIKE '%'+#WHERE_APA_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APA_UpdatedBy">APA_UpdatedBy LIKE '%'+#WHERE_APA_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APA_VersionNo">APA_VersionNo=#WHERE_APA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APA_TransID">APA_TransID LIKE '%'+#WHERE_APA_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APA_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[配件档案]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLBS_AutoPartsArchive" parameterClass="MDLBS_AutoPartsArchive" resultClass="int">
      SELECT COUNT(APA_ID) 'RecordCount'
      FROM BS_AutoPartsArchive
      <dynamic prepend="WHERE">
        <!--配置档案ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ID">APA_ID=#WHERE_APA_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Org_ID">APA_Org_ID=#WHERE_APA_Org_ID#</isNotEmpty>
        <!--条形码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Barcode">APA_Barcode=#WHERE_APA_Barcode#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_OEMNo">APA_OEMNo=#WHERE_APA_OEMNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ThirdNo">APA_ThirdNo=#WHERE_APA_ThirdNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Name">APA_Name=#WHERE_APA_Name#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Brand">APA_Brand=#WHERE_APA_Brand#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Specification">APA_Specification=#WHERE_APA_Specification#</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_APA_UOM">APA_UOM=#WHERE_APA_UOM#</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Level">APA_Level=#WHERE_APA_Level#</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleBrand">APA_VehicleBrand=#WHERE_APA_VehicleBrand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleInspire">APA_VehicleInspire=#WHERE_APA_VehicleInspire#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleCapacity">APA_VehicleCapacity=#WHERE_APA_VehicleCapacity#</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleYearModel">APA_VehicleYearModel=#WHERE_APA_VehicleYearModel#</isNotEmpty>
        <!--变速类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleGearboxTypeCode">APA_VehicleGearboxTypeCode=#WHERE_APA_VehicleGearboxTypeCode#</isNotEmpty>
        <!--变速类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleGearboxTypeName">APA_VehicleGearboxTypeName=#WHERE_APA_VehicleGearboxTypeName#</isNotEmpty>
        <!--默认供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_SUPP_ID">APA_SUPP_ID=#WHERE_APA_SUPP_ID#</isNotEmpty>
        <!--默认仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_WH_ID">APA_WH_ID=#WHERE_APA_WH_ID#</isNotEmpty>
        <!--默认仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_WHB_ID">APA_WHB_ID=#WHERE_APA_WHB_ID#</isNotEmpty>
        <!--安全库存是否预警-->
        <isNotNull prepend="AND" property="WHERE_APA_IsWarningSafeStock">APA_IsWarningSafeStock=#WHERE_APA_IsWarningSafeStock#</isNotNull>
        <!--安全库存-->
        <isNotNull prepend="AND" property="WHERE_APA_SafeStockNum">APA_SafeStockNum=#WHERE_APA_SafeStockNum#</isNotNull>
        <!--呆滞件是否预警-->
        <isNotNull prepend="AND" property="WHERE_APA_IsWarningDeadStock">APA_IsWarningDeadStock=#WHERE_APA_IsWarningDeadStock#</isNotNull>
        <!--呆滞天数-->
        <isNotNull prepend="AND" property="WHERE_APA_SlackDays">APA_SlackDays=#WHERE_APA_SlackDays#</isNotNull>
        <!--销价系数-->
        <isNotNull prepend="AND" property="WHERE_APA_SalePriceRate">APA_SalePriceRate=#WHERE_APA_SalePriceRate#</isNotNull>
        <!--销价-->
        <isNotNull prepend="AND" property="WHERE_APA_SalePrice">APA_SalePrice=#WHERE_APA_SalePrice#</isNotNull>
        <!--车型代码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleModelCode">APA_VehicleModelCode=#WHERE_APA_VehicleModelCode#</isNotEmpty>
        <!--互换码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ExchangeCode">APA_ExchangeCode=#WHERE_APA_ExchangeCode#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APA_IsValid">APA_IsValid=#WHERE_APA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APA_CreatedBy">APA_CreatedBy=#WHERE_APA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APA_UpdatedBy">APA_UpdatedBy=#WHERE_APA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APA_VersionNo">APA_VersionNo=#WHERE_APA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APA_TransID">APA_TransID=#WHERE_APA_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[配件档案]信息-->
    <update id="COMM_SQL_UpdateMDLBS_AutoPartsArchive" parameterClass="MDLBS_AutoPartsArchive" >
      UPDATE BS_AutoPartsArchive
      SET
      APA_UpdatedTime=GETDATE(),
      APA_VersionNo=APA_VersionNo+1
      <isNotEmpty prepend="," property="APA_Org_ID">APA_Org_ID=#APA_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_Barcode">APA_Barcode=#APA_Barcode#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_OEMNo">APA_OEMNo=#APA_OEMNo#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_ThirdNo">APA_ThirdNo=#APA_ThirdNo#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_Name">APA_Name=#APA_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_Brand">APA_Brand=#APA_Brand#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_Specification">APA_Specification=#APA_Specification#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_UOM">APA_UOM=#APA_UOM#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_Level">APA_Level=#APA_Level#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_VehicleBrand">APA_VehicleBrand=#APA_VehicleBrand#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_VehicleInspire">APA_VehicleInspire=#APA_VehicleInspire#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_VehicleCapacity">APA_VehicleCapacity=#APA_VehicleCapacity#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_VehicleYearModel">APA_VehicleYearModel=#APA_VehicleYearModel#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_VehicleGearboxTypeCode">APA_VehicleGearboxTypeCode=#APA_VehicleGearboxTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_VehicleGearboxTypeName">APA_VehicleGearboxTypeName=#APA_VehicleGearboxTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_SUPP_ID">APA_SUPP_ID=#APA_SUPP_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_WH_ID">APA_WH_ID=#APA_WH_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_WHB_ID">APA_WHB_ID=#APA_WHB_ID#</isNotEmpty>
      <isNotNull prepend="," property="APA_IsWarningSafeStock">APA_IsWarningSafeStock=#APA_IsWarningSafeStock#</isNotNull>
      <isNotNull prepend="," property="APA_SafeStockNum">APA_SafeStockNum=#APA_SafeStockNum#</isNotNull>
      <isNotNull prepend="," property="APA_IsWarningDeadStock">APA_IsWarningDeadStock=#APA_IsWarningDeadStock#</isNotNull>
      <isNotNull prepend="," property="APA_SlackDays">APA_SlackDays=#APA_SlackDays#</isNotNull>
      <isNotNull prepend="," property="APA_SalePriceRate">APA_SalePriceRate=#APA_SalePriceRate#</isNotNull>
      <isNotNull prepend="," property="APA_SalePrice">APA_SalePrice=#APA_SalePrice#</isNotNull>
      <isNotEmpty prepend="," property="APA_VehicleModelCode">APA_VehicleModelCode=#APA_VehicleModelCode#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_ExchangeCode">APA_ExchangeCode=#APA_ExchangeCode#</isNotEmpty>
      <isNotNull prepend="," property="APA_IsValid">APA_IsValid=#APA_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="APA_CreatedBy">APA_CreatedBy=#APA_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="APA_CreatedTime">APA_CreatedTime=#APA_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="APA_UpdatedBy">APA_UpdatedBy=#APA_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="APA_TransID">APA_TransID=#APA_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--配置档案ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ID">APA_ID=#WHERE_APA_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Org_ID">APA_Org_ID=#WHERE_APA_Org_ID#</isNotEmpty>
        <!--条形码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Barcode">APA_Barcode=#WHERE_APA_Barcode#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_OEMNo">APA_OEMNo=#WHERE_APA_OEMNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ThirdNo">APA_ThirdNo=#WHERE_APA_ThirdNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Name">APA_Name=#WHERE_APA_Name#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Brand">APA_Brand=#WHERE_APA_Brand#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Specification">APA_Specification=#WHERE_APA_Specification#</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_APA_UOM">APA_UOM=#WHERE_APA_UOM#</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_APA_Level">APA_Level=#WHERE_APA_Level#</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleBrand">APA_VehicleBrand=#WHERE_APA_VehicleBrand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleInspire">APA_VehicleInspire=#WHERE_APA_VehicleInspire#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleCapacity">APA_VehicleCapacity=#WHERE_APA_VehicleCapacity#</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleYearModel">APA_VehicleYearModel=#WHERE_APA_VehicleYearModel#</isNotEmpty>
        <!--变速类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleGearboxTypeCode">APA_VehicleGearboxTypeCode=#WHERE_APA_VehicleGearboxTypeCode#</isNotEmpty>
        <!--变速类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleGearboxTypeName">APA_VehicleGearboxTypeName=#WHERE_APA_VehicleGearboxTypeName#</isNotEmpty>
        <!--默认供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_SUPP_ID">APA_SUPP_ID=#WHERE_APA_SUPP_ID#</isNotEmpty>
        <!--默认仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_WH_ID">APA_WH_ID=#WHERE_APA_WH_ID#</isNotEmpty>
        <!--默认仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_APA_WHB_ID">APA_WHB_ID=#WHERE_APA_WHB_ID#</isNotEmpty>
        <!--安全库存是否预警-->
        <isNotNull prepend="AND" property="WHERE_APA_IsWarningSafeStock">APA_IsWarningSafeStock=#WHERE_APA_IsWarningSafeStock#</isNotNull>
        <!--安全库存-->
        <isNotNull prepend="AND" property="WHERE_APA_SafeStockNum">APA_SafeStockNum=#WHERE_APA_SafeStockNum#</isNotNull>
        <!--呆滞件是否预警-->
        <isNotNull prepend="AND" property="WHERE_APA_IsWarningDeadStock">APA_IsWarningDeadStock=#WHERE_APA_IsWarningDeadStock#</isNotNull>
        <!--呆滞天数-->
        <isNotNull prepend="AND" property="WHERE_APA_SlackDays">APA_SlackDays=#WHERE_APA_SlackDays#</isNotNull>
        <!--销价系数-->
        <isNotNull prepend="AND" property="WHERE_APA_SalePriceRate">APA_SalePriceRate=#WHERE_APA_SalePriceRate#</isNotNull>
        <!--销价-->
        <isNotNull prepend="AND" property="WHERE_APA_SalePrice">APA_SalePrice=#WHERE_APA_SalePrice#</isNotNull>
        <!--车型代码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_VehicleModelCode">APA_VehicleModelCode=#WHERE_APA_VehicleModelCode#</isNotEmpty>
        <!--互换码-->
        <isNotEmpty prepend="AND" property="WHERE_APA_ExchangeCode">APA_ExchangeCode=#WHERE_APA_ExchangeCode#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APA_IsValid">APA_IsValid=#WHERE_APA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APA_CreatedBy">APA_CreatedBy=#WHERE_APA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APA_UpdatedBy">APA_UpdatedBy=#WHERE_APA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APA_VersionNo">APA_VersionNo=#WHERE_APA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APA_TransID">APA_TransID=#WHERE_APA_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[配件档案]信息-->
    <delete id="COMM_SQL_DELETE_MDLBS_AutoPartsArchive" parameterClass="List">
      DELETE FROM BS_AutoPartsArchive
      WHERE APA_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_APA_ID#
      </iterate>
    </delete>

    <!--新增[配件名称]信息-->
    <insert id="COMM_SQL_INSERT_MDLBS_AutoPartsName" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        BS_AutoPartsName
        (
        <!--配置名称ID-->
        APN_ID,
        <!--配件名称-->
        APN_Name,
        <!--配件别名-->
        APN_Alias,
        <!--名称拼音简写-->
        APN_NameSpellCode,
        <!--别名拼音简写-->
        APN_AliasSpellCode,
        <!--配件类别ID-->
        APN_APT_ID,
        <!--呆滞天数-->
        APN_SlackDays,
        <!--计量单位-->
        APN_UOM,
        <!--固定计量单位-->
        APN_FixUOM,
        <!--有效-->
        APN_IsValid,
        <!--创建人-->
        APN_CreatedBy,
        <!--创建时间-->
        APN_CreatedTime,
        <!--修改人-->
        APN_UpdatedBy,
        <!--修改时间-->
        APN_UpdatedTime,
        <!--版本号-->
        APN_VersionNo,
        <!--事务编号-->
        APN_TransID
        )
        VALUES
        (
        <!--配置名称ID-->
        #[].APN_ID#,
        <!--配件名称-->
        #[].APN_Name#,
        <!--配件别名-->
        #[].APN_Alias#,
        <!--名称拼音简写-->
        #[].APN_NameSpellCode#,
        <!--别名拼音简写-->
        #[].APN_AliasSpellCode#,
        <!--配件类别ID-->
        #[].APN_APT_ID#,
        <!--呆滞天数-->
        #[].APN_SlackDays#,
        <!--计量单位-->
        #[].APN_UOM#,
        <!--固定计量单位-->
        #[].APN_FixUOM#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].APN_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].APN_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].APN_TransID#
        )
      </iterate>
    </insert>

    <!--查询[配件名称]信息（精确条件）-->
    <select id="COMM_SQL_MDLBS_AutoPartsName" parameterClass="MDLBS_AutoPartsName" resultClass="MDLBS_AutoPartsName">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APN_ID)
      FROM BS_AutoPartsName
      <dynamic prepend="WHERE">
        <!--配置名称ID-->
        <isNotEmpty prepend="AND" property="WHERE_APN_ID">APN_ID=#WHERE_APN_ID#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_APN_Name">APN_Name=#WHERE_APN_Name#</isNotEmpty>
        <!--配件别名-->
        <isNotEmpty prepend="AND" property="WHERE_APN_Alias">APN_Alias=#WHERE_APN_Alias#</isNotEmpty>
        <!--名称拼音简写-->
        <isNotEmpty prepend="AND" property="WHERE_APN_NameSpellCode">APN_NameSpellCode=#WHERE_APN_NameSpellCode#</isNotEmpty>
        <!--别名拼音简写-->
        <isNotEmpty prepend="AND" property="WHERE_APN_AliasSpellCode">APN_AliasSpellCode=#WHERE_APN_AliasSpellCode#</isNotEmpty>
        <!--配件类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APN_APT_ID">APN_APT_ID=#WHERE_APN_APT_ID#</isNotEmpty>
        <!--呆滞天数-->
        <isNotNull prepend="AND" property="WHERE_APN_SlackDays">APN_SlackDays=#WHERE_APN_SlackDays#</isNotNull>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_APN_UOM">APN_UOM=#WHERE_APN_UOM#</isNotEmpty>
        <!--固定计量单位-->
        <isNotNull prepend="AND" property="WHERE_APN_FixUOM">APN_FixUOM=#WHERE_APN_FixUOM#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APN_IsValid">APN_IsValid=#WHERE_APN_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APN_CreatedBy">APN_CreatedBy=#WHERE_APN_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APN_UpdatedBy">APN_UpdatedBy=#WHERE_APN_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APN_VersionNo">APN_VersionNo=#WHERE_APN_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APN_TransID">APN_TransID=#WHERE_APN_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APN_ID,
      APN_Name,
      APN_Alias,
      APN_NameSpellCode,
      APN_AliasSpellCode,
      APN_APT_ID,
      APN_SlackDays,
      APN_UOM,
      APN_FixUOM,
      APN_IsValid,
      APN_CreatedBy,
      APN_CreatedTime,
      APN_UpdatedBy,
      APN_UpdatedTime,
      APN_VersionNo,
      APN_TransID
      FROM BS_AutoPartsName
      <dynamic prepend="WHERE">
        <!--配置名称ID-->
        <isNotEmpty prepend="AND" property="WHERE_APN_ID">APN_ID=#WHERE_APN_ID#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_APN_Name">APN_Name=#WHERE_APN_Name#</isNotEmpty>
        <!--配件别名-->
        <isNotEmpty prepend="AND" property="WHERE_APN_Alias">APN_Alias=#WHERE_APN_Alias#</isNotEmpty>
        <!--名称拼音简写-->
        <isNotEmpty prepend="AND" property="WHERE_APN_NameSpellCode">APN_NameSpellCode=#WHERE_APN_NameSpellCode#</isNotEmpty>
        <!--别名拼音简写-->
        <isNotEmpty prepend="AND" property="WHERE_APN_AliasSpellCode">APN_AliasSpellCode=#WHERE_APN_AliasSpellCode#</isNotEmpty>
        <!--配件类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APN_APT_ID">APN_APT_ID=#WHERE_APN_APT_ID#</isNotEmpty>
        <!--呆滞天数-->
        <isNotNull prepend="AND" property="WHERE_APN_SlackDays">APN_SlackDays=#WHERE_APN_SlackDays#</isNotNull>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_APN_UOM">APN_UOM=#WHERE_APN_UOM#</isNotEmpty>
        <!--固定计量单位-->
        <isNotNull prepend="AND" property="WHERE_APN_FixUOM">APN_FixUOM=#WHERE_APN_FixUOM#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APN_IsValid">APN_IsValid=#WHERE_APN_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APN_CreatedBy">APN_CreatedBy=#WHERE_APN_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APN_UpdatedBy">APN_UpdatedBy=#WHERE_APN_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APN_VersionNo">APN_VersionNo=#WHERE_APN_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APN_TransID">APN_TransID=#WHERE_APN_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APN_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[配件名称]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLBS_AutoPartsName" parameterClass="MDLBS_AutoPartsName" resultClass="MDLBS_AutoPartsName">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APN_ID)
      FROM BS_AutoPartsName
      <dynamic prepend="WHERE">
        <!--配置名称ID-->
        <isNotEmpty prepend="AND" property="WHERE_APN_ID">APN_ID=#WHERE_APN_ID#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_APN_Name">APN_Name LIKE '%'+#WHERE_APN_Name#+'%'</isNotEmpty>
        <!--配件别名-->
        <isNotEmpty prepend="AND" property="WHERE_APN_Alias">APN_Alias LIKE '%'+#WHERE_APN_Alias#+'%'</isNotEmpty>
        <!--名称拼音简写-->
        <isNotEmpty prepend="AND" property="WHERE_APN_NameSpellCode">APN_NameSpellCode LIKE '%'+#WHERE_APN_NameSpellCode#+'%'</isNotEmpty>
        <!--别名拼音简写-->
        <isNotEmpty prepend="AND" property="WHERE_APN_AliasSpellCode">APN_AliasSpellCode LIKE '%'+#WHERE_APN_AliasSpellCode#+'%'</isNotEmpty>
        <!--配件类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APN_APT_ID">APN_APT_ID LIKE '%'+#WHERE_APN_APT_ID#+'%'</isNotEmpty>
        <!--呆滞天数-->
        <isNotNull prepend="AND" property="WHERE_APN_SlackDays">APN_SlackDays=#WHERE_APN_SlackDays#</isNotNull>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_APN_UOM">APN_UOM LIKE '%'+#WHERE_APN_UOM#+'%'</isNotEmpty>
        <!--固定计量单位-->
        <isNotNull prepend="AND" property="WHERE_APN_FixUOM">APN_FixUOM=#WHERE_APN_FixUOM#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APN_IsValid">APN_IsValid=#WHERE_APN_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APN_CreatedBy">APN_CreatedBy LIKE '%'+#WHERE_APN_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APN_UpdatedBy">APN_UpdatedBy LIKE '%'+#WHERE_APN_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APN_VersionNo">APN_VersionNo=#WHERE_APN_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APN_TransID">APN_TransID LIKE '%'+#WHERE_APN_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APN_ID,
      APN_Name,
      APN_Alias,
      APN_NameSpellCode,
      APN_AliasSpellCode,
      APN_APT_ID,
      APN_SlackDays,
      APN_UOM,
      APN_FixUOM,
      APN_IsValid,
      APN_CreatedBy,
      APN_CreatedTime,
      APN_UpdatedBy,
      APN_UpdatedTime,
      APN_VersionNo,
      APN_TransID
      FROM BS_AutoPartsName
      <dynamic prepend="WHERE">
        <!--配置名称ID-->
        <isNotEmpty prepend="AND" property="WHERE_APN_ID">APN_ID=#WHERE_APN_ID#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_APN_Name">APN_Name LIKE '%'+#WHERE_APN_Name#+'%'</isNotEmpty>
        <!--配件别名-->
        <isNotEmpty prepend="AND" property="WHERE_APN_Alias">APN_Alias LIKE '%'+#WHERE_APN_Alias#+'%'</isNotEmpty>
        <!--名称拼音简写-->
        <isNotEmpty prepend="AND" property="WHERE_APN_NameSpellCode">APN_NameSpellCode LIKE '%'+#WHERE_APN_NameSpellCode#+'%'</isNotEmpty>
        <!--别名拼音简写-->
        <isNotEmpty prepend="AND" property="WHERE_APN_AliasSpellCode">APN_AliasSpellCode LIKE '%'+#WHERE_APN_AliasSpellCode#+'%'</isNotEmpty>
        <!--配件类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APN_APT_ID">APN_APT_ID LIKE '%'+#WHERE_APN_APT_ID#+'%'</isNotEmpty>
        <!--呆滞天数-->
        <isNotNull prepend="AND" property="WHERE_APN_SlackDays">APN_SlackDays=#WHERE_APN_SlackDays#</isNotNull>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_APN_UOM">APN_UOM LIKE '%'+#WHERE_APN_UOM#+'%'</isNotEmpty>
        <!--固定计量单位-->
        <isNotNull prepend="AND" property="WHERE_APN_FixUOM">APN_FixUOM=#WHERE_APN_FixUOM#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APN_IsValid">APN_IsValid=#WHERE_APN_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APN_CreatedBy">APN_CreatedBy LIKE '%'+#WHERE_APN_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APN_UpdatedBy">APN_UpdatedBy LIKE '%'+#WHERE_APN_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APN_VersionNo">APN_VersionNo=#WHERE_APN_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APN_TransID">APN_TransID LIKE '%'+#WHERE_APN_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APN_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[配件名称]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLBS_AutoPartsName" parameterClass="MDLBS_AutoPartsName" resultClass="int">
      SELECT COUNT(APN_ID) 'RecordCount'
      FROM BS_AutoPartsName
      <dynamic prepend="WHERE">
        <!--配置名称ID-->
        <isNotEmpty prepend="AND" property="WHERE_APN_ID">APN_ID=#WHERE_APN_ID#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_APN_Name">APN_Name=#WHERE_APN_Name#</isNotEmpty>
        <!--配件别名-->
        <isNotEmpty prepend="AND" property="WHERE_APN_Alias">APN_Alias=#WHERE_APN_Alias#</isNotEmpty>
        <!--名称拼音简写-->
        <isNotEmpty prepend="AND" property="WHERE_APN_NameSpellCode">APN_NameSpellCode=#WHERE_APN_NameSpellCode#</isNotEmpty>
        <!--别名拼音简写-->
        <isNotEmpty prepend="AND" property="WHERE_APN_AliasSpellCode">APN_AliasSpellCode=#WHERE_APN_AliasSpellCode#</isNotEmpty>
        <!--配件类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APN_APT_ID">APN_APT_ID=#WHERE_APN_APT_ID#</isNotEmpty>
        <!--呆滞天数-->
        <isNotNull prepend="AND" property="WHERE_APN_SlackDays">APN_SlackDays=#WHERE_APN_SlackDays#</isNotNull>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_APN_UOM">APN_UOM=#WHERE_APN_UOM#</isNotEmpty>
        <!--固定计量单位-->
        <isNotNull prepend="AND" property="WHERE_APN_FixUOM">APN_FixUOM=#WHERE_APN_FixUOM#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APN_IsValid">APN_IsValid=#WHERE_APN_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APN_CreatedBy">APN_CreatedBy=#WHERE_APN_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APN_UpdatedBy">APN_UpdatedBy=#WHERE_APN_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APN_VersionNo">APN_VersionNo=#WHERE_APN_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APN_TransID">APN_TransID=#WHERE_APN_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[配件名称]信息-->
    <update id="COMM_SQL_UpdateMDLBS_AutoPartsName" parameterClass="MDLBS_AutoPartsName" >
      UPDATE BS_AutoPartsName
      SET
      APN_UpdatedTime=GETDATE(),
      APN_VersionNo=APN_VersionNo+1
      <isNotEmpty prepend="," property="APN_Name">APN_Name=#APN_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="APN_Alias">APN_Alias=#APN_Alias#</isNotEmpty>
      <isNotEmpty prepend="," property="APN_NameSpellCode">APN_NameSpellCode=#APN_NameSpellCode#</isNotEmpty>
      <isNotEmpty prepend="," property="APN_AliasSpellCode">APN_AliasSpellCode=#APN_AliasSpellCode#</isNotEmpty>
      <isNotEmpty prepend="," property="APN_APT_ID">APN_APT_ID=#APN_APT_ID#</isNotEmpty>
      <isNotNull prepend="," property="APN_SlackDays">APN_SlackDays=#APN_SlackDays#</isNotNull>
      <isNotEmpty prepend="," property="APN_UOM">APN_UOM=#APN_UOM#</isNotEmpty>
      <isNotNull prepend="," property="APN_FixUOM">APN_FixUOM=#APN_FixUOM#</isNotNull>
      <isNotNull prepend="," property="APN_IsValid">APN_IsValid=#APN_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="APN_CreatedBy">APN_CreatedBy=#APN_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="APN_CreatedTime">APN_CreatedTime=#APN_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="APN_UpdatedBy">APN_UpdatedBy=#APN_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="APN_TransID">APN_TransID=#APN_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--配置名称ID-->
        <isNotEmpty prepend="AND" property="WHERE_APN_ID">APN_ID=#WHERE_APN_ID#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_APN_Name">APN_Name=#WHERE_APN_Name#</isNotEmpty>
        <!--配件别名-->
        <isNotEmpty prepend="AND" property="WHERE_APN_Alias">APN_Alias=#WHERE_APN_Alias#</isNotEmpty>
        <!--名称拼音简写-->
        <isNotEmpty prepend="AND" property="WHERE_APN_NameSpellCode">APN_NameSpellCode=#WHERE_APN_NameSpellCode#</isNotEmpty>
        <!--别名拼音简写-->
        <isNotEmpty prepend="AND" property="WHERE_APN_AliasSpellCode">APN_AliasSpellCode=#WHERE_APN_AliasSpellCode#</isNotEmpty>
        <!--配件类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APN_APT_ID">APN_APT_ID=#WHERE_APN_APT_ID#</isNotEmpty>
        <!--呆滞天数-->
        <isNotNull prepend="AND" property="WHERE_APN_SlackDays">APN_SlackDays=#WHERE_APN_SlackDays#</isNotNull>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_APN_UOM">APN_UOM=#WHERE_APN_UOM#</isNotEmpty>
        <!--固定计量单位-->
        <isNotNull prepend="AND" property="WHERE_APN_FixUOM">APN_FixUOM=#WHERE_APN_FixUOM#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APN_IsValid">APN_IsValid=#WHERE_APN_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APN_CreatedBy">APN_CreatedBy=#WHERE_APN_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APN_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APN_UpdatedBy">APN_UpdatedBy=#WHERE_APN_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APN_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APN_VersionNo">APN_VersionNo=#WHERE_APN_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APN_TransID">APN_TransID=#WHERE_APN_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[配件名称]信息-->
    <delete id="COMM_SQL_DELETE_MDLBS_AutoPartsName" parameterClass="List">
      DELETE FROM BS_AutoPartsName
      WHERE APN_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_APN_ID#
      </iterate>
    </delete>

    <!--新增[车辆品牌车系]信息-->
    <insert id="COMM_SQL_INSERT_MDLBS_VehicleBrandInspireSumma" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        BS_VehicleBrandInspireSumma
        (
        <!--品牌车系ID-->
        VBIS_ID,
        <!--品牌-->
        VBIS_Brand,
        <!--车系-->
        VBIS_Inspire,
        <!--车型描述-->
        VBIS_ModelDesc,
        <!--车辆类型-->
        VBIS_Model,
        <!--品牌拼音首字母-->
        VBIS_BrandSpellCode,
        <!--车系拼音首字母-->
        VBIS_InspireSpellCode,
        <!--有效-->
        VBIS_IsValid,
        <!--创建人-->
        VBIS_CreatedBy,
        <!--创建时间-->
        VBIS_CreatedTime,
        <!--修改人-->
        VBIS_UpdatedBy,
        <!--修改时间-->
        VBIS_UpdatedTime,
        <!--版本号-->
        VBIS_VersionNo,
        <!--事务编号-->
        VBIS_TransID
        )
        VALUES
        (
        <!--品牌车系ID-->
        #[].VBIS_ID#,
        <!--品牌-->
        #[].VBIS_Brand#,
        <!--车系-->
        #[].VBIS_Inspire#,
        <!--车型描述-->
        #[].VBIS_ModelDesc#,
        <!--车辆类型-->
        #[].VBIS_Model#,
        <!--品牌拼音首字母-->
        #[].VBIS_BrandSpellCode#,
        <!--车系拼音首字母-->
        #[].VBIS_InspireSpellCode#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].VBIS_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].VBIS_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].VBIS_TransID#
        )
      </iterate>
    </insert>

    <!--查询[车辆品牌车系]信息（精确条件）-->
    <select id="COMM_SQL_MDLBS_VehicleBrandInspireSumma" parameterClass="MDLBS_VehicleBrandInspireSumma" resultClass="MDLBS_VehicleBrandInspireSumma">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(VBIS_ID)
      FROM BS_VehicleBrandInspireSumma
      <dynamic prepend="WHERE">
        <!--品牌车系ID-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_ID">VBIS_ID=#WHERE_VBIS_ID#</isNotEmpty>
        <!--品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Brand">VBIS_Brand=#WHERE_VBIS_Brand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Inspire">VBIS_Inspire=#WHERE_VBIS_Inspire#</isNotEmpty>
        <!--车型描述-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_ModelDesc">VBIS_ModelDesc=#WHERE_VBIS_ModelDesc#</isNotEmpty>
        <!--车辆类型-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Model">VBIS_Model=#WHERE_VBIS_Model#</isNotEmpty>
        <!--品牌拼音首字母-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_BrandSpellCode">VBIS_BrandSpellCode=#WHERE_VBIS_BrandSpellCode#</isNotEmpty>
        <!--车系拼音首字母-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_InspireSpellCode">VBIS_InspireSpellCode=#WHERE_VBIS_InspireSpellCode#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VBIS_IsValid">VBIS_IsValid=#WHERE_VBIS_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_CreatedBy">VBIS_CreatedBy=#WHERE_VBIS_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_UpdatedBy">VBIS_UpdatedBy=#WHERE_VBIS_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VBIS_VersionNo">VBIS_VersionNo=#WHERE_VBIS_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_TransID">VBIS_TransID=#WHERE_VBIS_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      VBIS_ID,
      VBIS_Brand,
      VBIS_Inspire,
      VBIS_ModelDesc,
      VBIS_Model,
      VBIS_BrandSpellCode,
      VBIS_InspireSpellCode,
      VBIS_IsValid,
      VBIS_CreatedBy,
      VBIS_CreatedTime,
      VBIS_UpdatedBy,
      VBIS_UpdatedTime,
      VBIS_VersionNo,
      VBIS_TransID
      FROM BS_VehicleBrandInspireSumma
      <dynamic prepend="WHERE">
        <!--品牌车系ID-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_ID">VBIS_ID=#WHERE_VBIS_ID#</isNotEmpty>
        <!--品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Brand">VBIS_Brand=#WHERE_VBIS_Brand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Inspire">VBIS_Inspire=#WHERE_VBIS_Inspire#</isNotEmpty>
        <!--车型描述-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_ModelDesc">VBIS_ModelDesc=#WHERE_VBIS_ModelDesc#</isNotEmpty>
        <!--车辆类型-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Model">VBIS_Model=#WHERE_VBIS_Model#</isNotEmpty>
        <!--品牌拼音首字母-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_BrandSpellCode">VBIS_BrandSpellCode=#WHERE_VBIS_BrandSpellCode#</isNotEmpty>
        <!--车系拼音首字母-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_InspireSpellCode">VBIS_InspireSpellCode=#WHERE_VBIS_InspireSpellCode#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VBIS_IsValid">VBIS_IsValid=#WHERE_VBIS_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_CreatedBy">VBIS_CreatedBy=#WHERE_VBIS_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_UpdatedBy">VBIS_UpdatedBy=#WHERE_VBIS_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VBIS_VersionNo">VBIS_VersionNo=#WHERE_VBIS_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_TransID">VBIS_TransID=#WHERE_VBIS_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY VBIS_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[车辆品牌车系]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLBS_VehicleBrandInspireSumma" parameterClass="MDLBS_VehicleBrandInspireSumma" resultClass="MDLBS_VehicleBrandInspireSumma">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(VBIS_ID)
      FROM BS_VehicleBrandInspireSumma
      <dynamic prepend="WHERE">
        <!--品牌车系ID-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_ID">VBIS_ID=#WHERE_VBIS_ID#</isNotEmpty>
        <!--品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Brand">VBIS_Brand LIKE '%'+#WHERE_VBIS_Brand#+'%'</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Inspire">VBIS_Inspire LIKE '%'+#WHERE_VBIS_Inspire#+'%'</isNotEmpty>
        <!--车型描述-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_ModelDesc">VBIS_ModelDesc LIKE '%'+#WHERE_VBIS_ModelDesc#+'%'</isNotEmpty>
        <!--车辆类型-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Model">VBIS_Model LIKE '%'+#WHERE_VBIS_Model#+'%'</isNotEmpty>
        <!--品牌拼音首字母-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_BrandSpellCode">VBIS_BrandSpellCode LIKE '%'+#WHERE_VBIS_BrandSpellCode#+'%'</isNotEmpty>
        <!--车系拼音首字母-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_InspireSpellCode">VBIS_InspireSpellCode LIKE '%'+#WHERE_VBIS_InspireSpellCode#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VBIS_IsValid">VBIS_IsValid=#WHERE_VBIS_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_CreatedBy">VBIS_CreatedBy LIKE '%'+#WHERE_VBIS_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_UpdatedBy">VBIS_UpdatedBy LIKE '%'+#WHERE_VBIS_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VBIS_VersionNo">VBIS_VersionNo=#WHERE_VBIS_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_TransID">VBIS_TransID LIKE '%'+#WHERE_VBIS_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      VBIS_ID,
      VBIS_Brand,
      VBIS_Inspire,
      VBIS_ModelDesc,
      VBIS_Model,
      VBIS_BrandSpellCode,
      VBIS_InspireSpellCode,
      VBIS_IsValid,
      VBIS_CreatedBy,
      VBIS_CreatedTime,
      VBIS_UpdatedBy,
      VBIS_UpdatedTime,
      VBIS_VersionNo,
      VBIS_TransID
      FROM BS_VehicleBrandInspireSumma
      <dynamic prepend="WHERE">
        <!--品牌车系ID-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_ID">VBIS_ID=#WHERE_VBIS_ID#</isNotEmpty>
        <!--品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Brand">VBIS_Brand LIKE '%'+#WHERE_VBIS_Brand#+'%'</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Inspire">VBIS_Inspire LIKE '%'+#WHERE_VBIS_Inspire#+'%'</isNotEmpty>
        <!--车型描述-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_ModelDesc">VBIS_ModelDesc LIKE '%'+#WHERE_VBIS_ModelDesc#+'%'</isNotEmpty>
        <!--车辆类型-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Model">VBIS_Model LIKE '%'+#WHERE_VBIS_Model#+'%'</isNotEmpty>
        <!--品牌拼音首字母-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_BrandSpellCode">VBIS_BrandSpellCode LIKE '%'+#WHERE_VBIS_BrandSpellCode#+'%'</isNotEmpty>
        <!--车系拼音首字母-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_InspireSpellCode">VBIS_InspireSpellCode LIKE '%'+#WHERE_VBIS_InspireSpellCode#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VBIS_IsValid">VBIS_IsValid=#WHERE_VBIS_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_CreatedBy">VBIS_CreatedBy LIKE '%'+#WHERE_VBIS_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_UpdatedBy">VBIS_UpdatedBy LIKE '%'+#WHERE_VBIS_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VBIS_VersionNo">VBIS_VersionNo=#WHERE_VBIS_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_TransID">VBIS_TransID LIKE '%'+#WHERE_VBIS_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY VBIS_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[车辆品牌车系]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLBS_VehicleBrandInspireSumma" parameterClass="MDLBS_VehicleBrandInspireSumma" resultClass="int">
      SELECT COUNT(VBIS_ID) 'RecordCount'
      FROM BS_VehicleBrandInspireSumma
      <dynamic prepend="WHERE">
        <!--品牌车系ID-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_ID">VBIS_ID=#WHERE_VBIS_ID#</isNotEmpty>
        <!--品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Brand">VBIS_Brand=#WHERE_VBIS_Brand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Inspire">VBIS_Inspire=#WHERE_VBIS_Inspire#</isNotEmpty>
        <!--车型描述-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_ModelDesc">VBIS_ModelDesc=#WHERE_VBIS_ModelDesc#</isNotEmpty>
        <!--车辆类型-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Model">VBIS_Model=#WHERE_VBIS_Model#</isNotEmpty>
        <!--品牌拼音首字母-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_BrandSpellCode">VBIS_BrandSpellCode=#WHERE_VBIS_BrandSpellCode#</isNotEmpty>
        <!--车系拼音首字母-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_InspireSpellCode">VBIS_InspireSpellCode=#WHERE_VBIS_InspireSpellCode#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VBIS_IsValid">VBIS_IsValid=#WHERE_VBIS_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_CreatedBy">VBIS_CreatedBy=#WHERE_VBIS_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_UpdatedBy">VBIS_UpdatedBy=#WHERE_VBIS_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VBIS_VersionNo">VBIS_VersionNo=#WHERE_VBIS_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_TransID">VBIS_TransID=#WHERE_VBIS_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[车辆品牌车系]信息-->
    <update id="COMM_SQL_UpdateMDLBS_VehicleBrandInspireSumma" parameterClass="MDLBS_VehicleBrandInspireSumma" >
      UPDATE BS_VehicleBrandInspireSumma
      SET
      VBIS_UpdatedTime=GETDATE(),
      VBIS_VersionNo=VBIS_VersionNo+1
      <isNotEmpty prepend="," property="VBIS_Brand">VBIS_Brand=#VBIS_Brand#</isNotEmpty>
      <isNotEmpty prepend="," property="VBIS_Inspire">VBIS_Inspire=#VBIS_Inspire#</isNotEmpty>
      <isNotEmpty prepend="," property="VBIS_ModelDesc">VBIS_ModelDesc=#VBIS_ModelDesc#</isNotEmpty>
      <isNotEmpty prepend="," property="VBIS_Model">VBIS_Model=#VBIS_Model#</isNotEmpty>
      <isNotEmpty prepend="," property="VBIS_BrandSpellCode">VBIS_BrandSpellCode=#VBIS_BrandSpellCode#</isNotEmpty>
      <isNotEmpty prepend="," property="VBIS_InspireSpellCode">VBIS_InspireSpellCode=#VBIS_InspireSpellCode#</isNotEmpty>
      <isNotNull prepend="," property="VBIS_IsValid">VBIS_IsValid=#VBIS_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="VBIS_CreatedBy">VBIS_CreatedBy=#VBIS_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="VBIS_CreatedTime">VBIS_CreatedTime=#VBIS_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="VBIS_UpdatedBy">VBIS_UpdatedBy=#VBIS_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="VBIS_TransID">VBIS_TransID=#VBIS_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--品牌车系ID-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_ID">VBIS_ID=#WHERE_VBIS_ID#</isNotEmpty>
        <!--品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Brand">VBIS_Brand=#WHERE_VBIS_Brand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Inspire">VBIS_Inspire=#WHERE_VBIS_Inspire#</isNotEmpty>
        <!--车型描述-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_ModelDesc">VBIS_ModelDesc=#WHERE_VBIS_ModelDesc#</isNotEmpty>
        <!--车辆类型-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_Model">VBIS_Model=#WHERE_VBIS_Model#</isNotEmpty>
        <!--品牌拼音首字母-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_BrandSpellCode">VBIS_BrandSpellCode=#WHERE_VBIS_BrandSpellCode#</isNotEmpty>
        <!--车系拼音首字母-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_InspireSpellCode">VBIS_InspireSpellCode=#WHERE_VBIS_InspireSpellCode#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VBIS_IsValid">VBIS_IsValid=#WHERE_VBIS_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_CreatedBy">VBIS_CreatedBy=#WHERE_VBIS_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBIS_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_UpdatedBy">VBIS_UpdatedBy=#WHERE_VBIS_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBIS_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VBIS_VersionNo">VBIS_VersionNo=#WHERE_VBIS_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VBIS_TransID">VBIS_TransID=#WHERE_VBIS_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[车辆品牌车系]信息-->
    <delete id="COMM_SQL_DELETE_MDLBS_VehicleBrandInspireSumma" parameterClass="List">
      DELETE FROM BS_VehicleBrandInspireSumma
      WHERE VBIS_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_VBIS_ID#
      </iterate>
    </delete>

    <!--新增[配件级别]信息-->
    <insert id="COMM_SQL_INSERT_MDLBS_AutoPartsLevel" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        BS_AutoPartsLevel
        (
        <!--ID-->
        APL_ID,
        <!--编码-->
        APL_Code,
        <!--名称-->
        APL_Name,
        <!--显示顺序-->
        APL_DispayIndex,
        <!--备注-->
        APL_Remark,
        <!--有效-->
        APL_IsValid,
        <!--创建人-->
        APL_CreatedBy,
        <!--创建时间-->
        APL_CreatedTime,
        <!--修改人-->
        APL_UpdatedBy,
        <!--修改时间-->
        APL_UpdatedTime,
        <!--版本号-->
        APL_VersionNo,
        <!--事务编号-->
        APL_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].APL_ID#,
        <!--编码-->
        #[].APL_Code#,
        <!--名称-->
        #[].APL_Name#,
        <!--显示顺序-->
        #[].APL_DispayIndex#,
        <!--备注-->
        #[].APL_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].APL_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].APL_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].APL_TransID#
        )
      </iterate>
    </insert>

    <!--查询[配件级别]信息（精确条件）-->
    <select id="COMM_SQL_MDLBS_AutoPartsLevel" parameterClass="MDLBS_AutoPartsLevel" resultClass="MDLBS_AutoPartsLevel">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APL_ID)
      FROM BS_AutoPartsLevel
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_APL_ID">APL_ID=#WHERE_APL_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Code">APL_Code=#WHERE_APL_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Name">APL_Name=#WHERE_APL_Name#</isNotEmpty>
        <!--显示顺序-->
        <isNotNull prepend="AND" property="WHERE_APL_DispayIndex">APL_DispayIndex=#WHERE_APL_DispayIndex#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Remark">APL_Remark=#WHERE_APL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APL_IsValid">APL_IsValid=#WHERE_APL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APL_CreatedBy">APL_CreatedBy=#WHERE_APL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APL_UpdatedBy">APL_UpdatedBy=#WHERE_APL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APL_VersionNo">APL_VersionNo=#WHERE_APL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APL_TransID">APL_TransID=#WHERE_APL_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APL_ID,
      APL_Code,
      APL_Name,
      APL_DispayIndex,
      APL_Remark,
      APL_IsValid,
      APL_CreatedBy,
      APL_CreatedTime,
      APL_UpdatedBy,
      APL_UpdatedTime,
      APL_VersionNo,
      APL_TransID
      FROM BS_AutoPartsLevel
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_APL_ID">APL_ID=#WHERE_APL_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Code">APL_Code=#WHERE_APL_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Name">APL_Name=#WHERE_APL_Name#</isNotEmpty>
        <!--显示顺序-->
        <isNotNull prepend="AND" property="WHERE_APL_DispayIndex">APL_DispayIndex=#WHERE_APL_DispayIndex#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Remark">APL_Remark=#WHERE_APL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APL_IsValid">APL_IsValid=#WHERE_APL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APL_CreatedBy">APL_CreatedBy=#WHERE_APL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APL_UpdatedBy">APL_UpdatedBy=#WHERE_APL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APL_VersionNo">APL_VersionNo=#WHERE_APL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APL_TransID">APL_TransID=#WHERE_APL_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[配件级别]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLBS_AutoPartsLevel" parameterClass="MDLBS_AutoPartsLevel" resultClass="MDLBS_AutoPartsLevel">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APL_ID)
      FROM BS_AutoPartsLevel
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_APL_ID">APL_ID=#WHERE_APL_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Code">APL_Code LIKE '%'+#WHERE_APL_Code#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Name">APL_Name LIKE '%'+#WHERE_APL_Name#+'%'</isNotEmpty>
        <!--显示顺序-->
        <isNotNull prepend="AND" property="WHERE_APL_DispayIndex">APL_DispayIndex=#WHERE_APL_DispayIndex#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Remark">APL_Remark LIKE '%'+#WHERE_APL_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APL_IsValid">APL_IsValid=#WHERE_APL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APL_CreatedBy">APL_CreatedBy LIKE '%'+#WHERE_APL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APL_UpdatedBy">APL_UpdatedBy LIKE '%'+#WHERE_APL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APL_VersionNo">APL_VersionNo=#WHERE_APL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APL_TransID">APL_TransID LIKE '%'+#WHERE_APL_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APL_ID,
      APL_Code,
      APL_Name,
      APL_DispayIndex,
      APL_Remark,
      APL_IsValid,
      APL_CreatedBy,
      APL_CreatedTime,
      APL_UpdatedBy,
      APL_UpdatedTime,
      APL_VersionNo,
      APL_TransID
      FROM BS_AutoPartsLevel
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_APL_ID">APL_ID=#WHERE_APL_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Code">APL_Code LIKE '%'+#WHERE_APL_Code#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Name">APL_Name LIKE '%'+#WHERE_APL_Name#+'%'</isNotEmpty>
        <!--显示顺序-->
        <isNotNull prepend="AND" property="WHERE_APL_DispayIndex">APL_DispayIndex=#WHERE_APL_DispayIndex#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Remark">APL_Remark LIKE '%'+#WHERE_APL_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APL_IsValid">APL_IsValid=#WHERE_APL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APL_CreatedBy">APL_CreatedBy LIKE '%'+#WHERE_APL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APL_UpdatedBy">APL_UpdatedBy LIKE '%'+#WHERE_APL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APL_VersionNo">APL_VersionNo=#WHERE_APL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APL_TransID">APL_TransID LIKE '%'+#WHERE_APL_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[配件级别]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLBS_AutoPartsLevel" parameterClass="MDLBS_AutoPartsLevel" resultClass="int">
      SELECT COUNT(APL_ID) 'RecordCount'
      FROM BS_AutoPartsLevel
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_APL_ID">APL_ID=#WHERE_APL_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Code">APL_Code=#WHERE_APL_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Name">APL_Name=#WHERE_APL_Name#</isNotEmpty>
        <!--显示顺序-->
        <isNotNull prepend="AND" property="WHERE_APL_DispayIndex">APL_DispayIndex=#WHERE_APL_DispayIndex#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Remark">APL_Remark=#WHERE_APL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APL_IsValid">APL_IsValid=#WHERE_APL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APL_CreatedBy">APL_CreatedBy=#WHERE_APL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APL_UpdatedBy">APL_UpdatedBy=#WHERE_APL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APL_VersionNo">APL_VersionNo=#WHERE_APL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APL_TransID">APL_TransID=#WHERE_APL_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[配件级别]信息-->
    <update id="COMM_SQL_UpdateMDLBS_AutoPartsLevel" parameterClass="MDLBS_AutoPartsLevel" >
      UPDATE BS_AutoPartsLevel
      SET
      APL_UpdatedTime=GETDATE(),
      APL_VersionNo=APL_VersionNo+1
      <isNotEmpty prepend="," property="APL_Code">APL_Code=#APL_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="APL_Name">APL_Name=#APL_Name#</isNotEmpty>
      <isNotNull prepend="," property="APL_DispayIndex">APL_DispayIndex=#APL_DispayIndex#</isNotNull>
      <isNotEmpty prepend="," property="APL_Remark">APL_Remark=#APL_Remark#</isNotEmpty>
      <isNotNull prepend="," property="APL_IsValid">APL_IsValid=#APL_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="APL_CreatedBy">APL_CreatedBy=#APL_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="APL_CreatedTime">APL_CreatedTime=#APL_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="APL_UpdatedBy">APL_UpdatedBy=#APL_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="APL_TransID">APL_TransID=#APL_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_APL_ID">APL_ID=#WHERE_APL_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Code">APL_Code=#WHERE_APL_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Name">APL_Name=#WHERE_APL_Name#</isNotEmpty>
        <!--显示顺序-->
        <isNotNull prepend="AND" property="WHERE_APL_DispayIndex">APL_DispayIndex=#WHERE_APL_DispayIndex#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APL_Remark">APL_Remark=#WHERE_APL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APL_IsValid">APL_IsValid=#WHERE_APL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APL_CreatedBy">APL_CreatedBy=#WHERE_APL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APL_UpdatedBy">APL_UpdatedBy=#WHERE_APL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APL_VersionNo">APL_VersionNo=#WHERE_APL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APL_TransID">APL_TransID=#WHERE_APL_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[配件级别]信息-->
    <delete id="COMM_SQL_DELETE_MDLBS_AutoPartsLevel" parameterClass="List">
      DELETE FROM BS_AutoPartsLevel
      WHERE APL_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_APL_ID#
      </iterate>
    </delete>

    <!--新增[配件类别]信息-->
    <insert id="COMM_SQL_INSERT_MDLBS_AutoPartsType" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        BS_AutoPartsType
        (
        <!--配件类别ID-->
        APT_ID,
        <!--配件类别名称-->
        APT_Name,
        <!--父级类别ID-->
        APT_ParentID,
        <!--顺序-->
        APT_Index,
        <!--有效-->
        APT_IsValid,
        <!--创建人-->
        APT_CreatedBy,
        <!--创建时间-->
        APT_CreatedTime,
        <!--修改人-->
        APT_UpdatedBy,
        <!--修改时间-->
        APT_UpdatedTime,
        <!--版本号-->
        APT_VersionNo,
        <!--事务编号-->
        APT_TransID
        )
        VALUES
        (
        <!--配件类别ID-->
        #[].APT_ID#,
        <!--配件类别名称-->
        #[].APT_Name#,
        <!--父级类别ID-->
        #[].APT_ParentID#,
        <!--顺序-->
        #[].APT_Index#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].APT_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].APT_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].APT_TransID#
        )
      </iterate>
    </insert>

    <!--查询[配件类别]信息（精确条件）-->
    <select id="COMM_SQL_MDLBS_AutoPartsType" parameterClass="MDLBS_AutoPartsType" resultClass="MDLBS_AutoPartsType">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APT_ID)
      FROM BS_AutoPartsType
      <dynamic prepend="WHERE">
        <!--配件类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APT_ID">APT_ID=#WHERE_APT_ID#</isNotEmpty>
        <!--配件类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_APT_Name">APT_Name=#WHERE_APT_Name#</isNotEmpty>
        <!--父级类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APT_ParentID">APT_ParentID=#WHERE_APT_ParentID#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_APT_Index">APT_Index=#WHERE_APT_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APT_IsValid">APT_IsValid=#WHERE_APT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APT_CreatedBy">APT_CreatedBy=#WHERE_APT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APT_UpdatedBy">APT_UpdatedBy=#WHERE_APT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APT_VersionNo">APT_VersionNo=#WHERE_APT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APT_TransID">APT_TransID=#WHERE_APT_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APT_ID,
      APT_Name,
      APT_ParentID,
      APT_Index,
      APT_IsValid,
      APT_CreatedBy,
      APT_CreatedTime,
      APT_UpdatedBy,
      APT_UpdatedTime,
      APT_VersionNo,
      APT_TransID
      FROM BS_AutoPartsType
      <dynamic prepend="WHERE">
        <!--配件类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APT_ID">APT_ID=#WHERE_APT_ID#</isNotEmpty>
        <!--配件类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_APT_Name">APT_Name=#WHERE_APT_Name#</isNotEmpty>
        <!--父级类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APT_ParentID">APT_ParentID=#WHERE_APT_ParentID#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_APT_Index">APT_Index=#WHERE_APT_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APT_IsValid">APT_IsValid=#WHERE_APT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APT_CreatedBy">APT_CreatedBy=#WHERE_APT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APT_UpdatedBy">APT_UpdatedBy=#WHERE_APT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APT_VersionNo">APT_VersionNo=#WHERE_APT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APT_TransID">APT_TransID=#WHERE_APT_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APT_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[配件类别]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLBS_AutoPartsType" parameterClass="MDLBS_AutoPartsType" resultClass="MDLBS_AutoPartsType">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APT_ID)
      FROM BS_AutoPartsType
      <dynamic prepend="WHERE">
        <!--配件类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APT_ID">APT_ID=#WHERE_APT_ID#</isNotEmpty>
        <!--配件类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_APT_Name">APT_Name LIKE '%'+#WHERE_APT_Name#+'%'</isNotEmpty>
        <!--父级类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APT_ParentID">APT_ParentID LIKE '%'+#WHERE_APT_ParentID#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_APT_Index">APT_Index=#WHERE_APT_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APT_IsValid">APT_IsValid=#WHERE_APT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APT_CreatedBy">APT_CreatedBy LIKE '%'+#WHERE_APT_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APT_UpdatedBy">APT_UpdatedBy LIKE '%'+#WHERE_APT_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APT_VersionNo">APT_VersionNo=#WHERE_APT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APT_TransID">APT_TransID LIKE '%'+#WHERE_APT_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APT_ID,
      APT_Name,
      APT_ParentID,
      APT_Index,
      APT_IsValid,
      APT_CreatedBy,
      APT_CreatedTime,
      APT_UpdatedBy,
      APT_UpdatedTime,
      APT_VersionNo,
      APT_TransID
      FROM BS_AutoPartsType
      <dynamic prepend="WHERE">
        <!--配件类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APT_ID">APT_ID=#WHERE_APT_ID#</isNotEmpty>
        <!--配件类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_APT_Name">APT_Name LIKE '%'+#WHERE_APT_Name#+'%'</isNotEmpty>
        <!--父级类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APT_ParentID">APT_ParentID LIKE '%'+#WHERE_APT_ParentID#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_APT_Index">APT_Index=#WHERE_APT_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APT_IsValid">APT_IsValid=#WHERE_APT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APT_CreatedBy">APT_CreatedBy LIKE '%'+#WHERE_APT_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APT_UpdatedBy">APT_UpdatedBy LIKE '%'+#WHERE_APT_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APT_VersionNo">APT_VersionNo=#WHERE_APT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APT_TransID">APT_TransID LIKE '%'+#WHERE_APT_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APT_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[配件类别]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLBS_AutoPartsType" parameterClass="MDLBS_AutoPartsType" resultClass="int">
      SELECT COUNT(APT_ID) 'RecordCount'
      FROM BS_AutoPartsType
      <dynamic prepend="WHERE">
        <!--配件类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APT_ID">APT_ID=#WHERE_APT_ID#</isNotEmpty>
        <!--配件类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_APT_Name">APT_Name=#WHERE_APT_Name#</isNotEmpty>
        <!--父级类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APT_ParentID">APT_ParentID=#WHERE_APT_ParentID#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_APT_Index">APT_Index=#WHERE_APT_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APT_IsValid">APT_IsValid=#WHERE_APT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APT_CreatedBy">APT_CreatedBy=#WHERE_APT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APT_UpdatedBy">APT_UpdatedBy=#WHERE_APT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APT_VersionNo">APT_VersionNo=#WHERE_APT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APT_TransID">APT_TransID=#WHERE_APT_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[配件类别]信息-->
    <update id="COMM_SQL_UpdateMDLBS_AutoPartsType" parameterClass="MDLBS_AutoPartsType" >
      UPDATE BS_AutoPartsType
      SET
      APT_UpdatedTime=GETDATE(),
      APT_VersionNo=APT_VersionNo+1
      <isNotEmpty prepend="," property="APT_Name">APT_Name=#APT_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="APT_ParentID">APT_ParentID=#APT_ParentID#</isNotEmpty>
      <isNotNull prepend="," property="APT_Index">APT_Index=#APT_Index#</isNotNull>
      <isNotNull prepend="," property="APT_IsValid">APT_IsValid=#APT_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="APT_CreatedBy">APT_CreatedBy=#APT_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="APT_CreatedTime">APT_CreatedTime=#APT_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="APT_UpdatedBy">APT_UpdatedBy=#APT_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="APT_TransID">APT_TransID=#APT_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--配件类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APT_ID">APT_ID=#WHERE_APT_ID#</isNotEmpty>
        <!--配件类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_APT_Name">APT_Name=#WHERE_APT_Name#</isNotEmpty>
        <!--父级类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APT_ParentID">APT_ParentID=#WHERE_APT_ParentID#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_APT_Index">APT_Index=#WHERE_APT_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APT_IsValid">APT_IsValid=#WHERE_APT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APT_CreatedBy">APT_CreatedBy=#WHERE_APT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APT_UpdatedBy">APT_UpdatedBy=#WHERE_APT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APT_VersionNo">APT_VersionNo=#WHERE_APT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APT_TransID">APT_TransID=#WHERE_APT_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[配件类别]信息-->
    <delete id="COMM_SQL_DELETE_MDLBS_AutoPartsType" parameterClass="List">
      DELETE FROM BS_AutoPartsType
      WHERE APT_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_APT_ID#
      </iterate>
    </delete>

    <!--新增[配件价格类别]信息-->
    <insert id="COMM_SQL_INSERT_MDLBS_AutoPartsPriceType" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        BS_AutoPartsPriceType
        (
        <!--配件价格类别ID-->
        APPT_ID,
        <!--组织ID-->
        APPT_Org_ID,
        <!--配件价格类别名称-->
        APPT_Name,
        <!--条形码-->
        APPT_Barcode,
        <!--价格-->
        APPT_Price,
        <!--有效-->
        APPT_IsValid,
        <!--创建人-->
        APPT_CreatedBy,
        <!--创建时间-->
        APPT_CreatedTime,
        <!--修改人-->
        APPT_UpdatedBy,
        <!--修改时间-->
        APPT_UpdatedTime,
        <!--版本号-->
        APPT_VersionNo,
        <!--事务编号-->
        APPT_TransID
        )
        VALUES
        (
        <!--配件价格类别ID-->
        #[].APPT_ID#,
        <!--组织ID-->
        #[].APPT_Org_ID#,
        <!--配件价格类别名称-->
        #[].APPT_Name#,
        <!--条形码-->
        #[].APPT_Barcode#,
        <!--价格-->
        #[].APPT_Price#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].APPT_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].APPT_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].APPT_TransID#
        )
      </iterate>
    </insert>

    <!--查询[配件价格类别]信息（精确条件）-->
    <select id="COMM_SQL_MDLBS_AutoPartsPriceType" parameterClass="MDLBS_AutoPartsPriceType" resultClass="MDLBS_AutoPartsPriceType">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APPT_ID)
      FROM BS_AutoPartsPriceType
      <dynamic prepend="WHERE">
        <!--配件价格类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_ID">APPT_ID=#WHERE_APPT_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Org_ID">APPT_Org_ID=#WHERE_APPT_Org_ID#</isNotEmpty>
        <!--配件价格类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Name">APPT_Name=#WHERE_APPT_Name#</isNotEmpty>
        <!--条形码-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Barcode">APPT_Barcode=#WHERE_APPT_Barcode#</isNotEmpty>
        <!--价格-->
        <isNotNull prepend="AND" property="WHERE_APPT_Price">APPT_Price=#WHERE_APPT_Price#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APPT_IsValid">APPT_IsValid=#WHERE_APPT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_CreatedBy">APPT_CreatedBy=#WHERE_APPT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_UpdatedBy">APPT_UpdatedBy=#WHERE_APPT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APPT_VersionNo">APPT_VersionNo=#WHERE_APPT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_TransID">APPT_TransID=#WHERE_APPT_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APPT_ID,
      APPT_Org_ID,
      APPT_Name,
      APPT_Barcode,
      APPT_Price,
      APPT_IsValid,
      APPT_CreatedBy,
      APPT_CreatedTime,
      APPT_UpdatedBy,
      APPT_UpdatedTime,
      APPT_VersionNo,
      APPT_TransID
      FROM BS_AutoPartsPriceType
      <dynamic prepend="WHERE">
        <!--配件价格类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_ID">APPT_ID=#WHERE_APPT_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Org_ID">APPT_Org_ID=#WHERE_APPT_Org_ID#</isNotEmpty>
        <!--配件价格类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Name">APPT_Name=#WHERE_APPT_Name#</isNotEmpty>
        <!--条形码-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Barcode">APPT_Barcode=#WHERE_APPT_Barcode#</isNotEmpty>
        <!--价格-->
        <isNotNull prepend="AND" property="WHERE_APPT_Price">APPT_Price=#WHERE_APPT_Price#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APPT_IsValid">APPT_IsValid=#WHERE_APPT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_CreatedBy">APPT_CreatedBy=#WHERE_APPT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_UpdatedBy">APPT_UpdatedBy=#WHERE_APPT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APPT_VersionNo">APPT_VersionNo=#WHERE_APPT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_TransID">APPT_TransID=#WHERE_APPT_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APPT_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[配件价格类别]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLBS_AutoPartsPriceType" parameterClass="MDLBS_AutoPartsPriceType" resultClass="MDLBS_AutoPartsPriceType">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APPT_ID)
      FROM BS_AutoPartsPriceType
      <dynamic prepend="WHERE">
        <!--配件价格类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_ID">APPT_ID=#WHERE_APPT_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Org_ID">APPT_Org_ID LIKE '%'+#WHERE_APPT_Org_ID#+'%'</isNotEmpty>
        <!--配件价格类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Name">APPT_Name LIKE '%'+#WHERE_APPT_Name#+'%'</isNotEmpty>
        <!--条形码-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Barcode">APPT_Barcode LIKE '%'+#WHERE_APPT_Barcode#+'%'</isNotEmpty>
        <!--价格-->
        <isNotNull prepend="AND" property="WHERE_APPT_Price">APPT_Price=#WHERE_APPT_Price#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APPT_IsValid">APPT_IsValid=#WHERE_APPT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_CreatedBy">APPT_CreatedBy LIKE '%'+#WHERE_APPT_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_UpdatedBy">APPT_UpdatedBy LIKE '%'+#WHERE_APPT_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APPT_VersionNo">APPT_VersionNo=#WHERE_APPT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_TransID">APPT_TransID LIKE '%'+#WHERE_APPT_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APPT_ID,
      APPT_Org_ID,
      APPT_Name,
      APPT_Barcode,
      APPT_Price,
      APPT_IsValid,
      APPT_CreatedBy,
      APPT_CreatedTime,
      APPT_UpdatedBy,
      APPT_UpdatedTime,
      APPT_VersionNo,
      APPT_TransID
      FROM BS_AutoPartsPriceType
      <dynamic prepend="WHERE">
        <!--配件价格类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_ID">APPT_ID=#WHERE_APPT_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Org_ID">APPT_Org_ID LIKE '%'+#WHERE_APPT_Org_ID#+'%'</isNotEmpty>
        <!--配件价格类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Name">APPT_Name LIKE '%'+#WHERE_APPT_Name#+'%'</isNotEmpty>
        <!--条形码-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Barcode">APPT_Barcode LIKE '%'+#WHERE_APPT_Barcode#+'%'</isNotEmpty>
        <!--价格-->
        <isNotNull prepend="AND" property="WHERE_APPT_Price">APPT_Price=#WHERE_APPT_Price#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APPT_IsValid">APPT_IsValid=#WHERE_APPT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_CreatedBy">APPT_CreatedBy LIKE '%'+#WHERE_APPT_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_UpdatedBy">APPT_UpdatedBy LIKE '%'+#WHERE_APPT_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APPT_VersionNo">APPT_VersionNo=#WHERE_APPT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_TransID">APPT_TransID LIKE '%'+#WHERE_APPT_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APPT_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[配件价格类别]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLBS_AutoPartsPriceType" parameterClass="MDLBS_AutoPartsPriceType" resultClass="int">
      SELECT COUNT(APPT_ID) 'RecordCount'
      FROM BS_AutoPartsPriceType
      <dynamic prepend="WHERE">
        <!--配件价格类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_ID">APPT_ID=#WHERE_APPT_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Org_ID">APPT_Org_ID=#WHERE_APPT_Org_ID#</isNotEmpty>
        <!--配件价格类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Name">APPT_Name=#WHERE_APPT_Name#</isNotEmpty>
        <!--条形码-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Barcode">APPT_Barcode=#WHERE_APPT_Barcode#</isNotEmpty>
        <!--价格-->
        <isNotNull prepend="AND" property="WHERE_APPT_Price">APPT_Price=#WHERE_APPT_Price#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APPT_IsValid">APPT_IsValid=#WHERE_APPT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_CreatedBy">APPT_CreatedBy=#WHERE_APPT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_UpdatedBy">APPT_UpdatedBy=#WHERE_APPT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APPT_VersionNo">APPT_VersionNo=#WHERE_APPT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_TransID">APPT_TransID=#WHERE_APPT_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[配件价格类别]信息-->
    <update id="COMM_SQL_UpdateMDLBS_AutoPartsPriceType" parameterClass="MDLBS_AutoPartsPriceType" >
      UPDATE BS_AutoPartsPriceType
      SET
      APPT_UpdatedTime=GETDATE(),
      APPT_VersionNo=APPT_VersionNo+1
      <isNotEmpty prepend="," property="APPT_Org_ID">APPT_Org_ID=#APPT_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="APPT_Name">APPT_Name=#APPT_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="APPT_Barcode">APPT_Barcode=#APPT_Barcode#</isNotEmpty>
      <isNotNull prepend="," property="APPT_Price">APPT_Price=#APPT_Price#</isNotNull>
      <isNotNull prepend="," property="APPT_IsValid">APPT_IsValid=#APPT_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="APPT_CreatedBy">APPT_CreatedBy=#APPT_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="APPT_CreatedTime">APPT_CreatedTime=#APPT_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="APPT_UpdatedBy">APPT_UpdatedBy=#APPT_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="APPT_TransID">APPT_TransID=#APPT_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--配件价格类别ID-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_ID">APPT_ID=#WHERE_APPT_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Org_ID">APPT_Org_ID=#WHERE_APPT_Org_ID#</isNotEmpty>
        <!--配件价格类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Name">APPT_Name=#WHERE_APPT_Name#</isNotEmpty>
        <!--条形码-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_Barcode">APPT_Barcode=#WHERE_APPT_Barcode#</isNotEmpty>
        <!--价格-->
        <isNotNull prepend="AND" property="WHERE_APPT_Price">APPT_Price=#WHERE_APPT_Price#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APPT_IsValid">APPT_IsValid=#WHERE_APPT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_CreatedBy">APPT_CreatedBy=#WHERE_APPT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APPT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_UpdatedBy">APPT_UpdatedBy=#WHERE_APPT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APPT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APPT_VersionNo">APPT_VersionNo=#WHERE_APPT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APPT_TransID">APPT_TransID=#WHERE_APPT_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[配件价格类别]信息-->
    <delete id="COMM_SQL_DELETE_MDLBS_AutoPartsPriceType" parameterClass="List">
      DELETE FROM BS_AutoPartsPriceType
      WHERE APPT_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_APPT_ID#
      </iterate>
    </delete>

    <!--新增[车辆信息]信息-->
    <insert id="COMM_SQL_INSERT_MDLBS_VehicleInfo" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        BS_VehicleInfo
        (
        <!--ID-->
        VC_ID,
        <!--车架号-->
        VC_VIN,
        <!--车牌号-->
        VC_PlateNumber,
        <!--品牌-->
        VC_Brand,
        <!--车系-->
        VC_Inspire,
        <!--车型描述-->
        VC_BrandDesc,
        <!--排量-->
        VC_Capacity,
        <!--发动机型号-->
        VC_EngineType,
        <!--备注-->
        VC_Remark,
        <!--有效-->
        VC_IsValid,
        <!--创建人-->
        VC_CreatedBy,
        <!--创建时间-->
        VC_CreatedTime,
        <!--修改人-->
        VC_UpdatedBy,
        <!--修改时间-->
        VC_UpdatedTime,
        <!--版本号-->
        VC_VersionNo,
        <!--事务编号-->
        VC_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].VC_ID#,
        <!--车架号-->
        #[].VC_VIN#,
        <!--车牌号-->
        #[].VC_PlateNumber#,
        <!--品牌-->
        #[].VC_Brand#,
        <!--车系-->
        #[].VC_Inspire#,
        <!--车型描述-->
        #[].VC_BrandDesc#,
        <!--排量-->
        #[].VC_Capacity#,
        <!--发动机型号-->
        #[].VC_EngineType#,
        <!--备注-->
        #[].VC_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].VC_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].VC_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].VC_TransID#
        )
      </iterate>
    </insert>

    <!--查询[车辆信息]信息（精确条件）-->
    <select id="COMM_SQL_MDLBS_VehicleInfo" parameterClass="MDLBS_VehicleInfo" resultClass="MDLBS_VehicleInfo">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(VC_ID)
      FROM BS_VehicleInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VC_ID">VC_ID=#WHERE_VC_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_VIN">VC_VIN=#WHERE_VC_VIN#</isNotEmpty>
        <!--车牌号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_PlateNumber">VC_PlateNumber=#WHERE_VC_PlateNumber#</isNotEmpty>
        <!--品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Brand">VC_Brand=#WHERE_VC_Brand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Inspire">VC_Inspire=#WHERE_VC_Inspire#</isNotEmpty>
        <!--车型描述-->
        <isNotEmpty prepend="AND" property="WHERE_VC_BrandDesc">VC_BrandDesc=#WHERE_VC_BrandDesc#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Capacity">VC_Capacity=#WHERE_VC_Capacity#</isNotEmpty>
        <!--发动机型号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_EngineType">VC_EngineType=#WHERE_VC_EngineType#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Remark">VC_Remark=#WHERE_VC_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VC_IsValid">VC_IsValid=#WHERE_VC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VC_CreatedBy">VC_CreatedBy=#WHERE_VC_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VC_UpdatedBy">VC_UpdatedBy=#WHERE_VC_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VC_VersionNo">VC_VersionNo=#WHERE_VC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_TransID">VC_TransID=#WHERE_VC_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      VC_ID,
      VC_VIN,
      VC_PlateNumber,
      VC_Brand,
      VC_Inspire,
      VC_BrandDesc,
      VC_Capacity,
      VC_EngineType,
      VC_Remark,
      VC_IsValid,
      VC_CreatedBy,
      VC_CreatedTime,
      VC_UpdatedBy,
      VC_UpdatedTime,
      VC_VersionNo,
      VC_TransID
      FROM BS_VehicleInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VC_ID">VC_ID=#WHERE_VC_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_VIN">VC_VIN=#WHERE_VC_VIN#</isNotEmpty>
        <!--车牌号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_PlateNumber">VC_PlateNumber=#WHERE_VC_PlateNumber#</isNotEmpty>
        <!--品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Brand">VC_Brand=#WHERE_VC_Brand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Inspire">VC_Inspire=#WHERE_VC_Inspire#</isNotEmpty>
        <!--车型描述-->
        <isNotEmpty prepend="AND" property="WHERE_VC_BrandDesc">VC_BrandDesc=#WHERE_VC_BrandDesc#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Capacity">VC_Capacity=#WHERE_VC_Capacity#</isNotEmpty>
        <!--发动机型号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_EngineType">VC_EngineType=#WHERE_VC_EngineType#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Remark">VC_Remark=#WHERE_VC_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VC_IsValid">VC_IsValid=#WHERE_VC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VC_CreatedBy">VC_CreatedBy=#WHERE_VC_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VC_UpdatedBy">VC_UpdatedBy=#WHERE_VC_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VC_VersionNo">VC_VersionNo=#WHERE_VC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_TransID">VC_TransID=#WHERE_VC_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY VC_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[车辆信息]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLBS_VehicleInfo" parameterClass="MDLBS_VehicleInfo" resultClass="MDLBS_VehicleInfo">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(VC_ID)
      FROM BS_VehicleInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VC_ID">VC_ID=#WHERE_VC_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_VIN">VC_VIN LIKE '%'+#WHERE_VC_VIN#+'%'</isNotEmpty>
        <!--车牌号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_PlateNumber">VC_PlateNumber LIKE '%'+#WHERE_VC_PlateNumber#+'%'</isNotEmpty>
        <!--品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Brand">VC_Brand LIKE '%'+#WHERE_VC_Brand#+'%'</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Inspire">VC_Inspire LIKE '%'+#WHERE_VC_Inspire#+'%'</isNotEmpty>
        <!--车型描述-->
        <isNotEmpty prepend="AND" property="WHERE_VC_BrandDesc">VC_BrandDesc LIKE '%'+#WHERE_VC_BrandDesc#+'%'</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Capacity">VC_Capacity LIKE '%'+#WHERE_VC_Capacity#+'%'</isNotEmpty>
        <!--发动机型号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_EngineType">VC_EngineType LIKE '%'+#WHERE_VC_EngineType#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Remark">VC_Remark LIKE '%'+#WHERE_VC_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VC_IsValid">VC_IsValid=#WHERE_VC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VC_CreatedBy">VC_CreatedBy LIKE '%'+#WHERE_VC_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VC_UpdatedBy">VC_UpdatedBy LIKE '%'+#WHERE_VC_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VC_VersionNo">VC_VersionNo=#WHERE_VC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_TransID">VC_TransID LIKE '%'+#WHERE_VC_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      VC_ID,
      VC_VIN,
      VC_PlateNumber,
      VC_Brand,
      VC_Inspire,
      VC_BrandDesc,
      VC_Capacity,
      VC_EngineType,
      VC_Remark,
      VC_IsValid,
      VC_CreatedBy,
      VC_CreatedTime,
      VC_UpdatedBy,
      VC_UpdatedTime,
      VC_VersionNo,
      VC_TransID
      FROM BS_VehicleInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VC_ID">VC_ID=#WHERE_VC_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_VIN">VC_VIN LIKE '%'+#WHERE_VC_VIN#+'%'</isNotEmpty>
        <!--车牌号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_PlateNumber">VC_PlateNumber LIKE '%'+#WHERE_VC_PlateNumber#+'%'</isNotEmpty>
        <!--品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Brand">VC_Brand LIKE '%'+#WHERE_VC_Brand#+'%'</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Inspire">VC_Inspire LIKE '%'+#WHERE_VC_Inspire#+'%'</isNotEmpty>
        <!--车型描述-->
        <isNotEmpty prepend="AND" property="WHERE_VC_BrandDesc">VC_BrandDesc LIKE '%'+#WHERE_VC_BrandDesc#+'%'</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Capacity">VC_Capacity LIKE '%'+#WHERE_VC_Capacity#+'%'</isNotEmpty>
        <!--发动机型号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_EngineType">VC_EngineType LIKE '%'+#WHERE_VC_EngineType#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Remark">VC_Remark LIKE '%'+#WHERE_VC_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VC_IsValid">VC_IsValid=#WHERE_VC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VC_CreatedBy">VC_CreatedBy LIKE '%'+#WHERE_VC_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VC_UpdatedBy">VC_UpdatedBy LIKE '%'+#WHERE_VC_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VC_VersionNo">VC_VersionNo=#WHERE_VC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_TransID">VC_TransID LIKE '%'+#WHERE_VC_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY VC_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[车辆信息]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLBS_VehicleInfo" parameterClass="MDLBS_VehicleInfo" resultClass="int">
      SELECT COUNT(VC_ID) 'RecordCount'
      FROM BS_VehicleInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VC_ID">VC_ID=#WHERE_VC_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_VIN">VC_VIN=#WHERE_VC_VIN#</isNotEmpty>
        <!--车牌号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_PlateNumber">VC_PlateNumber=#WHERE_VC_PlateNumber#</isNotEmpty>
        <!--品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Brand">VC_Brand=#WHERE_VC_Brand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Inspire">VC_Inspire=#WHERE_VC_Inspire#</isNotEmpty>
        <!--车型描述-->
        <isNotEmpty prepend="AND" property="WHERE_VC_BrandDesc">VC_BrandDesc=#WHERE_VC_BrandDesc#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Capacity">VC_Capacity=#WHERE_VC_Capacity#</isNotEmpty>
        <!--发动机型号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_EngineType">VC_EngineType=#WHERE_VC_EngineType#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Remark">VC_Remark=#WHERE_VC_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VC_IsValid">VC_IsValid=#WHERE_VC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VC_CreatedBy">VC_CreatedBy=#WHERE_VC_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VC_UpdatedBy">VC_UpdatedBy=#WHERE_VC_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VC_VersionNo">VC_VersionNo=#WHERE_VC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_TransID">VC_TransID=#WHERE_VC_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[车辆信息]信息-->
    <update id="COMM_SQL_UpdateMDLBS_VehicleInfo" parameterClass="MDLBS_VehicleInfo" >
      UPDATE BS_VehicleInfo
      SET
      VC_UpdatedTime=GETDATE(),
      VC_VersionNo=VC_VersionNo+1
      <isNotEmpty prepend="," property="VC_VIN">VC_VIN=#VC_VIN#</isNotEmpty>
      <isNotEmpty prepend="," property="VC_PlateNumber">VC_PlateNumber=#VC_PlateNumber#</isNotEmpty>
      <isNotEmpty prepend="," property="VC_Brand">VC_Brand=#VC_Brand#</isNotEmpty>
      <isNotEmpty prepend="," property="VC_Inspire">VC_Inspire=#VC_Inspire#</isNotEmpty>
      <isNotEmpty prepend="," property="VC_BrandDesc">VC_BrandDesc=#VC_BrandDesc#</isNotEmpty>
      <isNotEmpty prepend="," property="VC_Capacity">VC_Capacity=#VC_Capacity#</isNotEmpty>
      <isNotEmpty prepend="," property="VC_EngineType">VC_EngineType=#VC_EngineType#</isNotEmpty>
      <isNotEmpty prepend="," property="VC_Remark">VC_Remark=#VC_Remark#</isNotEmpty>
      <isNotNull prepend="," property="VC_IsValid">VC_IsValid=#VC_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="VC_CreatedBy">VC_CreatedBy=#VC_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="VC_CreatedTime">VC_CreatedTime=#VC_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="VC_UpdatedBy">VC_UpdatedBy=#VC_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="VC_TransID">VC_TransID=#VC_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VC_ID">VC_ID=#WHERE_VC_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_VIN">VC_VIN=#WHERE_VC_VIN#</isNotEmpty>
        <!--车牌号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_PlateNumber">VC_PlateNumber=#WHERE_VC_PlateNumber#</isNotEmpty>
        <!--品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Brand">VC_Brand=#WHERE_VC_Brand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Inspire">VC_Inspire=#WHERE_VC_Inspire#</isNotEmpty>
        <!--车型描述-->
        <isNotEmpty prepend="AND" property="WHERE_VC_BrandDesc">VC_BrandDesc=#WHERE_VC_BrandDesc#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Capacity">VC_Capacity=#WHERE_VC_Capacity#</isNotEmpty>
        <!--发动机型号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_EngineType">VC_EngineType=#WHERE_VC_EngineType#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VC_Remark">VC_Remark=#WHERE_VC_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VC_IsValid">VC_IsValid=#WHERE_VC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VC_CreatedBy">VC_CreatedBy=#WHERE_VC_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VC_UpdatedBy">VC_UpdatedBy=#WHERE_VC_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VC_VersionNo">VC_VersionNo=#WHERE_VC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VC_TransID">VC_TransID=#WHERE_VC_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[车辆信息]信息-->
    <delete id="COMM_SQL_DELETE_MDLBS_VehicleInfo" parameterClass="List">
      DELETE FROM BS_VehicleInfo
      WHERE VC_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_VC_ID#
      </iterate>
    </delete>

    <!--新增[车辆原厂件信息]信息-->
    <insert id="COMM_SQL_INSERT_MDLBS_VehicleOemPartsInfo" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        BS_VehicleOemPartsInfo
        (
        <!--ID-->
        VOPI_ID,
        <!--车架号-->
        VOPI_VC_VIN,
        <!--原厂编码-->
        VOPI_OEMNo,
        <!--配件名称-->
        VOPI_AutoPartsName,
        <!--备注-->
        VOPI_Remark,
        <!--有效-->
        VOPI_IsValid,
        <!--创建人-->
        VOPI_CreatedBy,
        <!--创建时间-->
        VOPI_CreatedTime,
        <!--修改人-->
        VOPI_UpdatedBy,
        <!--修改时间-->
        VOPI_UpdatedTime,
        <!--版本号-->
        VOPI_VersionNo,
        <!--事务编号-->
        VOPI_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].VOPI_ID#,
        <!--车架号-->
        #[].VOPI_VC_VIN#,
        <!--原厂编码-->
        #[].VOPI_OEMNo#,
        <!--配件名称-->
        #[].VOPI_AutoPartsName#,
        <!--备注-->
        #[].VOPI_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].VOPI_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].VOPI_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].VOPI_TransID#
        )
      </iterate>
    </insert>

    <!--查询[车辆原厂件信息]信息（精确条件）-->
    <select id="COMM_SQL_MDLBS_VehicleOemPartsInfo" parameterClass="MDLBS_VehicleOemPartsInfo" resultClass="MDLBS_VehicleOemPartsInfo">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(VOPI_ID)
      FROM BS_VehicleOemPartsInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_ID">VOPI_ID=#WHERE_VOPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_VC_VIN">VOPI_VC_VIN=#WHERE_VOPI_VC_VIN#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_OEMNo">VOPI_OEMNo=#WHERE_VOPI_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_AutoPartsName">VOPI_AutoPartsName=#WHERE_VOPI_AutoPartsName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_Remark">VOPI_Remark=#WHERE_VOPI_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VOPI_IsValid">VOPI_IsValid=#WHERE_VOPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_CreatedBy">VOPI_CreatedBy=#WHERE_VOPI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_UpdatedBy">VOPI_UpdatedBy=#WHERE_VOPI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VOPI_VersionNo">VOPI_VersionNo=#WHERE_VOPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_TransID">VOPI_TransID=#WHERE_VOPI_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      VOPI_ID,
      VOPI_VC_VIN,
      VOPI_OEMNo,
      VOPI_AutoPartsName,
      VOPI_Remark,
      VOPI_IsValid,
      VOPI_CreatedBy,
      VOPI_CreatedTime,
      VOPI_UpdatedBy,
      VOPI_UpdatedTime,
      VOPI_VersionNo,
      VOPI_TransID
      FROM BS_VehicleOemPartsInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_ID">VOPI_ID=#WHERE_VOPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_VC_VIN">VOPI_VC_VIN=#WHERE_VOPI_VC_VIN#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_OEMNo">VOPI_OEMNo=#WHERE_VOPI_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_AutoPartsName">VOPI_AutoPartsName=#WHERE_VOPI_AutoPartsName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_Remark">VOPI_Remark=#WHERE_VOPI_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VOPI_IsValid">VOPI_IsValid=#WHERE_VOPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_CreatedBy">VOPI_CreatedBy=#WHERE_VOPI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_UpdatedBy">VOPI_UpdatedBy=#WHERE_VOPI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VOPI_VersionNo">VOPI_VersionNo=#WHERE_VOPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_TransID">VOPI_TransID=#WHERE_VOPI_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY VOPI_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[车辆原厂件信息]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLBS_VehicleOemPartsInfo" parameterClass="MDLBS_VehicleOemPartsInfo" resultClass="MDLBS_VehicleOemPartsInfo">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(VOPI_ID)
      FROM BS_VehicleOemPartsInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_ID">VOPI_ID=#WHERE_VOPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_VC_VIN">VOPI_VC_VIN LIKE '%'+#WHERE_VOPI_VC_VIN#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_OEMNo">VOPI_OEMNo LIKE '%'+#WHERE_VOPI_OEMNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_AutoPartsName">VOPI_AutoPartsName LIKE '%'+#WHERE_VOPI_AutoPartsName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_Remark">VOPI_Remark LIKE '%'+#WHERE_VOPI_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VOPI_IsValid">VOPI_IsValid=#WHERE_VOPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_CreatedBy">VOPI_CreatedBy LIKE '%'+#WHERE_VOPI_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_UpdatedBy">VOPI_UpdatedBy LIKE '%'+#WHERE_VOPI_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VOPI_VersionNo">VOPI_VersionNo=#WHERE_VOPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_TransID">VOPI_TransID LIKE '%'+#WHERE_VOPI_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      VOPI_ID,
      VOPI_VC_VIN,
      VOPI_OEMNo,
      VOPI_AutoPartsName,
      VOPI_Remark,
      VOPI_IsValid,
      VOPI_CreatedBy,
      VOPI_CreatedTime,
      VOPI_UpdatedBy,
      VOPI_UpdatedTime,
      VOPI_VersionNo,
      VOPI_TransID
      FROM BS_VehicleOemPartsInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_ID">VOPI_ID=#WHERE_VOPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_VC_VIN">VOPI_VC_VIN LIKE '%'+#WHERE_VOPI_VC_VIN#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_OEMNo">VOPI_OEMNo LIKE '%'+#WHERE_VOPI_OEMNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_AutoPartsName">VOPI_AutoPartsName LIKE '%'+#WHERE_VOPI_AutoPartsName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_Remark">VOPI_Remark LIKE '%'+#WHERE_VOPI_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VOPI_IsValid">VOPI_IsValid=#WHERE_VOPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_CreatedBy">VOPI_CreatedBy LIKE '%'+#WHERE_VOPI_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_UpdatedBy">VOPI_UpdatedBy LIKE '%'+#WHERE_VOPI_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VOPI_VersionNo">VOPI_VersionNo=#WHERE_VOPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_TransID">VOPI_TransID LIKE '%'+#WHERE_VOPI_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY VOPI_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[车辆原厂件信息]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLBS_VehicleOemPartsInfo" parameterClass="MDLBS_VehicleOemPartsInfo" resultClass="int">
      SELECT COUNT(VOPI_ID) 'RecordCount'
      FROM BS_VehicleOemPartsInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_ID">VOPI_ID=#WHERE_VOPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_VC_VIN">VOPI_VC_VIN=#WHERE_VOPI_VC_VIN#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_OEMNo">VOPI_OEMNo=#WHERE_VOPI_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_AutoPartsName">VOPI_AutoPartsName=#WHERE_VOPI_AutoPartsName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_Remark">VOPI_Remark=#WHERE_VOPI_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VOPI_IsValid">VOPI_IsValid=#WHERE_VOPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_CreatedBy">VOPI_CreatedBy=#WHERE_VOPI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_UpdatedBy">VOPI_UpdatedBy=#WHERE_VOPI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VOPI_VersionNo">VOPI_VersionNo=#WHERE_VOPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_TransID">VOPI_TransID=#WHERE_VOPI_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[车辆原厂件信息]信息-->
    <update id="COMM_SQL_UpdateMDLBS_VehicleOemPartsInfo" parameterClass="MDLBS_VehicleOemPartsInfo" >
      UPDATE BS_VehicleOemPartsInfo
      SET
      VOPI_UpdatedTime=GETDATE(),
      VOPI_VersionNo=VOPI_VersionNo+1
      <isNotEmpty prepend="," property="VOPI_VC_VIN">VOPI_VC_VIN=#VOPI_VC_VIN#</isNotEmpty>
      <isNotEmpty prepend="," property="VOPI_OEMNo">VOPI_OEMNo=#VOPI_OEMNo#</isNotEmpty>
      <isNotEmpty prepend="," property="VOPI_AutoPartsName">VOPI_AutoPartsName=#VOPI_AutoPartsName#</isNotEmpty>
      <isNotEmpty prepend="," property="VOPI_Remark">VOPI_Remark=#VOPI_Remark#</isNotEmpty>
      <isNotNull prepend="," property="VOPI_IsValid">VOPI_IsValid=#VOPI_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="VOPI_CreatedBy">VOPI_CreatedBy=#VOPI_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="VOPI_CreatedTime">VOPI_CreatedTime=#VOPI_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="VOPI_UpdatedBy">VOPI_UpdatedBy=#VOPI_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="VOPI_TransID">VOPI_TransID=#VOPI_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_ID">VOPI_ID=#WHERE_VOPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_VC_VIN">VOPI_VC_VIN=#WHERE_VOPI_VC_VIN#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_OEMNo">VOPI_OEMNo=#WHERE_VOPI_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_AutoPartsName">VOPI_AutoPartsName=#WHERE_VOPI_AutoPartsName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_Remark">VOPI_Remark=#WHERE_VOPI_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VOPI_IsValid">VOPI_IsValid=#WHERE_VOPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_CreatedBy">VOPI_CreatedBy=#WHERE_VOPI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VOPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_UpdatedBy">VOPI_UpdatedBy=#WHERE_VOPI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VOPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VOPI_VersionNo">VOPI_VersionNo=#WHERE_VOPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VOPI_TransID">VOPI_TransID=#WHERE_VOPI_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[车辆原厂件信息]信息-->
    <delete id="COMM_SQL_DELETE_MDLBS_VehicleOemPartsInfo" parameterClass="List">
      DELETE FROM BS_VehicleOemPartsInfo
      WHERE VOPI_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_VOPI_ID#
      </iterate>
    </delete>

    <!--新增[车辆品牌件信息]信息-->
    <insert id="COMM_SQL_INSERT_MDLBS_VehicleThirdPartsInfo" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        BS_VehicleThirdPartsInfo
        (
        <!--ID-->
        VTPI_ID,
        <!--车架号-->
        VTPI_VC_VIN,
        <!--第三方编码-->
        VTPI_ThirdNo,
        <!--配件名称-->
        VTPI_AutoPartsName,
        <!--配件品牌-->
        VTPI_AutoPartsBrand,
        <!--备注-->
        VTPI_Remark,
        <!--有效-->
        VTPI_IsValid,
        <!--创建人-->
        VTPI_CreatedBy,
        <!--创建时间-->
        VTPI_CreatedTime,
        <!--修改人-->
        VTPI_UpdatedBy,
        <!--修改时间-->
        VTPI_UpdatedTime,
        <!--版本号-->
        VTPI_VersionNo,
        <!--事务编号-->
        VTPI_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].VTPI_ID#,
        <!--车架号-->
        #[].VTPI_VC_VIN#,
        <!--第三方编码-->
        #[].VTPI_ThirdNo#,
        <!--配件名称-->
        #[].VTPI_AutoPartsName#,
        <!--配件品牌-->
        #[].VTPI_AutoPartsBrand#,
        <!--备注-->
        #[].VTPI_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].VTPI_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].VTPI_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].VTPI_TransID#
        )
      </iterate>
    </insert>

    <!--查询[车辆品牌件信息]信息（精确条件）-->
    <select id="COMM_SQL_MDLBS_VehicleThirdPartsInfo" parameterClass="MDLBS_VehicleThirdPartsInfo" resultClass="MDLBS_VehicleThirdPartsInfo">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(VTPI_ID)
      FROM BS_VehicleThirdPartsInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_ID">VTPI_ID=#WHERE_VTPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_VC_VIN">VTPI_VC_VIN=#WHERE_VTPI_VC_VIN#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_ThirdNo">VTPI_ThirdNo=#WHERE_VTPI_ThirdNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_AutoPartsName">VTPI_AutoPartsName=#WHERE_VTPI_AutoPartsName#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_AutoPartsBrand">VTPI_AutoPartsBrand=#WHERE_VTPI_AutoPartsBrand#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_Remark">VTPI_Remark=#WHERE_VTPI_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VTPI_IsValid">VTPI_IsValid=#WHERE_VTPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_CreatedBy">VTPI_CreatedBy=#WHERE_VTPI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_UpdatedBy">VTPI_UpdatedBy=#WHERE_VTPI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VTPI_VersionNo">VTPI_VersionNo=#WHERE_VTPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_TransID">VTPI_TransID=#WHERE_VTPI_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      VTPI_ID,
      VTPI_VC_VIN,
      VTPI_ThirdNo,
      VTPI_AutoPartsName,
      VTPI_AutoPartsBrand,
      VTPI_Remark,
      VTPI_IsValid,
      VTPI_CreatedBy,
      VTPI_CreatedTime,
      VTPI_UpdatedBy,
      VTPI_UpdatedTime,
      VTPI_VersionNo,
      VTPI_TransID
      FROM BS_VehicleThirdPartsInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_ID">VTPI_ID=#WHERE_VTPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_VC_VIN">VTPI_VC_VIN=#WHERE_VTPI_VC_VIN#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_ThirdNo">VTPI_ThirdNo=#WHERE_VTPI_ThirdNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_AutoPartsName">VTPI_AutoPartsName=#WHERE_VTPI_AutoPartsName#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_AutoPartsBrand">VTPI_AutoPartsBrand=#WHERE_VTPI_AutoPartsBrand#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_Remark">VTPI_Remark=#WHERE_VTPI_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VTPI_IsValid">VTPI_IsValid=#WHERE_VTPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_CreatedBy">VTPI_CreatedBy=#WHERE_VTPI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_UpdatedBy">VTPI_UpdatedBy=#WHERE_VTPI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VTPI_VersionNo">VTPI_VersionNo=#WHERE_VTPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_TransID">VTPI_TransID=#WHERE_VTPI_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY VTPI_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[车辆品牌件信息]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLBS_VehicleThirdPartsInfo" parameterClass="MDLBS_VehicleThirdPartsInfo" resultClass="MDLBS_VehicleThirdPartsInfo">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(VTPI_ID)
      FROM BS_VehicleThirdPartsInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_ID">VTPI_ID=#WHERE_VTPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_VC_VIN">VTPI_VC_VIN LIKE '%'+#WHERE_VTPI_VC_VIN#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_ThirdNo">VTPI_ThirdNo LIKE '%'+#WHERE_VTPI_ThirdNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_AutoPartsName">VTPI_AutoPartsName LIKE '%'+#WHERE_VTPI_AutoPartsName#+'%'</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_AutoPartsBrand">VTPI_AutoPartsBrand LIKE '%'+#WHERE_VTPI_AutoPartsBrand#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_Remark">VTPI_Remark LIKE '%'+#WHERE_VTPI_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VTPI_IsValid">VTPI_IsValid=#WHERE_VTPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_CreatedBy">VTPI_CreatedBy LIKE '%'+#WHERE_VTPI_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_UpdatedBy">VTPI_UpdatedBy LIKE '%'+#WHERE_VTPI_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VTPI_VersionNo">VTPI_VersionNo=#WHERE_VTPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_TransID">VTPI_TransID LIKE '%'+#WHERE_VTPI_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      VTPI_ID,
      VTPI_VC_VIN,
      VTPI_ThirdNo,
      VTPI_AutoPartsName,
      VTPI_AutoPartsBrand,
      VTPI_Remark,
      VTPI_IsValid,
      VTPI_CreatedBy,
      VTPI_CreatedTime,
      VTPI_UpdatedBy,
      VTPI_UpdatedTime,
      VTPI_VersionNo,
      VTPI_TransID
      FROM BS_VehicleThirdPartsInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_ID">VTPI_ID=#WHERE_VTPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_VC_VIN">VTPI_VC_VIN LIKE '%'+#WHERE_VTPI_VC_VIN#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_ThirdNo">VTPI_ThirdNo LIKE '%'+#WHERE_VTPI_ThirdNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_AutoPartsName">VTPI_AutoPartsName LIKE '%'+#WHERE_VTPI_AutoPartsName#+'%'</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_AutoPartsBrand">VTPI_AutoPartsBrand LIKE '%'+#WHERE_VTPI_AutoPartsBrand#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_Remark">VTPI_Remark LIKE '%'+#WHERE_VTPI_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VTPI_IsValid">VTPI_IsValid=#WHERE_VTPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_CreatedBy">VTPI_CreatedBy LIKE '%'+#WHERE_VTPI_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_UpdatedBy">VTPI_UpdatedBy LIKE '%'+#WHERE_VTPI_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VTPI_VersionNo">VTPI_VersionNo=#WHERE_VTPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_TransID">VTPI_TransID LIKE '%'+#WHERE_VTPI_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY VTPI_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[车辆品牌件信息]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLBS_VehicleThirdPartsInfo" parameterClass="MDLBS_VehicleThirdPartsInfo" resultClass="int">
      SELECT COUNT(VTPI_ID) 'RecordCount'
      FROM BS_VehicleThirdPartsInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_ID">VTPI_ID=#WHERE_VTPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_VC_VIN">VTPI_VC_VIN=#WHERE_VTPI_VC_VIN#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_ThirdNo">VTPI_ThirdNo=#WHERE_VTPI_ThirdNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_AutoPartsName">VTPI_AutoPartsName=#WHERE_VTPI_AutoPartsName#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_AutoPartsBrand">VTPI_AutoPartsBrand=#WHERE_VTPI_AutoPartsBrand#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_Remark">VTPI_Remark=#WHERE_VTPI_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VTPI_IsValid">VTPI_IsValid=#WHERE_VTPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_CreatedBy">VTPI_CreatedBy=#WHERE_VTPI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_UpdatedBy">VTPI_UpdatedBy=#WHERE_VTPI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VTPI_VersionNo">VTPI_VersionNo=#WHERE_VTPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_TransID">VTPI_TransID=#WHERE_VTPI_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[车辆品牌件信息]信息-->
    <update id="COMM_SQL_UpdateMDLBS_VehicleThirdPartsInfo" parameterClass="MDLBS_VehicleThirdPartsInfo" >
      UPDATE BS_VehicleThirdPartsInfo
      SET
      VTPI_UpdatedTime=GETDATE(),
      VTPI_VersionNo=VTPI_VersionNo+1
      <isNotEmpty prepend="," property="VTPI_VC_VIN">VTPI_VC_VIN=#VTPI_VC_VIN#</isNotEmpty>
      <isNotEmpty prepend="," property="VTPI_ThirdNo">VTPI_ThirdNo=#VTPI_ThirdNo#</isNotEmpty>
      <isNotEmpty prepend="," property="VTPI_AutoPartsName">VTPI_AutoPartsName=#VTPI_AutoPartsName#</isNotEmpty>
      <isNotEmpty prepend="," property="VTPI_AutoPartsBrand">VTPI_AutoPartsBrand=#VTPI_AutoPartsBrand#</isNotEmpty>
      <isNotEmpty prepend="," property="VTPI_Remark">VTPI_Remark=#VTPI_Remark#</isNotEmpty>
      <isNotNull prepend="," property="VTPI_IsValid">VTPI_IsValid=#VTPI_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="VTPI_CreatedBy">VTPI_CreatedBy=#VTPI_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="VTPI_CreatedTime">VTPI_CreatedTime=#VTPI_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="VTPI_UpdatedBy">VTPI_UpdatedBy=#VTPI_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="VTPI_TransID">VTPI_TransID=#VTPI_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_ID">VTPI_ID=#WHERE_VTPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_VC_VIN">VTPI_VC_VIN=#WHERE_VTPI_VC_VIN#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_ThirdNo">VTPI_ThirdNo=#WHERE_VTPI_ThirdNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_AutoPartsName">VTPI_AutoPartsName=#WHERE_VTPI_AutoPartsName#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_AutoPartsBrand">VTPI_AutoPartsBrand=#WHERE_VTPI_AutoPartsBrand#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_Remark">VTPI_Remark=#WHERE_VTPI_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VTPI_IsValid">VTPI_IsValid=#WHERE_VTPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_CreatedBy">VTPI_CreatedBy=#WHERE_VTPI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VTPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_UpdatedBy">VTPI_UpdatedBy=#WHERE_VTPI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VTPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VTPI_VersionNo">VTPI_VersionNo=#WHERE_VTPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VTPI_TransID">VTPI_TransID=#WHERE_VTPI_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[车辆品牌件信息]信息-->
    <delete id="COMM_SQL_DELETE_MDLBS_VehicleThirdPartsInfo" parameterClass="List">
      DELETE FROM BS_VehicleThirdPartsInfo
      WHERE VTPI_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_VTPI_ID#
      </iterate>
    </delete>

    <!--新增[车辆原厂品牌关联信息]信息-->
    <insert id="COMM_SQL_INSERT_MDLBS_VehicleBrandPartsInfo" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        BS_VehicleBrandPartsInfo
        (
        <!--ID-->
        VBPI_ID,
        <!--车架号-->
        VBPI_VC_VIN,
        <!--原厂编码-->
        VBPI_VOPI_OEMNo,
        <!--第三方编码-->
        VBPI_ThirdNo,
        <!--配件品牌-->
        VBPI_AutoPartsBrand,
        <!--备注-->
        VBPI_Remark,
        <!--有效-->
        VBPI_IsValid,
        <!--创建人-->
        VBPI_CreatedBy,
        <!--创建时间-->
        VBPI_CreatedTime,
        <!--修改人-->
        VBPI_UpdatedBy,
        <!--修改时间-->
        VBPI_UpdatedTime,
        <!--版本号-->
        VBPI_VersionNo,
        <!--事务编号-->
        VBPI_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].VBPI_ID#,
        <!--车架号-->
        #[].VBPI_VC_VIN#,
        <!--原厂编码-->
        #[].VBPI_VOPI_OEMNo#,
        <!--第三方编码-->
        #[].VBPI_ThirdNo#,
        <!--配件品牌-->
        #[].VBPI_AutoPartsBrand#,
        <!--备注-->
        #[].VBPI_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].VBPI_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].VBPI_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].VBPI_TransID#
        )
      </iterate>
    </insert>

    <!--查询[车辆原厂品牌关联信息]信息（精确条件）-->
    <select id="COMM_SQL_MDLBS_VehicleBrandPartsInfo" parameterClass="MDLBS_VehicleBrandPartsInfo" resultClass="MDLBS_VehicleBrandPartsInfo">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(VBPI_ID)
      FROM BS_VehicleBrandPartsInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_ID">VBPI_ID=#WHERE_VBPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_VC_VIN">VBPI_VC_VIN=#WHERE_VBPI_VC_VIN#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_VOPI_OEMNo">VBPI_VOPI_OEMNo=#WHERE_VBPI_VOPI_OEMNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_ThirdNo">VBPI_ThirdNo=#WHERE_VBPI_ThirdNo#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_AutoPartsBrand">VBPI_AutoPartsBrand=#WHERE_VBPI_AutoPartsBrand#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_Remark">VBPI_Remark=#WHERE_VBPI_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VBPI_IsValid">VBPI_IsValid=#WHERE_VBPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_CreatedBy">VBPI_CreatedBy=#WHERE_VBPI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_UpdatedBy">VBPI_UpdatedBy=#WHERE_VBPI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VBPI_VersionNo">VBPI_VersionNo=#WHERE_VBPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_TransID">VBPI_TransID=#WHERE_VBPI_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      VBPI_ID,
      VBPI_VC_VIN,
      VBPI_VOPI_OEMNo,
      VBPI_ThirdNo,
      VBPI_AutoPartsBrand,
      VBPI_Remark,
      VBPI_IsValid,
      VBPI_CreatedBy,
      VBPI_CreatedTime,
      VBPI_UpdatedBy,
      VBPI_UpdatedTime,
      VBPI_VersionNo,
      VBPI_TransID
      FROM BS_VehicleBrandPartsInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_ID">VBPI_ID=#WHERE_VBPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_VC_VIN">VBPI_VC_VIN=#WHERE_VBPI_VC_VIN#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_VOPI_OEMNo">VBPI_VOPI_OEMNo=#WHERE_VBPI_VOPI_OEMNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_ThirdNo">VBPI_ThirdNo=#WHERE_VBPI_ThirdNo#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_AutoPartsBrand">VBPI_AutoPartsBrand=#WHERE_VBPI_AutoPartsBrand#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_Remark">VBPI_Remark=#WHERE_VBPI_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VBPI_IsValid">VBPI_IsValid=#WHERE_VBPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_CreatedBy">VBPI_CreatedBy=#WHERE_VBPI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_UpdatedBy">VBPI_UpdatedBy=#WHERE_VBPI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VBPI_VersionNo">VBPI_VersionNo=#WHERE_VBPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_TransID">VBPI_TransID=#WHERE_VBPI_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY VBPI_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[车辆原厂品牌关联信息]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLBS_VehicleBrandPartsInfo" parameterClass="MDLBS_VehicleBrandPartsInfo" resultClass="MDLBS_VehicleBrandPartsInfo">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(VBPI_ID)
      FROM BS_VehicleBrandPartsInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_ID">VBPI_ID=#WHERE_VBPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_VC_VIN">VBPI_VC_VIN LIKE '%'+#WHERE_VBPI_VC_VIN#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_VOPI_OEMNo">VBPI_VOPI_OEMNo LIKE '%'+#WHERE_VBPI_VOPI_OEMNo#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_ThirdNo">VBPI_ThirdNo LIKE '%'+#WHERE_VBPI_ThirdNo#+'%'</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_AutoPartsBrand">VBPI_AutoPartsBrand LIKE '%'+#WHERE_VBPI_AutoPartsBrand#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_Remark">VBPI_Remark LIKE '%'+#WHERE_VBPI_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VBPI_IsValid">VBPI_IsValid=#WHERE_VBPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_CreatedBy">VBPI_CreatedBy LIKE '%'+#WHERE_VBPI_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_UpdatedBy">VBPI_UpdatedBy LIKE '%'+#WHERE_VBPI_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VBPI_VersionNo">VBPI_VersionNo=#WHERE_VBPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_TransID">VBPI_TransID LIKE '%'+#WHERE_VBPI_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      VBPI_ID,
      VBPI_VC_VIN,
      VBPI_VOPI_OEMNo,
      VBPI_ThirdNo,
      VBPI_AutoPartsBrand,
      VBPI_Remark,
      VBPI_IsValid,
      VBPI_CreatedBy,
      VBPI_CreatedTime,
      VBPI_UpdatedBy,
      VBPI_UpdatedTime,
      VBPI_VersionNo,
      VBPI_TransID
      FROM BS_VehicleBrandPartsInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_ID">VBPI_ID=#WHERE_VBPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_VC_VIN">VBPI_VC_VIN LIKE '%'+#WHERE_VBPI_VC_VIN#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_VOPI_OEMNo">VBPI_VOPI_OEMNo LIKE '%'+#WHERE_VBPI_VOPI_OEMNo#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_ThirdNo">VBPI_ThirdNo LIKE '%'+#WHERE_VBPI_ThirdNo#+'%'</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_AutoPartsBrand">VBPI_AutoPartsBrand LIKE '%'+#WHERE_VBPI_AutoPartsBrand#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_Remark">VBPI_Remark LIKE '%'+#WHERE_VBPI_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VBPI_IsValid">VBPI_IsValid=#WHERE_VBPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_CreatedBy">VBPI_CreatedBy LIKE '%'+#WHERE_VBPI_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_UpdatedBy">VBPI_UpdatedBy LIKE '%'+#WHERE_VBPI_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VBPI_VersionNo">VBPI_VersionNo=#WHERE_VBPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_TransID">VBPI_TransID LIKE '%'+#WHERE_VBPI_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY VBPI_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[车辆原厂品牌关联信息]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLBS_VehicleBrandPartsInfo" parameterClass="MDLBS_VehicleBrandPartsInfo" resultClass="int">
      SELECT COUNT(VBPI_ID) 'RecordCount'
      FROM BS_VehicleBrandPartsInfo
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_ID">VBPI_ID=#WHERE_VBPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_VC_VIN">VBPI_VC_VIN=#WHERE_VBPI_VC_VIN#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_VOPI_OEMNo">VBPI_VOPI_OEMNo=#WHERE_VBPI_VOPI_OEMNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_ThirdNo">VBPI_ThirdNo=#WHERE_VBPI_ThirdNo#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_AutoPartsBrand">VBPI_AutoPartsBrand=#WHERE_VBPI_AutoPartsBrand#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_Remark">VBPI_Remark=#WHERE_VBPI_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VBPI_IsValid">VBPI_IsValid=#WHERE_VBPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_CreatedBy">VBPI_CreatedBy=#WHERE_VBPI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_UpdatedBy">VBPI_UpdatedBy=#WHERE_VBPI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VBPI_VersionNo">VBPI_VersionNo=#WHERE_VBPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_TransID">VBPI_TransID=#WHERE_VBPI_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[车辆原厂品牌关联信息]信息-->
    <update id="COMM_SQL_UpdateMDLBS_VehicleBrandPartsInfo" parameterClass="MDLBS_VehicleBrandPartsInfo" >
      UPDATE BS_VehicleBrandPartsInfo
      SET
      VBPI_UpdatedTime=GETDATE(),
      VBPI_VersionNo=VBPI_VersionNo+1
      <isNotEmpty prepend="," property="VBPI_VC_VIN">VBPI_VC_VIN=#VBPI_VC_VIN#</isNotEmpty>
      <isNotEmpty prepend="," property="VBPI_VOPI_OEMNo">VBPI_VOPI_OEMNo=#VBPI_VOPI_OEMNo#</isNotEmpty>
      <isNotEmpty prepend="," property="VBPI_ThirdNo">VBPI_ThirdNo=#VBPI_ThirdNo#</isNotEmpty>
      <isNotEmpty prepend="," property="VBPI_AutoPartsBrand">VBPI_AutoPartsBrand=#VBPI_AutoPartsBrand#</isNotEmpty>
      <isNotEmpty prepend="," property="VBPI_Remark">VBPI_Remark=#VBPI_Remark#</isNotEmpty>
      <isNotNull prepend="," property="VBPI_IsValid">VBPI_IsValid=#VBPI_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="VBPI_CreatedBy">VBPI_CreatedBy=#VBPI_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="VBPI_CreatedTime">VBPI_CreatedTime=#VBPI_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="VBPI_UpdatedBy">VBPI_UpdatedBy=#VBPI_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="VBPI_TransID">VBPI_TransID=#VBPI_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_ID">VBPI_ID=#WHERE_VBPI_ID#</isNotEmpty>
        <!--车架号-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_VC_VIN">VBPI_VC_VIN=#WHERE_VBPI_VC_VIN#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_VOPI_OEMNo">VBPI_VOPI_OEMNo=#WHERE_VBPI_VOPI_OEMNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_ThirdNo">VBPI_ThirdNo=#WHERE_VBPI_ThirdNo#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_AutoPartsBrand">VBPI_AutoPartsBrand=#WHERE_VBPI_AutoPartsBrand#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_Remark">VBPI_Remark=#WHERE_VBPI_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_VBPI_IsValid">VBPI_IsValid=#WHERE_VBPI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_CreatedBy">VBPI_CreatedBy=#WHERE_VBPI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">VBPI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_UpdatedBy">VBPI_UpdatedBy=#WHERE_VBPI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">VBPI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_VBPI_VersionNo">VBPI_VersionNo=#WHERE_VBPI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_VBPI_TransID">VBPI_TransID=#WHERE_VBPI_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[车辆原厂品牌关联信息]信息-->
    <delete id="COMM_SQL_DELETE_MDLBS_VehicleBrandPartsInfo" parameterClass="List">
      DELETE FROM BS_VehicleBrandPartsInfo
      WHERE VBPI_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_VBPI_ID#
      </iterate>
    </delete>

    <!--新增[编码段]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_CodingSegment" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_CodingSegment
        (
        <!--编码段ID-->
        CS_ID,
        <!--编码规则ID-->
        CS_ER_ID,
        <!--编码段类型编码-->
        CS_TypeCode,
        <!--编码段类型名称-->
        CS_TypeName,
        <!--长度-->
        CS_Length,
        <!--填充字符-->
        CS_PanddingChar,
        <!--填充方式编码-->
        CS_PanddingStyleCode,
        <!--填充方式名称-->
        CS_PanddingStyleName,
        <!--编码段值-->
        CS_Value,
        <!--顺序-->
        CS_Index,
        <!--有效-->
        CS_IsValid,
        <!--创建人-->
        CS_CreatedBy,
        <!--创建时间-->
        CS_CreatedTime,
        <!--修改人-->
        CS_UpdatedBy,
        <!--修改时间-->
        CS_UpdatedTime,
        <!--版本号-->
        CS_VersionNo,
        <!--事务编号-->
        CS_TransID
        )
        VALUES
        (
        <!--编码段ID-->
        #[].CS_ID#,
        <!--编码规则ID-->
        #[].CS_ER_ID#,
        <!--编码段类型编码-->
        #[].CS_TypeCode#,
        <!--编码段类型名称-->
        #[].CS_TypeName#,
        <!--长度-->
        #[].CS_Length#,
        <!--填充字符-->
        #[].CS_PanddingChar#,
        <!--填充方式编码-->
        #[].CS_PanddingStyleCode#,
        <!--填充方式名称-->
        #[].CS_PanddingStyleName#,
        <!--编码段值-->
        #[].CS_Value#,
        <!--顺序-->
        #[].CS_Index#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].CS_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].CS_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].CS_TransID#
        )
      </iterate>
    </insert>

    <!--查询[编码段]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_CodingSegment" parameterClass="MDLSM_CodingSegment" resultClass="MDLSM_CodingSegment">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(CS_ID)
      FROM SM_CodingSegment
      <dynamic prepend="WHERE">
        <!--编码段ID-->
        <isNotEmpty prepend="AND" property="WHERE_CS_ID">CS_ID=#WHERE_CS_ID#</isNotEmpty>
        <!--编码规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_CS_ER_ID">CS_ER_ID=#WHERE_CS_ER_ID#</isNotEmpty>
        <!--编码段类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TypeCode">CS_TypeCode=#WHERE_CS_TypeCode#</isNotEmpty>
        <!--编码段类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TypeName">CS_TypeName=#WHERE_CS_TypeName#</isNotEmpty>
        <!--长度-->
        <isNotNull prepend="AND" property="WHERE_CS_Length">CS_Length=#WHERE_CS_Length#</isNotNull>
        <!--填充字符-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingChar">CS_PanddingChar=#WHERE_CS_PanddingChar#</isNotEmpty>
        <!--填充方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingStyleCode">CS_PanddingStyleCode=#WHERE_CS_PanddingStyleCode#</isNotEmpty>
        <!--填充方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingStyleName">CS_PanddingStyleName=#WHERE_CS_PanddingStyleName#</isNotEmpty>
        <!--编码段值-->
        <isNotEmpty prepend="AND" property="WHERE_CS_Value">CS_Value=#WHERE_CS_Value#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_CS_Index">CS_Index=#WHERE_CS_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CS_IsValid">CS_IsValid=#WHERE_CS_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CS_CreatedBy">CS_CreatedBy=#WHERE_CS_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CS_UpdatedBy">CS_UpdatedBy=#WHERE_CS_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CS_VersionNo">CS_VersionNo=#WHERE_CS_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TransID">CS_TransID=#WHERE_CS_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      CS_ID,
      CS_ER_ID,
      CS_TypeCode,
      CS_TypeName,
      CS_Length,
      CS_PanddingChar,
      CS_PanddingStyleCode,
      CS_PanddingStyleName,
      CS_Value,
      CS_Index,
      CS_IsValid,
      CS_CreatedBy,
      CS_CreatedTime,
      CS_UpdatedBy,
      CS_UpdatedTime,
      CS_VersionNo,
      CS_TransID
      FROM SM_CodingSegment
      <dynamic prepend="WHERE">
        <!--编码段ID-->
        <isNotEmpty prepend="AND" property="WHERE_CS_ID">CS_ID=#WHERE_CS_ID#</isNotEmpty>
        <!--编码规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_CS_ER_ID">CS_ER_ID=#WHERE_CS_ER_ID#</isNotEmpty>
        <!--编码段类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TypeCode">CS_TypeCode=#WHERE_CS_TypeCode#</isNotEmpty>
        <!--编码段类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TypeName">CS_TypeName=#WHERE_CS_TypeName#</isNotEmpty>
        <!--长度-->
        <isNotNull prepend="AND" property="WHERE_CS_Length">CS_Length=#WHERE_CS_Length#</isNotNull>
        <!--填充字符-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingChar">CS_PanddingChar=#WHERE_CS_PanddingChar#</isNotEmpty>
        <!--填充方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingStyleCode">CS_PanddingStyleCode=#WHERE_CS_PanddingStyleCode#</isNotEmpty>
        <!--填充方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingStyleName">CS_PanddingStyleName=#WHERE_CS_PanddingStyleName#</isNotEmpty>
        <!--编码段值-->
        <isNotEmpty prepend="AND" property="WHERE_CS_Value">CS_Value=#WHERE_CS_Value#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_CS_Index">CS_Index=#WHERE_CS_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CS_IsValid">CS_IsValid=#WHERE_CS_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CS_CreatedBy">CS_CreatedBy=#WHERE_CS_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CS_UpdatedBy">CS_UpdatedBy=#WHERE_CS_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CS_VersionNo">CS_VersionNo=#WHERE_CS_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TransID">CS_TransID=#WHERE_CS_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY CS_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[编码段]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_CodingSegment" parameterClass="MDLSM_CodingSegment" resultClass="MDLSM_CodingSegment">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(CS_ID)
      FROM SM_CodingSegment
      <dynamic prepend="WHERE">
        <!--编码段ID-->
        <isNotEmpty prepend="AND" property="WHERE_CS_ID">CS_ID=#WHERE_CS_ID#</isNotEmpty>
        <!--编码规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_CS_ER_ID">CS_ER_ID LIKE '%'+#WHERE_CS_ER_ID#+'%'</isNotEmpty>
        <!--编码段类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TypeCode">CS_TypeCode LIKE '%'+#WHERE_CS_TypeCode#+'%'</isNotEmpty>
        <!--编码段类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TypeName">CS_TypeName LIKE '%'+#WHERE_CS_TypeName#+'%'</isNotEmpty>
        <!--长度-->
        <isNotNull prepend="AND" property="WHERE_CS_Length">CS_Length=#WHERE_CS_Length#</isNotNull>
        <!--填充字符-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingChar">CS_PanddingChar LIKE '%'+#WHERE_CS_PanddingChar#+'%'</isNotEmpty>
        <!--填充方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingStyleCode">CS_PanddingStyleCode LIKE '%'+#WHERE_CS_PanddingStyleCode#+'%'</isNotEmpty>
        <!--填充方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingStyleName">CS_PanddingStyleName LIKE '%'+#WHERE_CS_PanddingStyleName#+'%'</isNotEmpty>
        <!--编码段值-->
        <isNotEmpty prepend="AND" property="WHERE_CS_Value">CS_Value LIKE '%'+#WHERE_CS_Value#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_CS_Index">CS_Index=#WHERE_CS_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CS_IsValid">CS_IsValid=#WHERE_CS_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CS_CreatedBy">CS_CreatedBy LIKE '%'+#WHERE_CS_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CS_UpdatedBy">CS_UpdatedBy LIKE '%'+#WHERE_CS_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CS_VersionNo">CS_VersionNo=#WHERE_CS_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TransID">CS_TransID LIKE '%'+#WHERE_CS_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      CS_ID,
      CS_ER_ID,
      CS_TypeCode,
      CS_TypeName,
      CS_Length,
      CS_PanddingChar,
      CS_PanddingStyleCode,
      CS_PanddingStyleName,
      CS_Value,
      CS_Index,
      CS_IsValid,
      CS_CreatedBy,
      CS_CreatedTime,
      CS_UpdatedBy,
      CS_UpdatedTime,
      CS_VersionNo,
      CS_TransID
      FROM SM_CodingSegment
      <dynamic prepend="WHERE">
        <!--编码段ID-->
        <isNotEmpty prepend="AND" property="WHERE_CS_ID">CS_ID=#WHERE_CS_ID#</isNotEmpty>
        <!--编码规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_CS_ER_ID">CS_ER_ID LIKE '%'+#WHERE_CS_ER_ID#+'%'</isNotEmpty>
        <!--编码段类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TypeCode">CS_TypeCode LIKE '%'+#WHERE_CS_TypeCode#+'%'</isNotEmpty>
        <!--编码段类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TypeName">CS_TypeName LIKE '%'+#WHERE_CS_TypeName#+'%'</isNotEmpty>
        <!--长度-->
        <isNotNull prepend="AND" property="WHERE_CS_Length">CS_Length=#WHERE_CS_Length#</isNotNull>
        <!--填充字符-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingChar">CS_PanddingChar LIKE '%'+#WHERE_CS_PanddingChar#+'%'</isNotEmpty>
        <!--填充方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingStyleCode">CS_PanddingStyleCode LIKE '%'+#WHERE_CS_PanddingStyleCode#+'%'</isNotEmpty>
        <!--填充方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingStyleName">CS_PanddingStyleName LIKE '%'+#WHERE_CS_PanddingStyleName#+'%'</isNotEmpty>
        <!--编码段值-->
        <isNotEmpty prepend="AND" property="WHERE_CS_Value">CS_Value LIKE '%'+#WHERE_CS_Value#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_CS_Index">CS_Index=#WHERE_CS_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CS_IsValid">CS_IsValid=#WHERE_CS_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CS_CreatedBy">CS_CreatedBy LIKE '%'+#WHERE_CS_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CS_UpdatedBy">CS_UpdatedBy LIKE '%'+#WHERE_CS_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CS_VersionNo">CS_VersionNo=#WHERE_CS_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TransID">CS_TransID LIKE '%'+#WHERE_CS_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY CS_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[编码段]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_CodingSegment" parameterClass="MDLSM_CodingSegment" resultClass="int">
      SELECT COUNT(CS_ID) 'RecordCount'
      FROM SM_CodingSegment
      <dynamic prepend="WHERE">
        <!--编码段ID-->
        <isNotEmpty prepend="AND" property="WHERE_CS_ID">CS_ID=#WHERE_CS_ID#</isNotEmpty>
        <!--编码规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_CS_ER_ID">CS_ER_ID=#WHERE_CS_ER_ID#</isNotEmpty>
        <!--编码段类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TypeCode">CS_TypeCode=#WHERE_CS_TypeCode#</isNotEmpty>
        <!--编码段类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TypeName">CS_TypeName=#WHERE_CS_TypeName#</isNotEmpty>
        <!--长度-->
        <isNotNull prepend="AND" property="WHERE_CS_Length">CS_Length=#WHERE_CS_Length#</isNotNull>
        <!--填充字符-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingChar">CS_PanddingChar=#WHERE_CS_PanddingChar#</isNotEmpty>
        <!--填充方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingStyleCode">CS_PanddingStyleCode=#WHERE_CS_PanddingStyleCode#</isNotEmpty>
        <!--填充方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingStyleName">CS_PanddingStyleName=#WHERE_CS_PanddingStyleName#</isNotEmpty>
        <!--编码段值-->
        <isNotEmpty prepend="AND" property="WHERE_CS_Value">CS_Value=#WHERE_CS_Value#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_CS_Index">CS_Index=#WHERE_CS_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CS_IsValid">CS_IsValid=#WHERE_CS_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CS_CreatedBy">CS_CreatedBy=#WHERE_CS_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CS_UpdatedBy">CS_UpdatedBy=#WHERE_CS_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CS_VersionNo">CS_VersionNo=#WHERE_CS_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TransID">CS_TransID=#WHERE_CS_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[编码段]信息-->
    <update id="COMM_SQL_UpdateMDLSM_CodingSegment" parameterClass="MDLSM_CodingSegment" >
      UPDATE SM_CodingSegment
      SET
      CS_UpdatedTime=GETDATE(),
      CS_VersionNo=CS_VersionNo+1
      <isNotEmpty prepend="," property="CS_ER_ID">CS_ER_ID=#CS_ER_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="CS_TypeCode">CS_TypeCode=#CS_TypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="CS_TypeName">CS_TypeName=#CS_TypeName#</isNotEmpty>
      <isNotNull prepend="," property="CS_Length">CS_Length=#CS_Length#</isNotNull>
      <isNotEmpty prepend="," property="CS_PanddingChar">CS_PanddingChar=#CS_PanddingChar#</isNotEmpty>
      <isNotEmpty prepend="," property="CS_PanddingStyleCode">CS_PanddingStyleCode=#CS_PanddingStyleCode#</isNotEmpty>
      <isNotEmpty prepend="," property="CS_PanddingStyleName">CS_PanddingStyleName=#CS_PanddingStyleName#</isNotEmpty>
      <isNotEmpty prepend="," property="CS_Value">CS_Value=#CS_Value#</isNotEmpty>
      <isNotNull prepend="," property="CS_Index">CS_Index=#CS_Index#</isNotNull>
      <isNotNull prepend="," property="CS_IsValid">CS_IsValid=#CS_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="CS_CreatedBy">CS_CreatedBy=#CS_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="CS_CreatedTime">CS_CreatedTime=#CS_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="CS_UpdatedBy">CS_UpdatedBy=#CS_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="CS_TransID">CS_TransID=#CS_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--编码段ID-->
        <isNotEmpty prepend="AND" property="WHERE_CS_ID">CS_ID=#WHERE_CS_ID#</isNotEmpty>
        <!--编码规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_CS_ER_ID">CS_ER_ID=#WHERE_CS_ER_ID#</isNotEmpty>
        <!--编码段类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TypeCode">CS_TypeCode=#WHERE_CS_TypeCode#</isNotEmpty>
        <!--编码段类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TypeName">CS_TypeName=#WHERE_CS_TypeName#</isNotEmpty>
        <!--长度-->
        <isNotNull prepend="AND" property="WHERE_CS_Length">CS_Length=#WHERE_CS_Length#</isNotNull>
        <!--填充字符-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingChar">CS_PanddingChar=#WHERE_CS_PanddingChar#</isNotEmpty>
        <!--填充方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingStyleCode">CS_PanddingStyleCode=#WHERE_CS_PanddingStyleCode#</isNotEmpty>
        <!--填充方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_CS_PanddingStyleName">CS_PanddingStyleName=#WHERE_CS_PanddingStyleName#</isNotEmpty>
        <!--编码段值-->
        <isNotEmpty prepend="AND" property="WHERE_CS_Value">CS_Value=#WHERE_CS_Value#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_CS_Index">CS_Index=#WHERE_CS_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CS_IsValid">CS_IsValid=#WHERE_CS_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CS_CreatedBy">CS_CreatedBy=#WHERE_CS_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CS_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CS_UpdatedBy">CS_UpdatedBy=#WHERE_CS_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CS_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CS_VersionNo">CS_VersionNo=#WHERE_CS_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CS_TransID">CS_TransID=#WHERE_CS_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[编码段]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_CodingSegment" parameterClass="List">
      DELETE FROM SM_CodingSegment
      WHERE CS_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_CS_ID#
      </iterate>
    </delete>

    <!--新增[编码规则]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_EncodingRule" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_EncodingRule
        (
        <!--规则ID-->
        ER_ID,
        <!--主编码-->
        ER_MasterCode,
        <!--规则编码-->
        ER_Code,
        <!--规则名称-->
        ER_Name,
        <!--模块-->
        ER_Module,
        <!--说明-->
        ER_Remark,
        <!--有效-->
        ER_IsValid,
        <!--创建人-->
        ER_CreatedBy,
        <!--创建时间-->
        ER_CreatedTime,
        <!--修改人-->
        ER_UpdatedBy,
        <!--修改时间-->
        ER_UpdatedTime,
        <!--版本号-->
        ER_VersionNo,
        <!--事务编号-->
        ER_TransID
        )
        VALUES
        (
        <!--规则ID-->
        #[].ER_ID#,
        <!--主编码-->
        #[].ER_MasterCode#,
        <!--规则编码-->
        #[].ER_Code#,
        <!--规则名称-->
        #[].ER_Name#,
        <!--模块-->
        #[].ER_Module#,
        <!--说明-->
        #[].ER_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].ER_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].ER_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].ER_TransID#
        )
      </iterate>
    </insert>

    <!--查询[编码规则]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_EncodingRule" parameterClass="MDLSM_EncodingRule" resultClass="MDLSM_EncodingRule">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ER_ID)
      FROM SM_EncodingRule
      <dynamic prepend="WHERE">
        <!--规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_ER_ID">ER_ID=#WHERE_ER_ID#</isNotEmpty>
        <!--主编码-->
        <isNotEmpty prepend="AND" property="WHERE_ER_MasterCode">ER_MasterCode=#WHERE_ER_MasterCode#</isNotEmpty>
        <!--规则编码-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Code">ER_Code=#WHERE_ER_Code#</isNotEmpty>
        <!--规则名称-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Name">ER_Name=#WHERE_ER_Name#</isNotEmpty>
        <!--模块-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Module">ER_Module=#WHERE_ER_Module#</isNotEmpty>
        <!--说明-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Remark">ER_Remark=#WHERE_ER_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ER_IsValid">ER_IsValid=#WHERE_ER_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ER_CreatedBy">ER_CreatedBy=#WHERE_ER_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ER_UpdatedBy">ER_UpdatedBy=#WHERE_ER_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ER_VersionNo">ER_VersionNo=#WHERE_ER_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ER_TransID">ER_TransID=#WHERE_ER_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ER_ID,
      ER_MasterCode,
      ER_Code,
      ER_Name,
      ER_Module,
      ER_Remark,
      ER_IsValid,
      ER_CreatedBy,
      ER_CreatedTime,
      ER_UpdatedBy,
      ER_UpdatedTime,
      ER_VersionNo,
      ER_TransID
      FROM SM_EncodingRule
      <dynamic prepend="WHERE">
        <!--规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_ER_ID">ER_ID=#WHERE_ER_ID#</isNotEmpty>
        <!--主编码-->
        <isNotEmpty prepend="AND" property="WHERE_ER_MasterCode">ER_MasterCode=#WHERE_ER_MasterCode#</isNotEmpty>
        <!--规则编码-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Code">ER_Code=#WHERE_ER_Code#</isNotEmpty>
        <!--规则名称-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Name">ER_Name=#WHERE_ER_Name#</isNotEmpty>
        <!--模块-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Module">ER_Module=#WHERE_ER_Module#</isNotEmpty>
        <!--说明-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Remark">ER_Remark=#WHERE_ER_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ER_IsValid">ER_IsValid=#WHERE_ER_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ER_CreatedBy">ER_CreatedBy=#WHERE_ER_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ER_UpdatedBy">ER_UpdatedBy=#WHERE_ER_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ER_VersionNo">ER_VersionNo=#WHERE_ER_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ER_TransID">ER_TransID=#WHERE_ER_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ER_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[编码规则]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_EncodingRule" parameterClass="MDLSM_EncodingRule" resultClass="MDLSM_EncodingRule">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ER_ID)
      FROM SM_EncodingRule
      <dynamic prepend="WHERE">
        <!--规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_ER_ID">ER_ID=#WHERE_ER_ID#</isNotEmpty>
        <!--主编码-->
        <isNotEmpty prepend="AND" property="WHERE_ER_MasterCode">ER_MasterCode LIKE '%'+#WHERE_ER_MasterCode#+'%'</isNotEmpty>
        <!--规则编码-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Code">ER_Code LIKE '%'+#WHERE_ER_Code#+'%'</isNotEmpty>
        <!--规则名称-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Name">ER_Name LIKE '%'+#WHERE_ER_Name#+'%'</isNotEmpty>
        <!--模块-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Module">ER_Module LIKE '%'+#WHERE_ER_Module#+'%'</isNotEmpty>
        <!--说明-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Remark">ER_Remark LIKE '%'+#WHERE_ER_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ER_IsValid">ER_IsValid=#WHERE_ER_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ER_CreatedBy">ER_CreatedBy LIKE '%'+#WHERE_ER_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ER_UpdatedBy">ER_UpdatedBy LIKE '%'+#WHERE_ER_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ER_VersionNo">ER_VersionNo=#WHERE_ER_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ER_TransID">ER_TransID LIKE '%'+#WHERE_ER_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ER_ID,
      ER_MasterCode,
      ER_Code,
      ER_Name,
      ER_Module,
      ER_Remark,
      ER_IsValid,
      ER_CreatedBy,
      ER_CreatedTime,
      ER_UpdatedBy,
      ER_UpdatedTime,
      ER_VersionNo,
      ER_TransID
      FROM SM_EncodingRule
      <dynamic prepend="WHERE">
        <!--规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_ER_ID">ER_ID=#WHERE_ER_ID#</isNotEmpty>
        <!--主编码-->
        <isNotEmpty prepend="AND" property="WHERE_ER_MasterCode">ER_MasterCode LIKE '%'+#WHERE_ER_MasterCode#+'%'</isNotEmpty>
        <!--规则编码-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Code">ER_Code LIKE '%'+#WHERE_ER_Code#+'%'</isNotEmpty>
        <!--规则名称-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Name">ER_Name LIKE '%'+#WHERE_ER_Name#+'%'</isNotEmpty>
        <!--模块-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Module">ER_Module LIKE '%'+#WHERE_ER_Module#+'%'</isNotEmpty>
        <!--说明-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Remark">ER_Remark LIKE '%'+#WHERE_ER_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ER_IsValid">ER_IsValid=#WHERE_ER_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ER_CreatedBy">ER_CreatedBy LIKE '%'+#WHERE_ER_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ER_UpdatedBy">ER_UpdatedBy LIKE '%'+#WHERE_ER_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ER_VersionNo">ER_VersionNo=#WHERE_ER_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ER_TransID">ER_TransID LIKE '%'+#WHERE_ER_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ER_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[编码规则]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_EncodingRule" parameterClass="MDLSM_EncodingRule" resultClass="int">
      SELECT COUNT(ER_ID) 'RecordCount'
      FROM SM_EncodingRule
      <dynamic prepend="WHERE">
        <!--规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_ER_ID">ER_ID=#WHERE_ER_ID#</isNotEmpty>
        <!--主编码-->
        <isNotEmpty prepend="AND" property="WHERE_ER_MasterCode">ER_MasterCode=#WHERE_ER_MasterCode#</isNotEmpty>
        <!--规则编码-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Code">ER_Code=#WHERE_ER_Code#</isNotEmpty>
        <!--规则名称-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Name">ER_Name=#WHERE_ER_Name#</isNotEmpty>
        <!--模块-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Module">ER_Module=#WHERE_ER_Module#</isNotEmpty>
        <!--说明-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Remark">ER_Remark=#WHERE_ER_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ER_IsValid">ER_IsValid=#WHERE_ER_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ER_CreatedBy">ER_CreatedBy=#WHERE_ER_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ER_UpdatedBy">ER_UpdatedBy=#WHERE_ER_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ER_VersionNo">ER_VersionNo=#WHERE_ER_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ER_TransID">ER_TransID=#WHERE_ER_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[编码规则]信息-->
    <update id="COMM_SQL_UpdateMDLSM_EncodingRule" parameterClass="MDLSM_EncodingRule" >
      UPDATE SM_EncodingRule
      SET
      ER_UpdatedTime=GETDATE(),
      ER_VersionNo=ER_VersionNo+1
      <isNotEmpty prepend="," property="ER_MasterCode">ER_MasterCode=#ER_MasterCode#</isNotEmpty>
      <isNotEmpty prepend="," property="ER_Code">ER_Code=#ER_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="ER_Name">ER_Name=#ER_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="ER_Module">ER_Module=#ER_Module#</isNotEmpty>
      <isNotEmpty prepend="," property="ER_Remark">ER_Remark=#ER_Remark#</isNotEmpty>
      <isNotNull prepend="," property="ER_IsValid">ER_IsValid=#ER_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="ER_CreatedBy">ER_CreatedBy=#ER_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="ER_CreatedTime">ER_CreatedTime=#ER_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="ER_UpdatedBy">ER_UpdatedBy=#ER_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="ER_TransID">ER_TransID=#ER_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_ER_ID">ER_ID=#WHERE_ER_ID#</isNotEmpty>
        <!--主编码-->
        <isNotEmpty prepend="AND" property="WHERE_ER_MasterCode">ER_MasterCode=#WHERE_ER_MasterCode#</isNotEmpty>
        <!--规则编码-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Code">ER_Code=#WHERE_ER_Code#</isNotEmpty>
        <!--规则名称-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Name">ER_Name=#WHERE_ER_Name#</isNotEmpty>
        <!--模块-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Module">ER_Module=#WHERE_ER_Module#</isNotEmpty>
        <!--说明-->
        <isNotEmpty prepend="AND" property="WHERE_ER_Remark">ER_Remark=#WHERE_ER_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ER_IsValid">ER_IsValid=#WHERE_ER_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ER_CreatedBy">ER_CreatedBy=#WHERE_ER_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ER_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ER_UpdatedBy">ER_UpdatedBy=#WHERE_ER_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ER_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ER_VersionNo">ER_VersionNo=#WHERE_ER_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ER_TransID">ER_TransID=#WHERE_ER_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[编码规则]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_EncodingRule" parameterClass="List">
      DELETE FROM SM_EncodingRule
      WHERE ER_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_ER_ID#
      </iterate>
    </delete>

    <!--新增[系统编号]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_SystemNo" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_SystemNo
        (
        <!--系统编号ID-->
        SN_ID,
        <!--规则ID-->
        SN_ER_ID,
        <!--编码值-->
        SN_Value,
        <!--状态-->
        SN_Status,
        <!--有效-->
        SN_IsValid,
        <!--创建人-->
        SN_CreatedBy,
        <!--创建时间-->
        SN_CreatedTime,
        <!--修改人-->
        SN_UpdatedBy,
        <!--修改时间-->
        SN_UpdatedTime,
        <!--版本号-->
        SN_VersionNo,
        <!--事务编号-->
        SN_TransID
        )
        VALUES
        (
        <!--系统编号ID-->
        #[].SN_ID#,
        <!--规则ID-->
        #[].SN_ER_ID#,
        <!--编码值-->
        #[].SN_Value#,
        <!--状态-->
        #[].SN_Status#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].SN_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].SN_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].SN_TransID#
        )
      </iterate>
    </insert>

    <!--查询[系统编号]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_SystemNo" parameterClass="MDLSM_SystemNo" resultClass="MDLSM_SystemNo">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SN_ID)
      FROM SM_SystemNo
      <dynamic prepend="WHERE">
        <!--系统编号ID-->
        <isNotEmpty prepend="AND" property="WHERE_SN_ID">SN_ID=#WHERE_SN_ID#</isNotEmpty>
        <!--规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_SN_ER_ID">SN_ER_ID=#WHERE_SN_ER_ID#</isNotEmpty>
        <!--编码值-->
        <isNotEmpty prepend="AND" property="WHERE_SN_Value">SN_Value=#WHERE_SN_Value#</isNotEmpty>
        <!--状态-->
        <isNotEmpty prepend="AND" property="WHERE_SN_Status">SN_Status=#WHERE_SN_Status#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SN_IsValid">SN_IsValid=#WHERE_SN_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SN_CreatedBy">SN_CreatedBy=#WHERE_SN_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SN_UpdatedBy">SN_UpdatedBy=#WHERE_SN_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SN_VersionNo">SN_VersionNo=#WHERE_SN_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SN_TransID">SN_TransID=#WHERE_SN_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SN_ID,
      SN_ER_ID,
      SN_Value,
      SN_Status,
      SN_IsValid,
      SN_CreatedBy,
      SN_CreatedTime,
      SN_UpdatedBy,
      SN_UpdatedTime,
      SN_VersionNo,
      SN_TransID
      FROM SM_SystemNo
      <dynamic prepend="WHERE">
        <!--系统编号ID-->
        <isNotEmpty prepend="AND" property="WHERE_SN_ID">SN_ID=#WHERE_SN_ID#</isNotEmpty>
        <!--规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_SN_ER_ID">SN_ER_ID=#WHERE_SN_ER_ID#</isNotEmpty>
        <!--编码值-->
        <isNotEmpty prepend="AND" property="WHERE_SN_Value">SN_Value=#WHERE_SN_Value#</isNotEmpty>
        <!--状态-->
        <isNotEmpty prepend="AND" property="WHERE_SN_Status">SN_Status=#WHERE_SN_Status#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SN_IsValid">SN_IsValid=#WHERE_SN_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SN_CreatedBy">SN_CreatedBy=#WHERE_SN_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SN_UpdatedBy">SN_UpdatedBy=#WHERE_SN_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SN_VersionNo">SN_VersionNo=#WHERE_SN_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SN_TransID">SN_TransID=#WHERE_SN_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SN_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[系统编号]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_SystemNo" parameterClass="MDLSM_SystemNo" resultClass="MDLSM_SystemNo">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SN_ID)
      FROM SM_SystemNo
      <dynamic prepend="WHERE">
        <!--系统编号ID-->
        <isNotEmpty prepend="AND" property="WHERE_SN_ID">SN_ID=#WHERE_SN_ID#</isNotEmpty>
        <!--规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_SN_ER_ID">SN_ER_ID LIKE '%'+#WHERE_SN_ER_ID#+'%'</isNotEmpty>
        <!--编码值-->
        <isNotEmpty prepend="AND" property="WHERE_SN_Value">SN_Value LIKE '%'+#WHERE_SN_Value#+'%'</isNotEmpty>
        <!--状态-->
        <isNotEmpty prepend="AND" property="WHERE_SN_Status">SN_Status LIKE '%'+#WHERE_SN_Status#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SN_IsValid">SN_IsValid=#WHERE_SN_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SN_CreatedBy">SN_CreatedBy LIKE '%'+#WHERE_SN_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SN_UpdatedBy">SN_UpdatedBy LIKE '%'+#WHERE_SN_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SN_VersionNo">SN_VersionNo=#WHERE_SN_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SN_TransID">SN_TransID LIKE '%'+#WHERE_SN_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SN_ID,
      SN_ER_ID,
      SN_Value,
      SN_Status,
      SN_IsValid,
      SN_CreatedBy,
      SN_CreatedTime,
      SN_UpdatedBy,
      SN_UpdatedTime,
      SN_VersionNo,
      SN_TransID
      FROM SM_SystemNo
      <dynamic prepend="WHERE">
        <!--系统编号ID-->
        <isNotEmpty prepend="AND" property="WHERE_SN_ID">SN_ID=#WHERE_SN_ID#</isNotEmpty>
        <!--规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_SN_ER_ID">SN_ER_ID LIKE '%'+#WHERE_SN_ER_ID#+'%'</isNotEmpty>
        <!--编码值-->
        <isNotEmpty prepend="AND" property="WHERE_SN_Value">SN_Value LIKE '%'+#WHERE_SN_Value#+'%'</isNotEmpty>
        <!--状态-->
        <isNotEmpty prepend="AND" property="WHERE_SN_Status">SN_Status LIKE '%'+#WHERE_SN_Status#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SN_IsValid">SN_IsValid=#WHERE_SN_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SN_CreatedBy">SN_CreatedBy LIKE '%'+#WHERE_SN_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SN_UpdatedBy">SN_UpdatedBy LIKE '%'+#WHERE_SN_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SN_VersionNo">SN_VersionNo=#WHERE_SN_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SN_TransID">SN_TransID LIKE '%'+#WHERE_SN_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SN_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[系统编号]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_SystemNo" parameterClass="MDLSM_SystemNo" resultClass="int">
      SELECT COUNT(SN_ID) 'RecordCount'
      FROM SM_SystemNo
      <dynamic prepend="WHERE">
        <!--系统编号ID-->
        <isNotEmpty prepend="AND" property="WHERE_SN_ID">SN_ID=#WHERE_SN_ID#</isNotEmpty>
        <!--规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_SN_ER_ID">SN_ER_ID=#WHERE_SN_ER_ID#</isNotEmpty>
        <!--编码值-->
        <isNotEmpty prepend="AND" property="WHERE_SN_Value">SN_Value=#WHERE_SN_Value#</isNotEmpty>
        <!--状态-->
        <isNotEmpty prepend="AND" property="WHERE_SN_Status">SN_Status=#WHERE_SN_Status#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SN_IsValid">SN_IsValid=#WHERE_SN_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SN_CreatedBy">SN_CreatedBy=#WHERE_SN_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SN_UpdatedBy">SN_UpdatedBy=#WHERE_SN_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SN_VersionNo">SN_VersionNo=#WHERE_SN_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SN_TransID">SN_TransID=#WHERE_SN_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[系统编号]信息-->
    <update id="COMM_SQL_UpdateMDLSM_SystemNo" parameterClass="MDLSM_SystemNo" >
      UPDATE SM_SystemNo
      SET
      SN_UpdatedTime=GETDATE(),
      SN_VersionNo=SN_VersionNo+1
      <isNotEmpty prepend="," property="SN_ER_ID">SN_ER_ID=#SN_ER_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="SN_Value">SN_Value=#SN_Value#</isNotEmpty>
      <isNotEmpty prepend="," property="SN_Status">SN_Status=#SN_Status#</isNotEmpty>
      <isNotNull prepend="," property="SN_IsValid">SN_IsValid=#SN_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="SN_CreatedBy">SN_CreatedBy=#SN_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="SN_CreatedTime">SN_CreatedTime=#SN_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="SN_UpdatedBy">SN_UpdatedBy=#SN_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="SN_TransID">SN_TransID=#SN_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--系统编号ID-->
        <isNotEmpty prepend="AND" property="WHERE_SN_ID">SN_ID=#WHERE_SN_ID#</isNotEmpty>
        <!--规则ID-->
        <isNotEmpty prepend="AND" property="WHERE_SN_ER_ID">SN_ER_ID=#WHERE_SN_ER_ID#</isNotEmpty>
        <!--编码值-->
        <isNotEmpty prepend="AND" property="WHERE_SN_Value">SN_Value=#WHERE_SN_Value#</isNotEmpty>
        <!--状态-->
        <isNotEmpty prepend="AND" property="WHERE_SN_Status">SN_Status=#WHERE_SN_Status#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SN_IsValid">SN_IsValid=#WHERE_SN_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SN_CreatedBy">SN_CreatedBy=#WHERE_SN_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SN_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SN_UpdatedBy">SN_UpdatedBy=#WHERE_SN_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SN_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SN_VersionNo">SN_VersionNo=#WHERE_SN_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SN_TransID">SN_TransID=#WHERE_SN_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[系统编号]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_SystemNo" parameterClass="List">
      DELETE FROM SM_SystemNo
      WHERE SN_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_SN_ID#
      </iterate>
    </delete>

    <!--新增[组织管理]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_Organization" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_Organization
        (
        <!--ID-->
        Org_ID,
        <!--商户ID-->
        Org_MCT_ID,
        <!--门店编码-->
        Org_Code,
        <!--平台编码-->
        Org_PlatformCode,
        <!--组织全称-->
        Org_FullName,
        <!--组织简称-->
        Org_ShortName,
        <!--联系人-->
        Org_Contacter,
        <!--固定电话-->
        Org_TEL,
        <!--移动电话-->
        Org_PhoneNo,
        <!--省份Code-->
        Org_Prov_Code,
        <!--城市Code-->
        Org_City_Code,
        <!--区域Code-->
        Org_Dist_Code,
        <!--地址-->
        Org_Addr,
        <!--经度-->
        Org_Longitude,
        <!--纬度-->
        Org_Latitude,
        <!--标注点显示标题-->
        Org_MarkerTitle,
        <!--标注点显示内容-->
        Org_MarkerContent,
        <!--主营品牌-->
        Org_MainBrands,
        <!--主营产品-->
        Org_MainProducts,
        <!--备注-->
        Org_Remark,
        <!--有效-->
        Org_IsValid,
        <!--创建人-->
        Org_CreatedBy,
        <!--创建时间-->
        Org_CreatedTime,
        <!--修改人-->
        Org_UpdatedBy,
        <!--修改时间-->
        Org_UpdatedTime,
        <!--版本号-->
        Org_VersionNo,
        <!--事务编号-->
        Org_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].Org_ID#,
        <!--商户ID-->
        #[].Org_MCT_ID#,
        <!--门店编码-->
        #[].Org_Code#,
        <!--平台编码-->
        #[].Org_PlatformCode#,
        <!--组织全称-->
        #[].Org_FullName#,
        <!--组织简称-->
        #[].Org_ShortName#,
        <!--联系人-->
        #[].Org_Contacter#,
        <!--固定电话-->
        #[].Org_TEL#,
        <!--移动电话-->
        #[].Org_PhoneNo#,
        <!--省份Code-->
        #[].Org_Prov_Code#,
        <!--城市Code-->
        #[].Org_City_Code#,
        <!--区域Code-->
        #[].Org_Dist_Code#,
        <!--地址-->
        #[].Org_Addr#,
        <!--经度-->
        #[].Org_Longitude#,
        <!--纬度-->
        #[].Org_Latitude#,
        <!--标注点显示标题-->
        #[].Org_MarkerTitle#,
        <!--标注点显示内容-->
        #[].Org_MarkerContent#,
        <!--主营品牌-->
        #[].Org_MainBrands#,
        <!--主营产品-->
        #[].Org_MainProducts#,
        <!--备注-->
        #[].Org_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].Org_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].Org_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].Org_TransID#
        )
      </iterate>
    </insert>

    <!--查询[组织管理]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_Organization" parameterClass="MDLSM_Organization" resultClass="MDLSM_Organization">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Org_ID)
      FROM SM_Organization
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Org_ID">Org_ID=#WHERE_Org_ID#</isNotEmpty>
        <!--商户ID-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MCT_ID">Org_MCT_ID=#WHERE_Org_MCT_ID#</isNotEmpty>
        <!--门店编码-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Code">Org_Code=#WHERE_Org_Code#</isNotEmpty>
        <!--平台编码-->
        <isNotEmpty prepend="AND" property="WHERE_Org_PlatformCode">Org_PlatformCode=#WHERE_Org_PlatformCode#</isNotEmpty>
        <!--组织全称-->
        <isNotEmpty prepend="AND" property="WHERE_Org_FullName">Org_FullName=#WHERE_Org_FullName#</isNotEmpty>
        <!--组织简称-->
        <isNotEmpty prepend="AND" property="WHERE_Org_ShortName">Org_ShortName=#WHERE_Org_ShortName#</isNotEmpty>
        <!--联系人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Contacter">Org_Contacter=#WHERE_Org_Contacter#</isNotEmpty>
        <!--固定电话-->
        <isNotEmpty prepend="AND" property="WHERE_Org_TEL">Org_TEL=#WHERE_Org_TEL#</isNotEmpty>
        <!--移动电话-->
        <isNotEmpty prepend="AND" property="WHERE_Org_PhoneNo">Org_PhoneNo=#WHERE_Org_PhoneNo#</isNotEmpty>
        <!--省份Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Prov_Code">Org_Prov_Code=#WHERE_Org_Prov_Code#</isNotEmpty>
        <!--城市Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_City_Code">Org_City_Code=#WHERE_Org_City_Code#</isNotEmpty>
        <!--区域Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Dist_Code">Org_Dist_Code=#WHERE_Org_Dist_Code#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Addr">Org_Addr=#WHERE_Org_Addr#</isNotEmpty>
        <!--经度-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Longitude">Org_Longitude=#WHERE_Org_Longitude#</isNotEmpty>
        <!--纬度-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Latitude">Org_Latitude=#WHERE_Org_Latitude#</isNotEmpty>
        <!--标注点显示标题-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MarkerTitle">Org_MarkerTitle=#WHERE_Org_MarkerTitle#</isNotEmpty>
        <!--标注点显示内容-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MarkerContent">Org_MarkerContent=#WHERE_Org_MarkerContent#</isNotEmpty>
        <!--主营品牌-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MainBrands">Org_MainBrands=#WHERE_Org_MainBrands#</isNotEmpty>
        <!--主营产品-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MainProducts">Org_MainProducts=#WHERE_Org_MainProducts#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Remark">Org_Remark=#WHERE_Org_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Org_IsValid">Org_IsValid=#WHERE_Org_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_CreatedBy">Org_CreatedBy=#WHERE_Org_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_UpdatedBy">Org_UpdatedBy=#WHERE_Org_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Org_VersionNo">Org_VersionNo=#WHERE_Org_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Org_TransID">Org_TransID=#WHERE_Org_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Org_ID,
      Org_MCT_ID,
      Org_Code,
      Org_PlatformCode,
      Org_FullName,
      Org_ShortName,
      Org_Contacter,
      Org_TEL,
      Org_PhoneNo,
      Org_Prov_Code,
      Org_City_Code,
      Org_Dist_Code,
      Org_Addr,
      Org_Longitude,
      Org_Latitude,
      Org_MarkerTitle,
      Org_MarkerContent,
      Org_MainBrands,
      Org_MainProducts,
      Org_Remark,
      Org_IsValid,
      Org_CreatedBy,
      Org_CreatedTime,
      Org_UpdatedBy,
      Org_UpdatedTime,
      Org_VersionNo,
      Org_TransID
      FROM SM_Organization
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Org_ID">Org_ID=#WHERE_Org_ID#</isNotEmpty>
        <!--商户ID-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MCT_ID">Org_MCT_ID=#WHERE_Org_MCT_ID#</isNotEmpty>
        <!--门店编码-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Code">Org_Code=#WHERE_Org_Code#</isNotEmpty>
        <!--平台编码-->
        <isNotEmpty prepend="AND" property="WHERE_Org_PlatformCode">Org_PlatformCode=#WHERE_Org_PlatformCode#</isNotEmpty>
        <!--组织全称-->
        <isNotEmpty prepend="AND" property="WHERE_Org_FullName">Org_FullName=#WHERE_Org_FullName#</isNotEmpty>
        <!--组织简称-->
        <isNotEmpty prepend="AND" property="WHERE_Org_ShortName">Org_ShortName=#WHERE_Org_ShortName#</isNotEmpty>
        <!--联系人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Contacter">Org_Contacter=#WHERE_Org_Contacter#</isNotEmpty>
        <!--固定电话-->
        <isNotEmpty prepend="AND" property="WHERE_Org_TEL">Org_TEL=#WHERE_Org_TEL#</isNotEmpty>
        <!--移动电话-->
        <isNotEmpty prepend="AND" property="WHERE_Org_PhoneNo">Org_PhoneNo=#WHERE_Org_PhoneNo#</isNotEmpty>
        <!--省份Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Prov_Code">Org_Prov_Code=#WHERE_Org_Prov_Code#</isNotEmpty>
        <!--城市Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_City_Code">Org_City_Code=#WHERE_Org_City_Code#</isNotEmpty>
        <!--区域Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Dist_Code">Org_Dist_Code=#WHERE_Org_Dist_Code#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Addr">Org_Addr=#WHERE_Org_Addr#</isNotEmpty>
        <!--经度-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Longitude">Org_Longitude=#WHERE_Org_Longitude#</isNotEmpty>
        <!--纬度-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Latitude">Org_Latitude=#WHERE_Org_Latitude#</isNotEmpty>
        <!--标注点显示标题-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MarkerTitle">Org_MarkerTitle=#WHERE_Org_MarkerTitle#</isNotEmpty>
        <!--标注点显示内容-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MarkerContent">Org_MarkerContent=#WHERE_Org_MarkerContent#</isNotEmpty>
        <!--主营品牌-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MainBrands">Org_MainBrands=#WHERE_Org_MainBrands#</isNotEmpty>
        <!--主营产品-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MainProducts">Org_MainProducts=#WHERE_Org_MainProducts#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Remark">Org_Remark=#WHERE_Org_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Org_IsValid">Org_IsValid=#WHERE_Org_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_CreatedBy">Org_CreatedBy=#WHERE_Org_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_UpdatedBy">Org_UpdatedBy=#WHERE_Org_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Org_VersionNo">Org_VersionNo=#WHERE_Org_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Org_TransID">Org_TransID=#WHERE_Org_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Org_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[组织管理]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_Organization" parameterClass="MDLSM_Organization" resultClass="MDLSM_Organization">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Org_ID)
      FROM SM_Organization
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Org_ID">Org_ID=#WHERE_Org_ID#</isNotEmpty>
        <!--商户ID-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MCT_ID">Org_MCT_ID LIKE '%'+#WHERE_Org_MCT_ID#+'%'</isNotEmpty>
        <!--门店编码-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Code">Org_Code LIKE '%'+#WHERE_Org_Code#+'%'</isNotEmpty>
        <!--平台编码-->
        <isNotEmpty prepend="AND" property="WHERE_Org_PlatformCode">Org_PlatformCode LIKE '%'+#WHERE_Org_PlatformCode#+'%'</isNotEmpty>
        <!--组织全称-->
        <isNotEmpty prepend="AND" property="WHERE_Org_FullName">Org_FullName LIKE '%'+#WHERE_Org_FullName#+'%'</isNotEmpty>
        <!--组织简称-->
        <isNotEmpty prepend="AND" property="WHERE_Org_ShortName">Org_ShortName LIKE '%'+#WHERE_Org_ShortName#+'%'</isNotEmpty>
        <!--联系人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Contacter">Org_Contacter LIKE '%'+#WHERE_Org_Contacter#+'%'</isNotEmpty>
        <!--固定电话-->
        <isNotEmpty prepend="AND" property="WHERE_Org_TEL">Org_TEL LIKE '%'+#WHERE_Org_TEL#+'%'</isNotEmpty>
        <!--移动电话-->
        <isNotEmpty prepend="AND" property="WHERE_Org_PhoneNo">Org_PhoneNo LIKE '%'+#WHERE_Org_PhoneNo#+'%'</isNotEmpty>
        <!--省份Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Prov_Code">Org_Prov_Code LIKE '%'+#WHERE_Org_Prov_Code#+'%'</isNotEmpty>
        <!--城市Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_City_Code">Org_City_Code LIKE '%'+#WHERE_Org_City_Code#+'%'</isNotEmpty>
        <!--区域Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Dist_Code">Org_Dist_Code LIKE '%'+#WHERE_Org_Dist_Code#+'%'</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Addr">Org_Addr LIKE '%'+#WHERE_Org_Addr#+'%'</isNotEmpty>
        <!--经度-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Longitude">Org_Longitude LIKE '%'+#WHERE_Org_Longitude#+'%'</isNotEmpty>
        <!--纬度-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Latitude">Org_Latitude LIKE '%'+#WHERE_Org_Latitude#+'%'</isNotEmpty>
        <!--标注点显示标题-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MarkerTitle">Org_MarkerTitle LIKE '%'+#WHERE_Org_MarkerTitle#+'%'</isNotEmpty>
        <!--标注点显示内容-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MarkerContent">Org_MarkerContent LIKE '%'+#WHERE_Org_MarkerContent#+'%'</isNotEmpty>
        <!--主营品牌-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MainBrands">Org_MainBrands LIKE '%'+#WHERE_Org_MainBrands#+'%'</isNotEmpty>
        <!--主营产品-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MainProducts">Org_MainProducts LIKE '%'+#WHERE_Org_MainProducts#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Remark">Org_Remark LIKE '%'+#WHERE_Org_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Org_IsValid">Org_IsValid=#WHERE_Org_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_CreatedBy">Org_CreatedBy LIKE '%'+#WHERE_Org_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_UpdatedBy">Org_UpdatedBy LIKE '%'+#WHERE_Org_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Org_VersionNo">Org_VersionNo=#WHERE_Org_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Org_TransID">Org_TransID LIKE '%'+#WHERE_Org_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Org_ID,
      Org_MCT_ID,
      Org_Code,
      Org_PlatformCode,
      Org_FullName,
      Org_ShortName,
      Org_Contacter,
      Org_TEL,
      Org_PhoneNo,
      Org_Prov_Code,
      Org_City_Code,
      Org_Dist_Code,
      Org_Addr,
      Org_Longitude,
      Org_Latitude,
      Org_MarkerTitle,
      Org_MarkerContent,
      Org_MainBrands,
      Org_MainProducts,
      Org_Remark,
      Org_IsValid,
      Org_CreatedBy,
      Org_CreatedTime,
      Org_UpdatedBy,
      Org_UpdatedTime,
      Org_VersionNo,
      Org_TransID
      FROM SM_Organization
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Org_ID">Org_ID=#WHERE_Org_ID#</isNotEmpty>
        <!--商户ID-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MCT_ID">Org_MCT_ID LIKE '%'+#WHERE_Org_MCT_ID#+'%'</isNotEmpty>
        <!--门店编码-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Code">Org_Code LIKE '%'+#WHERE_Org_Code#+'%'</isNotEmpty>
        <!--平台编码-->
        <isNotEmpty prepend="AND" property="WHERE_Org_PlatformCode">Org_PlatformCode LIKE '%'+#WHERE_Org_PlatformCode#+'%'</isNotEmpty>
        <!--组织全称-->
        <isNotEmpty prepend="AND" property="WHERE_Org_FullName">Org_FullName LIKE '%'+#WHERE_Org_FullName#+'%'</isNotEmpty>
        <!--组织简称-->
        <isNotEmpty prepend="AND" property="WHERE_Org_ShortName">Org_ShortName LIKE '%'+#WHERE_Org_ShortName#+'%'</isNotEmpty>
        <!--联系人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Contacter">Org_Contacter LIKE '%'+#WHERE_Org_Contacter#+'%'</isNotEmpty>
        <!--固定电话-->
        <isNotEmpty prepend="AND" property="WHERE_Org_TEL">Org_TEL LIKE '%'+#WHERE_Org_TEL#+'%'</isNotEmpty>
        <!--移动电话-->
        <isNotEmpty prepend="AND" property="WHERE_Org_PhoneNo">Org_PhoneNo LIKE '%'+#WHERE_Org_PhoneNo#+'%'</isNotEmpty>
        <!--省份Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Prov_Code">Org_Prov_Code LIKE '%'+#WHERE_Org_Prov_Code#+'%'</isNotEmpty>
        <!--城市Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_City_Code">Org_City_Code LIKE '%'+#WHERE_Org_City_Code#+'%'</isNotEmpty>
        <!--区域Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Dist_Code">Org_Dist_Code LIKE '%'+#WHERE_Org_Dist_Code#+'%'</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Addr">Org_Addr LIKE '%'+#WHERE_Org_Addr#+'%'</isNotEmpty>
        <!--经度-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Longitude">Org_Longitude LIKE '%'+#WHERE_Org_Longitude#+'%'</isNotEmpty>
        <!--纬度-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Latitude">Org_Latitude LIKE '%'+#WHERE_Org_Latitude#+'%'</isNotEmpty>
        <!--标注点显示标题-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MarkerTitle">Org_MarkerTitle LIKE '%'+#WHERE_Org_MarkerTitle#+'%'</isNotEmpty>
        <!--标注点显示内容-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MarkerContent">Org_MarkerContent LIKE '%'+#WHERE_Org_MarkerContent#+'%'</isNotEmpty>
        <!--主营品牌-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MainBrands">Org_MainBrands LIKE '%'+#WHERE_Org_MainBrands#+'%'</isNotEmpty>
        <!--主营产品-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MainProducts">Org_MainProducts LIKE '%'+#WHERE_Org_MainProducts#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Remark">Org_Remark LIKE '%'+#WHERE_Org_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Org_IsValid">Org_IsValid=#WHERE_Org_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_CreatedBy">Org_CreatedBy LIKE '%'+#WHERE_Org_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_UpdatedBy">Org_UpdatedBy LIKE '%'+#WHERE_Org_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Org_VersionNo">Org_VersionNo=#WHERE_Org_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Org_TransID">Org_TransID LIKE '%'+#WHERE_Org_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Org_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[组织管理]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_Organization" parameterClass="MDLSM_Organization" resultClass="int">
      SELECT COUNT(Org_ID) 'RecordCount'
      FROM SM_Organization
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Org_ID">Org_ID=#WHERE_Org_ID#</isNotEmpty>
        <!--商户ID-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MCT_ID">Org_MCT_ID=#WHERE_Org_MCT_ID#</isNotEmpty>
        <!--门店编码-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Code">Org_Code=#WHERE_Org_Code#</isNotEmpty>
        <!--平台编码-->
        <isNotEmpty prepend="AND" property="WHERE_Org_PlatformCode">Org_PlatformCode=#WHERE_Org_PlatformCode#</isNotEmpty>
        <!--组织全称-->
        <isNotEmpty prepend="AND" property="WHERE_Org_FullName">Org_FullName=#WHERE_Org_FullName#</isNotEmpty>
        <!--组织简称-->
        <isNotEmpty prepend="AND" property="WHERE_Org_ShortName">Org_ShortName=#WHERE_Org_ShortName#</isNotEmpty>
        <!--联系人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Contacter">Org_Contacter=#WHERE_Org_Contacter#</isNotEmpty>
        <!--固定电话-->
        <isNotEmpty prepend="AND" property="WHERE_Org_TEL">Org_TEL=#WHERE_Org_TEL#</isNotEmpty>
        <!--移动电话-->
        <isNotEmpty prepend="AND" property="WHERE_Org_PhoneNo">Org_PhoneNo=#WHERE_Org_PhoneNo#</isNotEmpty>
        <!--省份Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Prov_Code">Org_Prov_Code=#WHERE_Org_Prov_Code#</isNotEmpty>
        <!--城市Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_City_Code">Org_City_Code=#WHERE_Org_City_Code#</isNotEmpty>
        <!--区域Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Dist_Code">Org_Dist_Code=#WHERE_Org_Dist_Code#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Addr">Org_Addr=#WHERE_Org_Addr#</isNotEmpty>
        <!--经度-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Longitude">Org_Longitude=#WHERE_Org_Longitude#</isNotEmpty>
        <!--纬度-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Latitude">Org_Latitude=#WHERE_Org_Latitude#</isNotEmpty>
        <!--标注点显示标题-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MarkerTitle">Org_MarkerTitle=#WHERE_Org_MarkerTitle#</isNotEmpty>
        <!--标注点显示内容-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MarkerContent">Org_MarkerContent=#WHERE_Org_MarkerContent#</isNotEmpty>
        <!--主营品牌-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MainBrands">Org_MainBrands=#WHERE_Org_MainBrands#</isNotEmpty>
        <!--主营产品-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MainProducts">Org_MainProducts=#WHERE_Org_MainProducts#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Remark">Org_Remark=#WHERE_Org_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Org_IsValid">Org_IsValid=#WHERE_Org_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_CreatedBy">Org_CreatedBy=#WHERE_Org_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_UpdatedBy">Org_UpdatedBy=#WHERE_Org_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Org_VersionNo">Org_VersionNo=#WHERE_Org_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Org_TransID">Org_TransID=#WHERE_Org_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[组织管理]信息-->
    <update id="COMM_SQL_UpdateMDLSM_Organization" parameterClass="MDLSM_Organization" >
      UPDATE SM_Organization
      SET
      Org_UpdatedTime=GETDATE(),
      Org_VersionNo=Org_VersionNo+1
      <isNotEmpty prepend="," property="Org_MCT_ID">Org_MCT_ID=#Org_MCT_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_Code">Org_Code=#Org_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_PlatformCode">Org_PlatformCode=#Org_PlatformCode#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_FullName">Org_FullName=#Org_FullName#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_ShortName">Org_ShortName=#Org_ShortName#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_Contacter">Org_Contacter=#Org_Contacter#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_TEL">Org_TEL=#Org_TEL#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_PhoneNo">Org_PhoneNo=#Org_PhoneNo#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_Prov_Code">Org_Prov_Code=#Org_Prov_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_City_Code">Org_City_Code=#Org_City_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_Dist_Code">Org_Dist_Code=#Org_Dist_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_Addr">Org_Addr=#Org_Addr#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_Longitude">Org_Longitude=#Org_Longitude#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_Latitude">Org_Latitude=#Org_Latitude#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_MarkerTitle">Org_MarkerTitle=#Org_MarkerTitle#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_MarkerContent">Org_MarkerContent=#Org_MarkerContent#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_MainBrands">Org_MainBrands=#Org_MainBrands#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_MainProducts">Org_MainProducts=#Org_MainProducts#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_Remark">Org_Remark=#Org_Remark#</isNotEmpty>
      <isNotNull prepend="," property="Org_IsValid">Org_IsValid=#Org_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="Org_CreatedBy">Org_CreatedBy=#Org_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="Org_CreatedTime">Org_CreatedTime=#Org_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="Org_UpdatedBy">Org_UpdatedBy=#Org_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="Org_TransID">Org_TransID=#Org_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Org_ID">Org_ID=#WHERE_Org_ID#</isNotEmpty>
        <!--商户ID-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MCT_ID">Org_MCT_ID=#WHERE_Org_MCT_ID#</isNotEmpty>
        <!--门店编码-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Code">Org_Code=#WHERE_Org_Code#</isNotEmpty>
        <!--平台编码-->
        <isNotEmpty prepend="AND" property="WHERE_Org_PlatformCode">Org_PlatformCode=#WHERE_Org_PlatformCode#</isNotEmpty>
        <!--组织全称-->
        <isNotEmpty prepend="AND" property="WHERE_Org_FullName">Org_FullName=#WHERE_Org_FullName#</isNotEmpty>
        <!--组织简称-->
        <isNotEmpty prepend="AND" property="WHERE_Org_ShortName">Org_ShortName=#WHERE_Org_ShortName#</isNotEmpty>
        <!--联系人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Contacter">Org_Contacter=#WHERE_Org_Contacter#</isNotEmpty>
        <!--固定电话-->
        <isNotEmpty prepend="AND" property="WHERE_Org_TEL">Org_TEL=#WHERE_Org_TEL#</isNotEmpty>
        <!--移动电话-->
        <isNotEmpty prepend="AND" property="WHERE_Org_PhoneNo">Org_PhoneNo=#WHERE_Org_PhoneNo#</isNotEmpty>
        <!--省份Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Prov_Code">Org_Prov_Code=#WHERE_Org_Prov_Code#</isNotEmpty>
        <!--城市Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_City_Code">Org_City_Code=#WHERE_Org_City_Code#</isNotEmpty>
        <!--区域Code-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Dist_Code">Org_Dist_Code=#WHERE_Org_Dist_Code#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Addr">Org_Addr=#WHERE_Org_Addr#</isNotEmpty>
        <!--经度-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Longitude">Org_Longitude=#WHERE_Org_Longitude#</isNotEmpty>
        <!--纬度-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Latitude">Org_Latitude=#WHERE_Org_Latitude#</isNotEmpty>
        <!--标注点显示标题-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MarkerTitle">Org_MarkerTitle=#WHERE_Org_MarkerTitle#</isNotEmpty>
        <!--标注点显示内容-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MarkerContent">Org_MarkerContent=#WHERE_Org_MarkerContent#</isNotEmpty>
        <!--主营品牌-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MainBrands">Org_MainBrands=#WHERE_Org_MainBrands#</isNotEmpty>
        <!--主营产品-->
        <isNotEmpty prepend="AND" property="WHERE_Org_MainProducts">Org_MainProducts=#WHERE_Org_MainProducts#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Org_Remark">Org_Remark=#WHERE_Org_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Org_IsValid">Org_IsValid=#WHERE_Org_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_CreatedBy">Org_CreatedBy=#WHERE_Org_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Org_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Org_UpdatedBy">Org_UpdatedBy=#WHERE_Org_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Org_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Org_VersionNo">Org_VersionNo=#WHERE_Org_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Org_TransID">Org_TransID=#WHERE_Org_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[组织管理]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_Organization" parameterClass="List">
      DELETE FROM SM_Organization
      WHERE Org_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_Org_ID#
      </iterate>
    </delete>

    <!--新增[菜单]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_Menu" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_Menu
        (
        <!--菜单ID-->
        Menu_ID,
        <!--名称-->
        Menu_Name,
        <!--备注-->
        Menu_Remark,
        <!--编码-->
        Menu_Code,
        <!--顺序-->
        Menu_Index,
        <!--是否可见-->
        Menu_IsVisible,
        <!--有效-->
        Menu_IsValid,
        <!--创建人-->
        Menu_CreatedBy,
        <!--创建时间-->
        Menu_CreatedTime,
        <!--修改人-->
        Menu_UpdatedBy,
        <!--修改时间-->
        Menu_UpdatedTime,
        <!--版本号-->
        Menu_VersionNo,
        <!--事务编号-->
        Menu_TransID
        )
        VALUES
        (
        <!--菜单ID-->
        #[].Menu_ID#,
        <!--名称-->
        #[].Menu_Name#,
        <!--备注-->
        #[].Menu_Remark#,
        <!--编码-->
        #[].Menu_Code#,
        <!--顺序-->
        #[].Menu_Index#,
        <!--是否可见-->
        #[].Menu_IsVisible#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].Menu_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].Menu_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].Menu_TransID#
        )
      </iterate>
    </insert>

    <!--查询[菜单]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_Menu" parameterClass="MDLSM_Menu" resultClass="MDLSM_Menu">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Menu_ID)
      FROM SM_Menu
      <dynamic prepend="WHERE">
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_ID">Menu_ID=#WHERE_Menu_ID#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Name">Menu_Name=#WHERE_Menu_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Remark">Menu_Remark=#WHERE_Menu_Remark#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Code">Menu_Code=#WHERE_Menu_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Menu_Index">Menu_Index=#WHERE_Menu_Index#</isNotNull>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_Menu_IsVisible">Menu_IsVisible=#WHERE_Menu_IsVisible#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Menu_IsValid">Menu_IsValid=#WHERE_Menu_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_CreatedBy">Menu_CreatedBy=#WHERE_Menu_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_UpdatedBy">Menu_UpdatedBy=#WHERE_Menu_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Menu_VersionNo">Menu_VersionNo=#WHERE_Menu_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_TransID">Menu_TransID=#WHERE_Menu_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Menu_ID,
      Menu_Name,
      Menu_Remark,
      Menu_Code,
      Menu_Index,
      Menu_IsVisible,
      Menu_IsValid,
      Menu_CreatedBy,
      Menu_CreatedTime,
      Menu_UpdatedBy,
      Menu_UpdatedTime,
      Menu_VersionNo,
      Menu_TransID
      FROM SM_Menu
      <dynamic prepend="WHERE">
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_ID">Menu_ID=#WHERE_Menu_ID#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Name">Menu_Name=#WHERE_Menu_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Remark">Menu_Remark=#WHERE_Menu_Remark#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Code">Menu_Code=#WHERE_Menu_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Menu_Index">Menu_Index=#WHERE_Menu_Index#</isNotNull>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_Menu_IsVisible">Menu_IsVisible=#WHERE_Menu_IsVisible#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Menu_IsValid">Menu_IsValid=#WHERE_Menu_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_CreatedBy">Menu_CreatedBy=#WHERE_Menu_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_UpdatedBy">Menu_UpdatedBy=#WHERE_Menu_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Menu_VersionNo">Menu_VersionNo=#WHERE_Menu_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_TransID">Menu_TransID=#WHERE_Menu_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Menu_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[菜单]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_Menu" parameterClass="MDLSM_Menu" resultClass="MDLSM_Menu">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Menu_ID)
      FROM SM_Menu
      <dynamic prepend="WHERE">
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_ID">Menu_ID=#WHERE_Menu_ID#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Name">Menu_Name LIKE '%'+#WHERE_Menu_Name#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Remark">Menu_Remark LIKE '%'+#WHERE_Menu_Remark#+'%'</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Code">Menu_Code LIKE '%'+#WHERE_Menu_Code#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Menu_Index">Menu_Index=#WHERE_Menu_Index#</isNotNull>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_Menu_IsVisible">Menu_IsVisible=#WHERE_Menu_IsVisible#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Menu_IsValid">Menu_IsValid=#WHERE_Menu_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_CreatedBy">Menu_CreatedBy LIKE '%'+#WHERE_Menu_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_UpdatedBy">Menu_UpdatedBy LIKE '%'+#WHERE_Menu_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Menu_VersionNo">Menu_VersionNo=#WHERE_Menu_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_TransID">Menu_TransID LIKE '%'+#WHERE_Menu_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Menu_ID,
      Menu_Name,
      Menu_Remark,
      Menu_Code,
      Menu_Index,
      Menu_IsVisible,
      Menu_IsValid,
      Menu_CreatedBy,
      Menu_CreatedTime,
      Menu_UpdatedBy,
      Menu_UpdatedTime,
      Menu_VersionNo,
      Menu_TransID
      FROM SM_Menu
      <dynamic prepend="WHERE">
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_ID">Menu_ID=#WHERE_Menu_ID#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Name">Menu_Name LIKE '%'+#WHERE_Menu_Name#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Remark">Menu_Remark LIKE '%'+#WHERE_Menu_Remark#+'%'</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Code">Menu_Code LIKE '%'+#WHERE_Menu_Code#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Menu_Index">Menu_Index=#WHERE_Menu_Index#</isNotNull>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_Menu_IsVisible">Menu_IsVisible=#WHERE_Menu_IsVisible#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Menu_IsValid">Menu_IsValid=#WHERE_Menu_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_CreatedBy">Menu_CreatedBy LIKE '%'+#WHERE_Menu_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_UpdatedBy">Menu_UpdatedBy LIKE '%'+#WHERE_Menu_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Menu_VersionNo">Menu_VersionNo=#WHERE_Menu_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_TransID">Menu_TransID LIKE '%'+#WHERE_Menu_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Menu_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[菜单]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_Menu" parameterClass="MDLSM_Menu" resultClass="int">
      SELECT COUNT(Menu_ID) 'RecordCount'
      FROM SM_Menu
      <dynamic prepend="WHERE">
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_ID">Menu_ID=#WHERE_Menu_ID#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Name">Menu_Name=#WHERE_Menu_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Remark">Menu_Remark=#WHERE_Menu_Remark#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Code">Menu_Code=#WHERE_Menu_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Menu_Index">Menu_Index=#WHERE_Menu_Index#</isNotNull>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_Menu_IsVisible">Menu_IsVisible=#WHERE_Menu_IsVisible#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Menu_IsValid">Menu_IsValid=#WHERE_Menu_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_CreatedBy">Menu_CreatedBy=#WHERE_Menu_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_UpdatedBy">Menu_UpdatedBy=#WHERE_Menu_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Menu_VersionNo">Menu_VersionNo=#WHERE_Menu_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_TransID">Menu_TransID=#WHERE_Menu_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[菜单]信息-->
    <update id="COMM_SQL_UpdateMDLSM_Menu" parameterClass="MDLSM_Menu" >
      UPDATE SM_Menu
      SET
      Menu_UpdatedTime=GETDATE(),
      Menu_VersionNo=Menu_VersionNo+1
      <isNotEmpty prepend="," property="Menu_Name">Menu_Name=#Menu_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="Menu_Remark">Menu_Remark=#Menu_Remark#</isNotEmpty>
      <isNotEmpty prepend="," property="Menu_Code">Menu_Code=#Menu_Code#</isNotEmpty>
      <isNotNull prepend="," property="Menu_Index">Menu_Index=#Menu_Index#</isNotNull>
      <isNotNull prepend="," property="Menu_IsVisible">Menu_IsVisible=#Menu_IsVisible#</isNotNull>
      <isNotNull prepend="," property="Menu_IsValid">Menu_IsValid=#Menu_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="Menu_CreatedBy">Menu_CreatedBy=#Menu_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="Menu_CreatedTime">Menu_CreatedTime=#Menu_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="Menu_UpdatedBy">Menu_UpdatedBy=#Menu_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="Menu_TransID">Menu_TransID=#Menu_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_ID">Menu_ID=#WHERE_Menu_ID#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Name">Menu_Name=#WHERE_Menu_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Remark">Menu_Remark=#WHERE_Menu_Remark#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_Code">Menu_Code=#WHERE_Menu_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Menu_Index">Menu_Index=#WHERE_Menu_Index#</isNotNull>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_Menu_IsVisible">Menu_IsVisible=#WHERE_Menu_IsVisible#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Menu_IsValid">Menu_IsValid=#WHERE_Menu_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_CreatedBy">Menu_CreatedBy=#WHERE_Menu_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Menu_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_UpdatedBy">Menu_UpdatedBy=#WHERE_Menu_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Menu_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Menu_VersionNo">Menu_VersionNo=#WHERE_Menu_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Menu_TransID">Menu_TransID=#WHERE_Menu_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[菜单]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_Menu" parameterClass="List">
      DELETE FROM SM_Menu
      WHERE Menu_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_Menu_ID#
      </iterate>
    </delete>

    <!--新增[菜单分组]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_MenuGroup" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_MenuGroup
        (
        <!--菜单分组ID-->
        MenuG_ID,
        <!--菜单ID-->
        MenuG_Menu_ID,
        <!--名称-->
        MenuG_Name,
        <!--备注-->
        MenuG_Remark,
        <!--编码-->
        MenuG_Code,
        <!--顺序-->
        MenuG_Index,
        <!--是否可见-->
        MenuG_IsVisible,
        <!--有效-->
        MenuG_IsValid,
        <!--创建人-->
        MenuG_CreatedBy,
        <!--创建时间-->
        MenuG_CreatedTime,
        <!--修改人-->
        MenuG_UpdatedBy,
        <!--修改时间-->
        MenuG_UpdatedTime,
        <!--版本号-->
        MenuG_VersionNo,
        <!--事务编号-->
        MenuG_TransID
        )
        VALUES
        (
        <!--菜单分组ID-->
        #[].MenuG_ID#,
        <!--菜单ID-->
        #[].MenuG_Menu_ID#,
        <!--名称-->
        #[].MenuG_Name#,
        <!--备注-->
        #[].MenuG_Remark#,
        <!--编码-->
        #[].MenuG_Code#,
        <!--顺序-->
        #[].MenuG_Index#,
        <!--是否可见-->
        #[].MenuG_IsVisible#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].MenuG_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].MenuG_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].MenuG_TransID#
        )
      </iterate>
    </insert>

    <!--查询[菜单分组]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_MenuGroup" parameterClass="MDLSM_MenuGroup" resultClass="MDLSM_MenuGroup">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(MenuG_ID)
      FROM SM_MenuGroup
      <dynamic prepend="WHERE">
        <!--菜单分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_ID">MenuG_ID=#WHERE_MenuG_ID#</isNotEmpty>
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Menu_ID">MenuG_Menu_ID=#WHERE_MenuG_Menu_ID#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Name">MenuG_Name=#WHERE_MenuG_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Remark">MenuG_Remark=#WHERE_MenuG_Remark#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Code">MenuG_Code=#WHERE_MenuG_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_MenuG_Index">MenuG_Index=#WHERE_MenuG_Index#</isNotNull>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_MenuG_IsVisible">MenuG_IsVisible=#WHERE_MenuG_IsVisible#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MenuG_IsValid">MenuG_IsValid=#WHERE_MenuG_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_CreatedBy">MenuG_CreatedBy=#WHERE_MenuG_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_UpdatedBy">MenuG_UpdatedBy=#WHERE_MenuG_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MenuG_VersionNo">MenuG_VersionNo=#WHERE_MenuG_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_TransID">MenuG_TransID=#WHERE_MenuG_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      MenuG_ID,
      MenuG_Menu_ID,
      MenuG_Name,
      MenuG_Remark,
      MenuG_Code,
      MenuG_Index,
      MenuG_IsVisible,
      MenuG_IsValid,
      MenuG_CreatedBy,
      MenuG_CreatedTime,
      MenuG_UpdatedBy,
      MenuG_UpdatedTime,
      MenuG_VersionNo,
      MenuG_TransID
      FROM SM_MenuGroup
      <dynamic prepend="WHERE">
        <!--菜单分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_ID">MenuG_ID=#WHERE_MenuG_ID#</isNotEmpty>
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Menu_ID">MenuG_Menu_ID=#WHERE_MenuG_Menu_ID#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Name">MenuG_Name=#WHERE_MenuG_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Remark">MenuG_Remark=#WHERE_MenuG_Remark#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Code">MenuG_Code=#WHERE_MenuG_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_MenuG_Index">MenuG_Index=#WHERE_MenuG_Index#</isNotNull>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_MenuG_IsVisible">MenuG_IsVisible=#WHERE_MenuG_IsVisible#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MenuG_IsValid">MenuG_IsValid=#WHERE_MenuG_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_CreatedBy">MenuG_CreatedBy=#WHERE_MenuG_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_UpdatedBy">MenuG_UpdatedBy=#WHERE_MenuG_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MenuG_VersionNo">MenuG_VersionNo=#WHERE_MenuG_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_TransID">MenuG_TransID=#WHERE_MenuG_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY MenuG_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[菜单分组]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_MenuGroup" parameterClass="MDLSM_MenuGroup" resultClass="MDLSM_MenuGroup">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(MenuG_ID)
      FROM SM_MenuGroup
      <dynamic prepend="WHERE">
        <!--菜单分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_ID">MenuG_ID=#WHERE_MenuG_ID#</isNotEmpty>
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Menu_ID">MenuG_Menu_ID LIKE '%'+#WHERE_MenuG_Menu_ID#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Name">MenuG_Name LIKE '%'+#WHERE_MenuG_Name#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Remark">MenuG_Remark LIKE '%'+#WHERE_MenuG_Remark#+'%'</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Code">MenuG_Code LIKE '%'+#WHERE_MenuG_Code#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_MenuG_Index">MenuG_Index=#WHERE_MenuG_Index#</isNotNull>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_MenuG_IsVisible">MenuG_IsVisible=#WHERE_MenuG_IsVisible#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MenuG_IsValid">MenuG_IsValid=#WHERE_MenuG_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_CreatedBy">MenuG_CreatedBy LIKE '%'+#WHERE_MenuG_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_UpdatedBy">MenuG_UpdatedBy LIKE '%'+#WHERE_MenuG_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MenuG_VersionNo">MenuG_VersionNo=#WHERE_MenuG_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_TransID">MenuG_TransID LIKE '%'+#WHERE_MenuG_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      MenuG_ID,
      MenuG_Menu_ID,
      MenuG_Name,
      MenuG_Remark,
      MenuG_Code,
      MenuG_Index,
      MenuG_IsVisible,
      MenuG_IsValid,
      MenuG_CreatedBy,
      MenuG_CreatedTime,
      MenuG_UpdatedBy,
      MenuG_UpdatedTime,
      MenuG_VersionNo,
      MenuG_TransID
      FROM SM_MenuGroup
      <dynamic prepend="WHERE">
        <!--菜单分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_ID">MenuG_ID=#WHERE_MenuG_ID#</isNotEmpty>
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Menu_ID">MenuG_Menu_ID LIKE '%'+#WHERE_MenuG_Menu_ID#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Name">MenuG_Name LIKE '%'+#WHERE_MenuG_Name#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Remark">MenuG_Remark LIKE '%'+#WHERE_MenuG_Remark#+'%'</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Code">MenuG_Code LIKE '%'+#WHERE_MenuG_Code#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_MenuG_Index">MenuG_Index=#WHERE_MenuG_Index#</isNotNull>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_MenuG_IsVisible">MenuG_IsVisible=#WHERE_MenuG_IsVisible#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MenuG_IsValid">MenuG_IsValid=#WHERE_MenuG_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_CreatedBy">MenuG_CreatedBy LIKE '%'+#WHERE_MenuG_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_UpdatedBy">MenuG_UpdatedBy LIKE '%'+#WHERE_MenuG_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MenuG_VersionNo">MenuG_VersionNo=#WHERE_MenuG_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_TransID">MenuG_TransID LIKE '%'+#WHERE_MenuG_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY MenuG_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[菜单分组]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_MenuGroup" parameterClass="MDLSM_MenuGroup" resultClass="int">
      SELECT COUNT(MenuG_ID) 'RecordCount'
      FROM SM_MenuGroup
      <dynamic prepend="WHERE">
        <!--菜单分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_ID">MenuG_ID=#WHERE_MenuG_ID#</isNotEmpty>
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Menu_ID">MenuG_Menu_ID=#WHERE_MenuG_Menu_ID#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Name">MenuG_Name=#WHERE_MenuG_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Remark">MenuG_Remark=#WHERE_MenuG_Remark#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Code">MenuG_Code=#WHERE_MenuG_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_MenuG_Index">MenuG_Index=#WHERE_MenuG_Index#</isNotNull>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_MenuG_IsVisible">MenuG_IsVisible=#WHERE_MenuG_IsVisible#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MenuG_IsValid">MenuG_IsValid=#WHERE_MenuG_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_CreatedBy">MenuG_CreatedBy=#WHERE_MenuG_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_UpdatedBy">MenuG_UpdatedBy=#WHERE_MenuG_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MenuG_VersionNo">MenuG_VersionNo=#WHERE_MenuG_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_TransID">MenuG_TransID=#WHERE_MenuG_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[菜单分组]信息-->
    <update id="COMM_SQL_UpdateMDLSM_MenuGroup" parameterClass="MDLSM_MenuGroup" >
      UPDATE SM_MenuGroup
      SET
      MenuG_UpdatedTime=GETDATE(),
      MenuG_VersionNo=MenuG_VersionNo+1
      <isNotEmpty prepend="," property="MenuG_Menu_ID">MenuG_Menu_ID=#MenuG_Menu_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="MenuG_Name">MenuG_Name=#MenuG_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="MenuG_Remark">MenuG_Remark=#MenuG_Remark#</isNotEmpty>
      <isNotEmpty prepend="," property="MenuG_Code">MenuG_Code=#MenuG_Code#</isNotEmpty>
      <isNotNull prepend="," property="MenuG_Index">MenuG_Index=#MenuG_Index#</isNotNull>
      <isNotNull prepend="," property="MenuG_IsVisible">MenuG_IsVisible=#MenuG_IsVisible#</isNotNull>
      <isNotNull prepend="," property="MenuG_IsValid">MenuG_IsValid=#MenuG_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="MenuG_CreatedBy">MenuG_CreatedBy=#MenuG_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="MenuG_CreatedTime">MenuG_CreatedTime=#MenuG_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="MenuG_UpdatedBy">MenuG_UpdatedBy=#MenuG_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="MenuG_TransID">MenuG_TransID=#MenuG_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--菜单分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_ID">MenuG_ID=#WHERE_MenuG_ID#</isNotEmpty>
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Menu_ID">MenuG_Menu_ID=#WHERE_MenuG_Menu_ID#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Name">MenuG_Name=#WHERE_MenuG_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Remark">MenuG_Remark=#WHERE_MenuG_Remark#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_Code">MenuG_Code=#WHERE_MenuG_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_MenuG_Index">MenuG_Index=#WHERE_MenuG_Index#</isNotNull>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_MenuG_IsVisible">MenuG_IsVisible=#WHERE_MenuG_IsVisible#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MenuG_IsValid">MenuG_IsValid=#WHERE_MenuG_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_CreatedBy">MenuG_CreatedBy=#WHERE_MenuG_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuG_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_UpdatedBy">MenuG_UpdatedBy=#WHERE_MenuG_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuG_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MenuG_VersionNo">MenuG_VersionNo=#WHERE_MenuG_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MenuG_TransID">MenuG_TransID=#WHERE_MenuG_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[菜单分组]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_MenuGroup" parameterClass="List">
      DELETE FROM SM_MenuGroup
      WHERE MenuG_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_MenuG_ID#
      </iterate>
    </delete>

    <!--新增[菜单明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_MenuDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_MenuDetail
        (
        <!--菜单明细ID-->
        MenuD_ID,
        <!--菜单ID-->
        MenuD_Menu_ID,
        <!--菜单分组ID-->
        MenuD_MenuG_ID,
        <!--名称-->
        MenuD_Name,
        <!--备注-->
        MenuD_Remark,
        <!--编码-->
        MenuD_Code,
        <!--图标-->
        MenuD_Picture,
        <!--图标Key-->
        MenuD_ImgListKey,
        <!--顺序-->
        MenuD_Index,
        <!--类全名-->
        MenuD_ClassFullName,
        <!--URI-->
        MenuD_URI,
        <!--是否可见-->
        MenuD_IsVisible,
        <!--Grid页面大小-->
        MenuD_GridPageSize,
        <!--有效-->
        MenuD_IsValid,
        <!--创建人-->
        MenuD_CreatedBy,
        <!--创建时间-->
        MenuD_CreatedTime,
        <!--修改人-->
        MenuD_UpdatedBy,
        <!--修改时间-->
        MenuD_UpdatedTime,
        <!--版本号-->
        MenuD_VersionNo,
        <!--事务编号-->
        MenuD_TransID
        )
        VALUES
        (
        <!--菜单明细ID-->
        #[].MenuD_ID#,
        <!--菜单ID-->
        #[].MenuD_Menu_ID#,
        <!--菜单分组ID-->
        #[].MenuD_MenuG_ID#,
        <!--名称-->
        #[].MenuD_Name#,
        <!--备注-->
        #[].MenuD_Remark#,
        <!--编码-->
        #[].MenuD_Code#,
        <!--图标-->
        #[].MenuD_Picture#,
        <!--图标Key-->
        #[].MenuD_ImgListKey#,
        <!--顺序-->
        #[].MenuD_Index#,
        <!--类全名-->
        #[].MenuD_ClassFullName#,
        <!--URI-->
        #[].MenuD_URI#,
        <!--是否可见-->
        #[].MenuD_IsVisible#,
        <!--Grid页面大小-->
        #[].MenuD_GridPageSize#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].MenuD_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].MenuD_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].MenuD_TransID#
        )
      </iterate>
    </insert>

    <!--查询[菜单明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_MenuDetail" parameterClass="MDLSM_MenuDetail" resultClass="MDLSM_MenuDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(MenuD_ID)
      FROM SM_MenuDetail
      <dynamic prepend="WHERE">
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ID">MenuD_ID=#WHERE_MenuD_ID#</isNotEmpty>
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Menu_ID">MenuD_Menu_ID=#WHERE_MenuD_Menu_ID#</isNotEmpty>
        <!--菜单分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_MenuG_ID">MenuD_MenuG_ID=#WHERE_MenuD_MenuG_ID#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Name">MenuD_Name=#WHERE_MenuD_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Remark">MenuD_Remark=#WHERE_MenuD_Remark#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Code">MenuD_Code=#WHERE_MenuD_Code#</isNotEmpty>
        <!--图标-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Picture">MenuD_Picture=#WHERE_MenuD_Picture#</isNotEmpty>
        <!--图标Key-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ImgListKey">MenuD_ImgListKey=#WHERE_MenuD_ImgListKey#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_MenuD_Index">MenuD_Index=#WHERE_MenuD_Index#</isNotNull>
        <!--类全名-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ClassFullName">MenuD_ClassFullName=#WHERE_MenuD_ClassFullName#</isNotEmpty>
        <!--URI-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_URI">MenuD_URI=#WHERE_MenuD_URI#</isNotEmpty>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_MenuD_IsVisible">MenuD_IsVisible=#WHERE_MenuD_IsVisible#</isNotNull>
        <!--Grid页面大小-->
        <isNotNull prepend="AND" property="WHERE_MenuD_GridPageSize">MenuD_GridPageSize=#WHERE_MenuD_GridPageSize#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MenuD_IsValid">MenuD_IsValid=#WHERE_MenuD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_CreatedBy">MenuD_CreatedBy=#WHERE_MenuD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_UpdatedBy">MenuD_UpdatedBy=#WHERE_MenuD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MenuD_VersionNo">MenuD_VersionNo=#WHERE_MenuD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_TransID">MenuD_TransID=#WHERE_MenuD_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      MenuD_ID,
      MenuD_Menu_ID,
      MenuD_MenuG_ID,
      MenuD_Name,
      MenuD_Remark,
      MenuD_Code,
      MenuD_Picture,
      MenuD_ImgListKey,
      MenuD_Index,
      MenuD_ClassFullName,
      MenuD_URI,
      MenuD_IsVisible,
      MenuD_GridPageSize,
      MenuD_IsValid,
      MenuD_CreatedBy,
      MenuD_CreatedTime,
      MenuD_UpdatedBy,
      MenuD_UpdatedTime,
      MenuD_VersionNo,
      MenuD_TransID
      FROM SM_MenuDetail
      <dynamic prepend="WHERE">
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ID">MenuD_ID=#WHERE_MenuD_ID#</isNotEmpty>
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Menu_ID">MenuD_Menu_ID=#WHERE_MenuD_Menu_ID#</isNotEmpty>
        <!--菜单分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_MenuG_ID">MenuD_MenuG_ID=#WHERE_MenuD_MenuG_ID#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Name">MenuD_Name=#WHERE_MenuD_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Remark">MenuD_Remark=#WHERE_MenuD_Remark#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Code">MenuD_Code=#WHERE_MenuD_Code#</isNotEmpty>
        <!--图标-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Picture">MenuD_Picture=#WHERE_MenuD_Picture#</isNotEmpty>
        <!--图标Key-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ImgListKey">MenuD_ImgListKey=#WHERE_MenuD_ImgListKey#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_MenuD_Index">MenuD_Index=#WHERE_MenuD_Index#</isNotNull>
        <!--类全名-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ClassFullName">MenuD_ClassFullName=#WHERE_MenuD_ClassFullName#</isNotEmpty>
        <!--URI-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_URI">MenuD_URI=#WHERE_MenuD_URI#</isNotEmpty>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_MenuD_IsVisible">MenuD_IsVisible=#WHERE_MenuD_IsVisible#</isNotNull>
        <!--Grid页面大小-->
        <isNotNull prepend="AND" property="WHERE_MenuD_GridPageSize">MenuD_GridPageSize=#WHERE_MenuD_GridPageSize#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MenuD_IsValid">MenuD_IsValid=#WHERE_MenuD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_CreatedBy">MenuD_CreatedBy=#WHERE_MenuD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_UpdatedBy">MenuD_UpdatedBy=#WHERE_MenuD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MenuD_VersionNo">MenuD_VersionNo=#WHERE_MenuD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_TransID">MenuD_TransID=#WHERE_MenuD_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY MenuD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[菜单明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_MenuDetail" parameterClass="MDLSM_MenuDetail" resultClass="MDLSM_MenuDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(MenuD_ID)
      FROM SM_MenuDetail
      <dynamic prepend="WHERE">
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ID">MenuD_ID=#WHERE_MenuD_ID#</isNotEmpty>
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Menu_ID">MenuD_Menu_ID LIKE '%'+#WHERE_MenuD_Menu_ID#+'%'</isNotEmpty>
        <!--菜单分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_MenuG_ID">MenuD_MenuG_ID LIKE '%'+#WHERE_MenuD_MenuG_ID#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Name">MenuD_Name LIKE '%'+#WHERE_MenuD_Name#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Remark">MenuD_Remark LIKE '%'+#WHERE_MenuD_Remark#+'%'</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Code">MenuD_Code LIKE '%'+#WHERE_MenuD_Code#+'%'</isNotEmpty>
        <!--图标-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Picture">MenuD_Picture LIKE '%'+#WHERE_MenuD_Picture#+'%'</isNotEmpty>
        <!--图标Key-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ImgListKey">MenuD_ImgListKey LIKE '%'+#WHERE_MenuD_ImgListKey#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_MenuD_Index">MenuD_Index=#WHERE_MenuD_Index#</isNotNull>
        <!--类全名-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ClassFullName">MenuD_ClassFullName LIKE '%'+#WHERE_MenuD_ClassFullName#+'%'</isNotEmpty>
        <!--URI-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_URI">MenuD_URI LIKE '%'+#WHERE_MenuD_URI#+'%'</isNotEmpty>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_MenuD_IsVisible">MenuD_IsVisible=#WHERE_MenuD_IsVisible#</isNotNull>
        <!--Grid页面大小-->
        <isNotNull prepend="AND" property="WHERE_MenuD_GridPageSize">MenuD_GridPageSize=#WHERE_MenuD_GridPageSize#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MenuD_IsValid">MenuD_IsValid=#WHERE_MenuD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_CreatedBy">MenuD_CreatedBy LIKE '%'+#WHERE_MenuD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_UpdatedBy">MenuD_UpdatedBy LIKE '%'+#WHERE_MenuD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MenuD_VersionNo">MenuD_VersionNo=#WHERE_MenuD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_TransID">MenuD_TransID LIKE '%'+#WHERE_MenuD_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      MenuD_ID,
      MenuD_Menu_ID,
      MenuD_MenuG_ID,
      MenuD_Name,
      MenuD_Remark,
      MenuD_Code,
      MenuD_Picture,
      MenuD_ImgListKey,
      MenuD_Index,
      MenuD_ClassFullName,
      MenuD_URI,
      MenuD_IsVisible,
      MenuD_GridPageSize,
      MenuD_IsValid,
      MenuD_CreatedBy,
      MenuD_CreatedTime,
      MenuD_UpdatedBy,
      MenuD_UpdatedTime,
      MenuD_VersionNo,
      MenuD_TransID
      FROM SM_MenuDetail
      <dynamic prepend="WHERE">
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ID">MenuD_ID=#WHERE_MenuD_ID#</isNotEmpty>
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Menu_ID">MenuD_Menu_ID LIKE '%'+#WHERE_MenuD_Menu_ID#+'%'</isNotEmpty>
        <!--菜单分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_MenuG_ID">MenuD_MenuG_ID LIKE '%'+#WHERE_MenuD_MenuG_ID#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Name">MenuD_Name LIKE '%'+#WHERE_MenuD_Name#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Remark">MenuD_Remark LIKE '%'+#WHERE_MenuD_Remark#+'%'</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Code">MenuD_Code LIKE '%'+#WHERE_MenuD_Code#+'%'</isNotEmpty>
        <!--图标-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Picture">MenuD_Picture LIKE '%'+#WHERE_MenuD_Picture#+'%'</isNotEmpty>
        <!--图标Key-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ImgListKey">MenuD_ImgListKey LIKE '%'+#WHERE_MenuD_ImgListKey#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_MenuD_Index">MenuD_Index=#WHERE_MenuD_Index#</isNotNull>
        <!--类全名-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ClassFullName">MenuD_ClassFullName LIKE '%'+#WHERE_MenuD_ClassFullName#+'%'</isNotEmpty>
        <!--URI-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_URI">MenuD_URI LIKE '%'+#WHERE_MenuD_URI#+'%'</isNotEmpty>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_MenuD_IsVisible">MenuD_IsVisible=#WHERE_MenuD_IsVisible#</isNotNull>
        <!--Grid页面大小-->
        <isNotNull prepend="AND" property="WHERE_MenuD_GridPageSize">MenuD_GridPageSize=#WHERE_MenuD_GridPageSize#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MenuD_IsValid">MenuD_IsValid=#WHERE_MenuD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_CreatedBy">MenuD_CreatedBy LIKE '%'+#WHERE_MenuD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_UpdatedBy">MenuD_UpdatedBy LIKE '%'+#WHERE_MenuD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MenuD_VersionNo">MenuD_VersionNo=#WHERE_MenuD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_TransID">MenuD_TransID LIKE '%'+#WHERE_MenuD_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY MenuD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[菜单明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_MenuDetail" parameterClass="MDLSM_MenuDetail" resultClass="int">
      SELECT COUNT(MenuD_ID) 'RecordCount'
      FROM SM_MenuDetail
      <dynamic prepend="WHERE">
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ID">MenuD_ID=#WHERE_MenuD_ID#</isNotEmpty>
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Menu_ID">MenuD_Menu_ID=#WHERE_MenuD_Menu_ID#</isNotEmpty>
        <!--菜单分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_MenuG_ID">MenuD_MenuG_ID=#WHERE_MenuD_MenuG_ID#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Name">MenuD_Name=#WHERE_MenuD_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Remark">MenuD_Remark=#WHERE_MenuD_Remark#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Code">MenuD_Code=#WHERE_MenuD_Code#</isNotEmpty>
        <!--图标-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Picture">MenuD_Picture=#WHERE_MenuD_Picture#</isNotEmpty>
        <!--图标Key-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ImgListKey">MenuD_ImgListKey=#WHERE_MenuD_ImgListKey#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_MenuD_Index">MenuD_Index=#WHERE_MenuD_Index#</isNotNull>
        <!--类全名-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ClassFullName">MenuD_ClassFullName=#WHERE_MenuD_ClassFullName#</isNotEmpty>
        <!--URI-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_URI">MenuD_URI=#WHERE_MenuD_URI#</isNotEmpty>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_MenuD_IsVisible">MenuD_IsVisible=#WHERE_MenuD_IsVisible#</isNotNull>
        <!--Grid页面大小-->
        <isNotNull prepend="AND" property="WHERE_MenuD_GridPageSize">MenuD_GridPageSize=#WHERE_MenuD_GridPageSize#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MenuD_IsValid">MenuD_IsValid=#WHERE_MenuD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_CreatedBy">MenuD_CreatedBy=#WHERE_MenuD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_UpdatedBy">MenuD_UpdatedBy=#WHERE_MenuD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MenuD_VersionNo">MenuD_VersionNo=#WHERE_MenuD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_TransID">MenuD_TransID=#WHERE_MenuD_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[菜单明细]信息-->
    <update id="COMM_SQL_UpdateMDLSM_MenuDetail" parameterClass="MDLSM_MenuDetail" >
      UPDATE SM_MenuDetail
      SET
      MenuD_UpdatedTime=GETDATE(),
      MenuD_VersionNo=MenuD_VersionNo+1
      <isNotEmpty prepend="," property="MenuD_Menu_ID">MenuD_Menu_ID=#MenuD_Menu_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="MenuD_MenuG_ID">MenuD_MenuG_ID=#MenuD_MenuG_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="MenuD_Name">MenuD_Name=#MenuD_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="MenuD_Remark">MenuD_Remark=#MenuD_Remark#</isNotEmpty>
      <isNotEmpty prepend="," property="MenuD_Code">MenuD_Code=#MenuD_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="MenuD_Picture">MenuD_Picture=#MenuD_Picture#</isNotEmpty>
      <isNotEmpty prepend="," property="MenuD_ImgListKey">MenuD_ImgListKey=#MenuD_ImgListKey#</isNotEmpty>
      <isNotNull prepend="," property="MenuD_Index">MenuD_Index=#MenuD_Index#</isNotNull>
      <isNotEmpty prepend="," property="MenuD_ClassFullName">MenuD_ClassFullName=#MenuD_ClassFullName#</isNotEmpty>
      <isNotEmpty prepend="," property="MenuD_URI">MenuD_URI=#MenuD_URI#</isNotEmpty>
      <isNotNull prepend="," property="MenuD_IsVisible">MenuD_IsVisible=#MenuD_IsVisible#</isNotNull>
      <isNotNull prepend="," property="MenuD_GridPageSize">MenuD_GridPageSize=#MenuD_GridPageSize#</isNotNull>
      <isNotNull prepend="," property="MenuD_IsValid">MenuD_IsValid=#MenuD_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="MenuD_CreatedBy">MenuD_CreatedBy=#MenuD_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="MenuD_CreatedTime">MenuD_CreatedTime=#MenuD_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="MenuD_UpdatedBy">MenuD_UpdatedBy=#MenuD_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="MenuD_TransID">MenuD_TransID=#MenuD_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ID">MenuD_ID=#WHERE_MenuD_ID#</isNotEmpty>
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Menu_ID">MenuD_Menu_ID=#WHERE_MenuD_Menu_ID#</isNotEmpty>
        <!--菜单分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_MenuG_ID">MenuD_MenuG_ID=#WHERE_MenuD_MenuG_ID#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Name">MenuD_Name=#WHERE_MenuD_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Remark">MenuD_Remark=#WHERE_MenuD_Remark#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Code">MenuD_Code=#WHERE_MenuD_Code#</isNotEmpty>
        <!--图标-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_Picture">MenuD_Picture=#WHERE_MenuD_Picture#</isNotEmpty>
        <!--图标Key-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ImgListKey">MenuD_ImgListKey=#WHERE_MenuD_ImgListKey#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_MenuD_Index">MenuD_Index=#WHERE_MenuD_Index#</isNotNull>
        <!--类全名-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_ClassFullName">MenuD_ClassFullName=#WHERE_MenuD_ClassFullName#</isNotEmpty>
        <!--URI-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_URI">MenuD_URI=#WHERE_MenuD_URI#</isNotEmpty>
        <!--是否可见-->
        <isNotNull prepend="AND" property="WHERE_MenuD_IsVisible">MenuD_IsVisible=#WHERE_MenuD_IsVisible#</isNotNull>
        <!--Grid页面大小-->
        <isNotNull prepend="AND" property="WHERE_MenuD_GridPageSize">MenuD_GridPageSize=#WHERE_MenuD_GridPageSize#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MenuD_IsValid">MenuD_IsValid=#WHERE_MenuD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_CreatedBy">MenuD_CreatedBy=#WHERE_MenuD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MenuD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_UpdatedBy">MenuD_UpdatedBy=#WHERE_MenuD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MenuD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MenuD_VersionNo">MenuD_VersionNo=#WHERE_MenuD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MenuD_TransID">MenuD_TransID=#WHERE_MenuD_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[菜单明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_MenuDetail" parameterClass="List">
      DELETE FROM SM_MenuDetail
      WHERE MenuD_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_MenuD_ID#
      </iterate>
    </delete>

    <!--新增[系统动作]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_Action" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_Action
        (
        <!--动作ID-->
        Act_ID,
        <!--Key-->
        Act_Key,
        <!--名称-->
        Act_Name,
        <!--顺序-->
        Act_Index,
        <!--是否显示到界面-->
        Act_IsDisplayInUI,
        <!--有效-->
        Act_IsValid,
        <!--创建人-->
        Act_CreatedBy,
        <!--创建时间-->
        Act_CreatedTime,
        <!--修改人-->
        Act_UpdatedBy,
        <!--修改时间-->
        Act_UpdatedTime,
        <!--版本号-->
        Act_VersionNo,
        <!--事务编号-->
        Act_TransID
        )
        VALUES
        (
        <!--动作ID-->
        #[].Act_ID#,
        <!--Key-->
        #[].Act_Key#,
        <!--名称-->
        #[].Act_Name#,
        <!--顺序-->
        #[].Act_Index#,
        <!--是否显示到界面-->
        #[].Act_IsDisplayInUI#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].Act_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].Act_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].Act_TransID#
        )
      </iterate>
    </insert>

    <!--查询[系统动作]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_Action" parameterClass="MDLSM_Action" resultClass="MDLSM_Action">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Act_ID)
      FROM SM_Action
      <dynamic prepend="WHERE">
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_Act_ID">Act_ID=#WHERE_Act_ID#</isNotEmpty>
        <!--Key-->
        <isNotEmpty prepend="AND" property="WHERE_Act_Key">Act_Key=#WHERE_Act_Key#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Act_Name">Act_Name=#WHERE_Act_Name#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Act_Index">Act_Index=#WHERE_Act_Index#</isNotNull>
        <!--是否显示到界面-->
        <isNotNull prepend="AND" property="WHERE_Act_IsDisplayInUI">Act_IsDisplayInUI=#WHERE_Act_IsDisplayInUI#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Act_IsValid">Act_IsValid=#WHERE_Act_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Act_CreatedBy">Act_CreatedBy=#WHERE_Act_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Act_UpdatedBy">Act_UpdatedBy=#WHERE_Act_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Act_VersionNo">Act_VersionNo=#WHERE_Act_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Act_TransID">Act_TransID=#WHERE_Act_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Act_ID,
      Act_Key,
      Act_Name,
      Act_Index,
      Act_IsDisplayInUI,
      Act_IsValid,
      Act_CreatedBy,
      Act_CreatedTime,
      Act_UpdatedBy,
      Act_UpdatedTime,
      Act_VersionNo,
      Act_TransID
      FROM SM_Action
      <dynamic prepend="WHERE">
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_Act_ID">Act_ID=#WHERE_Act_ID#</isNotEmpty>
        <!--Key-->
        <isNotEmpty prepend="AND" property="WHERE_Act_Key">Act_Key=#WHERE_Act_Key#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Act_Name">Act_Name=#WHERE_Act_Name#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Act_Index">Act_Index=#WHERE_Act_Index#</isNotNull>
        <!--是否显示到界面-->
        <isNotNull prepend="AND" property="WHERE_Act_IsDisplayInUI">Act_IsDisplayInUI=#WHERE_Act_IsDisplayInUI#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Act_IsValid">Act_IsValid=#WHERE_Act_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Act_CreatedBy">Act_CreatedBy=#WHERE_Act_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Act_UpdatedBy">Act_UpdatedBy=#WHERE_Act_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Act_VersionNo">Act_VersionNo=#WHERE_Act_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Act_TransID">Act_TransID=#WHERE_Act_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Act_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[系统动作]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_Action" parameterClass="MDLSM_Action" resultClass="MDLSM_Action">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Act_ID)
      FROM SM_Action
      <dynamic prepend="WHERE">
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_Act_ID">Act_ID=#WHERE_Act_ID#</isNotEmpty>
        <!--Key-->
        <isNotEmpty prepend="AND" property="WHERE_Act_Key">Act_Key LIKE '%'+#WHERE_Act_Key#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Act_Name">Act_Name LIKE '%'+#WHERE_Act_Name#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Act_Index">Act_Index=#WHERE_Act_Index#</isNotNull>
        <!--是否显示到界面-->
        <isNotNull prepend="AND" property="WHERE_Act_IsDisplayInUI">Act_IsDisplayInUI=#WHERE_Act_IsDisplayInUI#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Act_IsValid">Act_IsValid=#WHERE_Act_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Act_CreatedBy">Act_CreatedBy LIKE '%'+#WHERE_Act_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Act_UpdatedBy">Act_UpdatedBy LIKE '%'+#WHERE_Act_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Act_VersionNo">Act_VersionNo=#WHERE_Act_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Act_TransID">Act_TransID LIKE '%'+#WHERE_Act_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Act_ID,
      Act_Key,
      Act_Name,
      Act_Index,
      Act_IsDisplayInUI,
      Act_IsValid,
      Act_CreatedBy,
      Act_CreatedTime,
      Act_UpdatedBy,
      Act_UpdatedTime,
      Act_VersionNo,
      Act_TransID
      FROM SM_Action
      <dynamic prepend="WHERE">
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_Act_ID">Act_ID=#WHERE_Act_ID#</isNotEmpty>
        <!--Key-->
        <isNotEmpty prepend="AND" property="WHERE_Act_Key">Act_Key LIKE '%'+#WHERE_Act_Key#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Act_Name">Act_Name LIKE '%'+#WHERE_Act_Name#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Act_Index">Act_Index=#WHERE_Act_Index#</isNotNull>
        <!--是否显示到界面-->
        <isNotNull prepend="AND" property="WHERE_Act_IsDisplayInUI">Act_IsDisplayInUI=#WHERE_Act_IsDisplayInUI#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Act_IsValid">Act_IsValid=#WHERE_Act_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Act_CreatedBy">Act_CreatedBy LIKE '%'+#WHERE_Act_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Act_UpdatedBy">Act_UpdatedBy LIKE '%'+#WHERE_Act_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Act_VersionNo">Act_VersionNo=#WHERE_Act_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Act_TransID">Act_TransID LIKE '%'+#WHERE_Act_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Act_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[系统动作]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_Action" parameterClass="MDLSM_Action" resultClass="int">
      SELECT COUNT(Act_ID) 'RecordCount'
      FROM SM_Action
      <dynamic prepend="WHERE">
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_Act_ID">Act_ID=#WHERE_Act_ID#</isNotEmpty>
        <!--Key-->
        <isNotEmpty prepend="AND" property="WHERE_Act_Key">Act_Key=#WHERE_Act_Key#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Act_Name">Act_Name=#WHERE_Act_Name#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Act_Index">Act_Index=#WHERE_Act_Index#</isNotNull>
        <!--是否显示到界面-->
        <isNotNull prepend="AND" property="WHERE_Act_IsDisplayInUI">Act_IsDisplayInUI=#WHERE_Act_IsDisplayInUI#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Act_IsValid">Act_IsValid=#WHERE_Act_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Act_CreatedBy">Act_CreatedBy=#WHERE_Act_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Act_UpdatedBy">Act_UpdatedBy=#WHERE_Act_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Act_VersionNo">Act_VersionNo=#WHERE_Act_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Act_TransID">Act_TransID=#WHERE_Act_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[系统动作]信息-->
    <update id="COMM_SQL_UpdateMDLSM_Action" parameterClass="MDLSM_Action" >
      UPDATE SM_Action
      SET
      Act_UpdatedTime=GETDATE(),
      Act_VersionNo=Act_VersionNo+1
      <isNotEmpty prepend="," property="Act_Key">Act_Key=#Act_Key#</isNotEmpty>
      <isNotEmpty prepend="," property="Act_Name">Act_Name=#Act_Name#</isNotEmpty>
      <isNotNull prepend="," property="Act_Index">Act_Index=#Act_Index#</isNotNull>
      <isNotNull prepend="," property="Act_IsDisplayInUI">Act_IsDisplayInUI=#Act_IsDisplayInUI#</isNotNull>
      <isNotNull prepend="," property="Act_IsValid">Act_IsValid=#Act_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="Act_CreatedBy">Act_CreatedBy=#Act_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="Act_CreatedTime">Act_CreatedTime=#Act_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="Act_UpdatedBy">Act_UpdatedBy=#Act_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="Act_TransID">Act_TransID=#Act_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_Act_ID">Act_ID=#WHERE_Act_ID#</isNotEmpty>
        <!--Key-->
        <isNotEmpty prepend="AND" property="WHERE_Act_Key">Act_Key=#WHERE_Act_Key#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Act_Name">Act_Name=#WHERE_Act_Name#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Act_Index">Act_Index=#WHERE_Act_Index#</isNotNull>
        <!--是否显示到界面-->
        <isNotNull prepend="AND" property="WHERE_Act_IsDisplayInUI">Act_IsDisplayInUI=#WHERE_Act_IsDisplayInUI#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Act_IsValid">Act_IsValid=#WHERE_Act_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Act_CreatedBy">Act_CreatedBy=#WHERE_Act_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Act_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Act_UpdatedBy">Act_UpdatedBy=#WHERE_Act_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Act_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Act_VersionNo">Act_VersionNo=#WHERE_Act_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Act_TransID">Act_TransID=#WHERE_Act_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[系统动作]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_Action" parameterClass="List">
      DELETE FROM SM_Action
      WHERE Act_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_Act_ID#
      </iterate>
    </delete>

    <!--新增[菜单明细动作]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_MenuDetailAction" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_MenuDetailAction
        (
        <!--菜单明细动作ID-->
        MDA_ID,
        <!--菜单明细ID-->
        MDA_MenuD_ID,
        <!--动作ID-->
        MDA_Action_ID,
        <!--有效-->
        MDA_IsValid,
        <!--创建人-->
        MDA_CreatedBy,
        <!--创建时间-->
        MDA_CreatedTime,
        <!--修改人-->
        MDA_UpdatedBy,
        <!--修改时间-->
        MDA_UpdatedTime,
        <!--版本号-->
        MDA_VersionNo,
        <!--事务编号-->
        MDA_TransID
        )
        VALUES
        (
        <!--菜单明细动作ID-->
        #[].MDA_ID#,
        <!--菜单明细ID-->
        #[].MDA_MenuD_ID#,
        <!--动作ID-->
        #[].MDA_Action_ID#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].MDA_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].MDA_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].MDA_TransID#
        )
      </iterate>
    </insert>

    <!--查询[菜单明细动作]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_MenuDetailAction" parameterClass="MDLSM_MenuDetailAction" resultClass="MDLSM_MenuDetailAction">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(MDA_ID)
      FROM SM_MenuDetailAction
      <dynamic prepend="WHERE">
        <!--菜单明细动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_ID">MDA_ID=#WHERE_MDA_ID#</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_MenuD_ID">MDA_MenuD_ID=#WHERE_MDA_MenuD_ID#</isNotEmpty>
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_Action_ID">MDA_Action_ID=#WHERE_MDA_Action_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MDA_IsValid">MDA_IsValid=#WHERE_MDA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_CreatedBy">MDA_CreatedBy=#WHERE_MDA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_UpdatedBy">MDA_UpdatedBy=#WHERE_MDA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MDA_VersionNo">MDA_VersionNo=#WHERE_MDA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_TransID">MDA_TransID=#WHERE_MDA_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      MDA_ID,
      MDA_MenuD_ID,
      MDA_Action_ID,
      MDA_IsValid,
      MDA_CreatedBy,
      MDA_CreatedTime,
      MDA_UpdatedBy,
      MDA_UpdatedTime,
      MDA_VersionNo,
      MDA_TransID
      FROM SM_MenuDetailAction
      <dynamic prepend="WHERE">
        <!--菜单明细动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_ID">MDA_ID=#WHERE_MDA_ID#</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_MenuD_ID">MDA_MenuD_ID=#WHERE_MDA_MenuD_ID#</isNotEmpty>
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_Action_ID">MDA_Action_ID=#WHERE_MDA_Action_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MDA_IsValid">MDA_IsValid=#WHERE_MDA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_CreatedBy">MDA_CreatedBy=#WHERE_MDA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_UpdatedBy">MDA_UpdatedBy=#WHERE_MDA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MDA_VersionNo">MDA_VersionNo=#WHERE_MDA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_TransID">MDA_TransID=#WHERE_MDA_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY MDA_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[菜单明细动作]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_MenuDetailAction" parameterClass="MDLSM_MenuDetailAction" resultClass="MDLSM_MenuDetailAction">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(MDA_ID)
      FROM SM_MenuDetailAction
      <dynamic prepend="WHERE">
        <!--菜单明细动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_ID">MDA_ID=#WHERE_MDA_ID#</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_MenuD_ID">MDA_MenuD_ID LIKE '%'+#WHERE_MDA_MenuD_ID#+'%'</isNotEmpty>
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_Action_ID">MDA_Action_ID LIKE '%'+#WHERE_MDA_Action_ID#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MDA_IsValid">MDA_IsValid=#WHERE_MDA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_CreatedBy">MDA_CreatedBy LIKE '%'+#WHERE_MDA_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_UpdatedBy">MDA_UpdatedBy LIKE '%'+#WHERE_MDA_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MDA_VersionNo">MDA_VersionNo=#WHERE_MDA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_TransID">MDA_TransID LIKE '%'+#WHERE_MDA_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      MDA_ID,
      MDA_MenuD_ID,
      MDA_Action_ID,
      MDA_IsValid,
      MDA_CreatedBy,
      MDA_CreatedTime,
      MDA_UpdatedBy,
      MDA_UpdatedTime,
      MDA_VersionNo,
      MDA_TransID
      FROM SM_MenuDetailAction
      <dynamic prepend="WHERE">
        <!--菜单明细动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_ID">MDA_ID=#WHERE_MDA_ID#</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_MenuD_ID">MDA_MenuD_ID LIKE '%'+#WHERE_MDA_MenuD_ID#+'%'</isNotEmpty>
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_Action_ID">MDA_Action_ID LIKE '%'+#WHERE_MDA_Action_ID#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MDA_IsValid">MDA_IsValid=#WHERE_MDA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_CreatedBy">MDA_CreatedBy LIKE '%'+#WHERE_MDA_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_UpdatedBy">MDA_UpdatedBy LIKE '%'+#WHERE_MDA_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MDA_VersionNo">MDA_VersionNo=#WHERE_MDA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_TransID">MDA_TransID LIKE '%'+#WHERE_MDA_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY MDA_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[菜单明细动作]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_MenuDetailAction" parameterClass="MDLSM_MenuDetailAction" resultClass="int">
      SELECT COUNT(MDA_ID) 'RecordCount'
      FROM SM_MenuDetailAction
      <dynamic prepend="WHERE">
        <!--菜单明细动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_ID">MDA_ID=#WHERE_MDA_ID#</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_MenuD_ID">MDA_MenuD_ID=#WHERE_MDA_MenuD_ID#</isNotEmpty>
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_Action_ID">MDA_Action_ID=#WHERE_MDA_Action_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MDA_IsValid">MDA_IsValid=#WHERE_MDA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_CreatedBy">MDA_CreatedBy=#WHERE_MDA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_UpdatedBy">MDA_UpdatedBy=#WHERE_MDA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MDA_VersionNo">MDA_VersionNo=#WHERE_MDA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_TransID">MDA_TransID=#WHERE_MDA_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[菜单明细动作]信息-->
    <update id="COMM_SQL_UpdateMDLSM_MenuDetailAction" parameterClass="MDLSM_MenuDetailAction" >
      UPDATE SM_MenuDetailAction
      SET
      MDA_UpdatedTime=GETDATE(),
      MDA_VersionNo=MDA_VersionNo+1
      <isNotEmpty prepend="," property="MDA_MenuD_ID">MDA_MenuD_ID=#MDA_MenuD_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="MDA_Action_ID">MDA_Action_ID=#MDA_Action_ID#</isNotEmpty>
      <isNotNull prepend="," property="MDA_IsValid">MDA_IsValid=#MDA_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="MDA_CreatedBy">MDA_CreatedBy=#MDA_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="MDA_CreatedTime">MDA_CreatedTime=#MDA_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="MDA_UpdatedBy">MDA_UpdatedBy=#MDA_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="MDA_TransID">MDA_TransID=#MDA_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--菜单明细动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_ID">MDA_ID=#WHERE_MDA_ID#</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_MenuD_ID">MDA_MenuD_ID=#WHERE_MDA_MenuD_ID#</isNotEmpty>
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_Action_ID">MDA_Action_ID=#WHERE_MDA_Action_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_MDA_IsValid">MDA_IsValid=#WHERE_MDA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_CreatedBy">MDA_CreatedBy=#WHERE_MDA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">MDA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_UpdatedBy">MDA_UpdatedBy=#WHERE_MDA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">MDA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_MDA_VersionNo">MDA_VersionNo=#WHERE_MDA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_MDA_TransID">MDA_TransID=#WHERE_MDA_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[菜单明细动作]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_MenuDetailAction" parameterClass="List">
      DELETE FROM SM_MenuDetailAction
      WHERE MDA_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_MDA_ID#
      </iterate>
    </delete>

    <!--新增[用户菜单]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_UserMenuAuthority" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_UserMenuAuthority
        (
        <!--用户菜单权限ID-->
        UMA_ID,
        <!--用户ID-->
        UMA_User_ID,
        <!--组织ID-->
        UMA_Org_ID,
        <!--菜单明细ID-->
        UMA_MenuD_ID,
        <!--有效-->
        UMA_IsValid,
        <!--创建人-->
        UMA_CreatedBy,
        <!--创建时间-->
        UMA_CreatedTime,
        <!--修改人-->
        UMA_UpdatedBy,
        <!--修改时间-->
        UMA_UpdatedTime,
        <!--版本号-->
        UMA_VersionNo,
        <!--事务编号-->
        UMA_TransID
        )
        VALUES
        (
        <!--用户菜单权限ID-->
        #[].UMA_ID#,
        <!--用户ID-->
        #[].UMA_User_ID#,
        <!--组织ID-->
        #[].UMA_Org_ID#,
        <!--菜单明细ID-->
        #[].UMA_MenuD_ID#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].UMA_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].UMA_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].UMA_TransID#
        )
      </iterate>
    </insert>

    <!--查询[用户菜单]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_UserMenuAuthority" parameterClass="MDLSM_UserMenuAuthority" resultClass="MDLSM_UserMenuAuthority">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(UMA_ID)
      FROM SM_UserMenuAuthority
      <dynamic prepend="WHERE">
        <!--用户菜单权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_ID">UMA_ID=#WHERE_UMA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_User_ID">UMA_User_ID=#WHERE_UMA_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_Org_ID">UMA_Org_ID=#WHERE_UMA_Org_ID#</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_MenuD_ID">UMA_MenuD_ID=#WHERE_UMA_MenuD_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UMA_IsValid">UMA_IsValid=#WHERE_UMA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_CreatedBy">UMA_CreatedBy=#WHERE_UMA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_UpdatedBy">UMA_UpdatedBy=#WHERE_UMA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UMA_VersionNo">UMA_VersionNo=#WHERE_UMA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_TransID">UMA_TransID=#WHERE_UMA_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      UMA_ID,
      UMA_User_ID,
      UMA_Org_ID,
      UMA_MenuD_ID,
      UMA_IsValid,
      UMA_CreatedBy,
      UMA_CreatedTime,
      UMA_UpdatedBy,
      UMA_UpdatedTime,
      UMA_VersionNo,
      UMA_TransID
      FROM SM_UserMenuAuthority
      <dynamic prepend="WHERE">
        <!--用户菜单权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_ID">UMA_ID=#WHERE_UMA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_User_ID">UMA_User_ID=#WHERE_UMA_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_Org_ID">UMA_Org_ID=#WHERE_UMA_Org_ID#</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_MenuD_ID">UMA_MenuD_ID=#WHERE_UMA_MenuD_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UMA_IsValid">UMA_IsValid=#WHERE_UMA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_CreatedBy">UMA_CreatedBy=#WHERE_UMA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_UpdatedBy">UMA_UpdatedBy=#WHERE_UMA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UMA_VersionNo">UMA_VersionNo=#WHERE_UMA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_TransID">UMA_TransID=#WHERE_UMA_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY UMA_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[用户菜单]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_UserMenuAuthority" parameterClass="MDLSM_UserMenuAuthority" resultClass="MDLSM_UserMenuAuthority">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(UMA_ID)
      FROM SM_UserMenuAuthority
      <dynamic prepend="WHERE">
        <!--用户菜单权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_ID">UMA_ID=#WHERE_UMA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_User_ID">UMA_User_ID LIKE '%'+#WHERE_UMA_User_ID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_Org_ID">UMA_Org_ID LIKE '%'+#WHERE_UMA_Org_ID#+'%'</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_MenuD_ID">UMA_MenuD_ID LIKE '%'+#WHERE_UMA_MenuD_ID#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UMA_IsValid">UMA_IsValid=#WHERE_UMA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_CreatedBy">UMA_CreatedBy LIKE '%'+#WHERE_UMA_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_UpdatedBy">UMA_UpdatedBy LIKE '%'+#WHERE_UMA_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UMA_VersionNo">UMA_VersionNo=#WHERE_UMA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_TransID">UMA_TransID LIKE '%'+#WHERE_UMA_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      UMA_ID,
      UMA_User_ID,
      UMA_Org_ID,
      UMA_MenuD_ID,
      UMA_IsValid,
      UMA_CreatedBy,
      UMA_CreatedTime,
      UMA_UpdatedBy,
      UMA_UpdatedTime,
      UMA_VersionNo,
      UMA_TransID
      FROM SM_UserMenuAuthority
      <dynamic prepend="WHERE">
        <!--用户菜单权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_ID">UMA_ID=#WHERE_UMA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_User_ID">UMA_User_ID LIKE '%'+#WHERE_UMA_User_ID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_Org_ID">UMA_Org_ID LIKE '%'+#WHERE_UMA_Org_ID#+'%'</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_MenuD_ID">UMA_MenuD_ID LIKE '%'+#WHERE_UMA_MenuD_ID#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UMA_IsValid">UMA_IsValid=#WHERE_UMA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_CreatedBy">UMA_CreatedBy LIKE '%'+#WHERE_UMA_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_UpdatedBy">UMA_UpdatedBy LIKE '%'+#WHERE_UMA_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UMA_VersionNo">UMA_VersionNo=#WHERE_UMA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_TransID">UMA_TransID LIKE '%'+#WHERE_UMA_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY UMA_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[用户菜单]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_UserMenuAuthority" parameterClass="MDLSM_UserMenuAuthority" resultClass="int">
      SELECT COUNT(UMA_ID) 'RecordCount'
      FROM SM_UserMenuAuthority
      <dynamic prepend="WHERE">
        <!--用户菜单权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_ID">UMA_ID=#WHERE_UMA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_User_ID">UMA_User_ID=#WHERE_UMA_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_Org_ID">UMA_Org_ID=#WHERE_UMA_Org_ID#</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_MenuD_ID">UMA_MenuD_ID=#WHERE_UMA_MenuD_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UMA_IsValid">UMA_IsValid=#WHERE_UMA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_CreatedBy">UMA_CreatedBy=#WHERE_UMA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_UpdatedBy">UMA_UpdatedBy=#WHERE_UMA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UMA_VersionNo">UMA_VersionNo=#WHERE_UMA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_TransID">UMA_TransID=#WHERE_UMA_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[用户菜单]信息-->
    <update id="COMM_SQL_UpdateMDLSM_UserMenuAuthority" parameterClass="MDLSM_UserMenuAuthority" >
      UPDATE SM_UserMenuAuthority
      SET
      UMA_UpdatedTime=GETDATE(),
      UMA_VersionNo=UMA_VersionNo+1
      <isNotEmpty prepend="," property="UMA_User_ID">UMA_User_ID=#UMA_User_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="UMA_Org_ID">UMA_Org_ID=#UMA_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="UMA_MenuD_ID">UMA_MenuD_ID=#UMA_MenuD_ID#</isNotEmpty>
      <isNotNull prepend="," property="UMA_IsValid">UMA_IsValid=#UMA_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="UMA_CreatedBy">UMA_CreatedBy=#UMA_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="UMA_CreatedTime">UMA_CreatedTime=#UMA_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="UMA_UpdatedBy">UMA_UpdatedBy=#UMA_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="UMA_TransID">UMA_TransID=#UMA_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--用户菜单权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_ID">UMA_ID=#WHERE_UMA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_User_ID">UMA_User_ID=#WHERE_UMA_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_Org_ID">UMA_Org_ID=#WHERE_UMA_Org_ID#</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_MenuD_ID">UMA_MenuD_ID=#WHERE_UMA_MenuD_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UMA_IsValid">UMA_IsValid=#WHERE_UMA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_CreatedBy">UMA_CreatedBy=#WHERE_UMA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UMA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_UpdatedBy">UMA_UpdatedBy=#WHERE_UMA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UMA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UMA_VersionNo">UMA_VersionNo=#WHERE_UMA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UMA_TransID">UMA_TransID=#WHERE_UMA_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[用户菜单]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_UserMenuAuthority" parameterClass="List">
      DELETE FROM SM_UserMenuAuthority
      WHERE UMA_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_UMA_ID#
      </iterate>
    </delete>

    <!--新增[用户菜单动作]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_UserActionAuthority" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_UserActionAuthority
        (
        <!--用户菜单动作权限ID-->
        UAA_ID,
        <!--用户ID-->
        UAA_User_ID,
        <!--组织ID-->
        UAA_Org_ID,
        <!--菜单明细ID-->
        UAA_MenuD_ID,
        <!--动作ID-->
        UAA_Action_ID,
        <!--有效-->
        UAA_IsValid,
        <!--创建人-->
        UAA_CreatedBy,
        <!--创建时间-->
        UAA_CreatedTime,
        <!--修改人-->
        UAA_UpdatedBy,
        <!--修改时间-->
        UAA_UpdatedTime,
        <!--版本号-->
        UAA_VersionNo,
        <!--事务编号-->
        UAA_TransID
        )
        VALUES
        (
        <!--用户菜单动作权限ID-->
        #[].UAA_ID#,
        <!--用户ID-->
        #[].UAA_User_ID#,
        <!--组织ID-->
        #[].UAA_Org_ID#,
        <!--菜单明细ID-->
        #[].UAA_MenuD_ID#,
        <!--动作ID-->
        #[].UAA_Action_ID#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].UAA_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].UAA_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].UAA_TransID#
        )
      </iterate>
    </insert>

    <!--查询[用户菜单动作]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_UserActionAuthority" parameterClass="MDLSM_UserActionAuthority" resultClass="MDLSM_UserActionAuthority">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(UAA_ID)
      FROM SM_UserActionAuthority
      <dynamic prepend="WHERE">
        <!--用户菜单动作权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_ID">UAA_ID=#WHERE_UAA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_User_ID">UAA_User_ID=#WHERE_UAA_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_Org_ID">UAA_Org_ID=#WHERE_UAA_Org_ID#</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_MenuD_ID">UAA_MenuD_ID=#WHERE_UAA_MenuD_ID#</isNotEmpty>
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_Action_ID">UAA_Action_ID=#WHERE_UAA_Action_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UAA_IsValid">UAA_IsValid=#WHERE_UAA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_CreatedBy">UAA_CreatedBy=#WHERE_UAA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_UpdatedBy">UAA_UpdatedBy=#WHERE_UAA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UAA_VersionNo">UAA_VersionNo=#WHERE_UAA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_TransID">UAA_TransID=#WHERE_UAA_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      UAA_ID,
      UAA_User_ID,
      UAA_Org_ID,
      UAA_MenuD_ID,
      UAA_Action_ID,
      UAA_IsValid,
      UAA_CreatedBy,
      UAA_CreatedTime,
      UAA_UpdatedBy,
      UAA_UpdatedTime,
      UAA_VersionNo,
      UAA_TransID
      FROM SM_UserActionAuthority
      <dynamic prepend="WHERE">
        <!--用户菜单动作权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_ID">UAA_ID=#WHERE_UAA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_User_ID">UAA_User_ID=#WHERE_UAA_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_Org_ID">UAA_Org_ID=#WHERE_UAA_Org_ID#</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_MenuD_ID">UAA_MenuD_ID=#WHERE_UAA_MenuD_ID#</isNotEmpty>
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_Action_ID">UAA_Action_ID=#WHERE_UAA_Action_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UAA_IsValid">UAA_IsValid=#WHERE_UAA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_CreatedBy">UAA_CreatedBy=#WHERE_UAA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_UpdatedBy">UAA_UpdatedBy=#WHERE_UAA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UAA_VersionNo">UAA_VersionNo=#WHERE_UAA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_TransID">UAA_TransID=#WHERE_UAA_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY UAA_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[用户菜单动作]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_UserActionAuthority" parameterClass="MDLSM_UserActionAuthority" resultClass="MDLSM_UserActionAuthority">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(UAA_ID)
      FROM SM_UserActionAuthority
      <dynamic prepend="WHERE">
        <!--用户菜单动作权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_ID">UAA_ID=#WHERE_UAA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_User_ID">UAA_User_ID LIKE '%'+#WHERE_UAA_User_ID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_Org_ID">UAA_Org_ID LIKE '%'+#WHERE_UAA_Org_ID#+'%'</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_MenuD_ID">UAA_MenuD_ID LIKE '%'+#WHERE_UAA_MenuD_ID#+'%'</isNotEmpty>
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_Action_ID">UAA_Action_ID LIKE '%'+#WHERE_UAA_Action_ID#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UAA_IsValid">UAA_IsValid=#WHERE_UAA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_CreatedBy">UAA_CreatedBy LIKE '%'+#WHERE_UAA_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_UpdatedBy">UAA_UpdatedBy LIKE '%'+#WHERE_UAA_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UAA_VersionNo">UAA_VersionNo=#WHERE_UAA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_TransID">UAA_TransID LIKE '%'+#WHERE_UAA_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      UAA_ID,
      UAA_User_ID,
      UAA_Org_ID,
      UAA_MenuD_ID,
      UAA_Action_ID,
      UAA_IsValid,
      UAA_CreatedBy,
      UAA_CreatedTime,
      UAA_UpdatedBy,
      UAA_UpdatedTime,
      UAA_VersionNo,
      UAA_TransID
      FROM SM_UserActionAuthority
      <dynamic prepend="WHERE">
        <!--用户菜单动作权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_ID">UAA_ID=#WHERE_UAA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_User_ID">UAA_User_ID LIKE '%'+#WHERE_UAA_User_ID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_Org_ID">UAA_Org_ID LIKE '%'+#WHERE_UAA_Org_ID#+'%'</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_MenuD_ID">UAA_MenuD_ID LIKE '%'+#WHERE_UAA_MenuD_ID#+'%'</isNotEmpty>
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_Action_ID">UAA_Action_ID LIKE '%'+#WHERE_UAA_Action_ID#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UAA_IsValid">UAA_IsValid=#WHERE_UAA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_CreatedBy">UAA_CreatedBy LIKE '%'+#WHERE_UAA_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_UpdatedBy">UAA_UpdatedBy LIKE '%'+#WHERE_UAA_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UAA_VersionNo">UAA_VersionNo=#WHERE_UAA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_TransID">UAA_TransID LIKE '%'+#WHERE_UAA_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY UAA_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[用户菜单动作]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_UserActionAuthority" parameterClass="MDLSM_UserActionAuthority" resultClass="int">
      SELECT COUNT(UAA_ID) 'RecordCount'
      FROM SM_UserActionAuthority
      <dynamic prepend="WHERE">
        <!--用户菜单动作权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_ID">UAA_ID=#WHERE_UAA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_User_ID">UAA_User_ID=#WHERE_UAA_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_Org_ID">UAA_Org_ID=#WHERE_UAA_Org_ID#</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_MenuD_ID">UAA_MenuD_ID=#WHERE_UAA_MenuD_ID#</isNotEmpty>
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_Action_ID">UAA_Action_ID=#WHERE_UAA_Action_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UAA_IsValid">UAA_IsValid=#WHERE_UAA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_CreatedBy">UAA_CreatedBy=#WHERE_UAA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_UpdatedBy">UAA_UpdatedBy=#WHERE_UAA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UAA_VersionNo">UAA_VersionNo=#WHERE_UAA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_TransID">UAA_TransID=#WHERE_UAA_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[用户菜单动作]信息-->
    <update id="COMM_SQL_UpdateMDLSM_UserActionAuthority" parameterClass="MDLSM_UserActionAuthority" >
      UPDATE SM_UserActionAuthority
      SET
      UAA_UpdatedTime=GETDATE(),
      UAA_VersionNo=UAA_VersionNo+1
      <isNotEmpty prepend="," property="UAA_User_ID">UAA_User_ID=#UAA_User_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="UAA_Org_ID">UAA_Org_ID=#UAA_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="UAA_MenuD_ID">UAA_MenuD_ID=#UAA_MenuD_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="UAA_Action_ID">UAA_Action_ID=#UAA_Action_ID#</isNotEmpty>
      <isNotNull prepend="," property="UAA_IsValid">UAA_IsValid=#UAA_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="UAA_CreatedBy">UAA_CreatedBy=#UAA_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="UAA_CreatedTime">UAA_CreatedTime=#UAA_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="UAA_UpdatedBy">UAA_UpdatedBy=#UAA_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="UAA_TransID">UAA_TransID=#UAA_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--用户菜单动作权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_ID">UAA_ID=#WHERE_UAA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_User_ID">UAA_User_ID=#WHERE_UAA_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_Org_ID">UAA_Org_ID=#WHERE_UAA_Org_ID#</isNotEmpty>
        <!--菜单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_MenuD_ID">UAA_MenuD_ID=#WHERE_UAA_MenuD_ID#</isNotEmpty>
        <!--动作ID-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_Action_ID">UAA_Action_ID=#WHERE_UAA_Action_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UAA_IsValid">UAA_IsValid=#WHERE_UAA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_CreatedBy">UAA_CreatedBy=#WHERE_UAA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UAA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_UpdatedBy">UAA_UpdatedBy=#WHERE_UAA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UAA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UAA_VersionNo">UAA_VersionNo=#WHERE_UAA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UAA_TransID">UAA_TransID=#WHERE_UAA_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[用户菜单动作]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_UserActionAuthority" parameterClass="List">
      DELETE FROM SM_UserActionAuthority
      WHERE UAA_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_UAA_ID#
      </iterate>
    </delete>

    <!--新增[用户]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_User" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_User
        (
        <!--用户ID-->
        User_ID,
        <!--姓名-->
        User_Name,
        <!--密码-->
        User_Password,
        <!--工号-->
        User_EMPNO,
        <!--身份证号码-->
        User_IDNo,
        <!--性别-->
        User_Sex,
        <!--地址-->
        User_Address,
        <!--电话号码-->
        User_PhoneNo,
        <!--是否允许微信认证-->
        User_IsAllowWechatCertificate,
        <!--是否已微信认证-->
        User_IsWechatCertified,
        <!--打印标题前缀-->
        User_PrintTitlePrefix,
        <!--有效-->
        User_IsValid,
        <!--创建人-->
        User_CreatedBy,
        <!--创建时间-->
        User_CreatedTime,
        <!--修改人-->
        User_UpdatedBy,
        <!--修改时间-->
        User_UpdatedTime,
        <!--版本号-->
        User_VersionNo,
        <!--事务编号-->
        User_TransID
        )
        VALUES
        (
        <!--用户ID-->
        #[].User_ID#,
        <!--姓名-->
        #[].User_Name#,
        <!--密码-->
        #[].User_Password#,
        <!--工号-->
        #[].User_EMPNO#,
        <!--身份证号码-->
        #[].User_IDNo#,
        <!--性别-->
        #[].User_Sex#,
        <!--地址-->
        #[].User_Address#,
        <!--电话号码-->
        #[].User_PhoneNo#,
        <!--是否允许微信认证-->
        #[].User_IsAllowWechatCertificate#,
        <!--是否已微信认证-->
        #[].User_IsWechatCertified#,
        <!--打印标题前缀-->
        #[].User_PrintTitlePrefix#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].User_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].User_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].User_TransID#
        )
      </iterate>
    </insert>

    <!--查询[用户]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_User" parameterClass="MDLSM_User" resultClass="MDLSM_User">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(User_ID)
      FROM SM_User
      <dynamic prepend="WHERE">
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_User_ID">User_ID=#WHERE_User_ID#</isNotEmpty>
        <!--姓名-->
        <isNotEmpty prepend="AND" property="WHERE_User_Name">User_Name=#WHERE_User_Name#</isNotEmpty>
        <!--密码-->
        <isNotEmpty prepend="AND" property="WHERE_User_Password">User_Password=#WHERE_User_Password#</isNotEmpty>
        <!--工号-->
        <isNotEmpty prepend="AND" property="WHERE_User_EMPNO">User_EMPNO=#WHERE_User_EMPNO#</isNotEmpty>
        <!--身份证号码-->
        <isNotEmpty prepend="AND" property="WHERE_User_IDNo">User_IDNo=#WHERE_User_IDNo#</isNotEmpty>
        <!--性别-->
        <isNotEmpty prepend="AND" property="WHERE_User_Sex">User_Sex=#WHERE_User_Sex#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_User_Address">User_Address=#WHERE_User_Address#</isNotEmpty>
        <!--电话号码-->
        <isNotEmpty prepend="AND" property="WHERE_User_PhoneNo">User_PhoneNo=#WHERE_User_PhoneNo#</isNotEmpty>
        <!--是否允许微信认证-->
        <isNotNull prepend="AND" property="WHERE_User_IsAllowWechatCertificate">User_IsAllowWechatCertificate=#WHERE_User_IsAllowWechatCertificate#</isNotNull>
        <!--是否已微信认证-->
        <isNotNull prepend="AND" property="WHERE_User_IsWechatCertified">User_IsWechatCertified=#WHERE_User_IsWechatCertified#</isNotNull>
        <!--打印标题前缀-->
        <isNotEmpty prepend="AND" property="WHERE_User_PrintTitlePrefix">User_PrintTitlePrefix=#WHERE_User_PrintTitlePrefix#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_User_IsValid">User_IsValid=#WHERE_User_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_User_CreatedBy">User_CreatedBy=#WHERE_User_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">User_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">User_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">User_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_User_UpdatedBy">User_UpdatedBy=#WHERE_User_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_User_VersionNo">User_VersionNo=#WHERE_User_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_User_TransID">User_TransID=#WHERE_User_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      User_ID,
      User_Name,
      User_Password,
      User_EMPNO,
      User_IDNo,
      User_Sex,
      User_Address,
      User_PhoneNo,
      User_IsAllowWechatCertificate,
      User_IsWechatCertified,
      User_PrintTitlePrefix,
      User_IsValid,
      User_CreatedBy,
      User_CreatedTime,
      User_UpdatedBy,
      User_UpdatedTime,
      User_VersionNo,
      User_TransID
      FROM SM_User
      <dynamic prepend="WHERE">
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_User_ID">User_ID=#WHERE_User_ID#</isNotEmpty>
        <!--姓名-->
        <isNotEmpty prepend="AND" property="WHERE_User_Name">User_Name=#WHERE_User_Name#</isNotEmpty>
        <!--密码-->
        <isNotEmpty prepend="AND" property="WHERE_User_Password">User_Password=#WHERE_User_Password#</isNotEmpty>
        <!--工号-->
        <isNotEmpty prepend="AND" property="WHERE_User_EMPNO">User_EMPNO=#WHERE_User_EMPNO#</isNotEmpty>
        <!--身份证号码-->
        <isNotEmpty prepend="AND" property="WHERE_User_IDNo">User_IDNo=#WHERE_User_IDNo#</isNotEmpty>
        <!--性别-->
        <isNotEmpty prepend="AND" property="WHERE_User_Sex">User_Sex=#WHERE_User_Sex#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_User_Address">User_Address=#WHERE_User_Address#</isNotEmpty>
        <!--电话号码-->
        <isNotEmpty prepend="AND" property="WHERE_User_PhoneNo">User_PhoneNo=#WHERE_User_PhoneNo#</isNotEmpty>
        <!--是否允许微信认证-->
        <isNotNull prepend="AND" property="WHERE_User_IsAllowWechatCertificate">User_IsAllowWechatCertificate=#WHERE_User_IsAllowWechatCertificate#</isNotNull>
        <!--是否已微信认证-->
        <isNotNull prepend="AND" property="WHERE_User_IsWechatCertified">User_IsWechatCertified=#WHERE_User_IsWechatCertified#</isNotNull>
        <!--打印标题前缀-->
        <isNotEmpty prepend="AND" property="WHERE_User_PrintTitlePrefix">User_PrintTitlePrefix=#WHERE_User_PrintTitlePrefix#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_User_IsValid">User_IsValid=#WHERE_User_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_User_CreatedBy">User_CreatedBy=#WHERE_User_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">User_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">User_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">User_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_User_UpdatedBy">User_UpdatedBy=#WHERE_User_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_User_VersionNo">User_VersionNo=#WHERE_User_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_User_TransID">User_TransID=#WHERE_User_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY User_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[用户]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_User" parameterClass="MDLSM_User" resultClass="MDLSM_User">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(User_ID)
      FROM SM_User
      <dynamic prepend="WHERE">
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_User_ID">User_ID=#WHERE_User_ID#</isNotEmpty>
        <!--姓名-->
        <isNotEmpty prepend="AND" property="WHERE_User_Name">User_Name LIKE '%'+#WHERE_User_Name#+'%'</isNotEmpty>
        <!--密码-->
        <isNotEmpty prepend="AND" property="WHERE_User_Password">User_Password LIKE '%'+#WHERE_User_Password#+'%'</isNotEmpty>
        <!--工号-->
        <isNotEmpty prepend="AND" property="WHERE_User_EMPNO">User_EMPNO LIKE '%'+#WHERE_User_EMPNO#+'%'</isNotEmpty>
        <!--身份证号码-->
        <isNotEmpty prepend="AND" property="WHERE_User_IDNo">User_IDNo LIKE '%'+#WHERE_User_IDNo#+'%'</isNotEmpty>
        <!--性别-->
        <isNotEmpty prepend="AND" property="WHERE_User_Sex">User_Sex LIKE '%'+#WHERE_User_Sex#+'%'</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_User_Address">User_Address LIKE '%'+#WHERE_User_Address#+'%'</isNotEmpty>
        <!--电话号码-->
        <isNotEmpty prepend="AND" property="WHERE_User_PhoneNo">User_PhoneNo LIKE '%'+#WHERE_User_PhoneNo#+'%'</isNotEmpty>
        <!--是否允许微信认证-->
        <isNotNull prepend="AND" property="WHERE_User_IsAllowWechatCertificate">User_IsAllowWechatCertificate=#WHERE_User_IsAllowWechatCertificate#</isNotNull>
        <!--是否已微信认证-->
        <isNotNull prepend="AND" property="WHERE_User_IsWechatCertified">User_IsWechatCertified=#WHERE_User_IsWechatCertified#</isNotNull>
        <!--打印标题前缀-->
        <isNotEmpty prepend="AND" property="WHERE_User_PrintTitlePrefix">User_PrintTitlePrefix LIKE '%'+#WHERE_User_PrintTitlePrefix#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_User_IsValid">User_IsValid=#WHERE_User_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_User_CreatedBy">User_CreatedBy LIKE '%'+#WHERE_User_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">User_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">User_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">User_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_User_UpdatedBy">User_UpdatedBy LIKE '%'+#WHERE_User_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_User_VersionNo">User_VersionNo=#WHERE_User_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_User_TransID">User_TransID LIKE '%'+#WHERE_User_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      User_ID,
      User_Name,
      User_Password,
      User_EMPNO,
      User_IDNo,
      User_Sex,
      User_Address,
      User_PhoneNo,
      User_IsAllowWechatCertificate,
      User_IsWechatCertified,
      User_PrintTitlePrefix,
      User_IsValid,
      User_CreatedBy,
      User_CreatedTime,
      User_UpdatedBy,
      User_UpdatedTime,
      User_VersionNo,
      User_TransID
      FROM SM_User
      <dynamic prepend="WHERE">
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_User_ID">User_ID=#WHERE_User_ID#</isNotEmpty>
        <!--姓名-->
        <isNotEmpty prepend="AND" property="WHERE_User_Name">User_Name LIKE '%'+#WHERE_User_Name#+'%'</isNotEmpty>
        <!--密码-->
        <isNotEmpty prepend="AND" property="WHERE_User_Password">User_Password LIKE '%'+#WHERE_User_Password#+'%'</isNotEmpty>
        <!--工号-->
        <isNotEmpty prepend="AND" property="WHERE_User_EMPNO">User_EMPNO LIKE '%'+#WHERE_User_EMPNO#+'%'</isNotEmpty>
        <!--身份证号码-->
        <isNotEmpty prepend="AND" property="WHERE_User_IDNo">User_IDNo LIKE '%'+#WHERE_User_IDNo#+'%'</isNotEmpty>
        <!--性别-->
        <isNotEmpty prepend="AND" property="WHERE_User_Sex">User_Sex LIKE '%'+#WHERE_User_Sex#+'%'</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_User_Address">User_Address LIKE '%'+#WHERE_User_Address#+'%'</isNotEmpty>
        <!--电话号码-->
        <isNotEmpty prepend="AND" property="WHERE_User_PhoneNo">User_PhoneNo LIKE '%'+#WHERE_User_PhoneNo#+'%'</isNotEmpty>
        <!--是否允许微信认证-->
        <isNotNull prepend="AND" property="WHERE_User_IsAllowWechatCertificate">User_IsAllowWechatCertificate=#WHERE_User_IsAllowWechatCertificate#</isNotNull>
        <!--是否已微信认证-->
        <isNotNull prepend="AND" property="WHERE_User_IsWechatCertified">User_IsWechatCertified=#WHERE_User_IsWechatCertified#</isNotNull>
        <!--打印标题前缀-->
        <isNotEmpty prepend="AND" property="WHERE_User_PrintTitlePrefix">User_PrintTitlePrefix LIKE '%'+#WHERE_User_PrintTitlePrefix#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_User_IsValid">User_IsValid=#WHERE_User_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_User_CreatedBy">User_CreatedBy LIKE '%'+#WHERE_User_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">User_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">User_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">User_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_User_UpdatedBy">User_UpdatedBy LIKE '%'+#WHERE_User_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_User_VersionNo">User_VersionNo=#WHERE_User_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_User_TransID">User_TransID LIKE '%'+#WHERE_User_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY User_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[用户]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_User" parameterClass="MDLSM_User" resultClass="int">
      SELECT COUNT(User_ID) 'RecordCount'
      FROM SM_User
      <dynamic prepend="WHERE">
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_User_ID">User_ID=#WHERE_User_ID#</isNotEmpty>
        <!--姓名-->
        <isNotEmpty prepend="AND" property="WHERE_User_Name">User_Name=#WHERE_User_Name#</isNotEmpty>
        <!--密码-->
        <isNotEmpty prepend="AND" property="WHERE_User_Password">User_Password=#WHERE_User_Password#</isNotEmpty>
        <!--工号-->
        <isNotEmpty prepend="AND" property="WHERE_User_EMPNO">User_EMPNO=#WHERE_User_EMPNO#</isNotEmpty>
        <!--身份证号码-->
        <isNotEmpty prepend="AND" property="WHERE_User_IDNo">User_IDNo=#WHERE_User_IDNo#</isNotEmpty>
        <!--性别-->
        <isNotEmpty prepend="AND" property="WHERE_User_Sex">User_Sex=#WHERE_User_Sex#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_User_Address">User_Address=#WHERE_User_Address#</isNotEmpty>
        <!--电话号码-->
        <isNotEmpty prepend="AND" property="WHERE_User_PhoneNo">User_PhoneNo=#WHERE_User_PhoneNo#</isNotEmpty>
        <!--是否允许微信认证-->
        <isNotNull prepend="AND" property="WHERE_User_IsAllowWechatCertificate">User_IsAllowWechatCertificate=#WHERE_User_IsAllowWechatCertificate#</isNotNull>
        <!--是否已微信认证-->
        <isNotNull prepend="AND" property="WHERE_User_IsWechatCertified">User_IsWechatCertified=#WHERE_User_IsWechatCertified#</isNotNull>
        <!--打印标题前缀-->
        <isNotEmpty prepend="AND" property="WHERE_User_PrintTitlePrefix">User_PrintTitlePrefix=#WHERE_User_PrintTitlePrefix#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_User_IsValid">User_IsValid=#WHERE_User_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_User_CreatedBy">User_CreatedBy=#WHERE_User_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">User_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">User_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">User_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_User_UpdatedBy">User_UpdatedBy=#WHERE_User_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_User_VersionNo">User_VersionNo=#WHERE_User_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_User_TransID">User_TransID=#WHERE_User_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[用户]信息-->
    <update id="COMM_SQL_UpdateMDLSM_User" parameterClass="MDLSM_User" >
      UPDATE SM_User
      SET
      User_UpdatedTime=GETDATE(),
      User_VersionNo=User_VersionNo+1
      <isNotEmpty prepend="," property="User_Name">User_Name=#User_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="User_Password">User_Password=#User_Password#</isNotEmpty>
      <isNotEmpty prepend="," property="User_EMPNO">User_EMPNO=#User_EMPNO#</isNotEmpty>
      <isNotEmpty prepend="," property="User_IDNo">User_IDNo=#User_IDNo#</isNotEmpty>
      <isNotEmpty prepend="," property="User_Sex">User_Sex=#User_Sex#</isNotEmpty>
      <isNotEmpty prepend="," property="User_Address">User_Address=#User_Address#</isNotEmpty>
      <isNotEmpty prepend="," property="User_PhoneNo">User_PhoneNo=#User_PhoneNo#</isNotEmpty>
      <isNotNull prepend="," property="User_IsAllowWechatCertificate">User_IsAllowWechatCertificate=#User_IsAllowWechatCertificate#</isNotNull>
      <isNotNull prepend="," property="User_IsWechatCertified">User_IsWechatCertified=#User_IsWechatCertified#</isNotNull>
      <isNotEmpty prepend="," property="User_PrintTitlePrefix">User_PrintTitlePrefix=#User_PrintTitlePrefix#</isNotEmpty>
      <isNotNull prepend="," property="User_IsValid">User_IsValid=#User_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="User_CreatedBy">User_CreatedBy=#User_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="User_CreatedTime">User_CreatedTime=#User_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="User_UpdatedBy">User_UpdatedBy=#User_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="User_TransID">User_TransID=#User_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_User_ID">User_ID=#WHERE_User_ID#</isNotEmpty>
        <!--姓名-->
        <isNotEmpty prepend="AND" property="WHERE_User_Name">User_Name=#WHERE_User_Name#</isNotEmpty>
        <!--密码-->
        <isNotEmpty prepend="AND" property="WHERE_User_Password">User_Password=#WHERE_User_Password#</isNotEmpty>
        <!--工号-->
        <isNotEmpty prepend="AND" property="WHERE_User_EMPNO">User_EMPNO=#WHERE_User_EMPNO#</isNotEmpty>
        <!--身份证号码-->
        <isNotEmpty prepend="AND" property="WHERE_User_IDNo">User_IDNo=#WHERE_User_IDNo#</isNotEmpty>
        <!--性别-->
        <isNotEmpty prepend="AND" property="WHERE_User_Sex">User_Sex=#WHERE_User_Sex#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_User_Address">User_Address=#WHERE_User_Address#</isNotEmpty>
        <!--电话号码-->
        <isNotEmpty prepend="AND" property="WHERE_User_PhoneNo">User_PhoneNo=#WHERE_User_PhoneNo#</isNotEmpty>
        <!--是否允许微信认证-->
        <isNotNull prepend="AND" property="WHERE_User_IsAllowWechatCertificate">User_IsAllowWechatCertificate=#WHERE_User_IsAllowWechatCertificate#</isNotNull>
        <!--是否已微信认证-->
        <isNotNull prepend="AND" property="WHERE_User_IsWechatCertified">User_IsWechatCertified=#WHERE_User_IsWechatCertified#</isNotNull>
        <!--打印标题前缀-->
        <isNotEmpty prepend="AND" property="WHERE_User_PrintTitlePrefix">User_PrintTitlePrefix=#WHERE_User_PrintTitlePrefix#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_User_IsValid">User_IsValid=#WHERE_User_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_User_CreatedBy">User_CreatedBy=#WHERE_User_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">User_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">User_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">User_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_User_UpdatedBy">User_UpdatedBy=#WHERE_User_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">User_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_User_VersionNo">User_VersionNo=#WHERE_User_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_User_TransID">User_TransID=#WHERE_User_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[用户]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_User" parameterClass="List">
      DELETE FROM SM_User
      WHERE User_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_User_ID#
      </iterate>
    </delete>

    <!--新增[用户登录日志]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_UserLoginLog" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_UserLoginLog
        (
        <!--ID-->
        ULL_ID,
        <!--用户ID-->
        ULL_User_ID,
        <!--用户名-->
        ULL_User_Name,
        <!--IP地址-->
        ULL_IPAdress,
        <!--MAC地址-->
        ULL_MACAdress,
        <!--主机名称-->
        ULL_HostName,
        <!--组织ID-->
        ULL_OrgID,
        <!--组织名称-->
        ULL_OrgName,
        <!--日志类型-->
        ULL_LogType,
        <!--终端类型-->
        ULL_TerminalType,
        <!--发生时间-->
        ULL_LogTime,
        <!--有效-->
        ULL_IsValid,
        <!--创建人-->
        ULL_CreatedBy,
        <!--创建时间-->
        ULL_CreatedTime,
        <!--修改人-->
        ULL_UpdatedBy,
        <!--修改时间-->
        ULL_UpdatedTime,
        <!--版本号-->
        ULL_VersionNo,
        <!--事务编号-->
        ULL_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].ULL_ID#,
        <!--用户ID-->
        #[].ULL_User_ID#,
        <!--用户名-->
        #[].ULL_User_Name#,
        <!--IP地址-->
        #[].ULL_IPAdress#,
        <!--MAC地址-->
        #[].ULL_MACAdress#,
        <!--主机名称-->
        #[].ULL_HostName#,
        <!--组织ID-->
        #[].ULL_OrgID#,
        <!--组织名称-->
        #[].ULL_OrgName#,
        <!--日志类型-->
        #[].ULL_LogType#,
        <!--终端类型-->
        #[].ULL_TerminalType#,
        <!--发生时间-->
        #[].ULL_LogTime#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].ULL_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].ULL_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].ULL_TransID#
        )
      </iterate>
    </insert>

    <!--查询[用户登录日志]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_UserLoginLog" parameterClass="MDLSM_UserLoginLog" resultClass="MDLSM_UserLoginLog">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ULL_ID)
      FROM SM_UserLoginLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_ID">ULL_ID=#WHERE_ULL_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_User_ID">ULL_User_ID=#WHERE_ULL_User_ID#</isNotEmpty>
        <!--用户名-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_User_Name">ULL_User_Name=#WHERE_ULL_User_Name#</isNotEmpty>
        <!--IP地址-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_IPAdress">ULL_IPAdress=#WHERE_ULL_IPAdress#</isNotEmpty>
        <!--MAC地址-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_MACAdress">ULL_MACAdress=#WHERE_ULL_MACAdress#</isNotEmpty>
        <!--主机名称-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_HostName">ULL_HostName=#WHERE_ULL_HostName#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_OrgID">ULL_OrgID=#WHERE_ULL_OrgID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_OrgName">ULL_OrgName=#WHERE_ULL_OrgName#</isNotEmpty>
        <!--日志类型-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_LogType">ULL_LogType=#WHERE_ULL_LogType#</isNotEmpty>
        <!--终端类型-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_TerminalType">ULL_TerminalType=#WHERE_ULL_TerminalType#</isNotEmpty>
        <!--发生时间-->
        <isNotNull prepend="" property="_LogTimeStart">
          <isNotNull prepend="AND" property="_LogTimeEnd">ULL_LogTime BETWEEN #_LogTimeStart# AND #_LogTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LogTimeEnd">ULL_LogTime <![CDATA[>=]]> #_LogTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LogTimeStart">
          <isNotNull prepend="AND" property="_LogTimeEnd">ULL_LogTime <![CDATA[<=]]> #_LogTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ULL_IsValid">ULL_IsValid=#WHERE_ULL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_CreatedBy">ULL_CreatedBy=#WHERE_ULL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_UpdatedBy">ULL_UpdatedBy=#WHERE_ULL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ULL_VersionNo">ULL_VersionNo=#WHERE_ULL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_TransID">ULL_TransID=#WHERE_ULL_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ULL_ID,
      ULL_User_ID,
      ULL_User_Name,
      ULL_IPAdress,
      ULL_MACAdress,
      ULL_HostName,
      ULL_OrgID,
      ULL_OrgName,
      ULL_LogType,
      ULL_TerminalType,
      ULL_LogTime,
      ULL_IsValid,
      ULL_CreatedBy,
      ULL_CreatedTime,
      ULL_UpdatedBy,
      ULL_UpdatedTime,
      ULL_VersionNo,
      ULL_TransID
      FROM SM_UserLoginLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_ID">ULL_ID=#WHERE_ULL_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_User_ID">ULL_User_ID=#WHERE_ULL_User_ID#</isNotEmpty>
        <!--用户名-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_User_Name">ULL_User_Name=#WHERE_ULL_User_Name#</isNotEmpty>
        <!--IP地址-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_IPAdress">ULL_IPAdress=#WHERE_ULL_IPAdress#</isNotEmpty>
        <!--MAC地址-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_MACAdress">ULL_MACAdress=#WHERE_ULL_MACAdress#</isNotEmpty>
        <!--主机名称-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_HostName">ULL_HostName=#WHERE_ULL_HostName#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_OrgID">ULL_OrgID=#WHERE_ULL_OrgID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_OrgName">ULL_OrgName=#WHERE_ULL_OrgName#</isNotEmpty>
        <!--日志类型-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_LogType">ULL_LogType=#WHERE_ULL_LogType#</isNotEmpty>
        <!--终端类型-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_TerminalType">ULL_TerminalType=#WHERE_ULL_TerminalType#</isNotEmpty>
        <!--发生时间-->
        <isNotNull prepend="" property="_LogTimeStart">
          <isNotNull prepend="AND" property="_LogTimeEnd">ULL_LogTime BETWEEN #_LogTimeStart# AND #_LogTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LogTimeEnd">ULL_LogTime <![CDATA[>=]]> #_LogTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LogTimeStart">
          <isNotNull prepend="AND" property="_LogTimeEnd">ULL_LogTime <![CDATA[<=]]> #_LogTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ULL_IsValid">ULL_IsValid=#WHERE_ULL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_CreatedBy">ULL_CreatedBy=#WHERE_ULL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_UpdatedBy">ULL_UpdatedBy=#WHERE_ULL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ULL_VersionNo">ULL_VersionNo=#WHERE_ULL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_TransID">ULL_TransID=#WHERE_ULL_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ULL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[用户登录日志]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_UserLoginLog" parameterClass="MDLSM_UserLoginLog" resultClass="MDLSM_UserLoginLog">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ULL_ID)
      FROM SM_UserLoginLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_ID">ULL_ID=#WHERE_ULL_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_User_ID">ULL_User_ID LIKE '%'+#WHERE_ULL_User_ID#+'%'</isNotEmpty>
        <!--用户名-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_User_Name">ULL_User_Name LIKE '%'+#WHERE_ULL_User_Name#+'%'</isNotEmpty>
        <!--IP地址-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_IPAdress">ULL_IPAdress LIKE '%'+#WHERE_ULL_IPAdress#+'%'</isNotEmpty>
        <!--MAC地址-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_MACAdress">ULL_MACAdress LIKE '%'+#WHERE_ULL_MACAdress#+'%'</isNotEmpty>
        <!--主机名称-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_HostName">ULL_HostName LIKE '%'+#WHERE_ULL_HostName#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_OrgID">ULL_OrgID LIKE '%'+#WHERE_ULL_OrgID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_OrgName">ULL_OrgName LIKE '%'+#WHERE_ULL_OrgName#+'%'</isNotEmpty>
        <!--日志类型-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_LogType">ULL_LogType LIKE '%'+#WHERE_ULL_LogType#+'%'</isNotEmpty>
        <!--终端类型-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_TerminalType">ULL_TerminalType LIKE '%'+#WHERE_ULL_TerminalType#+'%'</isNotEmpty>
        <!--发生时间-->
        <isNotNull prepend="" property="_LogTimeStart">
          <isNotNull prepend="AND" property="_LogTimeEnd">ULL_LogTime BETWEEN #_LogTimeStart# AND #_LogTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LogTimeEnd">ULL_LogTime <![CDATA[>=]]> #_LogTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LogTimeStart">
          <isNotNull prepend="AND" property="_LogTimeEnd">ULL_LogTime <![CDATA[<=]]> #_LogTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ULL_IsValid">ULL_IsValid=#WHERE_ULL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_CreatedBy">ULL_CreatedBy LIKE '%'+#WHERE_ULL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_UpdatedBy">ULL_UpdatedBy LIKE '%'+#WHERE_ULL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ULL_VersionNo">ULL_VersionNo=#WHERE_ULL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_TransID">ULL_TransID LIKE '%'+#WHERE_ULL_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ULL_ID,
      ULL_User_ID,
      ULL_User_Name,
      ULL_IPAdress,
      ULL_MACAdress,
      ULL_HostName,
      ULL_OrgID,
      ULL_OrgName,
      ULL_LogType,
      ULL_TerminalType,
      ULL_LogTime,
      ULL_IsValid,
      ULL_CreatedBy,
      ULL_CreatedTime,
      ULL_UpdatedBy,
      ULL_UpdatedTime,
      ULL_VersionNo,
      ULL_TransID
      FROM SM_UserLoginLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_ID">ULL_ID=#WHERE_ULL_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_User_ID">ULL_User_ID LIKE '%'+#WHERE_ULL_User_ID#+'%'</isNotEmpty>
        <!--用户名-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_User_Name">ULL_User_Name LIKE '%'+#WHERE_ULL_User_Name#+'%'</isNotEmpty>
        <!--IP地址-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_IPAdress">ULL_IPAdress LIKE '%'+#WHERE_ULL_IPAdress#+'%'</isNotEmpty>
        <!--MAC地址-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_MACAdress">ULL_MACAdress LIKE '%'+#WHERE_ULL_MACAdress#+'%'</isNotEmpty>
        <!--主机名称-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_HostName">ULL_HostName LIKE '%'+#WHERE_ULL_HostName#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_OrgID">ULL_OrgID LIKE '%'+#WHERE_ULL_OrgID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_OrgName">ULL_OrgName LIKE '%'+#WHERE_ULL_OrgName#+'%'</isNotEmpty>
        <!--日志类型-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_LogType">ULL_LogType LIKE '%'+#WHERE_ULL_LogType#+'%'</isNotEmpty>
        <!--终端类型-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_TerminalType">ULL_TerminalType LIKE '%'+#WHERE_ULL_TerminalType#+'%'</isNotEmpty>
        <!--发生时间-->
        <isNotNull prepend="" property="_LogTimeStart">
          <isNotNull prepend="AND" property="_LogTimeEnd">ULL_LogTime BETWEEN #_LogTimeStart# AND #_LogTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LogTimeEnd">ULL_LogTime <![CDATA[>=]]> #_LogTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LogTimeStart">
          <isNotNull prepend="AND" property="_LogTimeEnd">ULL_LogTime <![CDATA[<=]]> #_LogTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ULL_IsValid">ULL_IsValid=#WHERE_ULL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_CreatedBy">ULL_CreatedBy LIKE '%'+#WHERE_ULL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_UpdatedBy">ULL_UpdatedBy LIKE '%'+#WHERE_ULL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ULL_VersionNo">ULL_VersionNo=#WHERE_ULL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_TransID">ULL_TransID LIKE '%'+#WHERE_ULL_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ULL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[用户登录日志]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_UserLoginLog" parameterClass="MDLSM_UserLoginLog" resultClass="int">
      SELECT COUNT(ULL_ID) 'RecordCount'
      FROM SM_UserLoginLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_ID">ULL_ID=#WHERE_ULL_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_User_ID">ULL_User_ID=#WHERE_ULL_User_ID#</isNotEmpty>
        <!--用户名-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_User_Name">ULL_User_Name=#WHERE_ULL_User_Name#</isNotEmpty>
        <!--IP地址-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_IPAdress">ULL_IPAdress=#WHERE_ULL_IPAdress#</isNotEmpty>
        <!--MAC地址-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_MACAdress">ULL_MACAdress=#WHERE_ULL_MACAdress#</isNotEmpty>
        <!--主机名称-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_HostName">ULL_HostName=#WHERE_ULL_HostName#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_OrgID">ULL_OrgID=#WHERE_ULL_OrgID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_OrgName">ULL_OrgName=#WHERE_ULL_OrgName#</isNotEmpty>
        <!--日志类型-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_LogType">ULL_LogType=#WHERE_ULL_LogType#</isNotEmpty>
        <!--终端类型-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_TerminalType">ULL_TerminalType=#WHERE_ULL_TerminalType#</isNotEmpty>
        <!--发生时间-->
        <isNotNull prepend="" property="_LogTimeStart">
          <isNotNull prepend="AND" property="_LogTimeEnd">ULL_LogTime BETWEEN #_LogTimeStart# AND #_LogTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LogTimeEnd">ULL_LogTime <![CDATA[>=]]> #_LogTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LogTimeStart">
          <isNotNull prepend="AND" property="_LogTimeEnd">ULL_LogTime <![CDATA[<=]]> #_LogTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ULL_IsValid">ULL_IsValid=#WHERE_ULL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_CreatedBy">ULL_CreatedBy=#WHERE_ULL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_UpdatedBy">ULL_UpdatedBy=#WHERE_ULL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ULL_VersionNo">ULL_VersionNo=#WHERE_ULL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_TransID">ULL_TransID=#WHERE_ULL_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[用户登录日志]信息-->
    <update id="COMM_SQL_UpdateMDLSM_UserLoginLog" parameterClass="MDLSM_UserLoginLog" >
      UPDATE SM_UserLoginLog
      SET
      ULL_UpdatedTime=GETDATE(),
      ULL_VersionNo=ULL_VersionNo+1
      <isNotEmpty prepend="," property="ULL_User_ID">ULL_User_ID=#ULL_User_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="ULL_User_Name">ULL_User_Name=#ULL_User_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="ULL_IPAdress">ULL_IPAdress=#ULL_IPAdress#</isNotEmpty>
      <isNotEmpty prepend="," property="ULL_MACAdress">ULL_MACAdress=#ULL_MACAdress#</isNotEmpty>
      <isNotEmpty prepend="," property="ULL_HostName">ULL_HostName=#ULL_HostName#</isNotEmpty>
      <isNotEmpty prepend="," property="ULL_OrgID">ULL_OrgID=#ULL_OrgID#</isNotEmpty>
      <isNotEmpty prepend="," property="ULL_OrgName">ULL_OrgName=#ULL_OrgName#</isNotEmpty>
      <isNotEmpty prepend="," property="ULL_LogType">ULL_LogType=#ULL_LogType#</isNotEmpty>
      <isNotEmpty prepend="," property="ULL_TerminalType">ULL_TerminalType=#ULL_TerminalType#</isNotEmpty>
      <isNotNull prepend="," property="ULL_LogTime">ULL_LogTime=#ULL_LogTime#</isNotNull>
      <isNotNull prepend="," property="ULL_IsValid">ULL_IsValid=#ULL_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="ULL_CreatedBy">ULL_CreatedBy=#ULL_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="ULL_CreatedTime">ULL_CreatedTime=#ULL_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="ULL_UpdatedBy">ULL_UpdatedBy=#ULL_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="ULL_TransID">ULL_TransID=#ULL_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_ID">ULL_ID=#WHERE_ULL_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_User_ID">ULL_User_ID=#WHERE_ULL_User_ID#</isNotEmpty>
        <!--用户名-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_User_Name">ULL_User_Name=#WHERE_ULL_User_Name#</isNotEmpty>
        <!--IP地址-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_IPAdress">ULL_IPAdress=#WHERE_ULL_IPAdress#</isNotEmpty>
        <!--MAC地址-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_MACAdress">ULL_MACAdress=#WHERE_ULL_MACAdress#</isNotEmpty>
        <!--主机名称-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_HostName">ULL_HostName=#WHERE_ULL_HostName#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_OrgID">ULL_OrgID=#WHERE_ULL_OrgID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_OrgName">ULL_OrgName=#WHERE_ULL_OrgName#</isNotEmpty>
        <!--日志类型-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_LogType">ULL_LogType=#WHERE_ULL_LogType#</isNotEmpty>
        <!--终端类型-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_TerminalType">ULL_TerminalType=#WHERE_ULL_TerminalType#</isNotEmpty>
        <!--发生时间-->
        <isNotNull prepend="" property="_LogTimeStart">
          <isNotNull prepend="AND" property="_LogTimeEnd">ULL_LogTime BETWEEN #_LogTimeStart# AND #_LogTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LogTimeEnd">ULL_LogTime <![CDATA[>=]]> #_LogTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LogTimeStart">
          <isNotNull prepend="AND" property="_LogTimeEnd">ULL_LogTime <![CDATA[<=]]> #_LogTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ULL_IsValid">ULL_IsValid=#WHERE_ULL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_CreatedBy">ULL_CreatedBy=#WHERE_ULL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ULL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_UpdatedBy">ULL_UpdatedBy=#WHERE_ULL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ULL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ULL_VersionNo">ULL_VersionNo=#WHERE_ULL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ULL_TransID">ULL_TransID=#WHERE_ULL_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[用户登录日志]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_UserLoginLog" parameterClass="List">
      DELETE FROM SM_UserLoginLog
      WHERE ULL_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_ULL_ID#
      </iterate>
    </delete>

    <!--新增[用户组织]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_UserOrg" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_UserOrg
        (
        <!--用户组织ID-->
        UO_ID,
        <!--用户ID-->
        UO_User_ID,
        <!--组织ID-->
        UO_Org_ID,
        <!--有效-->
        UO_IsValid,
        <!--创建人-->
        UO_CreatedBy,
        <!--创建时间-->
        UO_CreatedTime,
        <!--修改人-->
        UO_UpdatedBy,
        <!--修改时间-->
        UO_UpdatedTime,
        <!--版本号-->
        UO_VersionNo,
        <!--事务编号-->
        UO_TransID
        )
        VALUES
        (
        <!--用户组织ID-->
        #[].UO_ID#,
        <!--用户ID-->
        #[].UO_User_ID#,
        <!--组织ID-->
        #[].UO_Org_ID#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].UO_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].UO_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].UO_TransID#
        )
      </iterate>
    </insert>

    <!--查询[用户组织]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_UserOrg" parameterClass="MDLSM_UserOrg" resultClass="MDLSM_UserOrg">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(UO_ID)
      FROM SM_UserOrg
      <dynamic prepend="WHERE">
        <!--用户组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_ID">UO_ID=#WHERE_UO_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_User_ID">UO_User_ID=#WHERE_UO_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_Org_ID">UO_Org_ID=#WHERE_UO_Org_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UO_IsValid">UO_IsValid=#WHERE_UO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UO_CreatedBy">UO_CreatedBy=#WHERE_UO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UO_UpdatedBy">UO_UpdatedBy=#WHERE_UO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UO_VersionNo">UO_VersionNo=#WHERE_UO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UO_TransID">UO_TransID=#WHERE_UO_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      UO_ID,
      UO_User_ID,
      UO_Org_ID,
      UO_IsValid,
      UO_CreatedBy,
      UO_CreatedTime,
      UO_UpdatedBy,
      UO_UpdatedTime,
      UO_VersionNo,
      UO_TransID
      FROM SM_UserOrg
      <dynamic prepend="WHERE">
        <!--用户组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_ID">UO_ID=#WHERE_UO_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_User_ID">UO_User_ID=#WHERE_UO_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_Org_ID">UO_Org_ID=#WHERE_UO_Org_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UO_IsValid">UO_IsValid=#WHERE_UO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UO_CreatedBy">UO_CreatedBy=#WHERE_UO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UO_UpdatedBy">UO_UpdatedBy=#WHERE_UO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UO_VersionNo">UO_VersionNo=#WHERE_UO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UO_TransID">UO_TransID=#WHERE_UO_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY UO_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[用户组织]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_UserOrg" parameterClass="MDLSM_UserOrg" resultClass="MDLSM_UserOrg">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(UO_ID)
      FROM SM_UserOrg
      <dynamic prepend="WHERE">
        <!--用户组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_ID">UO_ID=#WHERE_UO_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_User_ID">UO_User_ID LIKE '%'+#WHERE_UO_User_ID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_Org_ID">UO_Org_ID LIKE '%'+#WHERE_UO_Org_ID#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UO_IsValid">UO_IsValid=#WHERE_UO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UO_CreatedBy">UO_CreatedBy LIKE '%'+#WHERE_UO_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UO_UpdatedBy">UO_UpdatedBy LIKE '%'+#WHERE_UO_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UO_VersionNo">UO_VersionNo=#WHERE_UO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UO_TransID">UO_TransID LIKE '%'+#WHERE_UO_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      UO_ID,
      UO_User_ID,
      UO_Org_ID,
      UO_IsValid,
      UO_CreatedBy,
      UO_CreatedTime,
      UO_UpdatedBy,
      UO_UpdatedTime,
      UO_VersionNo,
      UO_TransID
      FROM SM_UserOrg
      <dynamic prepend="WHERE">
        <!--用户组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_ID">UO_ID=#WHERE_UO_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_User_ID">UO_User_ID LIKE '%'+#WHERE_UO_User_ID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_Org_ID">UO_Org_ID LIKE '%'+#WHERE_UO_Org_ID#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UO_IsValid">UO_IsValid=#WHERE_UO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UO_CreatedBy">UO_CreatedBy LIKE '%'+#WHERE_UO_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UO_UpdatedBy">UO_UpdatedBy LIKE '%'+#WHERE_UO_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UO_VersionNo">UO_VersionNo=#WHERE_UO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UO_TransID">UO_TransID LIKE '%'+#WHERE_UO_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY UO_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[用户组织]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_UserOrg" parameterClass="MDLSM_UserOrg" resultClass="int">
      SELECT COUNT(UO_ID) 'RecordCount'
      FROM SM_UserOrg
      <dynamic prepend="WHERE">
        <!--用户组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_ID">UO_ID=#WHERE_UO_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_User_ID">UO_User_ID=#WHERE_UO_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_Org_ID">UO_Org_ID=#WHERE_UO_Org_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UO_IsValid">UO_IsValid=#WHERE_UO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UO_CreatedBy">UO_CreatedBy=#WHERE_UO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UO_UpdatedBy">UO_UpdatedBy=#WHERE_UO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UO_VersionNo">UO_VersionNo=#WHERE_UO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UO_TransID">UO_TransID=#WHERE_UO_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[用户组织]信息-->
    <update id="COMM_SQL_UpdateMDLSM_UserOrg" parameterClass="MDLSM_UserOrg" >
      UPDATE SM_UserOrg
      SET
      UO_UpdatedTime=GETDATE(),
      UO_VersionNo=UO_VersionNo+1
      <isNotEmpty prepend="," property="UO_User_ID">UO_User_ID=#UO_User_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="UO_Org_ID">UO_Org_ID=#UO_Org_ID#</isNotEmpty>
      <isNotNull prepend="," property="UO_IsValid">UO_IsValid=#UO_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="UO_CreatedBy">UO_CreatedBy=#UO_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="UO_CreatedTime">UO_CreatedTime=#UO_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="UO_UpdatedBy">UO_UpdatedBy=#UO_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="UO_TransID">UO_TransID=#UO_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--用户组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_ID">UO_ID=#WHERE_UO_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_User_ID">UO_User_ID=#WHERE_UO_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UO_Org_ID">UO_Org_ID=#WHERE_UO_Org_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UO_IsValid">UO_IsValid=#WHERE_UO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UO_CreatedBy">UO_CreatedBy=#WHERE_UO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UO_UpdatedBy">UO_UpdatedBy=#WHERE_UO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UO_VersionNo">UO_VersionNo=#WHERE_UO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UO_TransID">UO_TransID=#WHERE_UO_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[用户组织]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_UserOrg" parameterClass="List">
      DELETE FROM SM_UserOrg
      WHERE UO_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_UO_ID#
      </iterate>
    </delete>

    <!--新增[用户业务角色]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_UserBusinessRole" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_UserBusinessRole
        (
        <!--ID-->
        UBR_ID,
        <!--用户ID-->
        UBR_User_ID,
        <!--组织ID-->
        UBR_Org_ID,
        <!--组织名称-->
        UBR_Org_Name,
        <!--班组名称-->
        UBR_GroupName,
        <!--业务角色-->
        UBR_BusinessRole,
        <!--业务工种-->
        UBR_Jobs,
        <!--行业证件类型-->
        UBR_CertType,
        <!--证件号码-->
        UBR_CertNo,
        <!--能力级别-->
        UBR_TecLevel,
        <!--绩效系数-->
        UBR_PerformanceRatio,
        <!--是否适用于APP-->
        UBR_IsSuitableForApp,
        <!--有效-->
        UBR_IsValid,
        <!--创建人-->
        UBR_CreatedBy,
        <!--创建时间-->
        UBR_CreatedTime,
        <!--修改人-->
        UBR_UpdatedBy,
        <!--修改时间-->
        UBR_UpdatedTime,
        <!--版本号-->
        UBR_VersionNo,
        <!--事务编号-->
        UBR_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].UBR_ID#,
        <!--用户ID-->
        #[].UBR_User_ID#,
        <!--组织ID-->
        #[].UBR_Org_ID#,
        <!--组织名称-->
        #[].UBR_Org_Name#,
        <!--班组名称-->
        #[].UBR_GroupName#,
        <!--业务角色-->
        #[].UBR_BusinessRole#,
        <!--业务工种-->
        #[].UBR_Jobs#,
        <!--行业证件类型-->
        #[].UBR_CertType#,
        <!--证件号码-->
        #[].UBR_CertNo#,
        <!--能力级别-->
        #[].UBR_TecLevel#,
        <!--绩效系数-->
        #[].UBR_PerformanceRatio#,
        <!--是否适用于APP-->
        #[].UBR_IsSuitableForApp#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].UBR_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].UBR_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].UBR_TransID#
        )
      </iterate>
    </insert>

    <!--查询[用户业务角色]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_UserBusinessRole" parameterClass="MDLSM_UserBusinessRole" resultClass="MDLSM_UserBusinessRole">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(UBR_ID)
      FROM SM_UserBusinessRole
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_ID">UBR_ID=#WHERE_UBR_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_User_ID">UBR_User_ID=#WHERE_UBR_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Org_ID">UBR_Org_ID=#WHERE_UBR_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Org_Name">UBR_Org_Name=#WHERE_UBR_Org_Name#</isNotEmpty>
        <!--班组名称-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_GroupName">UBR_GroupName=#WHERE_UBR_GroupName#</isNotEmpty>
        <!--业务角色-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_BusinessRole">UBR_BusinessRole=#WHERE_UBR_BusinessRole#</isNotEmpty>
        <!--业务工种-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Jobs">UBR_Jobs=#WHERE_UBR_Jobs#</isNotEmpty>
        <!--行业证件类型-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CertType">UBR_CertType=#WHERE_UBR_CertType#</isNotEmpty>
        <!--证件号码-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CertNo">UBR_CertNo=#WHERE_UBR_CertNo#</isNotEmpty>
        <!--能力级别-->
        <isNotNull prepend="AND" property="WHERE_UBR_TecLevel">UBR_TecLevel=#WHERE_UBR_TecLevel#</isNotNull>
        <!--绩效系数-->
        <isNotNull prepend="AND" property="WHERE_UBR_PerformanceRatio">UBR_PerformanceRatio=#WHERE_UBR_PerformanceRatio#</isNotNull>
        <!--是否适用于APP-->
        <isNotNull prepend="AND" property="WHERE_UBR_IsSuitableForApp">UBR_IsSuitableForApp=#WHERE_UBR_IsSuitableForApp#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UBR_IsValid">UBR_IsValid=#WHERE_UBR_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CreatedBy">UBR_CreatedBy=#WHERE_UBR_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_UpdatedBy">UBR_UpdatedBy=#WHERE_UBR_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UBR_VersionNo">UBR_VersionNo=#WHERE_UBR_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_TransID">UBR_TransID=#WHERE_UBR_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      UBR_ID,
      UBR_User_ID,
      UBR_Org_ID,
      UBR_Org_Name,
      UBR_GroupName,
      UBR_BusinessRole,
      UBR_Jobs,
      UBR_CertType,
      UBR_CertNo,
      UBR_TecLevel,
      UBR_PerformanceRatio,
      UBR_IsSuitableForApp,
      UBR_IsValid,
      UBR_CreatedBy,
      UBR_CreatedTime,
      UBR_UpdatedBy,
      UBR_UpdatedTime,
      UBR_VersionNo,
      UBR_TransID
      FROM SM_UserBusinessRole
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_ID">UBR_ID=#WHERE_UBR_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_User_ID">UBR_User_ID=#WHERE_UBR_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Org_ID">UBR_Org_ID=#WHERE_UBR_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Org_Name">UBR_Org_Name=#WHERE_UBR_Org_Name#</isNotEmpty>
        <!--班组名称-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_GroupName">UBR_GroupName=#WHERE_UBR_GroupName#</isNotEmpty>
        <!--业务角色-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_BusinessRole">UBR_BusinessRole=#WHERE_UBR_BusinessRole#</isNotEmpty>
        <!--业务工种-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Jobs">UBR_Jobs=#WHERE_UBR_Jobs#</isNotEmpty>
        <!--行业证件类型-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CertType">UBR_CertType=#WHERE_UBR_CertType#</isNotEmpty>
        <!--证件号码-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CertNo">UBR_CertNo=#WHERE_UBR_CertNo#</isNotEmpty>
        <!--能力级别-->
        <isNotNull prepend="AND" property="WHERE_UBR_TecLevel">UBR_TecLevel=#WHERE_UBR_TecLevel#</isNotNull>
        <!--绩效系数-->
        <isNotNull prepend="AND" property="WHERE_UBR_PerformanceRatio">UBR_PerformanceRatio=#WHERE_UBR_PerformanceRatio#</isNotNull>
        <!--是否适用于APP-->
        <isNotNull prepend="AND" property="WHERE_UBR_IsSuitableForApp">UBR_IsSuitableForApp=#WHERE_UBR_IsSuitableForApp#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UBR_IsValid">UBR_IsValid=#WHERE_UBR_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CreatedBy">UBR_CreatedBy=#WHERE_UBR_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_UpdatedBy">UBR_UpdatedBy=#WHERE_UBR_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UBR_VersionNo">UBR_VersionNo=#WHERE_UBR_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_TransID">UBR_TransID=#WHERE_UBR_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY UBR_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[用户业务角色]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_UserBusinessRole" parameterClass="MDLSM_UserBusinessRole" resultClass="MDLSM_UserBusinessRole">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(UBR_ID)
      FROM SM_UserBusinessRole
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_ID">UBR_ID=#WHERE_UBR_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_User_ID">UBR_User_ID LIKE '%'+#WHERE_UBR_User_ID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Org_ID">UBR_Org_ID LIKE '%'+#WHERE_UBR_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Org_Name">UBR_Org_Name LIKE '%'+#WHERE_UBR_Org_Name#+'%'</isNotEmpty>
        <!--班组名称-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_GroupName">UBR_GroupName LIKE '%'+#WHERE_UBR_GroupName#+'%'</isNotEmpty>
        <!--业务角色-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_BusinessRole">UBR_BusinessRole LIKE '%'+#WHERE_UBR_BusinessRole#+'%'</isNotEmpty>
        <!--业务工种-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Jobs">UBR_Jobs LIKE '%'+#WHERE_UBR_Jobs#+'%'</isNotEmpty>
        <!--行业证件类型-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CertType">UBR_CertType LIKE '%'+#WHERE_UBR_CertType#+'%'</isNotEmpty>
        <!--证件号码-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CertNo">UBR_CertNo LIKE '%'+#WHERE_UBR_CertNo#+'%'</isNotEmpty>
        <!--能力级别-->
        <isNotNull prepend="AND" property="WHERE_UBR_TecLevel">UBR_TecLevel=#WHERE_UBR_TecLevel#</isNotNull>
        <!--绩效系数-->
        <isNotNull prepend="AND" property="WHERE_UBR_PerformanceRatio">UBR_PerformanceRatio=#WHERE_UBR_PerformanceRatio#</isNotNull>
        <!--是否适用于APP-->
        <isNotNull prepend="AND" property="WHERE_UBR_IsSuitableForApp">UBR_IsSuitableForApp=#WHERE_UBR_IsSuitableForApp#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UBR_IsValid">UBR_IsValid=#WHERE_UBR_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CreatedBy">UBR_CreatedBy LIKE '%'+#WHERE_UBR_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_UpdatedBy">UBR_UpdatedBy LIKE '%'+#WHERE_UBR_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UBR_VersionNo">UBR_VersionNo=#WHERE_UBR_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_TransID">UBR_TransID LIKE '%'+#WHERE_UBR_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      UBR_ID,
      UBR_User_ID,
      UBR_Org_ID,
      UBR_Org_Name,
      UBR_GroupName,
      UBR_BusinessRole,
      UBR_Jobs,
      UBR_CertType,
      UBR_CertNo,
      UBR_TecLevel,
      UBR_PerformanceRatio,
      UBR_IsSuitableForApp,
      UBR_IsValid,
      UBR_CreatedBy,
      UBR_CreatedTime,
      UBR_UpdatedBy,
      UBR_UpdatedTime,
      UBR_VersionNo,
      UBR_TransID
      FROM SM_UserBusinessRole
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_ID">UBR_ID=#WHERE_UBR_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_User_ID">UBR_User_ID LIKE '%'+#WHERE_UBR_User_ID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Org_ID">UBR_Org_ID LIKE '%'+#WHERE_UBR_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Org_Name">UBR_Org_Name LIKE '%'+#WHERE_UBR_Org_Name#+'%'</isNotEmpty>
        <!--班组名称-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_GroupName">UBR_GroupName LIKE '%'+#WHERE_UBR_GroupName#+'%'</isNotEmpty>
        <!--业务角色-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_BusinessRole">UBR_BusinessRole LIKE '%'+#WHERE_UBR_BusinessRole#+'%'</isNotEmpty>
        <!--业务工种-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Jobs">UBR_Jobs LIKE '%'+#WHERE_UBR_Jobs#+'%'</isNotEmpty>
        <!--行业证件类型-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CertType">UBR_CertType LIKE '%'+#WHERE_UBR_CertType#+'%'</isNotEmpty>
        <!--证件号码-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CertNo">UBR_CertNo LIKE '%'+#WHERE_UBR_CertNo#+'%'</isNotEmpty>
        <!--能力级别-->
        <isNotNull prepend="AND" property="WHERE_UBR_TecLevel">UBR_TecLevel=#WHERE_UBR_TecLevel#</isNotNull>
        <!--绩效系数-->
        <isNotNull prepend="AND" property="WHERE_UBR_PerformanceRatio">UBR_PerformanceRatio=#WHERE_UBR_PerformanceRatio#</isNotNull>
        <!--是否适用于APP-->
        <isNotNull prepend="AND" property="WHERE_UBR_IsSuitableForApp">UBR_IsSuitableForApp=#WHERE_UBR_IsSuitableForApp#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UBR_IsValid">UBR_IsValid=#WHERE_UBR_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CreatedBy">UBR_CreatedBy LIKE '%'+#WHERE_UBR_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_UpdatedBy">UBR_UpdatedBy LIKE '%'+#WHERE_UBR_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UBR_VersionNo">UBR_VersionNo=#WHERE_UBR_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_TransID">UBR_TransID LIKE '%'+#WHERE_UBR_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY UBR_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[用户业务角色]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_UserBusinessRole" parameterClass="MDLSM_UserBusinessRole" resultClass="int">
      SELECT COUNT(UBR_ID) 'RecordCount'
      FROM SM_UserBusinessRole
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_ID">UBR_ID=#WHERE_UBR_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_User_ID">UBR_User_ID=#WHERE_UBR_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Org_ID">UBR_Org_ID=#WHERE_UBR_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Org_Name">UBR_Org_Name=#WHERE_UBR_Org_Name#</isNotEmpty>
        <!--班组名称-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_GroupName">UBR_GroupName=#WHERE_UBR_GroupName#</isNotEmpty>
        <!--业务角色-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_BusinessRole">UBR_BusinessRole=#WHERE_UBR_BusinessRole#</isNotEmpty>
        <!--业务工种-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Jobs">UBR_Jobs=#WHERE_UBR_Jobs#</isNotEmpty>
        <!--行业证件类型-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CertType">UBR_CertType=#WHERE_UBR_CertType#</isNotEmpty>
        <!--证件号码-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CertNo">UBR_CertNo=#WHERE_UBR_CertNo#</isNotEmpty>
        <!--能力级别-->
        <isNotNull prepend="AND" property="WHERE_UBR_TecLevel">UBR_TecLevel=#WHERE_UBR_TecLevel#</isNotNull>
        <!--绩效系数-->
        <isNotNull prepend="AND" property="WHERE_UBR_PerformanceRatio">UBR_PerformanceRatio=#WHERE_UBR_PerformanceRatio#</isNotNull>
        <!--是否适用于APP-->
        <isNotNull prepend="AND" property="WHERE_UBR_IsSuitableForApp">UBR_IsSuitableForApp=#WHERE_UBR_IsSuitableForApp#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UBR_IsValid">UBR_IsValid=#WHERE_UBR_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CreatedBy">UBR_CreatedBy=#WHERE_UBR_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_UpdatedBy">UBR_UpdatedBy=#WHERE_UBR_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UBR_VersionNo">UBR_VersionNo=#WHERE_UBR_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_TransID">UBR_TransID=#WHERE_UBR_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[用户业务角色]信息-->
    <update id="COMM_SQL_UpdateMDLSM_UserBusinessRole" parameterClass="MDLSM_UserBusinessRole" >
      UPDATE SM_UserBusinessRole
      SET
      UBR_UpdatedTime=GETDATE(),
      UBR_VersionNo=UBR_VersionNo+1
      <isNotEmpty prepend="," property="UBR_User_ID">UBR_User_ID=#UBR_User_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="UBR_Org_ID">UBR_Org_ID=#UBR_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="UBR_Org_Name">UBR_Org_Name=#UBR_Org_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="UBR_GroupName">UBR_GroupName=#UBR_GroupName#</isNotEmpty>
      <isNotEmpty prepend="," property="UBR_BusinessRole">UBR_BusinessRole=#UBR_BusinessRole#</isNotEmpty>
      <isNotEmpty prepend="," property="UBR_Jobs">UBR_Jobs=#UBR_Jobs#</isNotEmpty>
      <isNotEmpty prepend="," property="UBR_CertType">UBR_CertType=#UBR_CertType#</isNotEmpty>
      <isNotEmpty prepend="," property="UBR_CertNo">UBR_CertNo=#UBR_CertNo#</isNotEmpty>
      <isNotNull prepend="," property="UBR_TecLevel">UBR_TecLevel=#UBR_TecLevel#</isNotNull>
      <isNotNull prepend="," property="UBR_PerformanceRatio">UBR_PerformanceRatio=#UBR_PerformanceRatio#</isNotNull>
      <isNotNull prepend="," property="UBR_IsSuitableForApp">UBR_IsSuitableForApp=#UBR_IsSuitableForApp#</isNotNull>
      <isNotNull prepend="," property="UBR_IsValid">UBR_IsValid=#UBR_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="UBR_CreatedBy">UBR_CreatedBy=#UBR_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="UBR_CreatedTime">UBR_CreatedTime=#UBR_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="UBR_UpdatedBy">UBR_UpdatedBy=#UBR_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="UBR_TransID">UBR_TransID=#UBR_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_ID">UBR_ID=#WHERE_UBR_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_User_ID">UBR_User_ID=#WHERE_UBR_User_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Org_ID">UBR_Org_ID=#WHERE_UBR_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Org_Name">UBR_Org_Name=#WHERE_UBR_Org_Name#</isNotEmpty>
        <!--班组名称-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_GroupName">UBR_GroupName=#WHERE_UBR_GroupName#</isNotEmpty>
        <!--业务角色-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_BusinessRole">UBR_BusinessRole=#WHERE_UBR_BusinessRole#</isNotEmpty>
        <!--业务工种-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_Jobs">UBR_Jobs=#WHERE_UBR_Jobs#</isNotEmpty>
        <!--行业证件类型-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CertType">UBR_CertType=#WHERE_UBR_CertType#</isNotEmpty>
        <!--证件号码-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CertNo">UBR_CertNo=#WHERE_UBR_CertNo#</isNotEmpty>
        <!--能力级别-->
        <isNotNull prepend="AND" property="WHERE_UBR_TecLevel">UBR_TecLevel=#WHERE_UBR_TecLevel#</isNotNull>
        <!--绩效系数-->
        <isNotNull prepend="AND" property="WHERE_UBR_PerformanceRatio">UBR_PerformanceRatio=#WHERE_UBR_PerformanceRatio#</isNotNull>
        <!--是否适用于APP-->
        <isNotNull prepend="AND" property="WHERE_UBR_IsSuitableForApp">UBR_IsSuitableForApp=#WHERE_UBR_IsSuitableForApp#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UBR_IsValid">UBR_IsValid=#WHERE_UBR_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_CreatedBy">UBR_CreatedBy=#WHERE_UBR_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UBR_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_UpdatedBy">UBR_UpdatedBy=#WHERE_UBR_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UBR_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UBR_VersionNo">UBR_VersionNo=#WHERE_UBR_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UBR_TransID">UBR_TransID=#WHERE_UBR_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[用户业务角色]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_UserBusinessRole" parameterClass="List">
      DELETE FROM SM_UserBusinessRole
      WHERE UBR_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_UBR_ID#
      </iterate>
    </delete>

    <!--新增[用户作业权限]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_UserJobAuthority" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_UserJobAuthority
        (
        <!--用户作业权限ID-->
        UJA_ID,
        <!--用户ID-->
        UJA_User_ID,
        <!--组织-->
        UJA_Org_ID,
        <!--作业ID-->
        UJA_BJ_ID,
        <!--有效-->
        UJA_IsValid,
        <!--创建人-->
        UJA_CreatedBy,
        <!--创建时间-->
        UJA_CreatedTime,
        <!--修改人-->
        UJA_UpdatedBy,
        <!--修改时间-->
        UJA_UpdatedTime,
        <!--版本号-->
        UJA_VersionNo,
        <!--事务编号-->
        UJA_TransID
        )
        VALUES
        (
        <!--用户作业权限ID-->
        #[].UJA_ID#,
        <!--用户ID-->
        #[].UJA_User_ID#,
        <!--组织-->
        #[].UJA_Org_ID#,
        <!--作业ID-->
        #[].UJA_BJ_ID#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].UJA_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].UJA_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].UJA_TransID#
        )
      </iterate>
    </insert>

    <!--查询[用户作业权限]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_UserJobAuthority" parameterClass="MDLSM_UserJobAuthority" resultClass="MDLSM_UserJobAuthority">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(UJA_ID)
      FROM SM_UserJobAuthority
      <dynamic prepend="WHERE">
        <!--用户作业权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_ID">UJA_ID=#WHERE_UJA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_User_ID">UJA_User_ID=#WHERE_UJA_User_ID#</isNotEmpty>
        <!--组织-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_Org_ID">UJA_Org_ID=#WHERE_UJA_Org_ID#</isNotEmpty>
        <!--作业ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_BJ_ID">UJA_BJ_ID=#WHERE_UJA_BJ_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UJA_IsValid">UJA_IsValid=#WHERE_UJA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_CreatedBy">UJA_CreatedBy=#WHERE_UJA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_UpdatedBy">UJA_UpdatedBy=#WHERE_UJA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UJA_VersionNo">UJA_VersionNo=#WHERE_UJA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_TransID">UJA_TransID=#WHERE_UJA_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      UJA_ID,
      UJA_User_ID,
      UJA_Org_ID,
      UJA_BJ_ID,
      UJA_IsValid,
      UJA_CreatedBy,
      UJA_CreatedTime,
      UJA_UpdatedBy,
      UJA_UpdatedTime,
      UJA_VersionNo,
      UJA_TransID
      FROM SM_UserJobAuthority
      <dynamic prepend="WHERE">
        <!--用户作业权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_ID">UJA_ID=#WHERE_UJA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_User_ID">UJA_User_ID=#WHERE_UJA_User_ID#</isNotEmpty>
        <!--组织-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_Org_ID">UJA_Org_ID=#WHERE_UJA_Org_ID#</isNotEmpty>
        <!--作业ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_BJ_ID">UJA_BJ_ID=#WHERE_UJA_BJ_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UJA_IsValid">UJA_IsValid=#WHERE_UJA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_CreatedBy">UJA_CreatedBy=#WHERE_UJA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_UpdatedBy">UJA_UpdatedBy=#WHERE_UJA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UJA_VersionNo">UJA_VersionNo=#WHERE_UJA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_TransID">UJA_TransID=#WHERE_UJA_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY UJA_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[用户作业权限]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_UserJobAuthority" parameterClass="MDLSM_UserJobAuthority" resultClass="MDLSM_UserJobAuthority">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(UJA_ID)
      FROM SM_UserJobAuthority
      <dynamic prepend="WHERE">
        <!--用户作业权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_ID">UJA_ID=#WHERE_UJA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_User_ID">UJA_User_ID LIKE '%'+#WHERE_UJA_User_ID#+'%'</isNotEmpty>
        <!--组织-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_Org_ID">UJA_Org_ID LIKE '%'+#WHERE_UJA_Org_ID#+'%'</isNotEmpty>
        <!--作业ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_BJ_ID">UJA_BJ_ID LIKE '%'+#WHERE_UJA_BJ_ID#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UJA_IsValid">UJA_IsValid=#WHERE_UJA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_CreatedBy">UJA_CreatedBy LIKE '%'+#WHERE_UJA_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_UpdatedBy">UJA_UpdatedBy LIKE '%'+#WHERE_UJA_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UJA_VersionNo">UJA_VersionNo=#WHERE_UJA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_TransID">UJA_TransID LIKE '%'+#WHERE_UJA_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      UJA_ID,
      UJA_User_ID,
      UJA_Org_ID,
      UJA_BJ_ID,
      UJA_IsValid,
      UJA_CreatedBy,
      UJA_CreatedTime,
      UJA_UpdatedBy,
      UJA_UpdatedTime,
      UJA_VersionNo,
      UJA_TransID
      FROM SM_UserJobAuthority
      <dynamic prepend="WHERE">
        <!--用户作业权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_ID">UJA_ID=#WHERE_UJA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_User_ID">UJA_User_ID LIKE '%'+#WHERE_UJA_User_ID#+'%'</isNotEmpty>
        <!--组织-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_Org_ID">UJA_Org_ID LIKE '%'+#WHERE_UJA_Org_ID#+'%'</isNotEmpty>
        <!--作业ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_BJ_ID">UJA_BJ_ID LIKE '%'+#WHERE_UJA_BJ_ID#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UJA_IsValid">UJA_IsValid=#WHERE_UJA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_CreatedBy">UJA_CreatedBy LIKE '%'+#WHERE_UJA_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_UpdatedBy">UJA_UpdatedBy LIKE '%'+#WHERE_UJA_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UJA_VersionNo">UJA_VersionNo=#WHERE_UJA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_TransID">UJA_TransID LIKE '%'+#WHERE_UJA_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY UJA_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[用户作业权限]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_UserJobAuthority" parameterClass="MDLSM_UserJobAuthority" resultClass="int">
      SELECT COUNT(UJA_ID) 'RecordCount'
      FROM SM_UserJobAuthority
      <dynamic prepend="WHERE">
        <!--用户作业权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_ID">UJA_ID=#WHERE_UJA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_User_ID">UJA_User_ID=#WHERE_UJA_User_ID#</isNotEmpty>
        <!--组织-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_Org_ID">UJA_Org_ID=#WHERE_UJA_Org_ID#</isNotEmpty>
        <!--作业ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_BJ_ID">UJA_BJ_ID=#WHERE_UJA_BJ_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UJA_IsValid">UJA_IsValid=#WHERE_UJA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_CreatedBy">UJA_CreatedBy=#WHERE_UJA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_UpdatedBy">UJA_UpdatedBy=#WHERE_UJA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UJA_VersionNo">UJA_VersionNo=#WHERE_UJA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_TransID">UJA_TransID=#WHERE_UJA_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[用户作业权限]信息-->
    <update id="COMM_SQL_UpdateMDLSM_UserJobAuthority" parameterClass="MDLSM_UserJobAuthority" >
      UPDATE SM_UserJobAuthority
      SET
      UJA_UpdatedTime=GETDATE(),
      UJA_VersionNo=UJA_VersionNo+1
      <isNotEmpty prepend="," property="UJA_User_ID">UJA_User_ID=#UJA_User_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="UJA_Org_ID">UJA_Org_ID=#UJA_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="UJA_BJ_ID">UJA_BJ_ID=#UJA_BJ_ID#</isNotEmpty>
      <isNotNull prepend="," property="UJA_IsValid">UJA_IsValid=#UJA_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="UJA_CreatedBy">UJA_CreatedBy=#UJA_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="UJA_CreatedTime">UJA_CreatedTime=#UJA_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="UJA_UpdatedBy">UJA_UpdatedBy=#UJA_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="UJA_TransID">UJA_TransID=#UJA_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--用户作业权限ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_ID">UJA_ID=#WHERE_UJA_ID#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_User_ID">UJA_User_ID=#WHERE_UJA_User_ID#</isNotEmpty>
        <!--组织-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_Org_ID">UJA_Org_ID=#WHERE_UJA_Org_ID#</isNotEmpty>
        <!--作业ID-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_BJ_ID">UJA_BJ_ID=#WHERE_UJA_BJ_ID#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_UJA_IsValid">UJA_IsValid=#WHERE_UJA_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_CreatedBy">UJA_CreatedBy=#WHERE_UJA_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">UJA_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_UpdatedBy">UJA_UpdatedBy=#WHERE_UJA_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">UJA_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_UJA_VersionNo">UJA_VersionNo=#WHERE_UJA_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_UJA_TransID">UJA_TransID=#WHERE_UJA_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[用户作业权限]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_UserJobAuthority" parameterClass="List">
      DELETE FROM SM_UserJobAuthority
      WHERE UJA_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_UJA_ID#
      </iterate>
    </delete>

    <!--新增[汽配汽修商户授权]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_AROrgSupMerchantAuthority" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_AROrgSupMerchantAuthority
        (
        <!--ID-->
        ASAH_ID,
        <!--汽修商户编码-->
        ASAH_ARMerchant_Code,
        <!--汽修商户名称-->
        ASAH_ARMerchant_Name,
        <!--汽修组织编码-->
        ASAH_AROrg_Code,
        <!--汽修组织名称-->
        ASAH_AROrg_Name,
        <!--汽修组织联系人-->
        ASAH_AROrg_Contacter,
        <!--汽修组织联系方式-->
        ASAH_AROrg_Phone,
        <!--备注-->
        ASAH_Remark,
        <!--有效-->
        ASAH_IsValid,
        <!--创建人-->
        ASAH_CreatedBy,
        <!--创建时间-->
        ASAH_CreatedTime,
        <!--修改人-->
        ASAH_UpdatedBy,
        <!--修改时间-->
        ASAH_UpdatedTime,
        <!--版本号-->
        ASAH_VersionNo,
        <!--事务编号-->
        ASAH_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].ASAH_ID#,
        <!--汽修商户编码-->
        #[].ASAH_ARMerchant_Code#,
        <!--汽修商户名称-->
        #[].ASAH_ARMerchant_Name#,
        <!--汽修组织编码-->
        #[].ASAH_AROrg_Code#,
        <!--汽修组织名称-->
        #[].ASAH_AROrg_Name#,
        <!--汽修组织联系人-->
        #[].ASAH_AROrg_Contacter#,
        <!--汽修组织联系方式-->
        #[].ASAH_AROrg_Phone#,
        <!--备注-->
        #[].ASAH_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].ASAH_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].ASAH_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].ASAH_TransID#
        )
      </iterate>
    </insert>

    <!--查询[汽配汽修商户授权]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_AROrgSupMerchantAuthority" parameterClass="MDLSM_AROrgSupMerchantAuthority" resultClass="MDLSM_AROrgSupMerchantAuthority">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ASAH_ID)
      FROM SM_AROrgSupMerchantAuthority
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ID">ASAH_ID=#WHERE_ASAH_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ARMerchant_Code">ASAH_ARMerchant_Code=#WHERE_ASAH_ARMerchant_Code#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ARMerchant_Name">ASAH_ARMerchant_Name=#WHERE_ASAH_ARMerchant_Name#</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Code">ASAH_AROrg_Code=#WHERE_ASAH_AROrg_Code#</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Name">ASAH_AROrg_Name=#WHERE_ASAH_AROrg_Name#</isNotEmpty>
        <!--汽修组织联系人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Contacter">ASAH_AROrg_Contacter=#WHERE_ASAH_AROrg_Contacter#</isNotEmpty>
        <!--汽修组织联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Phone">ASAH_AROrg_Phone=#WHERE_ASAH_AROrg_Phone#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_Remark">ASAH_Remark=#WHERE_ASAH_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ASAH_IsValid">ASAH_IsValid=#WHERE_ASAH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_CreatedBy">ASAH_CreatedBy=#WHERE_ASAH_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_UpdatedBy">ASAH_UpdatedBy=#WHERE_ASAH_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ASAH_VersionNo">ASAH_VersionNo=#WHERE_ASAH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_TransID">ASAH_TransID=#WHERE_ASAH_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ASAH_ID,
      ASAH_ARMerchant_Code,
      ASAH_ARMerchant_Name,
      ASAH_AROrg_Code,
      ASAH_AROrg_Name,
      ASAH_AROrg_Contacter,
      ASAH_AROrg_Phone,
      ASAH_Remark,
      ASAH_IsValid,
      ASAH_CreatedBy,
      ASAH_CreatedTime,
      ASAH_UpdatedBy,
      ASAH_UpdatedTime,
      ASAH_VersionNo,
      ASAH_TransID
      FROM SM_AROrgSupMerchantAuthority
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ID">ASAH_ID=#WHERE_ASAH_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ARMerchant_Code">ASAH_ARMerchant_Code=#WHERE_ASAH_ARMerchant_Code#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ARMerchant_Name">ASAH_ARMerchant_Name=#WHERE_ASAH_ARMerchant_Name#</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Code">ASAH_AROrg_Code=#WHERE_ASAH_AROrg_Code#</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Name">ASAH_AROrg_Name=#WHERE_ASAH_AROrg_Name#</isNotEmpty>
        <!--汽修组织联系人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Contacter">ASAH_AROrg_Contacter=#WHERE_ASAH_AROrg_Contacter#</isNotEmpty>
        <!--汽修组织联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Phone">ASAH_AROrg_Phone=#WHERE_ASAH_AROrg_Phone#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_Remark">ASAH_Remark=#WHERE_ASAH_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ASAH_IsValid">ASAH_IsValid=#WHERE_ASAH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_CreatedBy">ASAH_CreatedBy=#WHERE_ASAH_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_UpdatedBy">ASAH_UpdatedBy=#WHERE_ASAH_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ASAH_VersionNo">ASAH_VersionNo=#WHERE_ASAH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_TransID">ASAH_TransID=#WHERE_ASAH_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ASAH_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[汽配汽修商户授权]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_AROrgSupMerchantAuthority" parameterClass="MDLSM_AROrgSupMerchantAuthority" resultClass="MDLSM_AROrgSupMerchantAuthority">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ASAH_ID)
      FROM SM_AROrgSupMerchantAuthority
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ID">ASAH_ID=#WHERE_ASAH_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ARMerchant_Code">ASAH_ARMerchant_Code LIKE '%'+#WHERE_ASAH_ARMerchant_Code#+'%'</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ARMerchant_Name">ASAH_ARMerchant_Name LIKE '%'+#WHERE_ASAH_ARMerchant_Name#+'%'</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Code">ASAH_AROrg_Code LIKE '%'+#WHERE_ASAH_AROrg_Code#+'%'</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Name">ASAH_AROrg_Name LIKE '%'+#WHERE_ASAH_AROrg_Name#+'%'</isNotEmpty>
        <!--汽修组织联系人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Contacter">ASAH_AROrg_Contacter LIKE '%'+#WHERE_ASAH_AROrg_Contacter#+'%'</isNotEmpty>
        <!--汽修组织联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Phone">ASAH_AROrg_Phone LIKE '%'+#WHERE_ASAH_AROrg_Phone#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_Remark">ASAH_Remark LIKE '%'+#WHERE_ASAH_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ASAH_IsValid">ASAH_IsValid=#WHERE_ASAH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_CreatedBy">ASAH_CreatedBy LIKE '%'+#WHERE_ASAH_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_UpdatedBy">ASAH_UpdatedBy LIKE '%'+#WHERE_ASAH_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ASAH_VersionNo">ASAH_VersionNo=#WHERE_ASAH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_TransID">ASAH_TransID LIKE '%'+#WHERE_ASAH_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ASAH_ID,
      ASAH_ARMerchant_Code,
      ASAH_ARMerchant_Name,
      ASAH_AROrg_Code,
      ASAH_AROrg_Name,
      ASAH_AROrg_Contacter,
      ASAH_AROrg_Phone,
      ASAH_Remark,
      ASAH_IsValid,
      ASAH_CreatedBy,
      ASAH_CreatedTime,
      ASAH_UpdatedBy,
      ASAH_UpdatedTime,
      ASAH_VersionNo,
      ASAH_TransID
      FROM SM_AROrgSupMerchantAuthority
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ID">ASAH_ID=#WHERE_ASAH_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ARMerchant_Code">ASAH_ARMerchant_Code LIKE '%'+#WHERE_ASAH_ARMerchant_Code#+'%'</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ARMerchant_Name">ASAH_ARMerchant_Name LIKE '%'+#WHERE_ASAH_ARMerchant_Name#+'%'</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Code">ASAH_AROrg_Code LIKE '%'+#WHERE_ASAH_AROrg_Code#+'%'</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Name">ASAH_AROrg_Name LIKE '%'+#WHERE_ASAH_AROrg_Name#+'%'</isNotEmpty>
        <!--汽修组织联系人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Contacter">ASAH_AROrg_Contacter LIKE '%'+#WHERE_ASAH_AROrg_Contacter#+'%'</isNotEmpty>
        <!--汽修组织联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Phone">ASAH_AROrg_Phone LIKE '%'+#WHERE_ASAH_AROrg_Phone#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_Remark">ASAH_Remark LIKE '%'+#WHERE_ASAH_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ASAH_IsValid">ASAH_IsValid=#WHERE_ASAH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_CreatedBy">ASAH_CreatedBy LIKE '%'+#WHERE_ASAH_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_UpdatedBy">ASAH_UpdatedBy LIKE '%'+#WHERE_ASAH_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ASAH_VersionNo">ASAH_VersionNo=#WHERE_ASAH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_TransID">ASAH_TransID LIKE '%'+#WHERE_ASAH_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ASAH_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[汽配汽修商户授权]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_AROrgSupMerchantAuthority" parameterClass="MDLSM_AROrgSupMerchantAuthority" resultClass="int">
      SELECT COUNT(ASAH_ID) 'RecordCount'
      FROM SM_AROrgSupMerchantAuthority
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ID">ASAH_ID=#WHERE_ASAH_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ARMerchant_Code">ASAH_ARMerchant_Code=#WHERE_ASAH_ARMerchant_Code#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ARMerchant_Name">ASAH_ARMerchant_Name=#WHERE_ASAH_ARMerchant_Name#</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Code">ASAH_AROrg_Code=#WHERE_ASAH_AROrg_Code#</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Name">ASAH_AROrg_Name=#WHERE_ASAH_AROrg_Name#</isNotEmpty>
        <!--汽修组织联系人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Contacter">ASAH_AROrg_Contacter=#WHERE_ASAH_AROrg_Contacter#</isNotEmpty>
        <!--汽修组织联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Phone">ASAH_AROrg_Phone=#WHERE_ASAH_AROrg_Phone#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_Remark">ASAH_Remark=#WHERE_ASAH_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ASAH_IsValid">ASAH_IsValid=#WHERE_ASAH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_CreatedBy">ASAH_CreatedBy=#WHERE_ASAH_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_UpdatedBy">ASAH_UpdatedBy=#WHERE_ASAH_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ASAH_VersionNo">ASAH_VersionNo=#WHERE_ASAH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_TransID">ASAH_TransID=#WHERE_ASAH_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[汽配汽修商户授权]信息-->
    <update id="COMM_SQL_UpdateMDLSM_AROrgSupMerchantAuthority" parameterClass="MDLSM_AROrgSupMerchantAuthority" >
      UPDATE SM_AROrgSupMerchantAuthority
      SET
      ASAH_UpdatedTime=GETDATE(),
      ASAH_VersionNo=ASAH_VersionNo+1
      <isNotEmpty prepend="," property="ASAH_ARMerchant_Code">ASAH_ARMerchant_Code=#ASAH_ARMerchant_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="ASAH_ARMerchant_Name">ASAH_ARMerchant_Name=#ASAH_ARMerchant_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="ASAH_AROrg_Code">ASAH_AROrg_Code=#ASAH_AROrg_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="ASAH_AROrg_Name">ASAH_AROrg_Name=#ASAH_AROrg_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="ASAH_AROrg_Contacter">ASAH_AROrg_Contacter=#ASAH_AROrg_Contacter#</isNotEmpty>
      <isNotEmpty prepend="," property="ASAH_AROrg_Phone">ASAH_AROrg_Phone=#ASAH_AROrg_Phone#</isNotEmpty>
      <isNotEmpty prepend="," property="ASAH_Remark">ASAH_Remark=#ASAH_Remark#</isNotEmpty>
      <isNotNull prepend="," property="ASAH_IsValid">ASAH_IsValid=#ASAH_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="ASAH_CreatedBy">ASAH_CreatedBy=#ASAH_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="ASAH_CreatedTime">ASAH_CreatedTime=#ASAH_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="ASAH_UpdatedBy">ASAH_UpdatedBy=#ASAH_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="ASAH_TransID">ASAH_TransID=#ASAH_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ID">ASAH_ID=#WHERE_ASAH_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ARMerchant_Code">ASAH_ARMerchant_Code=#WHERE_ASAH_ARMerchant_Code#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_ARMerchant_Name">ASAH_ARMerchant_Name=#WHERE_ASAH_ARMerchant_Name#</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Code">ASAH_AROrg_Code=#WHERE_ASAH_AROrg_Code#</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Name">ASAH_AROrg_Name=#WHERE_ASAH_AROrg_Name#</isNotEmpty>
        <!--汽修组织联系人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Contacter">ASAH_AROrg_Contacter=#WHERE_ASAH_AROrg_Contacter#</isNotEmpty>
        <!--汽修组织联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_AROrg_Phone">ASAH_AROrg_Phone=#WHERE_ASAH_AROrg_Phone#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_Remark">ASAH_Remark=#WHERE_ASAH_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ASAH_IsValid">ASAH_IsValid=#WHERE_ASAH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_CreatedBy">ASAH_CreatedBy=#WHERE_ASAH_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASAH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_UpdatedBy">ASAH_UpdatedBy=#WHERE_ASAH_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASAH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ASAH_VersionNo">ASAH_VersionNo=#WHERE_ASAH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ASAH_TransID">ASAH_TransID=#WHERE_ASAH_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[汽配汽修商户授权]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_AROrgSupMerchantAuthority" parameterClass="List">
      DELETE FROM SM_AROrgSupMerchantAuthority
      WHERE ASAH_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_ASAH_ID#
      </iterate>
    </delete>

    <!--新增[汽配汽修组织授权]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_AROrgSupOrgAuthority" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_AROrgSupOrgAuthority
        (
        <!--ID-->
        ASOAH_ID,
        <!--汽配组织ID-->
        ASOAH_SupOrg_ID,
        <!--汽修商客户ID-->
        ASOAH_AFC_ID,
        <!--汽修商户编码-->
        ASOAH_ARMerchant_Code,
        <!--汽修商户名称-->
        ASOAH_ARMerchant_Name,
        <!--汽修组织编码-->
        ASOAH_AROrg_Code,
        <!--汽修组织名称-->
        ASOAH_AROrg_Name,
        <!--备注-->
        ASOAH_Remark,
        <!--有效-->
        ASOAH_IsValid,
        <!--创建人-->
        ASOAH_CreatedBy,
        <!--创建时间-->
        ASOAH_CreatedTime,
        <!--修改人-->
        ASOAH_UpdatedBy,
        <!--修改时间-->
        ASOAH_UpdatedTime,
        <!--版本号-->
        ASOAH_VersionNo,
        <!--事务编号-->
        ASOAH_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].ASOAH_ID#,
        <!--汽配组织ID-->
        #[].ASOAH_SupOrg_ID#,
        <!--汽修商客户ID-->
        #[].ASOAH_AFC_ID#,
        <!--汽修商户编码-->
        #[].ASOAH_ARMerchant_Code#,
        <!--汽修商户名称-->
        #[].ASOAH_ARMerchant_Name#,
        <!--汽修组织编码-->
        #[].ASOAH_AROrg_Code#,
        <!--汽修组织名称-->
        #[].ASOAH_AROrg_Name#,
        <!--备注-->
        #[].ASOAH_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].ASOAH_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].ASOAH_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].ASOAH_TransID#
        )
      </iterate>
    </insert>

    <!--查询[汽配汽修组织授权]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_AROrgSupOrgAuthority" parameterClass="MDLSM_AROrgSupOrgAuthority" resultClass="MDLSM_AROrgSupOrgAuthority">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ASOAH_ID)
      FROM SM_AROrgSupOrgAuthority
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ID">ASOAH_ID=#WHERE_ASOAH_ID#</isNotEmpty>
        <!--汽配组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_SupOrg_ID">ASOAH_SupOrg_ID=#WHERE_ASOAH_SupOrg_ID#</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AFC_ID">ASOAH_AFC_ID=#WHERE_ASOAH_AFC_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ARMerchant_Code">ASOAH_ARMerchant_Code=#WHERE_ASOAH_ARMerchant_Code#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ARMerchant_Name">ASOAH_ARMerchant_Name=#WHERE_ASOAH_ARMerchant_Name#</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AROrg_Code">ASOAH_AROrg_Code=#WHERE_ASOAH_AROrg_Code#</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AROrg_Name">ASOAH_AROrg_Name=#WHERE_ASOAH_AROrg_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_Remark">ASOAH_Remark=#WHERE_ASOAH_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ASOAH_IsValid">ASOAH_IsValid=#WHERE_ASOAH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_CreatedBy">ASOAH_CreatedBy=#WHERE_ASOAH_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_UpdatedBy">ASOAH_UpdatedBy=#WHERE_ASOAH_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ASOAH_VersionNo">ASOAH_VersionNo=#WHERE_ASOAH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_TransID">ASOAH_TransID=#WHERE_ASOAH_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ASOAH_ID,
      ASOAH_SupOrg_ID,
      ASOAH_AFC_ID,
      ASOAH_ARMerchant_Code,
      ASOAH_ARMerchant_Name,
      ASOAH_AROrg_Code,
      ASOAH_AROrg_Name,
      ASOAH_Remark,
      ASOAH_IsValid,
      ASOAH_CreatedBy,
      ASOAH_CreatedTime,
      ASOAH_UpdatedBy,
      ASOAH_UpdatedTime,
      ASOAH_VersionNo,
      ASOAH_TransID
      FROM SM_AROrgSupOrgAuthority
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ID">ASOAH_ID=#WHERE_ASOAH_ID#</isNotEmpty>
        <!--汽配组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_SupOrg_ID">ASOAH_SupOrg_ID=#WHERE_ASOAH_SupOrg_ID#</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AFC_ID">ASOAH_AFC_ID=#WHERE_ASOAH_AFC_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ARMerchant_Code">ASOAH_ARMerchant_Code=#WHERE_ASOAH_ARMerchant_Code#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ARMerchant_Name">ASOAH_ARMerchant_Name=#WHERE_ASOAH_ARMerchant_Name#</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AROrg_Code">ASOAH_AROrg_Code=#WHERE_ASOAH_AROrg_Code#</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AROrg_Name">ASOAH_AROrg_Name=#WHERE_ASOAH_AROrg_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_Remark">ASOAH_Remark=#WHERE_ASOAH_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ASOAH_IsValid">ASOAH_IsValid=#WHERE_ASOAH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_CreatedBy">ASOAH_CreatedBy=#WHERE_ASOAH_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_UpdatedBy">ASOAH_UpdatedBy=#WHERE_ASOAH_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ASOAH_VersionNo">ASOAH_VersionNo=#WHERE_ASOAH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_TransID">ASOAH_TransID=#WHERE_ASOAH_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ASOAH_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[汽配汽修组织授权]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_AROrgSupOrgAuthority" parameterClass="MDLSM_AROrgSupOrgAuthority" resultClass="MDLSM_AROrgSupOrgAuthority">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ASOAH_ID)
      FROM SM_AROrgSupOrgAuthority
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ID">ASOAH_ID=#WHERE_ASOAH_ID#</isNotEmpty>
        <!--汽配组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_SupOrg_ID">ASOAH_SupOrg_ID LIKE '%'+#WHERE_ASOAH_SupOrg_ID#+'%'</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AFC_ID">ASOAH_AFC_ID LIKE '%'+#WHERE_ASOAH_AFC_ID#+'%'</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ARMerchant_Code">ASOAH_ARMerchant_Code LIKE '%'+#WHERE_ASOAH_ARMerchant_Code#+'%'</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ARMerchant_Name">ASOAH_ARMerchant_Name LIKE '%'+#WHERE_ASOAH_ARMerchant_Name#+'%'</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AROrg_Code">ASOAH_AROrg_Code LIKE '%'+#WHERE_ASOAH_AROrg_Code#+'%'</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AROrg_Name">ASOAH_AROrg_Name LIKE '%'+#WHERE_ASOAH_AROrg_Name#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_Remark">ASOAH_Remark LIKE '%'+#WHERE_ASOAH_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ASOAH_IsValid">ASOAH_IsValid=#WHERE_ASOAH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_CreatedBy">ASOAH_CreatedBy LIKE '%'+#WHERE_ASOAH_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_UpdatedBy">ASOAH_UpdatedBy LIKE '%'+#WHERE_ASOAH_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ASOAH_VersionNo">ASOAH_VersionNo=#WHERE_ASOAH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_TransID">ASOAH_TransID LIKE '%'+#WHERE_ASOAH_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ASOAH_ID,
      ASOAH_SupOrg_ID,
      ASOAH_AFC_ID,
      ASOAH_ARMerchant_Code,
      ASOAH_ARMerchant_Name,
      ASOAH_AROrg_Code,
      ASOAH_AROrg_Name,
      ASOAH_Remark,
      ASOAH_IsValid,
      ASOAH_CreatedBy,
      ASOAH_CreatedTime,
      ASOAH_UpdatedBy,
      ASOAH_UpdatedTime,
      ASOAH_VersionNo,
      ASOAH_TransID
      FROM SM_AROrgSupOrgAuthority
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ID">ASOAH_ID=#WHERE_ASOAH_ID#</isNotEmpty>
        <!--汽配组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_SupOrg_ID">ASOAH_SupOrg_ID LIKE '%'+#WHERE_ASOAH_SupOrg_ID#+'%'</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AFC_ID">ASOAH_AFC_ID LIKE '%'+#WHERE_ASOAH_AFC_ID#+'%'</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ARMerchant_Code">ASOAH_ARMerchant_Code LIKE '%'+#WHERE_ASOAH_ARMerchant_Code#+'%'</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ARMerchant_Name">ASOAH_ARMerchant_Name LIKE '%'+#WHERE_ASOAH_ARMerchant_Name#+'%'</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AROrg_Code">ASOAH_AROrg_Code LIKE '%'+#WHERE_ASOAH_AROrg_Code#+'%'</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AROrg_Name">ASOAH_AROrg_Name LIKE '%'+#WHERE_ASOAH_AROrg_Name#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_Remark">ASOAH_Remark LIKE '%'+#WHERE_ASOAH_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ASOAH_IsValid">ASOAH_IsValid=#WHERE_ASOAH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_CreatedBy">ASOAH_CreatedBy LIKE '%'+#WHERE_ASOAH_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_UpdatedBy">ASOAH_UpdatedBy LIKE '%'+#WHERE_ASOAH_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ASOAH_VersionNo">ASOAH_VersionNo=#WHERE_ASOAH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_TransID">ASOAH_TransID LIKE '%'+#WHERE_ASOAH_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ASOAH_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[汽配汽修组织授权]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_AROrgSupOrgAuthority" parameterClass="MDLSM_AROrgSupOrgAuthority" resultClass="int">
      SELECT COUNT(ASOAH_ID) 'RecordCount'
      FROM SM_AROrgSupOrgAuthority
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ID">ASOAH_ID=#WHERE_ASOAH_ID#</isNotEmpty>
        <!--汽配组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_SupOrg_ID">ASOAH_SupOrg_ID=#WHERE_ASOAH_SupOrg_ID#</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AFC_ID">ASOAH_AFC_ID=#WHERE_ASOAH_AFC_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ARMerchant_Code">ASOAH_ARMerchant_Code=#WHERE_ASOAH_ARMerchant_Code#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ARMerchant_Name">ASOAH_ARMerchant_Name=#WHERE_ASOAH_ARMerchant_Name#</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AROrg_Code">ASOAH_AROrg_Code=#WHERE_ASOAH_AROrg_Code#</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AROrg_Name">ASOAH_AROrg_Name=#WHERE_ASOAH_AROrg_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_Remark">ASOAH_Remark=#WHERE_ASOAH_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ASOAH_IsValid">ASOAH_IsValid=#WHERE_ASOAH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_CreatedBy">ASOAH_CreatedBy=#WHERE_ASOAH_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_UpdatedBy">ASOAH_UpdatedBy=#WHERE_ASOAH_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ASOAH_VersionNo">ASOAH_VersionNo=#WHERE_ASOAH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_TransID">ASOAH_TransID=#WHERE_ASOAH_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[汽配汽修组织授权]信息-->
    <update id="COMM_SQL_UpdateMDLSM_AROrgSupOrgAuthority" parameterClass="MDLSM_AROrgSupOrgAuthority" >
      UPDATE SM_AROrgSupOrgAuthority
      SET
      ASOAH_UpdatedTime=GETDATE(),
      ASOAH_VersionNo=ASOAH_VersionNo+1
      <isNotEmpty prepend="," property="ASOAH_SupOrg_ID">ASOAH_SupOrg_ID=#ASOAH_SupOrg_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="ASOAH_AFC_ID">ASOAH_AFC_ID=#ASOAH_AFC_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="ASOAH_ARMerchant_Code">ASOAH_ARMerchant_Code=#ASOAH_ARMerchant_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="ASOAH_ARMerchant_Name">ASOAH_ARMerchant_Name=#ASOAH_ARMerchant_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="ASOAH_AROrg_Code">ASOAH_AROrg_Code=#ASOAH_AROrg_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="ASOAH_AROrg_Name">ASOAH_AROrg_Name=#ASOAH_AROrg_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="ASOAH_Remark">ASOAH_Remark=#ASOAH_Remark#</isNotEmpty>
      <isNotNull prepend="," property="ASOAH_IsValid">ASOAH_IsValid=#ASOAH_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="ASOAH_CreatedBy">ASOAH_CreatedBy=#ASOAH_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="ASOAH_CreatedTime">ASOAH_CreatedTime=#ASOAH_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="ASOAH_UpdatedBy">ASOAH_UpdatedBy=#ASOAH_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="ASOAH_TransID">ASOAH_TransID=#ASOAH_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ID">ASOAH_ID=#WHERE_ASOAH_ID#</isNotEmpty>
        <!--汽配组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_SupOrg_ID">ASOAH_SupOrg_ID=#WHERE_ASOAH_SupOrg_ID#</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AFC_ID">ASOAH_AFC_ID=#WHERE_ASOAH_AFC_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ARMerchant_Code">ASOAH_ARMerchant_Code=#WHERE_ASOAH_ARMerchant_Code#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_ARMerchant_Name">ASOAH_ARMerchant_Name=#WHERE_ASOAH_ARMerchant_Name#</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AROrg_Code">ASOAH_AROrg_Code=#WHERE_ASOAH_AROrg_Code#</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_AROrg_Name">ASOAH_AROrg_Name=#WHERE_ASOAH_AROrg_Name#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_Remark">ASOAH_Remark=#WHERE_ASOAH_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ASOAH_IsValid">ASOAH_IsValid=#WHERE_ASOAH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_CreatedBy">ASOAH_CreatedBy=#WHERE_ASOAH_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ASOAH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_UpdatedBy">ASOAH_UpdatedBy=#WHERE_ASOAH_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ASOAH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ASOAH_VersionNo">ASOAH_VersionNo=#WHERE_ASOAH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ASOAH_TransID">ASOAH_TransID=#WHERE_ASOAH_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[汽配汽修组织授权]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_AROrgSupOrgAuthority" parameterClass="List">
      DELETE FROM SM_AROrgSupOrgAuthority
      WHERE ASOAH_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_ASOAH_ID#
      </iterate>
    </delete>

    <!--新增[使用许可证]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_ClientUseLicense" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_ClientUseLicense
        (
        <!--许可证ID-->
        CUL_ID,
        <!--许可证号-->
        CUL_No,
        <!--组织ID-->
        CUL_Org_ID,
        <!--组织名称-->
        CUL_Org_Name,
        <!--用户姓名-->
        CUL_Name,
        <!--申请原因-->
        CUL_ApplyReason,
        <!--联系方式-->
        CUL_ContactNo,
        <!--网卡类型1-->
        CUL_NetworkCardType1,
        <!--网卡地址1-->
        CUL_MACAdress1,
        <!--网卡类型2-->
        CUL_NetworkCardType2,
        <!--网卡地址2-->
        CUL_MACAdress2,
        <!--网卡类型3-->
        CUL_NetworkCardType3,
        <!--网卡地址3-->
        CUL_MACAdress3,
        <!--审核状态-->
        CUL_ApproveStatus,
        <!--失效日期-->
        CUL_InvalidDate,
        <!--备注-->
        CUL_Remark,
        <!--有效-->
        CUL_IsValid,
        <!--创建人-->
        CUL_CreatedBy,
        <!--创建时间-->
        CUL_CreatedTime,
        <!--修改人-->
        CUL_UpdatedBy,
        <!--修改时间-->
        CUL_UpdatedTime,
        <!--版本号-->
        CUL_VersionNo,
        <!--事务编号-->
        CUL_TransID
        )
        VALUES
        (
        <!--许可证ID-->
        #[].CUL_ID#,
        <!--许可证号-->
        #[].CUL_No#,
        <!--组织ID-->
        #[].CUL_Org_ID#,
        <!--组织名称-->
        #[].CUL_Org_Name#,
        <!--用户姓名-->
        #[].CUL_Name#,
        <!--申请原因-->
        #[].CUL_ApplyReason#,
        <!--联系方式-->
        #[].CUL_ContactNo#,
        <!--网卡类型1-->
        #[].CUL_NetworkCardType1#,
        <!--网卡地址1-->
        #[].CUL_MACAdress1#,
        <!--网卡类型2-->
        #[].CUL_NetworkCardType2#,
        <!--网卡地址2-->
        #[].CUL_MACAdress2#,
        <!--网卡类型3-->
        #[].CUL_NetworkCardType3#,
        <!--网卡地址3-->
        #[].CUL_MACAdress3#,
        <!--审核状态-->
        #[].CUL_ApproveStatus#,
        <!--失效日期-->
        #[].CUL_InvalidDate#,
        <!--备注-->
        #[].CUL_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].CUL_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].CUL_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].CUL_TransID#
        )
      </iterate>
    </insert>

    <!--查询[使用许可证]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_ClientUseLicense" parameterClass="MDLSM_ClientUseLicense" resultClass="MDLSM_ClientUseLicense">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(CUL_ID)
      FROM SM_ClientUseLicense
      <dynamic prepend="WHERE">
        <!--许可证ID-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ID">CUL_ID=#WHERE_CUL_ID#</isNotEmpty>
        <!--许可证号-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_No">CUL_No=#WHERE_CUL_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Org_ID">CUL_Org_ID=#WHERE_CUL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Org_Name">CUL_Org_Name=#WHERE_CUL_Org_Name#</isNotEmpty>
        <!--用户姓名-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Name">CUL_Name=#WHERE_CUL_Name#</isNotEmpty>
        <!--申请原因-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ApplyReason">CUL_ApplyReason=#WHERE_CUL_ApplyReason#</isNotEmpty>
        <!--联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ContactNo">CUL_ContactNo=#WHERE_CUL_ContactNo#</isNotEmpty>
        <!--网卡类型1-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType1">CUL_NetworkCardType1=#WHERE_CUL_NetworkCardType1#</isNotEmpty>
        <!--网卡地址1-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress1">CUL_MACAdress1=#WHERE_CUL_MACAdress1#</isNotEmpty>
        <!--网卡类型2-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType2">CUL_NetworkCardType2=#WHERE_CUL_NetworkCardType2#</isNotEmpty>
        <!--网卡地址2-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress2">CUL_MACAdress2=#WHERE_CUL_MACAdress2#</isNotEmpty>
        <!--网卡类型3-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType3">CUL_NetworkCardType3=#WHERE_CUL_NetworkCardType3#</isNotEmpty>
        <!--网卡地址3-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress3">CUL_MACAdress3=#WHERE_CUL_MACAdress3#</isNotEmpty>
        <!--审核状态-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ApproveStatus">CUL_ApproveStatus=#WHERE_CUL_ApproveStatus#</isNotEmpty>
        <!--失效日期-->
        <isNotNull prepend="" property="_InvalidDateStart">
          <isNotNull prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate BETWEEN #_InvalidDateStart# AND #_InvalidDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate <![CDATA[>=]]> #_InvalidDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_InvalidDateStart">
          <isNotNull prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate <![CDATA[<=]]> #_InvalidDateEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Remark">CUL_Remark=#WHERE_CUL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CUL_IsValid">CUL_IsValid=#WHERE_CUL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_CreatedBy">CUL_CreatedBy=#WHERE_CUL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_UpdatedBy">CUL_UpdatedBy=#WHERE_CUL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CUL_VersionNo">CUL_VersionNo=#WHERE_CUL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_TransID">CUL_TransID=#WHERE_CUL_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      CUL_ID,
      CUL_No,
      CUL_Org_ID,
      CUL_Org_Name,
      CUL_Name,
      CUL_ApplyReason,
      CUL_ContactNo,
      CUL_NetworkCardType1,
      CUL_MACAdress1,
      CUL_NetworkCardType2,
      CUL_MACAdress2,
      CUL_NetworkCardType3,
      CUL_MACAdress3,
      CUL_ApproveStatus,
      CUL_InvalidDate,
      CUL_Remark,
      CUL_IsValid,
      CUL_CreatedBy,
      CUL_CreatedTime,
      CUL_UpdatedBy,
      CUL_UpdatedTime,
      CUL_VersionNo,
      CUL_TransID
      FROM SM_ClientUseLicense
      <dynamic prepend="WHERE">
        <!--许可证ID-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ID">CUL_ID=#WHERE_CUL_ID#</isNotEmpty>
        <!--许可证号-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_No">CUL_No=#WHERE_CUL_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Org_ID">CUL_Org_ID=#WHERE_CUL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Org_Name">CUL_Org_Name=#WHERE_CUL_Org_Name#</isNotEmpty>
        <!--用户姓名-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Name">CUL_Name=#WHERE_CUL_Name#</isNotEmpty>
        <!--申请原因-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ApplyReason">CUL_ApplyReason=#WHERE_CUL_ApplyReason#</isNotEmpty>
        <!--联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ContactNo">CUL_ContactNo=#WHERE_CUL_ContactNo#</isNotEmpty>
        <!--网卡类型1-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType1">CUL_NetworkCardType1=#WHERE_CUL_NetworkCardType1#</isNotEmpty>
        <!--网卡地址1-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress1">CUL_MACAdress1=#WHERE_CUL_MACAdress1#</isNotEmpty>
        <!--网卡类型2-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType2">CUL_NetworkCardType2=#WHERE_CUL_NetworkCardType2#</isNotEmpty>
        <!--网卡地址2-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress2">CUL_MACAdress2=#WHERE_CUL_MACAdress2#</isNotEmpty>
        <!--网卡类型3-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType3">CUL_NetworkCardType3=#WHERE_CUL_NetworkCardType3#</isNotEmpty>
        <!--网卡地址3-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress3">CUL_MACAdress3=#WHERE_CUL_MACAdress3#</isNotEmpty>
        <!--审核状态-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ApproveStatus">CUL_ApproveStatus=#WHERE_CUL_ApproveStatus#</isNotEmpty>
        <!--失效日期-->
        <isNotNull prepend="" property="_InvalidDateStart">
          <isNotNull prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate BETWEEN #_InvalidDateStart# AND #_InvalidDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate <![CDATA[>=]]> #_InvalidDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_InvalidDateStart">
          <isNotNull prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate <![CDATA[<=]]> #_InvalidDateEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Remark">CUL_Remark=#WHERE_CUL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CUL_IsValid">CUL_IsValid=#WHERE_CUL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_CreatedBy">CUL_CreatedBy=#WHERE_CUL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_UpdatedBy">CUL_UpdatedBy=#WHERE_CUL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CUL_VersionNo">CUL_VersionNo=#WHERE_CUL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_TransID">CUL_TransID=#WHERE_CUL_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY CUL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[使用许可证]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_ClientUseLicense" parameterClass="MDLSM_ClientUseLicense" resultClass="MDLSM_ClientUseLicense">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(CUL_ID)
      FROM SM_ClientUseLicense
      <dynamic prepend="WHERE">
        <!--许可证ID-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ID">CUL_ID=#WHERE_CUL_ID#</isNotEmpty>
        <!--许可证号-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_No">CUL_No LIKE '%'+#WHERE_CUL_No#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Org_ID">CUL_Org_ID LIKE '%'+#WHERE_CUL_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Org_Name">CUL_Org_Name LIKE '%'+#WHERE_CUL_Org_Name#+'%'</isNotEmpty>
        <!--用户姓名-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Name">CUL_Name LIKE '%'+#WHERE_CUL_Name#+'%'</isNotEmpty>
        <!--申请原因-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ApplyReason">CUL_ApplyReason LIKE '%'+#WHERE_CUL_ApplyReason#+'%'</isNotEmpty>
        <!--联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ContactNo">CUL_ContactNo LIKE '%'+#WHERE_CUL_ContactNo#+'%'</isNotEmpty>
        <!--网卡类型1-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType1">CUL_NetworkCardType1 LIKE '%'+#WHERE_CUL_NetworkCardType1#+'%'</isNotEmpty>
        <!--网卡地址1-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress1">CUL_MACAdress1 LIKE '%'+#WHERE_CUL_MACAdress1#+'%'</isNotEmpty>
        <!--网卡类型2-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType2">CUL_NetworkCardType2 LIKE '%'+#WHERE_CUL_NetworkCardType2#+'%'</isNotEmpty>
        <!--网卡地址2-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress2">CUL_MACAdress2 LIKE '%'+#WHERE_CUL_MACAdress2#+'%'</isNotEmpty>
        <!--网卡类型3-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType3">CUL_NetworkCardType3 LIKE '%'+#WHERE_CUL_NetworkCardType3#+'%'</isNotEmpty>
        <!--网卡地址3-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress3">CUL_MACAdress3 LIKE '%'+#WHERE_CUL_MACAdress3#+'%'</isNotEmpty>
        <!--审核状态-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ApproveStatus">CUL_ApproveStatus LIKE '%'+#WHERE_CUL_ApproveStatus#+'%'</isNotEmpty>
        <!--失效日期-->
        <isNotNull prepend="" property="_InvalidDateStart">
          <isNotNull prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate BETWEEN #_InvalidDateStart# AND #_InvalidDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate <![CDATA[>=]]> #_InvalidDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_InvalidDateStart">
          <isNotNull prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate <![CDATA[<=]]> #_InvalidDateEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Remark">CUL_Remark LIKE '%'+#WHERE_CUL_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CUL_IsValid">CUL_IsValid=#WHERE_CUL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_CreatedBy">CUL_CreatedBy LIKE '%'+#WHERE_CUL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_UpdatedBy">CUL_UpdatedBy LIKE '%'+#WHERE_CUL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CUL_VersionNo">CUL_VersionNo=#WHERE_CUL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_TransID">CUL_TransID LIKE '%'+#WHERE_CUL_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      CUL_ID,
      CUL_No,
      CUL_Org_ID,
      CUL_Org_Name,
      CUL_Name,
      CUL_ApplyReason,
      CUL_ContactNo,
      CUL_NetworkCardType1,
      CUL_MACAdress1,
      CUL_NetworkCardType2,
      CUL_MACAdress2,
      CUL_NetworkCardType3,
      CUL_MACAdress3,
      CUL_ApproveStatus,
      CUL_InvalidDate,
      CUL_Remark,
      CUL_IsValid,
      CUL_CreatedBy,
      CUL_CreatedTime,
      CUL_UpdatedBy,
      CUL_UpdatedTime,
      CUL_VersionNo,
      CUL_TransID
      FROM SM_ClientUseLicense
      <dynamic prepend="WHERE">
        <!--许可证ID-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ID">CUL_ID=#WHERE_CUL_ID#</isNotEmpty>
        <!--许可证号-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_No">CUL_No LIKE '%'+#WHERE_CUL_No#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Org_ID">CUL_Org_ID LIKE '%'+#WHERE_CUL_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Org_Name">CUL_Org_Name LIKE '%'+#WHERE_CUL_Org_Name#+'%'</isNotEmpty>
        <!--用户姓名-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Name">CUL_Name LIKE '%'+#WHERE_CUL_Name#+'%'</isNotEmpty>
        <!--申请原因-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ApplyReason">CUL_ApplyReason LIKE '%'+#WHERE_CUL_ApplyReason#+'%'</isNotEmpty>
        <!--联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ContactNo">CUL_ContactNo LIKE '%'+#WHERE_CUL_ContactNo#+'%'</isNotEmpty>
        <!--网卡类型1-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType1">CUL_NetworkCardType1 LIKE '%'+#WHERE_CUL_NetworkCardType1#+'%'</isNotEmpty>
        <!--网卡地址1-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress1">CUL_MACAdress1 LIKE '%'+#WHERE_CUL_MACAdress1#+'%'</isNotEmpty>
        <!--网卡类型2-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType2">CUL_NetworkCardType2 LIKE '%'+#WHERE_CUL_NetworkCardType2#+'%'</isNotEmpty>
        <!--网卡地址2-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress2">CUL_MACAdress2 LIKE '%'+#WHERE_CUL_MACAdress2#+'%'</isNotEmpty>
        <!--网卡类型3-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType3">CUL_NetworkCardType3 LIKE '%'+#WHERE_CUL_NetworkCardType3#+'%'</isNotEmpty>
        <!--网卡地址3-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress3">CUL_MACAdress3 LIKE '%'+#WHERE_CUL_MACAdress3#+'%'</isNotEmpty>
        <!--审核状态-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ApproveStatus">CUL_ApproveStatus LIKE '%'+#WHERE_CUL_ApproveStatus#+'%'</isNotEmpty>
        <!--失效日期-->
        <isNotNull prepend="" property="_InvalidDateStart">
          <isNotNull prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate BETWEEN #_InvalidDateStart# AND #_InvalidDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate <![CDATA[>=]]> #_InvalidDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_InvalidDateStart">
          <isNotNull prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate <![CDATA[<=]]> #_InvalidDateEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Remark">CUL_Remark LIKE '%'+#WHERE_CUL_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CUL_IsValid">CUL_IsValid=#WHERE_CUL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_CreatedBy">CUL_CreatedBy LIKE '%'+#WHERE_CUL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_UpdatedBy">CUL_UpdatedBy LIKE '%'+#WHERE_CUL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CUL_VersionNo">CUL_VersionNo=#WHERE_CUL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_TransID">CUL_TransID LIKE '%'+#WHERE_CUL_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY CUL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[使用许可证]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_ClientUseLicense" parameterClass="MDLSM_ClientUseLicense" resultClass="int">
      SELECT COUNT(CUL_ID) 'RecordCount'
      FROM SM_ClientUseLicense
      <dynamic prepend="WHERE">
        <!--许可证ID-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ID">CUL_ID=#WHERE_CUL_ID#</isNotEmpty>
        <!--许可证号-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_No">CUL_No=#WHERE_CUL_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Org_ID">CUL_Org_ID=#WHERE_CUL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Org_Name">CUL_Org_Name=#WHERE_CUL_Org_Name#</isNotEmpty>
        <!--用户姓名-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Name">CUL_Name=#WHERE_CUL_Name#</isNotEmpty>
        <!--申请原因-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ApplyReason">CUL_ApplyReason=#WHERE_CUL_ApplyReason#</isNotEmpty>
        <!--联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ContactNo">CUL_ContactNo=#WHERE_CUL_ContactNo#</isNotEmpty>
        <!--网卡类型1-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType1">CUL_NetworkCardType1=#WHERE_CUL_NetworkCardType1#</isNotEmpty>
        <!--网卡地址1-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress1">CUL_MACAdress1=#WHERE_CUL_MACAdress1#</isNotEmpty>
        <!--网卡类型2-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType2">CUL_NetworkCardType2=#WHERE_CUL_NetworkCardType2#</isNotEmpty>
        <!--网卡地址2-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress2">CUL_MACAdress2=#WHERE_CUL_MACAdress2#</isNotEmpty>
        <!--网卡类型3-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType3">CUL_NetworkCardType3=#WHERE_CUL_NetworkCardType3#</isNotEmpty>
        <!--网卡地址3-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress3">CUL_MACAdress3=#WHERE_CUL_MACAdress3#</isNotEmpty>
        <!--审核状态-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ApproveStatus">CUL_ApproveStatus=#WHERE_CUL_ApproveStatus#</isNotEmpty>
        <!--失效日期-->
        <isNotNull prepend="" property="_InvalidDateStart">
          <isNotNull prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate BETWEEN #_InvalidDateStart# AND #_InvalidDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate <![CDATA[>=]]> #_InvalidDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_InvalidDateStart">
          <isNotNull prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate <![CDATA[<=]]> #_InvalidDateEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Remark">CUL_Remark=#WHERE_CUL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CUL_IsValid">CUL_IsValid=#WHERE_CUL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_CreatedBy">CUL_CreatedBy=#WHERE_CUL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_UpdatedBy">CUL_UpdatedBy=#WHERE_CUL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CUL_VersionNo">CUL_VersionNo=#WHERE_CUL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_TransID">CUL_TransID=#WHERE_CUL_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[使用许可证]信息-->
    <update id="COMM_SQL_UpdateMDLSM_ClientUseLicense" parameterClass="MDLSM_ClientUseLicense" >
      UPDATE SM_ClientUseLicense
      SET
      CUL_UpdatedTime=GETDATE(),
      CUL_VersionNo=CUL_VersionNo+1
      <isNotEmpty prepend="," property="CUL_No">CUL_No=#CUL_No#</isNotEmpty>
      <isNotEmpty prepend="," property="CUL_Org_ID">CUL_Org_ID=#CUL_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="CUL_Org_Name">CUL_Org_Name=#CUL_Org_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="CUL_Name">CUL_Name=#CUL_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="CUL_ApplyReason">CUL_ApplyReason=#CUL_ApplyReason#</isNotEmpty>
      <isNotEmpty prepend="," property="CUL_ContactNo">CUL_ContactNo=#CUL_ContactNo#</isNotEmpty>
      <isNotEmpty prepend="," property="CUL_NetworkCardType1">CUL_NetworkCardType1=#CUL_NetworkCardType1#</isNotEmpty>
      <isNotEmpty prepend="," property="CUL_MACAdress1">CUL_MACAdress1=#CUL_MACAdress1#</isNotEmpty>
      <isNotEmpty prepend="," property="CUL_NetworkCardType2">CUL_NetworkCardType2=#CUL_NetworkCardType2#</isNotEmpty>
      <isNotEmpty prepend="," property="CUL_MACAdress2">CUL_MACAdress2=#CUL_MACAdress2#</isNotEmpty>
      <isNotEmpty prepend="," property="CUL_NetworkCardType3">CUL_NetworkCardType3=#CUL_NetworkCardType3#</isNotEmpty>
      <isNotEmpty prepend="," property="CUL_MACAdress3">CUL_MACAdress3=#CUL_MACAdress3#</isNotEmpty>
      <isNotEmpty prepend="," property="CUL_ApproveStatus">CUL_ApproveStatus=#CUL_ApproveStatus#</isNotEmpty>
      <isNotNull prepend="," property="CUL_InvalidDate">CUL_InvalidDate=#CUL_InvalidDate#</isNotNull>
      <isNotEmpty prepend="," property="CUL_Remark">CUL_Remark=#CUL_Remark#</isNotEmpty>
      <isNotNull prepend="," property="CUL_IsValid">CUL_IsValid=#CUL_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="CUL_CreatedBy">CUL_CreatedBy=#CUL_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="CUL_CreatedTime">CUL_CreatedTime=#CUL_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="CUL_UpdatedBy">CUL_UpdatedBy=#CUL_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="CUL_TransID">CUL_TransID=#CUL_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--许可证ID-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ID">CUL_ID=#WHERE_CUL_ID#</isNotEmpty>
        <!--许可证号-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_No">CUL_No=#WHERE_CUL_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Org_ID">CUL_Org_ID=#WHERE_CUL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Org_Name">CUL_Org_Name=#WHERE_CUL_Org_Name#</isNotEmpty>
        <!--用户姓名-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Name">CUL_Name=#WHERE_CUL_Name#</isNotEmpty>
        <!--申请原因-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ApplyReason">CUL_ApplyReason=#WHERE_CUL_ApplyReason#</isNotEmpty>
        <!--联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ContactNo">CUL_ContactNo=#WHERE_CUL_ContactNo#</isNotEmpty>
        <!--网卡类型1-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType1">CUL_NetworkCardType1=#WHERE_CUL_NetworkCardType1#</isNotEmpty>
        <!--网卡地址1-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress1">CUL_MACAdress1=#WHERE_CUL_MACAdress1#</isNotEmpty>
        <!--网卡类型2-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType2">CUL_NetworkCardType2=#WHERE_CUL_NetworkCardType2#</isNotEmpty>
        <!--网卡地址2-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress2">CUL_MACAdress2=#WHERE_CUL_MACAdress2#</isNotEmpty>
        <!--网卡类型3-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_NetworkCardType3">CUL_NetworkCardType3=#WHERE_CUL_NetworkCardType3#</isNotEmpty>
        <!--网卡地址3-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_MACAdress3">CUL_MACAdress3=#WHERE_CUL_MACAdress3#</isNotEmpty>
        <!--审核状态-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_ApproveStatus">CUL_ApproveStatus=#WHERE_CUL_ApproveStatus#</isNotEmpty>
        <!--失效日期-->
        <isNotNull prepend="" property="_InvalidDateStart">
          <isNotNull prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate BETWEEN #_InvalidDateStart# AND #_InvalidDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate <![CDATA[>=]]> #_InvalidDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_InvalidDateStart">
          <isNotNull prepend="AND" property="_InvalidDateEnd">CUL_InvalidDate <![CDATA[<=]]> #_InvalidDateEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_Remark">CUL_Remark=#WHERE_CUL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CUL_IsValid">CUL_IsValid=#WHERE_CUL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_CreatedBy">CUL_CreatedBy=#WHERE_CUL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CUL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_UpdatedBy">CUL_UpdatedBy=#WHERE_CUL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CUL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CUL_VersionNo">CUL_VersionNo=#WHERE_CUL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CUL_TransID">CUL_TransID=#WHERE_CUL_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[使用许可证]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_ClientUseLicense" parameterClass="List">
      DELETE FROM SM_ClientUseLicense
      WHERE CUL_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_CUL_ID#
      </iterate>
    </delete>

    <!--新增[系统参数]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_Parameter" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_Parameter
        (
        <!--参数ID-->
        Para_ID,
        <!--参数编码1-->
        Para_Code1,
        <!--参数描述1-->
        Para_Name1,
        <!--参数值1-->
        Para_Value1,
        <!--参数编码2-->
        Para_Code2,
        <!--参数描述2-->
        Para_Name2,
        <!--参数值2-->
        Para_Value2,
        <!--参数编码3-->
        Para_Code3,
        <!--参数描述3-->
        Para_Name3,
        <!--参数值3-->
        Para_Value3,
        <!--参数编码4-->
        Para_Code4,
        <!--参数描述4-->
        Para_Name4,
        <!--参数值4-->
        Para_Value4,
        <!--参数编码5-->
        Para_Code5,
        <!--参数描述5-->
        Para_Name5,
        <!--参数值5-->
        Para_Value5,
        <!--有效-->
        Para_IsValid,
        <!--创建人-->
        Para_CreatedBy,
        <!--创建时间-->
        Para_CreatedTime,
        <!--修改人-->
        Para_UpdatedBy,
        <!--修改时间-->
        Para_UpdatedTime,
        <!--版本号-->
        Para_VersionNo,
        <!--事务编号-->
        Para_TransID
        )
        VALUES
        (
        <!--参数ID-->
        #[].Para_ID#,
        <!--参数编码1-->
        #[].Para_Code1#,
        <!--参数描述1-->
        #[].Para_Name1#,
        <!--参数值1-->
        #[].Para_Value1#,
        <!--参数编码2-->
        #[].Para_Code2#,
        <!--参数描述2-->
        #[].Para_Name2#,
        <!--参数值2-->
        #[].Para_Value2#,
        <!--参数编码3-->
        #[].Para_Code3#,
        <!--参数描述3-->
        #[].Para_Name3#,
        <!--参数值3-->
        #[].Para_Value3#,
        <!--参数编码4-->
        #[].Para_Code4#,
        <!--参数描述4-->
        #[].Para_Name4#,
        <!--参数值4-->
        #[].Para_Value4#,
        <!--参数编码5-->
        #[].Para_Code5#,
        <!--参数描述5-->
        #[].Para_Name5#,
        <!--参数值5-->
        #[].Para_Value5#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].Para_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].Para_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].Para_TransID#
        )
      </iterate>
    </insert>

    <!--查询[系统参数]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_Parameter" parameterClass="MDLSM_Parameter" resultClass="MDLSM_Parameter">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Para_ID)
      FROM SM_Parameter
      <dynamic prepend="WHERE">
        <!--参数ID-->
        <isNotEmpty prepend="AND" property="WHERE_Para_ID">Para_ID=#WHERE_Para_ID#</isNotEmpty>
        <!--参数编码1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code1">Para_Code1=#WHERE_Para_Code1#</isNotEmpty>
        <!--参数描述1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name1">Para_Name1=#WHERE_Para_Name1#</isNotEmpty>
        <!--参数值1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value1">Para_Value1=#WHERE_Para_Value1#</isNotEmpty>
        <!--参数编码2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code2">Para_Code2=#WHERE_Para_Code2#</isNotEmpty>
        <!--参数描述2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name2">Para_Name2=#WHERE_Para_Name2#</isNotEmpty>
        <!--参数值2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value2">Para_Value2=#WHERE_Para_Value2#</isNotEmpty>
        <!--参数编码3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code3">Para_Code3=#WHERE_Para_Code3#</isNotEmpty>
        <!--参数描述3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name3">Para_Name3=#WHERE_Para_Name3#</isNotEmpty>
        <!--参数值3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value3">Para_Value3=#WHERE_Para_Value3#</isNotEmpty>
        <!--参数编码4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code4">Para_Code4=#WHERE_Para_Code4#</isNotEmpty>
        <!--参数描述4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name4">Para_Name4=#WHERE_Para_Name4#</isNotEmpty>
        <!--参数值4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value4">Para_Value4=#WHERE_Para_Value4#</isNotEmpty>
        <!--参数编码5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code5">Para_Code5=#WHERE_Para_Code5#</isNotEmpty>
        <!--参数描述5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name5">Para_Name5=#WHERE_Para_Name5#</isNotEmpty>
        <!--参数值5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value5">Para_Value5=#WHERE_Para_Value5#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Para_IsValid">Para_IsValid=#WHERE_Para_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Para_CreatedBy">Para_CreatedBy=#WHERE_Para_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Para_UpdatedBy">Para_UpdatedBy=#WHERE_Para_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Para_VersionNo">Para_VersionNo=#WHERE_Para_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Para_TransID">Para_TransID=#WHERE_Para_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Para_ID,
      Para_Code1,
      Para_Name1,
      Para_Value1,
      Para_Code2,
      Para_Name2,
      Para_Value2,
      Para_Code3,
      Para_Name3,
      Para_Value3,
      Para_Code4,
      Para_Name4,
      Para_Value4,
      Para_Code5,
      Para_Name5,
      Para_Value5,
      Para_IsValid,
      Para_CreatedBy,
      Para_CreatedTime,
      Para_UpdatedBy,
      Para_UpdatedTime,
      Para_VersionNo,
      Para_TransID
      FROM SM_Parameter
      <dynamic prepend="WHERE">
        <!--参数ID-->
        <isNotEmpty prepend="AND" property="WHERE_Para_ID">Para_ID=#WHERE_Para_ID#</isNotEmpty>
        <!--参数编码1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code1">Para_Code1=#WHERE_Para_Code1#</isNotEmpty>
        <!--参数描述1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name1">Para_Name1=#WHERE_Para_Name1#</isNotEmpty>
        <!--参数值1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value1">Para_Value1=#WHERE_Para_Value1#</isNotEmpty>
        <!--参数编码2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code2">Para_Code2=#WHERE_Para_Code2#</isNotEmpty>
        <!--参数描述2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name2">Para_Name2=#WHERE_Para_Name2#</isNotEmpty>
        <!--参数值2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value2">Para_Value2=#WHERE_Para_Value2#</isNotEmpty>
        <!--参数编码3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code3">Para_Code3=#WHERE_Para_Code3#</isNotEmpty>
        <!--参数描述3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name3">Para_Name3=#WHERE_Para_Name3#</isNotEmpty>
        <!--参数值3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value3">Para_Value3=#WHERE_Para_Value3#</isNotEmpty>
        <!--参数编码4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code4">Para_Code4=#WHERE_Para_Code4#</isNotEmpty>
        <!--参数描述4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name4">Para_Name4=#WHERE_Para_Name4#</isNotEmpty>
        <!--参数值4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value4">Para_Value4=#WHERE_Para_Value4#</isNotEmpty>
        <!--参数编码5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code5">Para_Code5=#WHERE_Para_Code5#</isNotEmpty>
        <!--参数描述5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name5">Para_Name5=#WHERE_Para_Name5#</isNotEmpty>
        <!--参数值5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value5">Para_Value5=#WHERE_Para_Value5#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Para_IsValid">Para_IsValid=#WHERE_Para_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Para_CreatedBy">Para_CreatedBy=#WHERE_Para_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Para_UpdatedBy">Para_UpdatedBy=#WHERE_Para_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Para_VersionNo">Para_VersionNo=#WHERE_Para_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Para_TransID">Para_TransID=#WHERE_Para_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Para_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[系统参数]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_Parameter" parameterClass="MDLSM_Parameter" resultClass="MDLSM_Parameter">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Para_ID)
      FROM SM_Parameter
      <dynamic prepend="WHERE">
        <!--参数ID-->
        <isNotEmpty prepend="AND" property="WHERE_Para_ID">Para_ID=#WHERE_Para_ID#</isNotEmpty>
        <!--参数编码1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code1">Para_Code1 LIKE '%'+#WHERE_Para_Code1#+'%'</isNotEmpty>
        <!--参数描述1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name1">Para_Name1 LIKE '%'+#WHERE_Para_Name1#+'%'</isNotEmpty>
        <!--参数值1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value1">Para_Value1 LIKE '%'+#WHERE_Para_Value1#+'%'</isNotEmpty>
        <!--参数编码2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code2">Para_Code2 LIKE '%'+#WHERE_Para_Code2#+'%'</isNotEmpty>
        <!--参数描述2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name2">Para_Name2 LIKE '%'+#WHERE_Para_Name2#+'%'</isNotEmpty>
        <!--参数值2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value2">Para_Value2 LIKE '%'+#WHERE_Para_Value2#+'%'</isNotEmpty>
        <!--参数编码3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code3">Para_Code3 LIKE '%'+#WHERE_Para_Code3#+'%'</isNotEmpty>
        <!--参数描述3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name3">Para_Name3 LIKE '%'+#WHERE_Para_Name3#+'%'</isNotEmpty>
        <!--参数值3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value3">Para_Value3 LIKE '%'+#WHERE_Para_Value3#+'%'</isNotEmpty>
        <!--参数编码4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code4">Para_Code4 LIKE '%'+#WHERE_Para_Code4#+'%'</isNotEmpty>
        <!--参数描述4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name4">Para_Name4 LIKE '%'+#WHERE_Para_Name4#+'%'</isNotEmpty>
        <!--参数值4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value4">Para_Value4 LIKE '%'+#WHERE_Para_Value4#+'%'</isNotEmpty>
        <!--参数编码5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code5">Para_Code5 LIKE '%'+#WHERE_Para_Code5#+'%'</isNotEmpty>
        <!--参数描述5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name5">Para_Name5 LIKE '%'+#WHERE_Para_Name5#+'%'</isNotEmpty>
        <!--参数值5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value5">Para_Value5 LIKE '%'+#WHERE_Para_Value5#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Para_IsValid">Para_IsValid=#WHERE_Para_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Para_CreatedBy">Para_CreatedBy LIKE '%'+#WHERE_Para_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Para_UpdatedBy">Para_UpdatedBy LIKE '%'+#WHERE_Para_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Para_VersionNo">Para_VersionNo=#WHERE_Para_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Para_TransID">Para_TransID LIKE '%'+#WHERE_Para_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Para_ID,
      Para_Code1,
      Para_Name1,
      Para_Value1,
      Para_Code2,
      Para_Name2,
      Para_Value2,
      Para_Code3,
      Para_Name3,
      Para_Value3,
      Para_Code4,
      Para_Name4,
      Para_Value4,
      Para_Code5,
      Para_Name5,
      Para_Value5,
      Para_IsValid,
      Para_CreatedBy,
      Para_CreatedTime,
      Para_UpdatedBy,
      Para_UpdatedTime,
      Para_VersionNo,
      Para_TransID
      FROM SM_Parameter
      <dynamic prepend="WHERE">
        <!--参数ID-->
        <isNotEmpty prepend="AND" property="WHERE_Para_ID">Para_ID=#WHERE_Para_ID#</isNotEmpty>
        <!--参数编码1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code1">Para_Code1 LIKE '%'+#WHERE_Para_Code1#+'%'</isNotEmpty>
        <!--参数描述1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name1">Para_Name1 LIKE '%'+#WHERE_Para_Name1#+'%'</isNotEmpty>
        <!--参数值1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value1">Para_Value1 LIKE '%'+#WHERE_Para_Value1#+'%'</isNotEmpty>
        <!--参数编码2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code2">Para_Code2 LIKE '%'+#WHERE_Para_Code2#+'%'</isNotEmpty>
        <!--参数描述2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name2">Para_Name2 LIKE '%'+#WHERE_Para_Name2#+'%'</isNotEmpty>
        <!--参数值2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value2">Para_Value2 LIKE '%'+#WHERE_Para_Value2#+'%'</isNotEmpty>
        <!--参数编码3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code3">Para_Code3 LIKE '%'+#WHERE_Para_Code3#+'%'</isNotEmpty>
        <!--参数描述3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name3">Para_Name3 LIKE '%'+#WHERE_Para_Name3#+'%'</isNotEmpty>
        <!--参数值3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value3">Para_Value3 LIKE '%'+#WHERE_Para_Value3#+'%'</isNotEmpty>
        <!--参数编码4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code4">Para_Code4 LIKE '%'+#WHERE_Para_Code4#+'%'</isNotEmpty>
        <!--参数描述4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name4">Para_Name4 LIKE '%'+#WHERE_Para_Name4#+'%'</isNotEmpty>
        <!--参数值4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value4">Para_Value4 LIKE '%'+#WHERE_Para_Value4#+'%'</isNotEmpty>
        <!--参数编码5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code5">Para_Code5 LIKE '%'+#WHERE_Para_Code5#+'%'</isNotEmpty>
        <!--参数描述5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name5">Para_Name5 LIKE '%'+#WHERE_Para_Name5#+'%'</isNotEmpty>
        <!--参数值5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value5">Para_Value5 LIKE '%'+#WHERE_Para_Value5#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Para_IsValid">Para_IsValid=#WHERE_Para_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Para_CreatedBy">Para_CreatedBy LIKE '%'+#WHERE_Para_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Para_UpdatedBy">Para_UpdatedBy LIKE '%'+#WHERE_Para_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Para_VersionNo">Para_VersionNo=#WHERE_Para_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Para_TransID">Para_TransID LIKE '%'+#WHERE_Para_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Para_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[系统参数]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_Parameter" parameterClass="MDLSM_Parameter" resultClass="int">
      SELECT COUNT(Para_ID) 'RecordCount'
      FROM SM_Parameter
      <dynamic prepend="WHERE">
        <!--参数ID-->
        <isNotEmpty prepend="AND" property="WHERE_Para_ID">Para_ID=#WHERE_Para_ID#</isNotEmpty>
        <!--参数编码1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code1">Para_Code1=#WHERE_Para_Code1#</isNotEmpty>
        <!--参数描述1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name1">Para_Name1=#WHERE_Para_Name1#</isNotEmpty>
        <!--参数值1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value1">Para_Value1=#WHERE_Para_Value1#</isNotEmpty>
        <!--参数编码2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code2">Para_Code2=#WHERE_Para_Code2#</isNotEmpty>
        <!--参数描述2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name2">Para_Name2=#WHERE_Para_Name2#</isNotEmpty>
        <!--参数值2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value2">Para_Value2=#WHERE_Para_Value2#</isNotEmpty>
        <!--参数编码3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code3">Para_Code3=#WHERE_Para_Code3#</isNotEmpty>
        <!--参数描述3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name3">Para_Name3=#WHERE_Para_Name3#</isNotEmpty>
        <!--参数值3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value3">Para_Value3=#WHERE_Para_Value3#</isNotEmpty>
        <!--参数编码4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code4">Para_Code4=#WHERE_Para_Code4#</isNotEmpty>
        <!--参数描述4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name4">Para_Name4=#WHERE_Para_Name4#</isNotEmpty>
        <!--参数值4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value4">Para_Value4=#WHERE_Para_Value4#</isNotEmpty>
        <!--参数编码5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code5">Para_Code5=#WHERE_Para_Code5#</isNotEmpty>
        <!--参数描述5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name5">Para_Name5=#WHERE_Para_Name5#</isNotEmpty>
        <!--参数值5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value5">Para_Value5=#WHERE_Para_Value5#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Para_IsValid">Para_IsValid=#WHERE_Para_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Para_CreatedBy">Para_CreatedBy=#WHERE_Para_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Para_UpdatedBy">Para_UpdatedBy=#WHERE_Para_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Para_VersionNo">Para_VersionNo=#WHERE_Para_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Para_TransID">Para_TransID=#WHERE_Para_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[系统参数]信息-->
    <update id="COMM_SQL_UpdateMDLSM_Parameter" parameterClass="MDLSM_Parameter" >
      UPDATE SM_Parameter
      SET
      Para_UpdatedTime=GETDATE(),
      Para_VersionNo=Para_VersionNo+1
      <isNotEmpty prepend="," property="Para_Code1">Para_Code1=#Para_Code1#</isNotEmpty>
      <isNotEmpty prepend="," property="Para_Name1">Para_Name1=#Para_Name1#</isNotEmpty>
      <isNotEmpty prepend="," property="Para_Value1">Para_Value1=#Para_Value1#</isNotEmpty>
      <isNotEmpty prepend="," property="Para_Code2">Para_Code2=#Para_Code2#</isNotEmpty>
      <isNotEmpty prepend="," property="Para_Name2">Para_Name2=#Para_Name2#</isNotEmpty>
      <isNotEmpty prepend="," property="Para_Value2">Para_Value2=#Para_Value2#</isNotEmpty>
      <isNotEmpty prepend="," property="Para_Code3">Para_Code3=#Para_Code3#</isNotEmpty>
      <isNotEmpty prepend="," property="Para_Name3">Para_Name3=#Para_Name3#</isNotEmpty>
      <isNotEmpty prepend="," property="Para_Value3">Para_Value3=#Para_Value3#</isNotEmpty>
      <isNotEmpty prepend="," property="Para_Code4">Para_Code4=#Para_Code4#</isNotEmpty>
      <isNotEmpty prepend="," property="Para_Name4">Para_Name4=#Para_Name4#</isNotEmpty>
      <isNotEmpty prepend="," property="Para_Value4">Para_Value4=#Para_Value4#</isNotEmpty>
      <isNotEmpty prepend="," property="Para_Code5">Para_Code5=#Para_Code5#</isNotEmpty>
      <isNotEmpty prepend="," property="Para_Name5">Para_Name5=#Para_Name5#</isNotEmpty>
      <isNotEmpty prepend="," property="Para_Value5">Para_Value5=#Para_Value5#</isNotEmpty>
      <isNotNull prepend="," property="Para_IsValid">Para_IsValid=#Para_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="Para_CreatedBy">Para_CreatedBy=#Para_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="Para_CreatedTime">Para_CreatedTime=#Para_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="Para_UpdatedBy">Para_UpdatedBy=#Para_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="Para_TransID">Para_TransID=#Para_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--参数ID-->
        <isNotEmpty prepend="AND" property="WHERE_Para_ID">Para_ID=#WHERE_Para_ID#</isNotEmpty>
        <!--参数编码1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code1">Para_Code1=#WHERE_Para_Code1#</isNotEmpty>
        <!--参数描述1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name1">Para_Name1=#WHERE_Para_Name1#</isNotEmpty>
        <!--参数值1-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value1">Para_Value1=#WHERE_Para_Value1#</isNotEmpty>
        <!--参数编码2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code2">Para_Code2=#WHERE_Para_Code2#</isNotEmpty>
        <!--参数描述2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name2">Para_Name2=#WHERE_Para_Name2#</isNotEmpty>
        <!--参数值2-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value2">Para_Value2=#WHERE_Para_Value2#</isNotEmpty>
        <!--参数编码3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code3">Para_Code3=#WHERE_Para_Code3#</isNotEmpty>
        <!--参数描述3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name3">Para_Name3=#WHERE_Para_Name3#</isNotEmpty>
        <!--参数值3-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value3">Para_Value3=#WHERE_Para_Value3#</isNotEmpty>
        <!--参数编码4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code4">Para_Code4=#WHERE_Para_Code4#</isNotEmpty>
        <!--参数描述4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name4">Para_Name4=#WHERE_Para_Name4#</isNotEmpty>
        <!--参数值4-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value4">Para_Value4=#WHERE_Para_Value4#</isNotEmpty>
        <!--参数编码5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Code5">Para_Code5=#WHERE_Para_Code5#</isNotEmpty>
        <!--参数描述5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Name5">Para_Name5=#WHERE_Para_Name5#</isNotEmpty>
        <!--参数值5-->
        <isNotEmpty prepend="AND" property="WHERE_Para_Value5">Para_Value5=#WHERE_Para_Value5#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Para_IsValid">Para_IsValid=#WHERE_Para_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Para_CreatedBy">Para_CreatedBy=#WHERE_Para_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Para_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Para_UpdatedBy">Para_UpdatedBy=#WHERE_Para_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Para_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Para_VersionNo">Para_VersionNo=#WHERE_Para_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Para_TransID">Para_TransID=#WHERE_Para_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[系统参数]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_Parameter" parameterClass="List">
      DELETE FROM SM_Parameter
      WHERE Para_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_Para_ID#
      </iterate>
    </delete>

    <!--新增[码表]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_CodeTable" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_CodeTable
        (
        <!--ID-->
        CT_ID,
        <!--类型-->
        CT_Type,
        <!--参数名称-->
        CT_Name,
        <!--参数值-->
        CT_Value,
        <!--参数描述-->
        CT_Desc,
        <!--有效-->
        CT_IsValid,
        <!--创建人-->
        CT_CreatedBy,
        <!--创建时间-->
        CT_CreatedTime,
        <!--修改人-->
        CT_UpdatedBy,
        <!--修改时间-->
        CT_UpdatedTime,
        <!--版本号-->
        CT_VersionNo,
        <!--事务编号-->
        CT_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].CT_ID#,
        <!--类型-->
        #[].CT_Type#,
        <!--参数名称-->
        #[].CT_Name#,
        <!--参数值-->
        #[].CT_Value#,
        <!--参数描述-->
        #[].CT_Desc#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].CT_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].CT_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].CT_TransID#
        )
      </iterate>
    </insert>

    <!--查询[码表]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_CodeTable" parameterClass="MDLSM_CodeTable" resultClass="MDLSM_CodeTable">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(CT_ID)
      FROM SM_CodeTable
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_CT_ID">CT_ID=#WHERE_CT_ID#</isNotEmpty>
        <!--类型-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Type">CT_Type=#WHERE_CT_Type#</isNotEmpty>
        <!--参数名称-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Name">CT_Name=#WHERE_CT_Name#</isNotEmpty>
        <!--参数值-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Value">CT_Value=#WHERE_CT_Value#</isNotEmpty>
        <!--参数描述-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Desc">CT_Desc=#WHERE_CT_Desc#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CT_IsValid">CT_IsValid=#WHERE_CT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CT_CreatedBy">CT_CreatedBy=#WHERE_CT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CT_UpdatedBy">CT_UpdatedBy=#WHERE_CT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CT_VersionNo">CT_VersionNo=#WHERE_CT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CT_TransID">CT_TransID=#WHERE_CT_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      CT_ID,
      CT_Type,
      CT_Name,
      CT_Value,
      CT_Desc,
      CT_IsValid,
      CT_CreatedBy,
      CT_CreatedTime,
      CT_UpdatedBy,
      CT_UpdatedTime,
      CT_VersionNo,
      CT_TransID
      FROM SM_CodeTable
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_CT_ID">CT_ID=#WHERE_CT_ID#</isNotEmpty>
        <!--类型-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Type">CT_Type=#WHERE_CT_Type#</isNotEmpty>
        <!--参数名称-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Name">CT_Name=#WHERE_CT_Name#</isNotEmpty>
        <!--参数值-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Value">CT_Value=#WHERE_CT_Value#</isNotEmpty>
        <!--参数描述-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Desc">CT_Desc=#WHERE_CT_Desc#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CT_IsValid">CT_IsValid=#WHERE_CT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CT_CreatedBy">CT_CreatedBy=#WHERE_CT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CT_UpdatedBy">CT_UpdatedBy=#WHERE_CT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CT_VersionNo">CT_VersionNo=#WHERE_CT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CT_TransID">CT_TransID=#WHERE_CT_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY CT_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[码表]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_CodeTable" parameterClass="MDLSM_CodeTable" resultClass="MDLSM_CodeTable">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(CT_ID)
      FROM SM_CodeTable
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_CT_ID">CT_ID=#WHERE_CT_ID#</isNotEmpty>
        <!--类型-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Type">CT_Type LIKE '%'+#WHERE_CT_Type#+'%'</isNotEmpty>
        <!--参数名称-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Name">CT_Name LIKE '%'+#WHERE_CT_Name#+'%'</isNotEmpty>
        <!--参数值-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Value">CT_Value LIKE '%'+#WHERE_CT_Value#+'%'</isNotEmpty>
        <!--参数描述-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Desc">CT_Desc LIKE '%'+#WHERE_CT_Desc#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CT_IsValid">CT_IsValid=#WHERE_CT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CT_CreatedBy">CT_CreatedBy LIKE '%'+#WHERE_CT_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CT_UpdatedBy">CT_UpdatedBy LIKE '%'+#WHERE_CT_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CT_VersionNo">CT_VersionNo=#WHERE_CT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CT_TransID">CT_TransID LIKE '%'+#WHERE_CT_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      CT_ID,
      CT_Type,
      CT_Name,
      CT_Value,
      CT_Desc,
      CT_IsValid,
      CT_CreatedBy,
      CT_CreatedTime,
      CT_UpdatedBy,
      CT_UpdatedTime,
      CT_VersionNo,
      CT_TransID
      FROM SM_CodeTable
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_CT_ID">CT_ID=#WHERE_CT_ID#</isNotEmpty>
        <!--类型-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Type">CT_Type LIKE '%'+#WHERE_CT_Type#+'%'</isNotEmpty>
        <!--参数名称-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Name">CT_Name LIKE '%'+#WHERE_CT_Name#+'%'</isNotEmpty>
        <!--参数值-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Value">CT_Value LIKE '%'+#WHERE_CT_Value#+'%'</isNotEmpty>
        <!--参数描述-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Desc">CT_Desc LIKE '%'+#WHERE_CT_Desc#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CT_IsValid">CT_IsValid=#WHERE_CT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CT_CreatedBy">CT_CreatedBy LIKE '%'+#WHERE_CT_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CT_UpdatedBy">CT_UpdatedBy LIKE '%'+#WHERE_CT_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CT_VersionNo">CT_VersionNo=#WHERE_CT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CT_TransID">CT_TransID LIKE '%'+#WHERE_CT_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY CT_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[码表]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_CodeTable" parameterClass="MDLSM_CodeTable" resultClass="int">
      SELECT COUNT(CT_ID) 'RecordCount'
      FROM SM_CodeTable
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_CT_ID">CT_ID=#WHERE_CT_ID#</isNotEmpty>
        <!--类型-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Type">CT_Type=#WHERE_CT_Type#</isNotEmpty>
        <!--参数名称-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Name">CT_Name=#WHERE_CT_Name#</isNotEmpty>
        <!--参数值-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Value">CT_Value=#WHERE_CT_Value#</isNotEmpty>
        <!--参数描述-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Desc">CT_Desc=#WHERE_CT_Desc#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CT_IsValid">CT_IsValid=#WHERE_CT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CT_CreatedBy">CT_CreatedBy=#WHERE_CT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CT_UpdatedBy">CT_UpdatedBy=#WHERE_CT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CT_VersionNo">CT_VersionNo=#WHERE_CT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CT_TransID">CT_TransID=#WHERE_CT_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[码表]信息-->
    <update id="COMM_SQL_UpdateMDLSM_CodeTable" parameterClass="MDLSM_CodeTable" >
      UPDATE SM_CodeTable
      SET
      CT_UpdatedTime=GETDATE(),
      CT_VersionNo=CT_VersionNo+1
      <isNotEmpty prepend="," property="CT_Type">CT_Type=#CT_Type#</isNotEmpty>
      <isNotEmpty prepend="," property="CT_Name">CT_Name=#CT_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="CT_Value">CT_Value=#CT_Value#</isNotEmpty>
      <isNotEmpty prepend="," property="CT_Desc">CT_Desc=#CT_Desc#</isNotEmpty>
      <isNotNull prepend="," property="CT_IsValid">CT_IsValid=#CT_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="CT_CreatedBy">CT_CreatedBy=#CT_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="CT_CreatedTime">CT_CreatedTime=#CT_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="CT_UpdatedBy">CT_UpdatedBy=#CT_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="CT_TransID">CT_TransID=#CT_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_CT_ID">CT_ID=#WHERE_CT_ID#</isNotEmpty>
        <!--类型-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Type">CT_Type=#WHERE_CT_Type#</isNotEmpty>
        <!--参数名称-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Name">CT_Name=#WHERE_CT_Name#</isNotEmpty>
        <!--参数值-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Value">CT_Value=#WHERE_CT_Value#</isNotEmpty>
        <!--参数描述-->
        <isNotEmpty prepend="AND" property="WHERE_CT_Desc">CT_Desc=#WHERE_CT_Desc#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_CT_IsValid">CT_IsValid=#WHERE_CT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_CT_CreatedBy">CT_CreatedBy=#WHERE_CT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">CT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_CT_UpdatedBy">CT_UpdatedBy=#WHERE_CT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">CT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_CT_VersionNo">CT_VersionNo=#WHERE_CT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_CT_TransID">CT_TransID=#WHERE_CT_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[码表]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_CodeTable" parameterClass="List">
      DELETE FROM SM_CodeTable
      WHERE CT_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_CT_ID#
      </iterate>
    </delete>

    <!--新增[系统枚举]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_Enum" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_Enum
        (
        <!--枚举ID-->
        Enum_ID,
        <!--枚举Key-->
        Enum_Key,
        <!--枚举名称-->
        Enum_Name,
        <!--枚举值编码-->
        Enum_ValueCode,
        <!--枚举值-->
        Enum_Value,
        <!--枚举显示名称-->
        Enum_DisplayName,
        <!--备注-->
        Enum_Info,
        <!--有效-->
        Enum_IsValid,
        <!--创建人-->
        Enum_CreatedBy,
        <!--创建时间-->
        Enum_CreatedTime,
        <!--修改人-->
        Enum_UpdatedBy,
        <!--修改时间-->
        Enum_UpdatedTime,
        <!--版本号-->
        Enum_VersionNo,
        <!--事务编号-->
        Enum_TransID
        )
        VALUES
        (
        <!--枚举ID-->
        #[].Enum_ID#,
        <!--枚举Key-->
        #[].Enum_Key#,
        <!--枚举名称-->
        #[].Enum_Name#,
        <!--枚举值编码-->
        #[].Enum_ValueCode#,
        <!--枚举值-->
        #[].Enum_Value#,
        <!--枚举显示名称-->
        #[].Enum_DisplayName#,
        <!--备注-->
        #[].Enum_Info#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].Enum_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].Enum_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].Enum_TransID#
        )
      </iterate>
    </insert>

    <!--查询[系统枚举]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_Enum" parameterClass="MDLSM_Enum" resultClass="MDLSM_Enum">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Enum_ID)
      FROM SM_Enum
      <dynamic prepend="WHERE">
        <!--枚举ID-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_ID">Enum_ID=#WHERE_Enum_ID#</isNotEmpty>
        <!--枚举Key-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Key">Enum_Key=#WHERE_Enum_Key#</isNotEmpty>
        <!--枚举名称-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Name">Enum_Name=#WHERE_Enum_Name#</isNotEmpty>
        <!--枚举值编码-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_ValueCode">Enum_ValueCode=#WHERE_Enum_ValueCode#</isNotEmpty>
        <!--枚举值-->
        <isNotNull prepend="AND" property="WHERE_Enum_Value">Enum_Value=#WHERE_Enum_Value#</isNotNull>
        <!--枚举显示名称-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_DisplayName">Enum_DisplayName=#WHERE_Enum_DisplayName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Info">Enum_Info=#WHERE_Enum_Info#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Enum_IsValid">Enum_IsValid=#WHERE_Enum_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_CreatedBy">Enum_CreatedBy=#WHERE_Enum_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_UpdatedBy">Enum_UpdatedBy=#WHERE_Enum_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Enum_VersionNo">Enum_VersionNo=#WHERE_Enum_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_TransID">Enum_TransID=#WHERE_Enum_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Enum_ID,
      Enum_Key,
      Enum_Name,
      Enum_ValueCode,
      Enum_Value,
      Enum_DisplayName,
      Enum_Info,
      Enum_IsValid,
      Enum_CreatedBy,
      Enum_CreatedTime,
      Enum_UpdatedBy,
      Enum_UpdatedTime,
      Enum_VersionNo,
      Enum_TransID
      FROM SM_Enum
      <dynamic prepend="WHERE">
        <!--枚举ID-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_ID">Enum_ID=#WHERE_Enum_ID#</isNotEmpty>
        <!--枚举Key-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Key">Enum_Key=#WHERE_Enum_Key#</isNotEmpty>
        <!--枚举名称-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Name">Enum_Name=#WHERE_Enum_Name#</isNotEmpty>
        <!--枚举值编码-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_ValueCode">Enum_ValueCode=#WHERE_Enum_ValueCode#</isNotEmpty>
        <!--枚举值-->
        <isNotNull prepend="AND" property="WHERE_Enum_Value">Enum_Value=#WHERE_Enum_Value#</isNotNull>
        <!--枚举显示名称-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_DisplayName">Enum_DisplayName=#WHERE_Enum_DisplayName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Info">Enum_Info=#WHERE_Enum_Info#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Enum_IsValid">Enum_IsValid=#WHERE_Enum_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_CreatedBy">Enum_CreatedBy=#WHERE_Enum_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_UpdatedBy">Enum_UpdatedBy=#WHERE_Enum_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Enum_VersionNo">Enum_VersionNo=#WHERE_Enum_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_TransID">Enum_TransID=#WHERE_Enum_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Enum_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[系统枚举]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_Enum" parameterClass="MDLSM_Enum" resultClass="MDLSM_Enum">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Enum_ID)
      FROM SM_Enum
      <dynamic prepend="WHERE">
        <!--枚举ID-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_ID">Enum_ID=#WHERE_Enum_ID#</isNotEmpty>
        <!--枚举Key-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Key">Enum_Key LIKE '%'+#WHERE_Enum_Key#+'%'</isNotEmpty>
        <!--枚举名称-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Name">Enum_Name LIKE '%'+#WHERE_Enum_Name#+'%'</isNotEmpty>
        <!--枚举值编码-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_ValueCode">Enum_ValueCode LIKE '%'+#WHERE_Enum_ValueCode#+'%'</isNotEmpty>
        <!--枚举值-->
        <isNotNull prepend="AND" property="WHERE_Enum_Value">Enum_Value=#WHERE_Enum_Value#</isNotNull>
        <!--枚举显示名称-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_DisplayName">Enum_DisplayName LIKE '%'+#WHERE_Enum_DisplayName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Info">Enum_Info LIKE '%'+#WHERE_Enum_Info#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Enum_IsValid">Enum_IsValid=#WHERE_Enum_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_CreatedBy">Enum_CreatedBy LIKE '%'+#WHERE_Enum_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_UpdatedBy">Enum_UpdatedBy LIKE '%'+#WHERE_Enum_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Enum_VersionNo">Enum_VersionNo=#WHERE_Enum_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_TransID">Enum_TransID LIKE '%'+#WHERE_Enum_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Enum_ID,
      Enum_Key,
      Enum_Name,
      Enum_ValueCode,
      Enum_Value,
      Enum_DisplayName,
      Enum_Info,
      Enum_IsValid,
      Enum_CreatedBy,
      Enum_CreatedTime,
      Enum_UpdatedBy,
      Enum_UpdatedTime,
      Enum_VersionNo,
      Enum_TransID
      FROM SM_Enum
      <dynamic prepend="WHERE">
        <!--枚举ID-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_ID">Enum_ID=#WHERE_Enum_ID#</isNotEmpty>
        <!--枚举Key-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Key">Enum_Key LIKE '%'+#WHERE_Enum_Key#+'%'</isNotEmpty>
        <!--枚举名称-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Name">Enum_Name LIKE '%'+#WHERE_Enum_Name#+'%'</isNotEmpty>
        <!--枚举值编码-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_ValueCode">Enum_ValueCode LIKE '%'+#WHERE_Enum_ValueCode#+'%'</isNotEmpty>
        <!--枚举值-->
        <isNotNull prepend="AND" property="WHERE_Enum_Value">Enum_Value=#WHERE_Enum_Value#</isNotNull>
        <!--枚举显示名称-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_DisplayName">Enum_DisplayName LIKE '%'+#WHERE_Enum_DisplayName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Info">Enum_Info LIKE '%'+#WHERE_Enum_Info#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Enum_IsValid">Enum_IsValid=#WHERE_Enum_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_CreatedBy">Enum_CreatedBy LIKE '%'+#WHERE_Enum_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_UpdatedBy">Enum_UpdatedBy LIKE '%'+#WHERE_Enum_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Enum_VersionNo">Enum_VersionNo=#WHERE_Enum_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_TransID">Enum_TransID LIKE '%'+#WHERE_Enum_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Enum_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[系统枚举]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_Enum" parameterClass="MDLSM_Enum" resultClass="int">
      SELECT COUNT(Enum_ID) 'RecordCount'
      FROM SM_Enum
      <dynamic prepend="WHERE">
        <!--枚举ID-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_ID">Enum_ID=#WHERE_Enum_ID#</isNotEmpty>
        <!--枚举Key-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Key">Enum_Key=#WHERE_Enum_Key#</isNotEmpty>
        <!--枚举名称-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Name">Enum_Name=#WHERE_Enum_Name#</isNotEmpty>
        <!--枚举值编码-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_ValueCode">Enum_ValueCode=#WHERE_Enum_ValueCode#</isNotEmpty>
        <!--枚举值-->
        <isNotNull prepend="AND" property="WHERE_Enum_Value">Enum_Value=#WHERE_Enum_Value#</isNotNull>
        <!--枚举显示名称-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_DisplayName">Enum_DisplayName=#WHERE_Enum_DisplayName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Info">Enum_Info=#WHERE_Enum_Info#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Enum_IsValid">Enum_IsValid=#WHERE_Enum_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_CreatedBy">Enum_CreatedBy=#WHERE_Enum_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_UpdatedBy">Enum_UpdatedBy=#WHERE_Enum_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Enum_VersionNo">Enum_VersionNo=#WHERE_Enum_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_TransID">Enum_TransID=#WHERE_Enum_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[系统枚举]信息-->
    <update id="COMM_SQL_UpdateMDLSM_Enum" parameterClass="MDLSM_Enum" >
      UPDATE SM_Enum
      SET
      Enum_UpdatedTime=GETDATE(),
      Enum_VersionNo=Enum_VersionNo+1
      <isNotEmpty prepend="," property="Enum_Key">Enum_Key=#Enum_Key#</isNotEmpty>
      <isNotEmpty prepend="," property="Enum_Name">Enum_Name=#Enum_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="Enum_ValueCode">Enum_ValueCode=#Enum_ValueCode#</isNotEmpty>
      <isNotNull prepend="," property="Enum_Value">Enum_Value=#Enum_Value#</isNotNull>
      <isNotEmpty prepend="," property="Enum_DisplayName">Enum_DisplayName=#Enum_DisplayName#</isNotEmpty>
      <isNotEmpty prepend="," property="Enum_Info">Enum_Info=#Enum_Info#</isNotEmpty>
      <isNotNull prepend="," property="Enum_IsValid">Enum_IsValid=#Enum_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="Enum_CreatedBy">Enum_CreatedBy=#Enum_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="Enum_CreatedTime">Enum_CreatedTime=#Enum_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="Enum_UpdatedBy">Enum_UpdatedBy=#Enum_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="Enum_TransID">Enum_TransID=#Enum_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--枚举ID-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_ID">Enum_ID=#WHERE_Enum_ID#</isNotEmpty>
        <!--枚举Key-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Key">Enum_Key=#WHERE_Enum_Key#</isNotEmpty>
        <!--枚举名称-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Name">Enum_Name=#WHERE_Enum_Name#</isNotEmpty>
        <!--枚举值编码-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_ValueCode">Enum_ValueCode=#WHERE_Enum_ValueCode#</isNotEmpty>
        <!--枚举值-->
        <isNotNull prepend="AND" property="WHERE_Enum_Value">Enum_Value=#WHERE_Enum_Value#</isNotNull>
        <!--枚举显示名称-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_DisplayName">Enum_DisplayName=#WHERE_Enum_DisplayName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_Info">Enum_Info=#WHERE_Enum_Info#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Enum_IsValid">Enum_IsValid=#WHERE_Enum_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_CreatedBy">Enum_CreatedBy=#WHERE_Enum_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Enum_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_UpdatedBy">Enum_UpdatedBy=#WHERE_Enum_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Enum_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Enum_VersionNo">Enum_VersionNo=#WHERE_Enum_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Enum_TransID">Enum_TransID=#WHERE_Enum_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[系统枚举]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_Enum" parameterClass="List">
      DELETE FROM SM_Enum
      WHERE Enum_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_Enum_ID#
      </iterate>
    </delete>

    <!--新增[系统消息]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_Message" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_Message
        (
        <!--消息ID-->
        Msg_ID,
        <!--编码-->
        Msg_Code,
        <!--内容-->
        Msg_Content,
        <!--有效-->
        Msg_IsValid,
        <!--创建人-->
        Msg_CreatedBy,
        <!--创建时间-->
        Msg_CreatedTime,
        <!--修改人-->
        Msg_UpdatedBy,
        <!--修改时间-->
        Msg_UpdatedTime,
        <!--版本号-->
        Msg_VersionNo,
        <!--事务编号-->
        Msg_TransID
        )
        VALUES
        (
        <!--消息ID-->
        #[].Msg_ID#,
        <!--编码-->
        #[].Msg_Code#,
        <!--内容-->
        #[].Msg_Content#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].Msg_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].Msg_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].Msg_TransID#
        )
      </iterate>
    </insert>

    <!--查询[系统消息]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_Message" parameterClass="MDLSM_Message" resultClass="MDLSM_Message">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Msg_ID)
      FROM SM_Message
      <dynamic prepend="WHERE">
        <!--消息ID-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_ID">Msg_ID=#WHERE_Msg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_Code">Msg_Code=#WHERE_Msg_Code#</isNotEmpty>
        <!--内容-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_Content">Msg_Content=#WHERE_Msg_Content#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Msg_IsValid">Msg_IsValid=#WHERE_Msg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_CreatedBy">Msg_CreatedBy=#WHERE_Msg_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_UpdatedBy">Msg_UpdatedBy=#WHERE_Msg_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Msg_VersionNo">Msg_VersionNo=#WHERE_Msg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_TransID">Msg_TransID=#WHERE_Msg_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Msg_ID,
      Msg_Code,
      Msg_Content,
      Msg_IsValid,
      Msg_CreatedBy,
      Msg_CreatedTime,
      Msg_UpdatedBy,
      Msg_UpdatedTime,
      Msg_VersionNo,
      Msg_TransID
      FROM SM_Message
      <dynamic prepend="WHERE">
        <!--消息ID-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_ID">Msg_ID=#WHERE_Msg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_Code">Msg_Code=#WHERE_Msg_Code#</isNotEmpty>
        <!--内容-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_Content">Msg_Content=#WHERE_Msg_Content#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Msg_IsValid">Msg_IsValid=#WHERE_Msg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_CreatedBy">Msg_CreatedBy=#WHERE_Msg_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_UpdatedBy">Msg_UpdatedBy=#WHERE_Msg_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Msg_VersionNo">Msg_VersionNo=#WHERE_Msg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_TransID">Msg_TransID=#WHERE_Msg_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Msg_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[系统消息]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_Message" parameterClass="MDLSM_Message" resultClass="MDLSM_Message">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Msg_ID)
      FROM SM_Message
      <dynamic prepend="WHERE">
        <!--消息ID-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_ID">Msg_ID=#WHERE_Msg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_Code">Msg_Code LIKE '%'+#WHERE_Msg_Code#+'%'</isNotEmpty>
        <!--内容-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_Content">Msg_Content LIKE '%'+#WHERE_Msg_Content#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Msg_IsValid">Msg_IsValid=#WHERE_Msg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_CreatedBy">Msg_CreatedBy LIKE '%'+#WHERE_Msg_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_UpdatedBy">Msg_UpdatedBy LIKE '%'+#WHERE_Msg_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Msg_VersionNo">Msg_VersionNo=#WHERE_Msg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_TransID">Msg_TransID LIKE '%'+#WHERE_Msg_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Msg_ID,
      Msg_Code,
      Msg_Content,
      Msg_IsValid,
      Msg_CreatedBy,
      Msg_CreatedTime,
      Msg_UpdatedBy,
      Msg_UpdatedTime,
      Msg_VersionNo,
      Msg_TransID
      FROM SM_Message
      <dynamic prepend="WHERE">
        <!--消息ID-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_ID">Msg_ID=#WHERE_Msg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_Code">Msg_Code LIKE '%'+#WHERE_Msg_Code#+'%'</isNotEmpty>
        <!--内容-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_Content">Msg_Content LIKE '%'+#WHERE_Msg_Content#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Msg_IsValid">Msg_IsValid=#WHERE_Msg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_CreatedBy">Msg_CreatedBy LIKE '%'+#WHERE_Msg_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_UpdatedBy">Msg_UpdatedBy LIKE '%'+#WHERE_Msg_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Msg_VersionNo">Msg_VersionNo=#WHERE_Msg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_TransID">Msg_TransID LIKE '%'+#WHERE_Msg_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Msg_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[系统消息]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_Message" parameterClass="MDLSM_Message" resultClass="int">
      SELECT COUNT(Msg_ID) 'RecordCount'
      FROM SM_Message
      <dynamic prepend="WHERE">
        <!--消息ID-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_ID">Msg_ID=#WHERE_Msg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_Code">Msg_Code=#WHERE_Msg_Code#</isNotEmpty>
        <!--内容-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_Content">Msg_Content=#WHERE_Msg_Content#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Msg_IsValid">Msg_IsValid=#WHERE_Msg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_CreatedBy">Msg_CreatedBy=#WHERE_Msg_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_UpdatedBy">Msg_UpdatedBy=#WHERE_Msg_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Msg_VersionNo">Msg_VersionNo=#WHERE_Msg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_TransID">Msg_TransID=#WHERE_Msg_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[系统消息]信息-->
    <update id="COMM_SQL_UpdateMDLSM_Message" parameterClass="MDLSM_Message" >
      UPDATE SM_Message
      SET
      Msg_UpdatedTime=GETDATE(),
      Msg_VersionNo=Msg_VersionNo+1
      <isNotEmpty prepend="," property="Msg_Code">Msg_Code=#Msg_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="Msg_Content">Msg_Content=#Msg_Content#</isNotEmpty>
      <isNotNull prepend="," property="Msg_IsValid">Msg_IsValid=#Msg_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="Msg_CreatedBy">Msg_CreatedBy=#Msg_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="Msg_CreatedTime">Msg_CreatedTime=#Msg_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="Msg_UpdatedBy">Msg_UpdatedBy=#Msg_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="Msg_TransID">Msg_TransID=#Msg_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--消息ID-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_ID">Msg_ID=#WHERE_Msg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_Code">Msg_Code=#WHERE_Msg_Code#</isNotEmpty>
        <!--内容-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_Content">Msg_Content=#WHERE_Msg_Content#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Msg_IsValid">Msg_IsValid=#WHERE_Msg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_CreatedBy">Msg_CreatedBy=#WHERE_Msg_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Msg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_UpdatedBy">Msg_UpdatedBy=#WHERE_Msg_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Msg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Msg_VersionNo">Msg_VersionNo=#WHERE_Msg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Msg_TransID">Msg_TransID=#WHERE_Msg_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[系统消息]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_Message" parameterClass="List">
      DELETE FROM SM_Message
      WHERE Msg_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_Msg_ID#
      </iterate>
    </delete>

    <!--新增[消息推送]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_PushMesage" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_PushMesage
        (
        <!--ID-->
        PM_ID,
        <!--推送商户ID-->
        PM_MCT_ID,
        <!--推送产品ID-->
        PM_SP_ID,
        <!--推送内容-->
        PM_Content,
        <!--发送人-->
        PM_Sender,
        <!--接受人-->
        PM_Receiver,
        <!--推送方式-->
        PM_PushType,
        <!--发送时间-->
        PM_SendTime,
        <!--查看时间-->
        PM_ReadTime,
        <!--备注-->
        PM_Remark,
        <!--有效-->
        PM_IsValid,
        <!--创建人-->
        PM_CreatedBy,
        <!--创建时间-->
        PM_CreatedTime,
        <!--修改人-->
        PM_UpdatedBy,
        <!--修改时间-->
        PM_UpdatedTime,
        <!--版本号-->
        PM_VersionNo,
        <!--事务编号-->
        PM_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].PM_ID#,
        <!--推送商户ID-->
        #[].PM_MCT_ID#,
        <!--推送产品ID-->
        #[].PM_SP_ID#,
        <!--推送内容-->
        #[].PM_Content#,
        <!--发送人-->
        #[].PM_Sender#,
        <!--接受人-->
        #[].PM_Receiver#,
        <!--推送方式-->
        #[].PM_PushType#,
        <!--发送时间-->
        #[].PM_SendTime#,
        <!--查看时间-->
        #[].PM_ReadTime#,
        <!--备注-->
        #[].PM_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].PM_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].PM_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].PM_TransID#
        )
      </iterate>
    </insert>

    <!--查询[消息推送]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_PushMesage" parameterClass="MDLSM_PushMesage" resultClass="MDLSM_PushMesage">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(PM_ID)
      FROM SM_PushMesage
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_ID">PM_ID=#WHERE_PM_ID#</isNotEmpty>
        <!--推送商户ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_MCT_ID">PM_MCT_ID=#WHERE_PM_MCT_ID#</isNotEmpty>
        <!--推送产品ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_SP_ID">PM_SP_ID=#WHERE_PM_SP_ID#</isNotEmpty>
        <!--推送内容-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Content">PM_Content=#WHERE_PM_Content#</isNotEmpty>
        <!--发送人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Sender">PM_Sender=#WHERE_PM_Sender#</isNotEmpty>
        <!--接受人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Receiver">PM_Receiver=#WHERE_PM_Receiver#</isNotEmpty>
        <!--推送方式-->
        <isNotEmpty prepend="AND" property="WHERE_PM_PushType">PM_PushType=#WHERE_PM_PushType#</isNotEmpty>
        <!--发送时间-->
        <isNotNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PM_SendTime BETWEEN #_SendTimeStart# AND #_SendTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_SendTimeEnd">PM_SendTime <![CDATA[>=]]> #_SendTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PM_SendTime <![CDATA[<=]]> #_SendTimeEnd#</isNotNull>
        </isNull>
        <!--查看时间-->
        <isNotNull prepend="" property="_ReadTimeStart">
          <isNotNull prepend="AND" property="_ReadTimeEnd">PM_ReadTime BETWEEN #_ReadTimeStart# AND #_ReadTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReadTimeEnd">PM_ReadTime <![CDATA[>=]]> #_ReadTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReadTimeStart">
          <isNotNull prepend="AND" property="_ReadTimeEnd">PM_ReadTime <![CDATA[<=]]> #_ReadTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Remark">PM_Remark=#WHERE_PM_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PM_IsValid">PM_IsValid=#WHERE_PM_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_CreatedBy">PM_CreatedBy=#WHERE_PM_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_UpdatedBy">PM_UpdatedBy=#WHERE_PM_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PM_VersionNo">PM_VersionNo=#WHERE_PM_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PM_TransID">PM_TransID=#WHERE_PM_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      PM_ID,
      PM_MCT_ID,
      PM_SP_ID,
      PM_Content,
      PM_Sender,
      PM_Receiver,
      PM_PushType,
      PM_SendTime,
      PM_ReadTime,
      PM_Remark,
      PM_IsValid,
      PM_CreatedBy,
      PM_CreatedTime,
      PM_UpdatedBy,
      PM_UpdatedTime,
      PM_VersionNo,
      PM_TransID
      FROM SM_PushMesage
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_ID">PM_ID=#WHERE_PM_ID#</isNotEmpty>
        <!--推送商户ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_MCT_ID">PM_MCT_ID=#WHERE_PM_MCT_ID#</isNotEmpty>
        <!--推送产品ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_SP_ID">PM_SP_ID=#WHERE_PM_SP_ID#</isNotEmpty>
        <!--推送内容-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Content">PM_Content=#WHERE_PM_Content#</isNotEmpty>
        <!--发送人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Sender">PM_Sender=#WHERE_PM_Sender#</isNotEmpty>
        <!--接受人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Receiver">PM_Receiver=#WHERE_PM_Receiver#</isNotEmpty>
        <!--推送方式-->
        <isNotEmpty prepend="AND" property="WHERE_PM_PushType">PM_PushType=#WHERE_PM_PushType#</isNotEmpty>
        <!--发送时间-->
        <isNotNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PM_SendTime BETWEEN #_SendTimeStart# AND #_SendTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_SendTimeEnd">PM_SendTime <![CDATA[>=]]> #_SendTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PM_SendTime <![CDATA[<=]]> #_SendTimeEnd#</isNotNull>
        </isNull>
        <!--查看时间-->
        <isNotNull prepend="" property="_ReadTimeStart">
          <isNotNull prepend="AND" property="_ReadTimeEnd">PM_ReadTime BETWEEN #_ReadTimeStart# AND #_ReadTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReadTimeEnd">PM_ReadTime <![CDATA[>=]]> #_ReadTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReadTimeStart">
          <isNotNull prepend="AND" property="_ReadTimeEnd">PM_ReadTime <![CDATA[<=]]> #_ReadTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Remark">PM_Remark=#WHERE_PM_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PM_IsValid">PM_IsValid=#WHERE_PM_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_CreatedBy">PM_CreatedBy=#WHERE_PM_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_UpdatedBy">PM_UpdatedBy=#WHERE_PM_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PM_VersionNo">PM_VersionNo=#WHERE_PM_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PM_TransID">PM_TransID=#WHERE_PM_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY PM_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[消息推送]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_PushMesage" parameterClass="MDLSM_PushMesage" resultClass="MDLSM_PushMesage">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(PM_ID)
      FROM SM_PushMesage
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_ID">PM_ID=#WHERE_PM_ID#</isNotEmpty>
        <!--推送商户ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_MCT_ID">PM_MCT_ID LIKE '%'+#WHERE_PM_MCT_ID#+'%'</isNotEmpty>
        <!--推送产品ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_SP_ID">PM_SP_ID LIKE '%'+#WHERE_PM_SP_ID#+'%'</isNotEmpty>
        <!--推送内容-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Content">PM_Content LIKE '%'+#WHERE_PM_Content#+'%'</isNotEmpty>
        <!--发送人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Sender">PM_Sender LIKE '%'+#WHERE_PM_Sender#+'%'</isNotEmpty>
        <!--接受人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Receiver">PM_Receiver LIKE '%'+#WHERE_PM_Receiver#+'%'</isNotEmpty>
        <!--推送方式-->
        <isNotEmpty prepend="AND" property="WHERE_PM_PushType">PM_PushType LIKE '%'+#WHERE_PM_PushType#+'%'</isNotEmpty>
        <!--发送时间-->
        <isNotNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PM_SendTime BETWEEN #_SendTimeStart# AND #_SendTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_SendTimeEnd">PM_SendTime <![CDATA[>=]]> #_SendTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PM_SendTime <![CDATA[<=]]> #_SendTimeEnd#</isNotNull>
        </isNull>
        <!--查看时间-->
        <isNotNull prepend="" property="_ReadTimeStart">
          <isNotNull prepend="AND" property="_ReadTimeEnd">PM_ReadTime BETWEEN #_ReadTimeStart# AND #_ReadTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReadTimeEnd">PM_ReadTime <![CDATA[>=]]> #_ReadTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReadTimeStart">
          <isNotNull prepend="AND" property="_ReadTimeEnd">PM_ReadTime <![CDATA[<=]]> #_ReadTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Remark">PM_Remark LIKE '%'+#WHERE_PM_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PM_IsValid">PM_IsValid=#WHERE_PM_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_CreatedBy">PM_CreatedBy LIKE '%'+#WHERE_PM_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_UpdatedBy">PM_UpdatedBy LIKE '%'+#WHERE_PM_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PM_VersionNo">PM_VersionNo=#WHERE_PM_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PM_TransID">PM_TransID LIKE '%'+#WHERE_PM_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      PM_ID,
      PM_MCT_ID,
      PM_SP_ID,
      PM_Content,
      PM_Sender,
      PM_Receiver,
      PM_PushType,
      PM_SendTime,
      PM_ReadTime,
      PM_Remark,
      PM_IsValid,
      PM_CreatedBy,
      PM_CreatedTime,
      PM_UpdatedBy,
      PM_UpdatedTime,
      PM_VersionNo,
      PM_TransID
      FROM SM_PushMesage
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_ID">PM_ID=#WHERE_PM_ID#</isNotEmpty>
        <!--推送商户ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_MCT_ID">PM_MCT_ID LIKE '%'+#WHERE_PM_MCT_ID#+'%'</isNotEmpty>
        <!--推送产品ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_SP_ID">PM_SP_ID LIKE '%'+#WHERE_PM_SP_ID#+'%'</isNotEmpty>
        <!--推送内容-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Content">PM_Content LIKE '%'+#WHERE_PM_Content#+'%'</isNotEmpty>
        <!--发送人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Sender">PM_Sender LIKE '%'+#WHERE_PM_Sender#+'%'</isNotEmpty>
        <!--接受人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Receiver">PM_Receiver LIKE '%'+#WHERE_PM_Receiver#+'%'</isNotEmpty>
        <!--推送方式-->
        <isNotEmpty prepend="AND" property="WHERE_PM_PushType">PM_PushType LIKE '%'+#WHERE_PM_PushType#+'%'</isNotEmpty>
        <!--发送时间-->
        <isNotNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PM_SendTime BETWEEN #_SendTimeStart# AND #_SendTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_SendTimeEnd">PM_SendTime <![CDATA[>=]]> #_SendTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PM_SendTime <![CDATA[<=]]> #_SendTimeEnd#</isNotNull>
        </isNull>
        <!--查看时间-->
        <isNotNull prepend="" property="_ReadTimeStart">
          <isNotNull prepend="AND" property="_ReadTimeEnd">PM_ReadTime BETWEEN #_ReadTimeStart# AND #_ReadTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReadTimeEnd">PM_ReadTime <![CDATA[>=]]> #_ReadTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReadTimeStart">
          <isNotNull prepend="AND" property="_ReadTimeEnd">PM_ReadTime <![CDATA[<=]]> #_ReadTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Remark">PM_Remark LIKE '%'+#WHERE_PM_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PM_IsValid">PM_IsValid=#WHERE_PM_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_CreatedBy">PM_CreatedBy LIKE '%'+#WHERE_PM_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_UpdatedBy">PM_UpdatedBy LIKE '%'+#WHERE_PM_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PM_VersionNo">PM_VersionNo=#WHERE_PM_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PM_TransID">PM_TransID LIKE '%'+#WHERE_PM_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY PM_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[消息推送]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_PushMesage" parameterClass="MDLSM_PushMesage" resultClass="int">
      SELECT COUNT(PM_ID) 'RecordCount'
      FROM SM_PushMesage
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_ID">PM_ID=#WHERE_PM_ID#</isNotEmpty>
        <!--推送商户ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_MCT_ID">PM_MCT_ID=#WHERE_PM_MCT_ID#</isNotEmpty>
        <!--推送产品ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_SP_ID">PM_SP_ID=#WHERE_PM_SP_ID#</isNotEmpty>
        <!--推送内容-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Content">PM_Content=#WHERE_PM_Content#</isNotEmpty>
        <!--发送人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Sender">PM_Sender=#WHERE_PM_Sender#</isNotEmpty>
        <!--接受人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Receiver">PM_Receiver=#WHERE_PM_Receiver#</isNotEmpty>
        <!--推送方式-->
        <isNotEmpty prepend="AND" property="WHERE_PM_PushType">PM_PushType=#WHERE_PM_PushType#</isNotEmpty>
        <!--发送时间-->
        <isNotNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PM_SendTime BETWEEN #_SendTimeStart# AND #_SendTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_SendTimeEnd">PM_SendTime <![CDATA[>=]]> #_SendTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PM_SendTime <![CDATA[<=]]> #_SendTimeEnd#</isNotNull>
        </isNull>
        <!--查看时间-->
        <isNotNull prepend="" property="_ReadTimeStart">
          <isNotNull prepend="AND" property="_ReadTimeEnd">PM_ReadTime BETWEEN #_ReadTimeStart# AND #_ReadTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReadTimeEnd">PM_ReadTime <![CDATA[>=]]> #_ReadTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReadTimeStart">
          <isNotNull prepend="AND" property="_ReadTimeEnd">PM_ReadTime <![CDATA[<=]]> #_ReadTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Remark">PM_Remark=#WHERE_PM_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PM_IsValid">PM_IsValid=#WHERE_PM_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_CreatedBy">PM_CreatedBy=#WHERE_PM_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_UpdatedBy">PM_UpdatedBy=#WHERE_PM_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PM_VersionNo">PM_VersionNo=#WHERE_PM_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PM_TransID">PM_TransID=#WHERE_PM_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[消息推送]信息-->
    <update id="COMM_SQL_UpdateMDLSM_PushMesage" parameterClass="MDLSM_PushMesage" >
      UPDATE SM_PushMesage
      SET
      PM_UpdatedTime=GETDATE(),
      PM_VersionNo=PM_VersionNo+1
      <isNotEmpty prepend="," property="PM_MCT_ID">PM_MCT_ID=#PM_MCT_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="PM_SP_ID">PM_SP_ID=#PM_SP_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="PM_Content">PM_Content=#PM_Content#</isNotEmpty>
      <isNotEmpty prepend="," property="PM_Sender">PM_Sender=#PM_Sender#</isNotEmpty>
      <isNotEmpty prepend="," property="PM_Receiver">PM_Receiver=#PM_Receiver#</isNotEmpty>
      <isNotEmpty prepend="," property="PM_PushType">PM_PushType=#PM_PushType#</isNotEmpty>
      <isNotNull prepend="," property="PM_SendTime">PM_SendTime=#PM_SendTime#</isNotNull>
      <isNotNull prepend="," property="PM_ReadTime">PM_ReadTime=#PM_ReadTime#</isNotNull>
      <isNotEmpty prepend="," property="PM_Remark">PM_Remark=#PM_Remark#</isNotEmpty>
      <isNotNull prepend="," property="PM_IsValid">PM_IsValid=#PM_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="PM_CreatedBy">PM_CreatedBy=#PM_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="PM_CreatedTime">PM_CreatedTime=#PM_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="PM_UpdatedBy">PM_UpdatedBy=#PM_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="PM_TransID">PM_TransID=#PM_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_ID">PM_ID=#WHERE_PM_ID#</isNotEmpty>
        <!--推送商户ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_MCT_ID">PM_MCT_ID=#WHERE_PM_MCT_ID#</isNotEmpty>
        <!--推送产品ID-->
        <isNotEmpty prepend="AND" property="WHERE_PM_SP_ID">PM_SP_ID=#WHERE_PM_SP_ID#</isNotEmpty>
        <!--推送内容-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Content">PM_Content=#WHERE_PM_Content#</isNotEmpty>
        <!--发送人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Sender">PM_Sender=#WHERE_PM_Sender#</isNotEmpty>
        <!--接受人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Receiver">PM_Receiver=#WHERE_PM_Receiver#</isNotEmpty>
        <!--推送方式-->
        <isNotEmpty prepend="AND" property="WHERE_PM_PushType">PM_PushType=#WHERE_PM_PushType#</isNotEmpty>
        <!--发送时间-->
        <isNotNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PM_SendTime BETWEEN #_SendTimeStart# AND #_SendTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_SendTimeEnd">PM_SendTime <![CDATA[>=]]> #_SendTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PM_SendTime <![CDATA[<=]]> #_SendTimeEnd#</isNotNull>
        </isNull>
        <!--查看时间-->
        <isNotNull prepend="" property="_ReadTimeStart">
          <isNotNull prepend="AND" property="_ReadTimeEnd">PM_ReadTime BETWEEN #_ReadTimeStart# AND #_ReadTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReadTimeEnd">PM_ReadTime <![CDATA[>=]]> #_ReadTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReadTimeStart">
          <isNotNull prepend="AND" property="_ReadTimeEnd">PM_ReadTime <![CDATA[<=]]> #_ReadTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PM_Remark">PM_Remark=#WHERE_PM_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PM_IsValid">PM_IsValid=#WHERE_PM_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_CreatedBy">PM_CreatedBy=#WHERE_PM_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PM_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PM_UpdatedBy">PM_UpdatedBy=#WHERE_PM_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PM_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PM_VersionNo">PM_VersionNo=#WHERE_PM_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PM_TransID">PM_TransID=#WHERE_PM_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[消息推送]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_PushMesage" parameterClass="List">
      DELETE FROM SM_PushMesage
      WHERE PM_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_PM_ID#
      </iterate>
    </delete>

    <!--新增[中国大区]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_ChineseRegion" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_ChineseRegion
        (
        <!--ID-->
        Reg_ID,
        <!--编码-->
        Reg_Code,
        <!--名称-->
        Reg_Name,
        <!--简称-->
        Reg_ShortName,
        <!--顺序-->
        Reg_Index,
        <!--有效-->
        Reg_IsValid,
        <!--创建人-->
        Reg_CreatedBy,
        <!--创建时间-->
        Reg_CreatedTime,
        <!--修改人-->
        Reg_UpdatedBy,
        <!--修改时间-->
        Reg_UpdatedTime,
        <!--版本号-->
        Reg_VersionNo,
        <!--事务编号-->
        Reg_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].Reg_ID#,
        <!--编码-->
        #[].Reg_Code#,
        <!--名称-->
        #[].Reg_Name#,
        <!--简称-->
        #[].Reg_ShortName#,
        <!--顺序-->
        #[].Reg_Index#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].Reg_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].Reg_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].Reg_TransID#
        )
      </iterate>
    </insert>

    <!--查询[中国大区]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_ChineseRegion" parameterClass="MDLSM_ChineseRegion" resultClass="MDLSM_ChineseRegion">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Reg_ID)
      FROM SM_ChineseRegion
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_ID">Reg_ID=#WHERE_Reg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_Code">Reg_Code=#WHERE_Reg_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_Name">Reg_Name=#WHERE_Reg_Name#</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_ShortName">Reg_ShortName=#WHERE_Reg_ShortName#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Reg_Index">Reg_Index=#WHERE_Reg_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Reg_IsValid">Reg_IsValid=#WHERE_Reg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_CreatedBy">Reg_CreatedBy=#WHERE_Reg_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_UpdatedBy">Reg_UpdatedBy=#WHERE_Reg_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Reg_VersionNo">Reg_VersionNo=#WHERE_Reg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_TransID">Reg_TransID=#WHERE_Reg_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Reg_ID,
      Reg_Code,
      Reg_Name,
      Reg_ShortName,
      Reg_Index,
      Reg_IsValid,
      Reg_CreatedBy,
      Reg_CreatedTime,
      Reg_UpdatedBy,
      Reg_UpdatedTime,
      Reg_VersionNo,
      Reg_TransID
      FROM SM_ChineseRegion
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_ID">Reg_ID=#WHERE_Reg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_Code">Reg_Code=#WHERE_Reg_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_Name">Reg_Name=#WHERE_Reg_Name#</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_ShortName">Reg_ShortName=#WHERE_Reg_ShortName#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Reg_Index">Reg_Index=#WHERE_Reg_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Reg_IsValid">Reg_IsValid=#WHERE_Reg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_CreatedBy">Reg_CreatedBy=#WHERE_Reg_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_UpdatedBy">Reg_UpdatedBy=#WHERE_Reg_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Reg_VersionNo">Reg_VersionNo=#WHERE_Reg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_TransID">Reg_TransID=#WHERE_Reg_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Reg_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[中国大区]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_ChineseRegion" parameterClass="MDLSM_ChineseRegion" resultClass="MDLSM_ChineseRegion">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Reg_ID)
      FROM SM_ChineseRegion
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_ID">Reg_ID=#WHERE_Reg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_Code">Reg_Code LIKE '%'+#WHERE_Reg_Code#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_Name">Reg_Name LIKE '%'+#WHERE_Reg_Name#+'%'</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_ShortName">Reg_ShortName LIKE '%'+#WHERE_Reg_ShortName#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Reg_Index">Reg_Index=#WHERE_Reg_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Reg_IsValid">Reg_IsValid=#WHERE_Reg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_CreatedBy">Reg_CreatedBy LIKE '%'+#WHERE_Reg_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_UpdatedBy">Reg_UpdatedBy LIKE '%'+#WHERE_Reg_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Reg_VersionNo">Reg_VersionNo=#WHERE_Reg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_TransID">Reg_TransID LIKE '%'+#WHERE_Reg_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Reg_ID,
      Reg_Code,
      Reg_Name,
      Reg_ShortName,
      Reg_Index,
      Reg_IsValid,
      Reg_CreatedBy,
      Reg_CreatedTime,
      Reg_UpdatedBy,
      Reg_UpdatedTime,
      Reg_VersionNo,
      Reg_TransID
      FROM SM_ChineseRegion
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_ID">Reg_ID=#WHERE_Reg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_Code">Reg_Code LIKE '%'+#WHERE_Reg_Code#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_Name">Reg_Name LIKE '%'+#WHERE_Reg_Name#+'%'</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_ShortName">Reg_ShortName LIKE '%'+#WHERE_Reg_ShortName#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Reg_Index">Reg_Index=#WHERE_Reg_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Reg_IsValid">Reg_IsValid=#WHERE_Reg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_CreatedBy">Reg_CreatedBy LIKE '%'+#WHERE_Reg_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_UpdatedBy">Reg_UpdatedBy LIKE '%'+#WHERE_Reg_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Reg_VersionNo">Reg_VersionNo=#WHERE_Reg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_TransID">Reg_TransID LIKE '%'+#WHERE_Reg_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Reg_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[中国大区]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_ChineseRegion" parameterClass="MDLSM_ChineseRegion" resultClass="int">
      SELECT COUNT(Reg_ID) 'RecordCount'
      FROM SM_ChineseRegion
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_ID">Reg_ID=#WHERE_Reg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_Code">Reg_Code=#WHERE_Reg_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_Name">Reg_Name=#WHERE_Reg_Name#</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_ShortName">Reg_ShortName=#WHERE_Reg_ShortName#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Reg_Index">Reg_Index=#WHERE_Reg_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Reg_IsValid">Reg_IsValid=#WHERE_Reg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_CreatedBy">Reg_CreatedBy=#WHERE_Reg_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_UpdatedBy">Reg_UpdatedBy=#WHERE_Reg_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Reg_VersionNo">Reg_VersionNo=#WHERE_Reg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_TransID">Reg_TransID=#WHERE_Reg_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[中国大区]信息-->
    <update id="COMM_SQL_UpdateMDLSM_ChineseRegion" parameterClass="MDLSM_ChineseRegion" >
      UPDATE SM_ChineseRegion
      SET
      Reg_UpdatedTime=GETDATE(),
      Reg_VersionNo=Reg_VersionNo+1
      <isNotEmpty prepend="," property="Reg_Code">Reg_Code=#Reg_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="Reg_Name">Reg_Name=#Reg_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="Reg_ShortName">Reg_ShortName=#Reg_ShortName#</isNotEmpty>
      <isNotNull prepend="," property="Reg_Index">Reg_Index=#Reg_Index#</isNotNull>
      <isNotNull prepend="," property="Reg_IsValid">Reg_IsValid=#Reg_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="Reg_CreatedBy">Reg_CreatedBy=#Reg_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="Reg_CreatedTime">Reg_CreatedTime=#Reg_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="Reg_UpdatedBy">Reg_UpdatedBy=#Reg_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="Reg_TransID">Reg_TransID=#Reg_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_ID">Reg_ID=#WHERE_Reg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_Code">Reg_Code=#WHERE_Reg_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_Name">Reg_Name=#WHERE_Reg_Name#</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_ShortName">Reg_ShortName=#WHERE_Reg_ShortName#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Reg_Index">Reg_Index=#WHERE_Reg_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Reg_IsValid">Reg_IsValid=#WHERE_Reg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_CreatedBy">Reg_CreatedBy=#WHERE_Reg_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Reg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_UpdatedBy">Reg_UpdatedBy=#WHERE_Reg_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Reg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Reg_VersionNo">Reg_VersionNo=#WHERE_Reg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Reg_TransID">Reg_TransID=#WHERE_Reg_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[中国大区]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_ChineseRegion" parameterClass="List">
      DELETE FROM SM_ChineseRegion
      WHERE Reg_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_Reg_ID#
      </iterate>
    </delete>

    <!--新增[中国省份]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_ChineseProvince" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_ChineseProvince
        (
        <!--ID-->
        Prov_ID,
        <!--大区ID-->
        Prov_Reg_ID,
        <!--编码-->
        Prov_Code,
        <!--名称-->
        Prov_Name,
        <!--简称-->
        Prov_ShortName,
        <!--顺序-->
        Prov_Index,
        <!--有效-->
        Prov_IsValid,
        <!--创建人-->
        Prov_CreatedBy,
        <!--创建时间-->
        Prov_CreatedTime,
        <!--修改人-->
        Prov_UpdatedBy,
        <!--修改时间-->
        Prov_UpdatedTime,
        <!--版本号-->
        Prov_VersionNo,
        <!--事务编号-->
        Prov_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].Prov_ID#,
        <!--大区ID-->
        #[].Prov_Reg_ID#,
        <!--编码-->
        #[].Prov_Code#,
        <!--名称-->
        #[].Prov_Name#,
        <!--简称-->
        #[].Prov_ShortName#,
        <!--顺序-->
        #[].Prov_Index#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].Prov_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].Prov_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].Prov_TransID#
        )
      </iterate>
    </insert>

    <!--查询[中国省份]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_ChineseProvince" parameterClass="MDLSM_ChineseProvince" resultClass="MDLSM_ChineseProvince">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Prov_ID)
      FROM SM_ChineseProvince
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_ID">Prov_ID=#WHERE_Prov_ID#</isNotEmpty>
        <!--大区ID-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Reg_ID">Prov_Reg_ID=#WHERE_Prov_Reg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Code">Prov_Code=#WHERE_Prov_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Name">Prov_Name=#WHERE_Prov_Name#</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_ShortName">Prov_ShortName=#WHERE_Prov_ShortName#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Prov_Index">Prov_Index=#WHERE_Prov_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Prov_IsValid">Prov_IsValid=#WHERE_Prov_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_CreatedBy">Prov_CreatedBy=#WHERE_Prov_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_UpdatedBy">Prov_UpdatedBy=#WHERE_Prov_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Prov_VersionNo">Prov_VersionNo=#WHERE_Prov_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_TransID">Prov_TransID=#WHERE_Prov_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Prov_ID,
      Prov_Reg_ID,
      Prov_Code,
      Prov_Name,
      Prov_ShortName,
      Prov_Index,
      Prov_IsValid,
      Prov_CreatedBy,
      Prov_CreatedTime,
      Prov_UpdatedBy,
      Prov_UpdatedTime,
      Prov_VersionNo,
      Prov_TransID
      FROM SM_ChineseProvince
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_ID">Prov_ID=#WHERE_Prov_ID#</isNotEmpty>
        <!--大区ID-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Reg_ID">Prov_Reg_ID=#WHERE_Prov_Reg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Code">Prov_Code=#WHERE_Prov_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Name">Prov_Name=#WHERE_Prov_Name#</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_ShortName">Prov_ShortName=#WHERE_Prov_ShortName#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Prov_Index">Prov_Index=#WHERE_Prov_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Prov_IsValid">Prov_IsValid=#WHERE_Prov_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_CreatedBy">Prov_CreatedBy=#WHERE_Prov_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_UpdatedBy">Prov_UpdatedBy=#WHERE_Prov_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Prov_VersionNo">Prov_VersionNo=#WHERE_Prov_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_TransID">Prov_TransID=#WHERE_Prov_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Prov_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[中国省份]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_ChineseProvince" parameterClass="MDLSM_ChineseProvince" resultClass="MDLSM_ChineseProvince">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Prov_ID)
      FROM SM_ChineseProvince
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_ID">Prov_ID=#WHERE_Prov_ID#</isNotEmpty>
        <!--大区ID-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Reg_ID">Prov_Reg_ID LIKE '%'+#WHERE_Prov_Reg_ID#+'%'</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Code">Prov_Code LIKE '%'+#WHERE_Prov_Code#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Name">Prov_Name LIKE '%'+#WHERE_Prov_Name#+'%'</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_ShortName">Prov_ShortName LIKE '%'+#WHERE_Prov_ShortName#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Prov_Index">Prov_Index=#WHERE_Prov_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Prov_IsValid">Prov_IsValid=#WHERE_Prov_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_CreatedBy">Prov_CreatedBy LIKE '%'+#WHERE_Prov_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_UpdatedBy">Prov_UpdatedBy LIKE '%'+#WHERE_Prov_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Prov_VersionNo">Prov_VersionNo=#WHERE_Prov_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_TransID">Prov_TransID LIKE '%'+#WHERE_Prov_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Prov_ID,
      Prov_Reg_ID,
      Prov_Code,
      Prov_Name,
      Prov_ShortName,
      Prov_Index,
      Prov_IsValid,
      Prov_CreatedBy,
      Prov_CreatedTime,
      Prov_UpdatedBy,
      Prov_UpdatedTime,
      Prov_VersionNo,
      Prov_TransID
      FROM SM_ChineseProvince
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_ID">Prov_ID=#WHERE_Prov_ID#</isNotEmpty>
        <!--大区ID-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Reg_ID">Prov_Reg_ID LIKE '%'+#WHERE_Prov_Reg_ID#+'%'</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Code">Prov_Code LIKE '%'+#WHERE_Prov_Code#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Name">Prov_Name LIKE '%'+#WHERE_Prov_Name#+'%'</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_ShortName">Prov_ShortName LIKE '%'+#WHERE_Prov_ShortName#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Prov_Index">Prov_Index=#WHERE_Prov_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Prov_IsValid">Prov_IsValid=#WHERE_Prov_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_CreatedBy">Prov_CreatedBy LIKE '%'+#WHERE_Prov_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_UpdatedBy">Prov_UpdatedBy LIKE '%'+#WHERE_Prov_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Prov_VersionNo">Prov_VersionNo=#WHERE_Prov_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_TransID">Prov_TransID LIKE '%'+#WHERE_Prov_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Prov_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[中国省份]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_ChineseProvince" parameterClass="MDLSM_ChineseProvince" resultClass="int">
      SELECT COUNT(Prov_ID) 'RecordCount'
      FROM SM_ChineseProvince
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_ID">Prov_ID=#WHERE_Prov_ID#</isNotEmpty>
        <!--大区ID-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Reg_ID">Prov_Reg_ID=#WHERE_Prov_Reg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Code">Prov_Code=#WHERE_Prov_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Name">Prov_Name=#WHERE_Prov_Name#</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_ShortName">Prov_ShortName=#WHERE_Prov_ShortName#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Prov_Index">Prov_Index=#WHERE_Prov_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Prov_IsValid">Prov_IsValid=#WHERE_Prov_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_CreatedBy">Prov_CreatedBy=#WHERE_Prov_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_UpdatedBy">Prov_UpdatedBy=#WHERE_Prov_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Prov_VersionNo">Prov_VersionNo=#WHERE_Prov_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_TransID">Prov_TransID=#WHERE_Prov_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[中国省份]信息-->
    <update id="COMM_SQL_UpdateMDLSM_ChineseProvince" parameterClass="MDLSM_ChineseProvince" >
      UPDATE SM_ChineseProvince
      SET
      Prov_UpdatedTime=GETDATE(),
      Prov_VersionNo=Prov_VersionNo+1
      <isNotEmpty prepend="," property="Prov_Reg_ID">Prov_Reg_ID=#Prov_Reg_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="Prov_Code">Prov_Code=#Prov_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="Prov_Name">Prov_Name=#Prov_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="Prov_ShortName">Prov_ShortName=#Prov_ShortName#</isNotEmpty>
      <isNotNull prepend="," property="Prov_Index">Prov_Index=#Prov_Index#</isNotNull>
      <isNotNull prepend="," property="Prov_IsValid">Prov_IsValid=#Prov_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="Prov_CreatedBy">Prov_CreatedBy=#Prov_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="Prov_CreatedTime">Prov_CreatedTime=#Prov_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="Prov_UpdatedBy">Prov_UpdatedBy=#Prov_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="Prov_TransID">Prov_TransID=#Prov_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_ID">Prov_ID=#WHERE_Prov_ID#</isNotEmpty>
        <!--大区ID-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Reg_ID">Prov_Reg_ID=#WHERE_Prov_Reg_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Code">Prov_Code=#WHERE_Prov_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_Name">Prov_Name=#WHERE_Prov_Name#</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_ShortName">Prov_ShortName=#WHERE_Prov_ShortName#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Prov_Index">Prov_Index=#WHERE_Prov_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Prov_IsValid">Prov_IsValid=#WHERE_Prov_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_CreatedBy">Prov_CreatedBy=#WHERE_Prov_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Prov_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_UpdatedBy">Prov_UpdatedBy=#WHERE_Prov_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Prov_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Prov_VersionNo">Prov_VersionNo=#WHERE_Prov_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Prov_TransID">Prov_TransID=#WHERE_Prov_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[中国省份]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_ChineseProvince" parameterClass="List">
      DELETE FROM SM_ChineseProvince
      WHERE Prov_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_Prov_ID#
      </iterate>
    </delete>

    <!--新增[省份城市]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_ProvinceCity" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_ProvinceCity
        (
        <!--ID-->
        City_ID,
        <!--大区ID-->
        City_Reg_ID,
        <!--城市编码-->
        City_Code,
        <!--名称-->
        City_Name,
        <!--车牌编码-->
        City_PlateCode,
        <!--省份编码-->
        City_Prov_Code,
        <!--顺序-->
        City_Index,
        <!--有效-->
        City_IsValid,
        <!--创建人-->
        City_CreatedBy,
        <!--创建时间-->
        City_CreatedTime,
        <!--修改人-->
        City_UpdatedBy,
        <!--修改时间-->
        City_UpdatedTime,
        <!--版本号-->
        City_VersionNo,
        <!--事务编号-->
        City_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].City_ID#,
        <!--大区ID-->
        #[].City_Reg_ID#,
        <!--城市编码-->
        #[].City_Code#,
        <!--名称-->
        #[].City_Name#,
        <!--车牌编码-->
        #[].City_PlateCode#,
        <!--省份编码-->
        #[].City_Prov_Code#,
        <!--顺序-->
        #[].City_Index#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].City_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].City_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].City_TransID#
        )
      </iterate>
    </insert>

    <!--查询[省份城市]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_ProvinceCity" parameterClass="MDLSM_ProvinceCity" resultClass="MDLSM_ProvinceCity">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(City_ID)
      FROM SM_ProvinceCity
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_City_ID">City_ID=#WHERE_City_ID#</isNotEmpty>
        <!--大区ID-->
        <isNotEmpty prepend="AND" property="WHERE_City_Reg_ID">City_Reg_ID=#WHERE_City_Reg_ID#</isNotEmpty>
        <!--城市编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_Code">City_Code=#WHERE_City_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_City_Name">City_Name=#WHERE_City_Name#</isNotEmpty>
        <!--车牌编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_PlateCode">City_PlateCode=#WHERE_City_PlateCode#</isNotEmpty>
        <!--省份编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_Prov_Code">City_Prov_Code=#WHERE_City_Prov_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_City_Index">City_Index=#WHERE_City_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_City_IsValid">City_IsValid=#WHERE_City_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_City_CreatedBy">City_CreatedBy=#WHERE_City_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">City_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">City_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">City_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_City_UpdatedBy">City_UpdatedBy=#WHERE_City_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_City_VersionNo">City_VersionNo=#WHERE_City_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_City_TransID">City_TransID=#WHERE_City_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      City_ID,
      City_Reg_ID,
      City_Code,
      City_Name,
      City_PlateCode,
      City_Prov_Code,
      City_Index,
      City_IsValid,
      City_CreatedBy,
      City_CreatedTime,
      City_UpdatedBy,
      City_UpdatedTime,
      City_VersionNo,
      City_TransID
      FROM SM_ProvinceCity
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_City_ID">City_ID=#WHERE_City_ID#</isNotEmpty>
        <!--大区ID-->
        <isNotEmpty prepend="AND" property="WHERE_City_Reg_ID">City_Reg_ID=#WHERE_City_Reg_ID#</isNotEmpty>
        <!--城市编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_Code">City_Code=#WHERE_City_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_City_Name">City_Name=#WHERE_City_Name#</isNotEmpty>
        <!--车牌编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_PlateCode">City_PlateCode=#WHERE_City_PlateCode#</isNotEmpty>
        <!--省份编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_Prov_Code">City_Prov_Code=#WHERE_City_Prov_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_City_Index">City_Index=#WHERE_City_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_City_IsValid">City_IsValid=#WHERE_City_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_City_CreatedBy">City_CreatedBy=#WHERE_City_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">City_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">City_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">City_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_City_UpdatedBy">City_UpdatedBy=#WHERE_City_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_City_VersionNo">City_VersionNo=#WHERE_City_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_City_TransID">City_TransID=#WHERE_City_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY City_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[省份城市]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_ProvinceCity" parameterClass="MDLSM_ProvinceCity" resultClass="MDLSM_ProvinceCity">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(City_ID)
      FROM SM_ProvinceCity
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_City_ID">City_ID=#WHERE_City_ID#</isNotEmpty>
        <!--大区ID-->
        <isNotEmpty prepend="AND" property="WHERE_City_Reg_ID">City_Reg_ID LIKE '%'+#WHERE_City_Reg_ID#+'%'</isNotEmpty>
        <!--城市编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_Code">City_Code LIKE '%'+#WHERE_City_Code#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_City_Name">City_Name LIKE '%'+#WHERE_City_Name#+'%'</isNotEmpty>
        <!--车牌编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_PlateCode">City_PlateCode LIKE '%'+#WHERE_City_PlateCode#+'%'</isNotEmpty>
        <!--省份编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_Prov_Code">City_Prov_Code LIKE '%'+#WHERE_City_Prov_Code#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_City_Index">City_Index=#WHERE_City_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_City_IsValid">City_IsValid=#WHERE_City_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_City_CreatedBy">City_CreatedBy LIKE '%'+#WHERE_City_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">City_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">City_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">City_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_City_UpdatedBy">City_UpdatedBy LIKE '%'+#WHERE_City_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_City_VersionNo">City_VersionNo=#WHERE_City_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_City_TransID">City_TransID LIKE '%'+#WHERE_City_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      City_ID,
      City_Reg_ID,
      City_Code,
      City_Name,
      City_PlateCode,
      City_Prov_Code,
      City_Index,
      City_IsValid,
      City_CreatedBy,
      City_CreatedTime,
      City_UpdatedBy,
      City_UpdatedTime,
      City_VersionNo,
      City_TransID
      FROM SM_ProvinceCity
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_City_ID">City_ID=#WHERE_City_ID#</isNotEmpty>
        <!--大区ID-->
        <isNotEmpty prepend="AND" property="WHERE_City_Reg_ID">City_Reg_ID LIKE '%'+#WHERE_City_Reg_ID#+'%'</isNotEmpty>
        <!--城市编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_Code">City_Code LIKE '%'+#WHERE_City_Code#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_City_Name">City_Name LIKE '%'+#WHERE_City_Name#+'%'</isNotEmpty>
        <!--车牌编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_PlateCode">City_PlateCode LIKE '%'+#WHERE_City_PlateCode#+'%'</isNotEmpty>
        <!--省份编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_Prov_Code">City_Prov_Code LIKE '%'+#WHERE_City_Prov_Code#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_City_Index">City_Index=#WHERE_City_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_City_IsValid">City_IsValid=#WHERE_City_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_City_CreatedBy">City_CreatedBy LIKE '%'+#WHERE_City_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">City_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">City_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">City_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_City_UpdatedBy">City_UpdatedBy LIKE '%'+#WHERE_City_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_City_VersionNo">City_VersionNo=#WHERE_City_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_City_TransID">City_TransID LIKE '%'+#WHERE_City_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY City_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[省份城市]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_ProvinceCity" parameterClass="MDLSM_ProvinceCity" resultClass="int">
      SELECT COUNT(City_ID) 'RecordCount'
      FROM SM_ProvinceCity
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_City_ID">City_ID=#WHERE_City_ID#</isNotEmpty>
        <!--大区ID-->
        <isNotEmpty prepend="AND" property="WHERE_City_Reg_ID">City_Reg_ID=#WHERE_City_Reg_ID#</isNotEmpty>
        <!--城市编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_Code">City_Code=#WHERE_City_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_City_Name">City_Name=#WHERE_City_Name#</isNotEmpty>
        <!--车牌编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_PlateCode">City_PlateCode=#WHERE_City_PlateCode#</isNotEmpty>
        <!--省份编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_Prov_Code">City_Prov_Code=#WHERE_City_Prov_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_City_Index">City_Index=#WHERE_City_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_City_IsValid">City_IsValid=#WHERE_City_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_City_CreatedBy">City_CreatedBy=#WHERE_City_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">City_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">City_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">City_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_City_UpdatedBy">City_UpdatedBy=#WHERE_City_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_City_VersionNo">City_VersionNo=#WHERE_City_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_City_TransID">City_TransID=#WHERE_City_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[省份城市]信息-->
    <update id="COMM_SQL_UpdateMDLSM_ProvinceCity" parameterClass="MDLSM_ProvinceCity" >
      UPDATE SM_ProvinceCity
      SET
      City_UpdatedTime=GETDATE(),
      City_VersionNo=City_VersionNo+1
      <isNotEmpty prepend="," property="City_Reg_ID">City_Reg_ID=#City_Reg_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="City_Code">City_Code=#City_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="City_Name">City_Name=#City_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="City_PlateCode">City_PlateCode=#City_PlateCode#</isNotEmpty>
      <isNotEmpty prepend="," property="City_Prov_Code">City_Prov_Code=#City_Prov_Code#</isNotEmpty>
      <isNotNull prepend="," property="City_Index">City_Index=#City_Index#</isNotNull>
      <isNotNull prepend="," property="City_IsValid">City_IsValid=#City_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="City_CreatedBy">City_CreatedBy=#City_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="City_CreatedTime">City_CreatedTime=#City_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="City_UpdatedBy">City_UpdatedBy=#City_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="City_TransID">City_TransID=#City_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_City_ID">City_ID=#WHERE_City_ID#</isNotEmpty>
        <!--大区ID-->
        <isNotEmpty prepend="AND" property="WHERE_City_Reg_ID">City_Reg_ID=#WHERE_City_Reg_ID#</isNotEmpty>
        <!--城市编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_Code">City_Code=#WHERE_City_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_City_Name">City_Name=#WHERE_City_Name#</isNotEmpty>
        <!--车牌编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_PlateCode">City_PlateCode=#WHERE_City_PlateCode#</isNotEmpty>
        <!--省份编码-->
        <isNotEmpty prepend="AND" property="WHERE_City_Prov_Code">City_Prov_Code=#WHERE_City_Prov_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_City_Index">City_Index=#WHERE_City_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_City_IsValid">City_IsValid=#WHERE_City_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_City_CreatedBy">City_CreatedBy=#WHERE_City_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">City_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">City_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">City_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_City_UpdatedBy">City_UpdatedBy=#WHERE_City_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">City_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_City_VersionNo">City_VersionNo=#WHERE_City_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_City_TransID">City_TransID=#WHERE_City_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[省份城市]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_ProvinceCity" parameterClass="List">
      DELETE FROM SM_ProvinceCity
      WHERE City_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_City_ID#
      </iterate>
    </delete>

    <!--新增[城市区域]信息-->
    <insert id="COMM_SQL_INSERT_MDLSM_CityDistrict" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SM_CityDistrict
        (
        <!--ID-->
        Dist_ID,
        <!--区域编码-->
        Dist_Code,
        <!--名称-->
        Dist_Name,
        <!--城市编码-->
        Dist_City_Code,
        <!--顺序-->
        Dist_Index,
        <!--有效-->
        Dist_IsValid,
        <!--创建人-->
        Dist_CreatedBy,
        <!--创建时间-->
        Dist_CreatedTime,
        <!--修改人-->
        Dist_UpdatedBy,
        <!--修改时间-->
        Dist_UpdatedTime,
        <!--版本号-->
        Dist_VersionNo,
        <!--事务编号-->
        Dist_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].Dist_ID#,
        <!--区域编码-->
        #[].Dist_Code#,
        <!--名称-->
        #[].Dist_Name#,
        <!--城市编码-->
        #[].Dist_City_Code#,
        <!--顺序-->
        #[].Dist_Index#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].Dist_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].Dist_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].Dist_TransID#
        )
      </iterate>
    </insert>

    <!--查询[城市区域]信息（精确条件）-->
    <select id="COMM_SQL_MDLSM_CityDistrict" parameterClass="MDLSM_CityDistrict" resultClass="MDLSM_CityDistrict">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Dist_ID)
      FROM SM_CityDistrict
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_ID">Dist_ID=#WHERE_Dist_ID#</isNotEmpty>
        <!--区域编码-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_Code">Dist_Code=#WHERE_Dist_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_Name">Dist_Name=#WHERE_Dist_Name#</isNotEmpty>
        <!--城市编码-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_City_Code">Dist_City_Code=#WHERE_Dist_City_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Dist_Index">Dist_Index=#WHERE_Dist_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Dist_IsValid">Dist_IsValid=#WHERE_Dist_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_CreatedBy">Dist_CreatedBy=#WHERE_Dist_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_UpdatedBy">Dist_UpdatedBy=#WHERE_Dist_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Dist_VersionNo">Dist_VersionNo=#WHERE_Dist_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_TransID">Dist_TransID=#WHERE_Dist_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Dist_ID,
      Dist_Code,
      Dist_Name,
      Dist_City_Code,
      Dist_Index,
      Dist_IsValid,
      Dist_CreatedBy,
      Dist_CreatedTime,
      Dist_UpdatedBy,
      Dist_UpdatedTime,
      Dist_VersionNo,
      Dist_TransID
      FROM SM_CityDistrict
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_ID">Dist_ID=#WHERE_Dist_ID#</isNotEmpty>
        <!--区域编码-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_Code">Dist_Code=#WHERE_Dist_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_Name">Dist_Name=#WHERE_Dist_Name#</isNotEmpty>
        <!--城市编码-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_City_Code">Dist_City_Code=#WHERE_Dist_City_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Dist_Index">Dist_Index=#WHERE_Dist_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Dist_IsValid">Dist_IsValid=#WHERE_Dist_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_CreatedBy">Dist_CreatedBy=#WHERE_Dist_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_UpdatedBy">Dist_UpdatedBy=#WHERE_Dist_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Dist_VersionNo">Dist_VersionNo=#WHERE_Dist_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_TransID">Dist_TransID=#WHERE_Dist_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Dist_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[城市区域]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSM_CityDistrict" parameterClass="MDLSM_CityDistrict" resultClass="MDLSM_CityDistrict">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Dist_ID)
      FROM SM_CityDistrict
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_ID">Dist_ID=#WHERE_Dist_ID#</isNotEmpty>
        <!--区域编码-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_Code">Dist_Code LIKE '%'+#WHERE_Dist_Code#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_Name">Dist_Name LIKE '%'+#WHERE_Dist_Name#+'%'</isNotEmpty>
        <!--城市编码-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_City_Code">Dist_City_Code LIKE '%'+#WHERE_Dist_City_Code#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Dist_Index">Dist_Index=#WHERE_Dist_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Dist_IsValid">Dist_IsValid=#WHERE_Dist_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_CreatedBy">Dist_CreatedBy LIKE '%'+#WHERE_Dist_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_UpdatedBy">Dist_UpdatedBy LIKE '%'+#WHERE_Dist_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Dist_VersionNo">Dist_VersionNo=#WHERE_Dist_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_TransID">Dist_TransID LIKE '%'+#WHERE_Dist_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Dist_ID,
      Dist_Code,
      Dist_Name,
      Dist_City_Code,
      Dist_Index,
      Dist_IsValid,
      Dist_CreatedBy,
      Dist_CreatedTime,
      Dist_UpdatedBy,
      Dist_UpdatedTime,
      Dist_VersionNo,
      Dist_TransID
      FROM SM_CityDistrict
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_ID">Dist_ID=#WHERE_Dist_ID#</isNotEmpty>
        <!--区域编码-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_Code">Dist_Code LIKE '%'+#WHERE_Dist_Code#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_Name">Dist_Name LIKE '%'+#WHERE_Dist_Name#+'%'</isNotEmpty>
        <!--城市编码-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_City_Code">Dist_City_Code LIKE '%'+#WHERE_Dist_City_Code#+'%'</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Dist_Index">Dist_Index=#WHERE_Dist_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Dist_IsValid">Dist_IsValid=#WHERE_Dist_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_CreatedBy">Dist_CreatedBy LIKE '%'+#WHERE_Dist_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_UpdatedBy">Dist_UpdatedBy LIKE '%'+#WHERE_Dist_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Dist_VersionNo">Dist_VersionNo=#WHERE_Dist_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_TransID">Dist_TransID LIKE '%'+#WHERE_Dist_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Dist_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[城市区域]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSM_CityDistrict" parameterClass="MDLSM_CityDistrict" resultClass="int">
      SELECT COUNT(Dist_ID) 'RecordCount'
      FROM SM_CityDistrict
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_ID">Dist_ID=#WHERE_Dist_ID#</isNotEmpty>
        <!--区域编码-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_Code">Dist_Code=#WHERE_Dist_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_Name">Dist_Name=#WHERE_Dist_Name#</isNotEmpty>
        <!--城市编码-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_City_Code">Dist_City_Code=#WHERE_Dist_City_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Dist_Index">Dist_Index=#WHERE_Dist_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Dist_IsValid">Dist_IsValid=#WHERE_Dist_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_CreatedBy">Dist_CreatedBy=#WHERE_Dist_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_UpdatedBy">Dist_UpdatedBy=#WHERE_Dist_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Dist_VersionNo">Dist_VersionNo=#WHERE_Dist_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_TransID">Dist_TransID=#WHERE_Dist_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[城市区域]信息-->
    <update id="COMM_SQL_UpdateMDLSM_CityDistrict" parameterClass="MDLSM_CityDistrict" >
      UPDATE SM_CityDistrict
      SET
      Dist_UpdatedTime=GETDATE(),
      Dist_VersionNo=Dist_VersionNo+1
      <isNotEmpty prepend="," property="Dist_Code">Dist_Code=#Dist_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="Dist_Name">Dist_Name=#Dist_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="Dist_City_Code">Dist_City_Code=#Dist_City_Code#</isNotEmpty>
      <isNotNull prepend="," property="Dist_Index">Dist_Index=#Dist_Index#</isNotNull>
      <isNotNull prepend="," property="Dist_IsValid">Dist_IsValid=#Dist_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="Dist_CreatedBy">Dist_CreatedBy=#Dist_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="Dist_CreatedTime">Dist_CreatedTime=#Dist_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="Dist_UpdatedBy">Dist_UpdatedBy=#Dist_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="Dist_TransID">Dist_TransID=#Dist_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_ID">Dist_ID=#WHERE_Dist_ID#</isNotEmpty>
        <!--区域编码-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_Code">Dist_Code=#WHERE_Dist_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_Name">Dist_Name=#WHERE_Dist_Name#</isNotEmpty>
        <!--城市编码-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_City_Code">Dist_City_Code=#WHERE_Dist_City_Code#</isNotEmpty>
        <!--顺序-->
        <isNotNull prepend="AND" property="WHERE_Dist_Index">Dist_Index=#WHERE_Dist_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Dist_IsValid">Dist_IsValid=#WHERE_Dist_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_CreatedBy">Dist_CreatedBy=#WHERE_Dist_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Dist_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_UpdatedBy">Dist_UpdatedBy=#WHERE_Dist_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Dist_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Dist_VersionNo">Dist_VersionNo=#WHERE_Dist_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Dist_TransID">Dist_TransID=#WHERE_Dist_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[城市区域]信息-->
    <delete id="COMM_SQL_DELETE_MDLSM_CityDistrict" parameterClass="List">
      DELETE FROM SM_CityDistrict
      WHERE Dist_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_Dist_ID#
      </iterate>
    </delete>

    <!--新增[付款单]信息-->
    <insert id="COMM_SQL_INSERT_MDLFM_PayBill" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        FM_PayBill
        (
        <!--付款ID-->
        PB_ID,
        <!--付款单号-->
        PB_No,
        <!--付款组织ID-->
        PB_Pay_Org_ID,
        <!--付款组织名称-->
        PB_Pay_Org_Name,
        <!--付款日期-->
        PB_Date,
        <!--收款对象类型编码-->
        PB_RecObjectTypeCode,
        <!--收款对象类型名称-->
        PB_RecObjectTypeName,
        <!--收款对象ID-->
        PB_RecObjectID,
        <!--收款对象-->
        PB_RecObjectName,
        <!--应付合计金额-->
        PB_PayableTotalAmount,
        <!--实付合计金额-->
        PB_RealPayableTotalAmount,
        <!--付款方账号-->
        PB_PayAccount,
        <!--收款方账号-->
        PB_RecAccount,
        <!--付款方式编码-->
        PB_PayTypeCode,
        <!--付款方式名称-->
        PB_PayTypeName,
        <!--付款凭证编号-->
        PB_CertificateNo,
        <!--付款凭证图片-->
        PB_CertificatePic,
        <!--业务状态编码-->
        PB_BusinessStatusCode,
        <!--业务状态名称-->
        PB_BusinessStatusName,
        <!--审核状态编码-->
        PB_ApprovalStatusCode,
        <!--审核状态名称-->
        PB_ApprovalStatusName,
        <!--备注-->
        PB_Remark,
        <!--有效-->
        PB_IsValid,
        <!--创建人-->
        PB_CreatedBy,
        <!--创建时间-->
        PB_CreatedTime,
        <!--修改人-->
        PB_UpdatedBy,
        <!--修改时间-->
        PB_UpdatedTime,
        <!--版本号-->
        PB_VersionNo,
        <!--事务编号-->
        PB_TransID
        )
        VALUES
        (
        <!--付款ID-->
        #[].PB_ID#,
        <!--付款单号-->
        #[].PB_No#,
        <!--付款组织ID-->
        #[].PB_Pay_Org_ID#,
        <!--付款组织名称-->
        #[].PB_Pay_Org_Name#,
        <!--付款日期-->
        #[].PB_Date#,
        <!--收款对象类型编码-->
        #[].PB_RecObjectTypeCode#,
        <!--收款对象类型名称-->
        #[].PB_RecObjectTypeName#,
        <!--收款对象ID-->
        #[].PB_RecObjectID#,
        <!--收款对象-->
        #[].PB_RecObjectName#,
        <!--应付合计金额-->
        #[].PB_PayableTotalAmount#,
        <!--实付合计金额-->
        #[].PB_RealPayableTotalAmount#,
        <!--付款方账号-->
        #[].PB_PayAccount#,
        <!--收款方账号-->
        #[].PB_RecAccount#,
        <!--付款方式编码-->
        #[].PB_PayTypeCode#,
        <!--付款方式名称-->
        #[].PB_PayTypeName#,
        <!--付款凭证编号-->
        #[].PB_CertificateNo#,
        <!--付款凭证图片-->
        #[].PB_CertificatePic#,
        <!--业务状态编码-->
        #[].PB_BusinessStatusCode#,
        <!--业务状态名称-->
        #[].PB_BusinessStatusName#,
        <!--审核状态编码-->
        #[].PB_ApprovalStatusCode#,
        <!--审核状态名称-->
        #[].PB_ApprovalStatusName#,
        <!--备注-->
        #[].PB_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].PB_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].PB_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].PB_TransID#
        )
      </iterate>
    </insert>

    <!--查询[付款单]信息（精确条件）-->
    <select id="COMM_SQL_MDLFM_PayBill" parameterClass="MDLFM_PayBill" resultClass="MDLFM_PayBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(PB_ID)
      FROM FM_PayBill
      <dynamic prepend="WHERE">
        <!--付款ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ID">PB_ID=#WHERE_PB_ID#</isNotEmpty>
        <!--付款单号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_No">PB_No=#WHERE_PB_No#</isNotEmpty>
        <!--付款组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Pay_Org_ID">PB_Pay_Org_ID=#WHERE_PB_Pay_Org_ID#</isNotEmpty>
        <!--付款组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Pay_Org_Name">PB_Pay_Org_Name=#WHERE_PB_Pay_Org_Name#</isNotEmpty>
        <!--付款日期-->
        <isNotNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">PB_Date BETWEEN #_DateStart# AND #_DateEnd#</isNotNull>
          <isNull  prepend="AND" property="_DateEnd">PB_Date <![CDATA[>=]]> #_DateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">PB_Date <![CDATA[<=]]> #_DateEnd#</isNotNull>
        </isNull>
        <!--收款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectTypeCode">PB_RecObjectTypeCode=#WHERE_PB_RecObjectTypeCode#</isNotEmpty>
        <!--收款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectTypeName">PB_RecObjectTypeName=#WHERE_PB_RecObjectTypeName#</isNotEmpty>
        <!--收款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectID">PB_RecObjectID=#WHERE_PB_RecObjectID#</isNotEmpty>
        <!--收款对象-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectName">PB_RecObjectName=#WHERE_PB_RecObjectName#</isNotEmpty>
        <!--应付合计金额-->
        <isNotNull prepend="AND" property="WHERE_PB_PayableTotalAmount">PB_PayableTotalAmount=#WHERE_PB_PayableTotalAmount#</isNotNull>
        <!--实付合计金额-->
        <isNotNull prepend="AND" property="WHERE_PB_RealPayableTotalAmount">PB_RealPayableTotalAmount=#WHERE_PB_RealPayableTotalAmount#</isNotNull>
        <!--付款方账号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayAccount">PB_PayAccount=#WHERE_PB_PayAccount#</isNotEmpty>
        <!--收款方账号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecAccount">PB_RecAccount=#WHERE_PB_RecAccount#</isNotEmpty>
        <!--付款方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayTypeCode">PB_PayTypeCode=#WHERE_PB_PayTypeCode#</isNotEmpty>
        <!--付款方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayTypeName">PB_PayTypeName=#WHERE_PB_PayTypeName#</isNotEmpty>
        <!--付款凭证编号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CertificateNo">PB_CertificateNo=#WHERE_PB_CertificateNo#</isNotEmpty>
        <!--付款凭证图片-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CertificatePic">PB_CertificatePic=#WHERE_PB_CertificatePic#</isNotEmpty>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_BusinessStatusCode">PB_BusinessStatusCode=#WHERE_PB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_BusinessStatusName">PB_BusinessStatusName=#WHERE_PB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ApprovalStatusCode">PB_ApprovalStatusCode=#WHERE_PB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ApprovalStatusName">PB_ApprovalStatusName=#WHERE_PB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Remark">PB_Remark=#WHERE_PB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PB_IsValid">PB_IsValid=#WHERE_PB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CreatedBy">PB_CreatedBy=#WHERE_PB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PB_UpdatedBy">PB_UpdatedBy=#WHERE_PB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PB_VersionNo">PB_VersionNo=#WHERE_PB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_TransID">PB_TransID=#WHERE_PB_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      PB_ID,
      PB_No,
      PB_Pay_Org_ID,
      PB_Pay_Org_Name,
      PB_Date,
      PB_RecObjectTypeCode,
      PB_RecObjectTypeName,
      PB_RecObjectID,
      PB_RecObjectName,
      PB_PayableTotalAmount,
      PB_RealPayableTotalAmount,
      PB_PayAccount,
      PB_RecAccount,
      PB_PayTypeCode,
      PB_PayTypeName,
      PB_CertificateNo,
      PB_CertificatePic,
      PB_BusinessStatusCode,
      PB_BusinessStatusName,
      PB_ApprovalStatusCode,
      PB_ApprovalStatusName,
      PB_Remark,
      PB_IsValid,
      PB_CreatedBy,
      PB_CreatedTime,
      PB_UpdatedBy,
      PB_UpdatedTime,
      PB_VersionNo,
      PB_TransID
      FROM FM_PayBill
      <dynamic prepend="WHERE">
        <!--付款ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ID">PB_ID=#WHERE_PB_ID#</isNotEmpty>
        <!--付款单号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_No">PB_No=#WHERE_PB_No#</isNotEmpty>
        <!--付款组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Pay_Org_ID">PB_Pay_Org_ID=#WHERE_PB_Pay_Org_ID#</isNotEmpty>
        <!--付款组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Pay_Org_Name">PB_Pay_Org_Name=#WHERE_PB_Pay_Org_Name#</isNotEmpty>
        <!--付款日期-->
        <isNotNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">PB_Date BETWEEN #_DateStart# AND #_DateEnd#</isNotNull>
          <isNull  prepend="AND" property="_DateEnd">PB_Date <![CDATA[>=]]> #_DateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">PB_Date <![CDATA[<=]]> #_DateEnd#</isNotNull>
        </isNull>
        <!--收款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectTypeCode">PB_RecObjectTypeCode=#WHERE_PB_RecObjectTypeCode#</isNotEmpty>
        <!--收款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectTypeName">PB_RecObjectTypeName=#WHERE_PB_RecObjectTypeName#</isNotEmpty>
        <!--收款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectID">PB_RecObjectID=#WHERE_PB_RecObjectID#</isNotEmpty>
        <!--收款对象-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectName">PB_RecObjectName=#WHERE_PB_RecObjectName#</isNotEmpty>
        <!--应付合计金额-->
        <isNotNull prepend="AND" property="WHERE_PB_PayableTotalAmount">PB_PayableTotalAmount=#WHERE_PB_PayableTotalAmount#</isNotNull>
        <!--实付合计金额-->
        <isNotNull prepend="AND" property="WHERE_PB_RealPayableTotalAmount">PB_RealPayableTotalAmount=#WHERE_PB_RealPayableTotalAmount#</isNotNull>
        <!--付款方账号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayAccount">PB_PayAccount=#WHERE_PB_PayAccount#</isNotEmpty>
        <!--收款方账号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecAccount">PB_RecAccount=#WHERE_PB_RecAccount#</isNotEmpty>
        <!--付款方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayTypeCode">PB_PayTypeCode=#WHERE_PB_PayTypeCode#</isNotEmpty>
        <!--付款方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayTypeName">PB_PayTypeName=#WHERE_PB_PayTypeName#</isNotEmpty>
        <!--付款凭证编号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CertificateNo">PB_CertificateNo=#WHERE_PB_CertificateNo#</isNotEmpty>
        <!--付款凭证图片-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CertificatePic">PB_CertificatePic=#WHERE_PB_CertificatePic#</isNotEmpty>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_BusinessStatusCode">PB_BusinessStatusCode=#WHERE_PB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_BusinessStatusName">PB_BusinessStatusName=#WHERE_PB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ApprovalStatusCode">PB_ApprovalStatusCode=#WHERE_PB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ApprovalStatusName">PB_ApprovalStatusName=#WHERE_PB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Remark">PB_Remark=#WHERE_PB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PB_IsValid">PB_IsValid=#WHERE_PB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CreatedBy">PB_CreatedBy=#WHERE_PB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PB_UpdatedBy">PB_UpdatedBy=#WHERE_PB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PB_VersionNo">PB_VersionNo=#WHERE_PB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_TransID">PB_TransID=#WHERE_PB_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY PB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[付款单]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLFM_PayBill" parameterClass="MDLFM_PayBill" resultClass="MDLFM_PayBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(PB_ID)
      FROM FM_PayBill
      <dynamic prepend="WHERE">
        <!--付款ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ID">PB_ID=#WHERE_PB_ID#</isNotEmpty>
        <!--付款单号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_No">PB_No LIKE '%'+#WHERE_PB_No#+'%'</isNotEmpty>
        <!--付款组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Pay_Org_ID">PB_Pay_Org_ID LIKE '%'+#WHERE_PB_Pay_Org_ID#+'%'</isNotEmpty>
        <!--付款组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Pay_Org_Name">PB_Pay_Org_Name LIKE '%'+#WHERE_PB_Pay_Org_Name#+'%'</isNotEmpty>
        <!--付款日期-->
        <isNotNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">PB_Date BETWEEN #_DateStart# AND #_DateEnd#</isNotNull>
          <isNull  prepend="AND" property="_DateEnd">PB_Date <![CDATA[>=]]> #_DateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">PB_Date <![CDATA[<=]]> #_DateEnd#</isNotNull>
        </isNull>
        <!--收款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectTypeCode">PB_RecObjectTypeCode LIKE '%'+#WHERE_PB_RecObjectTypeCode#+'%'</isNotEmpty>
        <!--收款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectTypeName">PB_RecObjectTypeName LIKE '%'+#WHERE_PB_RecObjectTypeName#+'%'</isNotEmpty>
        <!--收款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectID">PB_RecObjectID LIKE '%'+#WHERE_PB_RecObjectID#+'%'</isNotEmpty>
        <!--收款对象-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectName">PB_RecObjectName LIKE '%'+#WHERE_PB_RecObjectName#+'%'</isNotEmpty>
        <!--应付合计金额-->
        <isNotNull prepend="AND" property="WHERE_PB_PayableTotalAmount">PB_PayableTotalAmount=#WHERE_PB_PayableTotalAmount#</isNotNull>
        <!--实付合计金额-->
        <isNotNull prepend="AND" property="WHERE_PB_RealPayableTotalAmount">PB_RealPayableTotalAmount=#WHERE_PB_RealPayableTotalAmount#</isNotNull>
        <!--付款方账号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayAccount">PB_PayAccount LIKE '%'+#WHERE_PB_PayAccount#+'%'</isNotEmpty>
        <!--收款方账号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecAccount">PB_RecAccount LIKE '%'+#WHERE_PB_RecAccount#+'%'</isNotEmpty>
        <!--付款方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayTypeCode">PB_PayTypeCode LIKE '%'+#WHERE_PB_PayTypeCode#+'%'</isNotEmpty>
        <!--付款方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayTypeName">PB_PayTypeName LIKE '%'+#WHERE_PB_PayTypeName#+'%'</isNotEmpty>
        <!--付款凭证编号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CertificateNo">PB_CertificateNo LIKE '%'+#WHERE_PB_CertificateNo#+'%'</isNotEmpty>
        <!--付款凭证图片-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CertificatePic">PB_CertificatePic LIKE '%'+#WHERE_PB_CertificatePic#+'%'</isNotEmpty>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_BusinessStatusCode">PB_BusinessStatusCode LIKE '%'+#WHERE_PB_BusinessStatusCode#+'%'</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_BusinessStatusName">PB_BusinessStatusName LIKE '%'+#WHERE_PB_BusinessStatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ApprovalStatusCode">PB_ApprovalStatusCode LIKE '%'+#WHERE_PB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ApprovalStatusName">PB_ApprovalStatusName LIKE '%'+#WHERE_PB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Remark">PB_Remark LIKE '%'+#WHERE_PB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PB_IsValid">PB_IsValid=#WHERE_PB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CreatedBy">PB_CreatedBy LIKE '%'+#WHERE_PB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PB_UpdatedBy">PB_UpdatedBy LIKE '%'+#WHERE_PB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PB_VersionNo">PB_VersionNo=#WHERE_PB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_TransID">PB_TransID LIKE '%'+#WHERE_PB_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      PB_ID,
      PB_No,
      PB_Pay_Org_ID,
      PB_Pay_Org_Name,
      PB_Date,
      PB_RecObjectTypeCode,
      PB_RecObjectTypeName,
      PB_RecObjectID,
      PB_RecObjectName,
      PB_PayableTotalAmount,
      PB_RealPayableTotalAmount,
      PB_PayAccount,
      PB_RecAccount,
      PB_PayTypeCode,
      PB_PayTypeName,
      PB_CertificateNo,
      PB_CertificatePic,
      PB_BusinessStatusCode,
      PB_BusinessStatusName,
      PB_ApprovalStatusCode,
      PB_ApprovalStatusName,
      PB_Remark,
      PB_IsValid,
      PB_CreatedBy,
      PB_CreatedTime,
      PB_UpdatedBy,
      PB_UpdatedTime,
      PB_VersionNo,
      PB_TransID
      FROM FM_PayBill
      <dynamic prepend="WHERE">
        <!--付款ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ID">PB_ID=#WHERE_PB_ID#</isNotEmpty>
        <!--付款单号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_No">PB_No LIKE '%'+#WHERE_PB_No#+'%'</isNotEmpty>
        <!--付款组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Pay_Org_ID">PB_Pay_Org_ID LIKE '%'+#WHERE_PB_Pay_Org_ID#+'%'</isNotEmpty>
        <!--付款组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Pay_Org_Name">PB_Pay_Org_Name LIKE '%'+#WHERE_PB_Pay_Org_Name#+'%'</isNotEmpty>
        <!--付款日期-->
        <isNotNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">PB_Date BETWEEN #_DateStart# AND #_DateEnd#</isNotNull>
          <isNull  prepend="AND" property="_DateEnd">PB_Date <![CDATA[>=]]> #_DateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">PB_Date <![CDATA[<=]]> #_DateEnd#</isNotNull>
        </isNull>
        <!--收款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectTypeCode">PB_RecObjectTypeCode LIKE '%'+#WHERE_PB_RecObjectTypeCode#+'%'</isNotEmpty>
        <!--收款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectTypeName">PB_RecObjectTypeName LIKE '%'+#WHERE_PB_RecObjectTypeName#+'%'</isNotEmpty>
        <!--收款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectID">PB_RecObjectID LIKE '%'+#WHERE_PB_RecObjectID#+'%'</isNotEmpty>
        <!--收款对象-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectName">PB_RecObjectName LIKE '%'+#WHERE_PB_RecObjectName#+'%'</isNotEmpty>
        <!--应付合计金额-->
        <isNotNull prepend="AND" property="WHERE_PB_PayableTotalAmount">PB_PayableTotalAmount=#WHERE_PB_PayableTotalAmount#</isNotNull>
        <!--实付合计金额-->
        <isNotNull prepend="AND" property="WHERE_PB_RealPayableTotalAmount">PB_RealPayableTotalAmount=#WHERE_PB_RealPayableTotalAmount#</isNotNull>
        <!--付款方账号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayAccount">PB_PayAccount LIKE '%'+#WHERE_PB_PayAccount#+'%'</isNotEmpty>
        <!--收款方账号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecAccount">PB_RecAccount LIKE '%'+#WHERE_PB_RecAccount#+'%'</isNotEmpty>
        <!--付款方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayTypeCode">PB_PayTypeCode LIKE '%'+#WHERE_PB_PayTypeCode#+'%'</isNotEmpty>
        <!--付款方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayTypeName">PB_PayTypeName LIKE '%'+#WHERE_PB_PayTypeName#+'%'</isNotEmpty>
        <!--付款凭证编号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CertificateNo">PB_CertificateNo LIKE '%'+#WHERE_PB_CertificateNo#+'%'</isNotEmpty>
        <!--付款凭证图片-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CertificatePic">PB_CertificatePic LIKE '%'+#WHERE_PB_CertificatePic#+'%'</isNotEmpty>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_BusinessStatusCode">PB_BusinessStatusCode LIKE '%'+#WHERE_PB_BusinessStatusCode#+'%'</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_BusinessStatusName">PB_BusinessStatusName LIKE '%'+#WHERE_PB_BusinessStatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ApprovalStatusCode">PB_ApprovalStatusCode LIKE '%'+#WHERE_PB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ApprovalStatusName">PB_ApprovalStatusName LIKE '%'+#WHERE_PB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Remark">PB_Remark LIKE '%'+#WHERE_PB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PB_IsValid">PB_IsValid=#WHERE_PB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CreatedBy">PB_CreatedBy LIKE '%'+#WHERE_PB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PB_UpdatedBy">PB_UpdatedBy LIKE '%'+#WHERE_PB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PB_VersionNo">PB_VersionNo=#WHERE_PB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_TransID">PB_TransID LIKE '%'+#WHERE_PB_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY PB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[付款单]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLFM_PayBill" parameterClass="MDLFM_PayBill" resultClass="int">
      SELECT COUNT(PB_ID) 'RecordCount'
      FROM FM_PayBill
      <dynamic prepend="WHERE">
        <!--付款ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ID">PB_ID=#WHERE_PB_ID#</isNotEmpty>
        <!--付款单号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_No">PB_No=#WHERE_PB_No#</isNotEmpty>
        <!--付款组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Pay_Org_ID">PB_Pay_Org_ID=#WHERE_PB_Pay_Org_ID#</isNotEmpty>
        <!--付款组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Pay_Org_Name">PB_Pay_Org_Name=#WHERE_PB_Pay_Org_Name#</isNotEmpty>
        <!--付款日期-->
        <isNotNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">PB_Date BETWEEN #_DateStart# AND #_DateEnd#</isNotNull>
          <isNull  prepend="AND" property="_DateEnd">PB_Date <![CDATA[>=]]> #_DateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">PB_Date <![CDATA[<=]]> #_DateEnd#</isNotNull>
        </isNull>
        <!--收款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectTypeCode">PB_RecObjectTypeCode=#WHERE_PB_RecObjectTypeCode#</isNotEmpty>
        <!--收款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectTypeName">PB_RecObjectTypeName=#WHERE_PB_RecObjectTypeName#</isNotEmpty>
        <!--收款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectID">PB_RecObjectID=#WHERE_PB_RecObjectID#</isNotEmpty>
        <!--收款对象-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectName">PB_RecObjectName=#WHERE_PB_RecObjectName#</isNotEmpty>
        <!--应付合计金额-->
        <isNotNull prepend="AND" property="WHERE_PB_PayableTotalAmount">PB_PayableTotalAmount=#WHERE_PB_PayableTotalAmount#</isNotNull>
        <!--实付合计金额-->
        <isNotNull prepend="AND" property="WHERE_PB_RealPayableTotalAmount">PB_RealPayableTotalAmount=#WHERE_PB_RealPayableTotalAmount#</isNotNull>
        <!--付款方账号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayAccount">PB_PayAccount=#WHERE_PB_PayAccount#</isNotEmpty>
        <!--收款方账号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecAccount">PB_RecAccount=#WHERE_PB_RecAccount#</isNotEmpty>
        <!--付款方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayTypeCode">PB_PayTypeCode=#WHERE_PB_PayTypeCode#</isNotEmpty>
        <!--付款方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayTypeName">PB_PayTypeName=#WHERE_PB_PayTypeName#</isNotEmpty>
        <!--付款凭证编号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CertificateNo">PB_CertificateNo=#WHERE_PB_CertificateNo#</isNotEmpty>
        <!--付款凭证图片-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CertificatePic">PB_CertificatePic=#WHERE_PB_CertificatePic#</isNotEmpty>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_BusinessStatusCode">PB_BusinessStatusCode=#WHERE_PB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_BusinessStatusName">PB_BusinessStatusName=#WHERE_PB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ApprovalStatusCode">PB_ApprovalStatusCode=#WHERE_PB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ApprovalStatusName">PB_ApprovalStatusName=#WHERE_PB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Remark">PB_Remark=#WHERE_PB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PB_IsValid">PB_IsValid=#WHERE_PB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CreatedBy">PB_CreatedBy=#WHERE_PB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PB_UpdatedBy">PB_UpdatedBy=#WHERE_PB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PB_VersionNo">PB_VersionNo=#WHERE_PB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_TransID">PB_TransID=#WHERE_PB_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[付款单]信息-->
    <update id="COMM_SQL_UpdateMDLFM_PayBill" parameterClass="MDLFM_PayBill" >
      UPDATE FM_PayBill
      SET
      PB_UpdatedTime=GETDATE(),
      PB_VersionNo=PB_VersionNo+1
      <isNotEmpty prepend="," property="PB_No">PB_No=#PB_No#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_Pay_Org_ID">PB_Pay_Org_ID=#PB_Pay_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_Pay_Org_Name">PB_Pay_Org_Name=#PB_Pay_Org_Name#</isNotEmpty>
      <isNotNull prepend="," property="PB_Date">PB_Date=#PB_Date#</isNotNull>
      <isNotEmpty prepend="," property="PB_RecObjectTypeCode">PB_RecObjectTypeCode=#PB_RecObjectTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_RecObjectTypeName">PB_RecObjectTypeName=#PB_RecObjectTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_RecObjectID">PB_RecObjectID=#PB_RecObjectID#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_RecObjectName">PB_RecObjectName=#PB_RecObjectName#</isNotEmpty>
      <isNotNull prepend="," property="PB_PayableTotalAmount">PB_PayableTotalAmount=#PB_PayableTotalAmount#</isNotNull>
      <isNotNull prepend="," property="PB_RealPayableTotalAmount">PB_RealPayableTotalAmount=#PB_RealPayableTotalAmount#</isNotNull>
      <isNotEmpty prepend="," property="PB_PayAccount">PB_PayAccount=#PB_PayAccount#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_RecAccount">PB_RecAccount=#PB_RecAccount#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_PayTypeCode">PB_PayTypeCode=#PB_PayTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_PayTypeName">PB_PayTypeName=#PB_PayTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_CertificateNo">PB_CertificateNo=#PB_CertificateNo#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_CertificatePic">PB_CertificatePic=#PB_CertificatePic#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_BusinessStatusCode">PB_BusinessStatusCode=#PB_BusinessStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_BusinessStatusName">PB_BusinessStatusName=#PB_BusinessStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_ApprovalStatusCode">PB_ApprovalStatusCode=#PB_ApprovalStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_ApprovalStatusName">PB_ApprovalStatusName=#PB_ApprovalStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_Remark">PB_Remark=#PB_Remark#</isNotEmpty>
      <isNotNull prepend="," property="PB_IsValid">PB_IsValid=#PB_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="PB_CreatedBy">PB_CreatedBy=#PB_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="PB_CreatedTime">PB_CreatedTime=#PB_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="PB_UpdatedBy">PB_UpdatedBy=#PB_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="PB_TransID">PB_TransID=#PB_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--付款ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ID">PB_ID=#WHERE_PB_ID#</isNotEmpty>
        <!--付款单号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_No">PB_No=#WHERE_PB_No#</isNotEmpty>
        <!--付款组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Pay_Org_ID">PB_Pay_Org_ID=#WHERE_PB_Pay_Org_ID#</isNotEmpty>
        <!--付款组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Pay_Org_Name">PB_Pay_Org_Name=#WHERE_PB_Pay_Org_Name#</isNotEmpty>
        <!--付款日期-->
        <isNotNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">PB_Date BETWEEN #_DateStart# AND #_DateEnd#</isNotNull>
          <isNull  prepend="AND" property="_DateEnd">PB_Date <![CDATA[>=]]> #_DateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">PB_Date <![CDATA[<=]]> #_DateEnd#</isNotNull>
        </isNull>
        <!--收款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectTypeCode">PB_RecObjectTypeCode=#WHERE_PB_RecObjectTypeCode#</isNotEmpty>
        <!--收款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectTypeName">PB_RecObjectTypeName=#WHERE_PB_RecObjectTypeName#</isNotEmpty>
        <!--收款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectID">PB_RecObjectID=#WHERE_PB_RecObjectID#</isNotEmpty>
        <!--收款对象-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecObjectName">PB_RecObjectName=#WHERE_PB_RecObjectName#</isNotEmpty>
        <!--应付合计金额-->
        <isNotNull prepend="AND" property="WHERE_PB_PayableTotalAmount">PB_PayableTotalAmount=#WHERE_PB_PayableTotalAmount#</isNotNull>
        <!--实付合计金额-->
        <isNotNull prepend="AND" property="WHERE_PB_RealPayableTotalAmount">PB_RealPayableTotalAmount=#WHERE_PB_RealPayableTotalAmount#</isNotNull>
        <!--付款方账号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayAccount">PB_PayAccount=#WHERE_PB_PayAccount#</isNotEmpty>
        <!--收款方账号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_RecAccount">PB_RecAccount=#WHERE_PB_RecAccount#</isNotEmpty>
        <!--付款方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayTypeCode">PB_PayTypeCode=#WHERE_PB_PayTypeCode#</isNotEmpty>
        <!--付款方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_PayTypeName">PB_PayTypeName=#WHERE_PB_PayTypeName#</isNotEmpty>
        <!--付款凭证编号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CertificateNo">PB_CertificateNo=#WHERE_PB_CertificateNo#</isNotEmpty>
        <!--付款凭证图片-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CertificatePic">PB_CertificatePic=#WHERE_PB_CertificatePic#</isNotEmpty>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_BusinessStatusCode">PB_BusinessStatusCode=#WHERE_PB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_BusinessStatusName">PB_BusinessStatusName=#WHERE_PB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ApprovalStatusCode">PB_ApprovalStatusCode=#WHERE_PB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PB_ApprovalStatusName">PB_ApprovalStatusName=#WHERE_PB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PB_Remark">PB_Remark=#WHERE_PB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PB_IsValid">PB_IsValid=#WHERE_PB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PB_CreatedBy">PB_CreatedBy=#WHERE_PB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PB_UpdatedBy">PB_UpdatedBy=#WHERE_PB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PB_VersionNo">PB_VersionNo=#WHERE_PB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PB_TransID">PB_TransID=#WHERE_PB_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[付款单]信息-->
    <delete id="COMM_SQL_DELETE_MDLFM_PayBill" parameterClass="List">
      DELETE FROM FM_PayBill
      WHERE PB_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_PB_ID#
      </iterate>
    </delete>

    <!--新增[付款单明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLFM_PayBillDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        FM_PayBillDetail
        (
        <!--付款单明细ID-->
        PBD_ID,
        <!--付款单ID-->
        PBD_PB_ID,
        <!--付款单号-->
        PBD_PB_No,
        <!--来源类型编码-->
        PBD_SourceTypeCode,
        <!--来源类型名称-->
        PBD_SourceTypeName,
        <!--来源单号-->
        PBD_SrcBillNo,
        <!--付款金额-->
        PBD_PayAmount,
        <!--备注-->
        PBD_Remark,
        <!--有效-->
        PBD_IsValid,
        <!--创建人-->
        PBD_CreatedBy,
        <!--创建时间-->
        PBD_CreatedTime,
        <!--修改人-->
        PBD_UpdatedBy,
        <!--修改时间-->
        PBD_UpdatedTime,
        <!--版本号-->
        PBD_VersionNo,
        <!--事务编号-->
        PBD_TransID
        )
        VALUES
        (
        <!--付款单明细ID-->
        #[].PBD_ID#,
        <!--付款单ID-->
        #[].PBD_PB_ID#,
        <!--付款单号-->
        #[].PBD_PB_No#,
        <!--来源类型编码-->
        #[].PBD_SourceTypeCode#,
        <!--来源类型名称-->
        #[].PBD_SourceTypeName#,
        <!--来源单号-->
        #[].PBD_SrcBillNo#,
        <!--付款金额-->
        #[].PBD_PayAmount#,
        <!--备注-->
        #[].PBD_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].PBD_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].PBD_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].PBD_TransID#
        )
      </iterate>
    </insert>

    <!--查询[付款单明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLFM_PayBillDetail" parameterClass="MDLFM_PayBillDetail" resultClass="MDLFM_PayBillDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(PBD_ID)
      FROM FM_PayBillDetail
      <dynamic prepend="WHERE">
        <!--付款单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_ID">PBD_ID=#WHERE_PBD_ID#</isNotEmpty>
        <!--付款单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_PB_ID">PBD_PB_ID=#WHERE_PBD_PB_ID#</isNotEmpty>
        <!--付款单号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_PB_No">PBD_PB_No=#WHERE_PBD_PB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SourceTypeCode">PBD_SourceTypeCode=#WHERE_PBD_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SourceTypeName">PBD_SourceTypeName=#WHERE_PBD_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SrcBillNo">PBD_SrcBillNo=#WHERE_PBD_SrcBillNo#</isNotEmpty>
        <!--付款金额-->
        <isNotNull prepend="AND" property="WHERE_PBD_PayAmount">PBD_PayAmount=#WHERE_PBD_PayAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_Remark">PBD_Remark=#WHERE_PBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PBD_IsValid">PBD_IsValid=#WHERE_PBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_CreatedBy">PBD_CreatedBy=#WHERE_PBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_UpdatedBy">PBD_UpdatedBy=#WHERE_PBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PBD_VersionNo">PBD_VersionNo=#WHERE_PBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_TransID">PBD_TransID=#WHERE_PBD_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      PBD_ID,
      PBD_PB_ID,
      PBD_PB_No,
      PBD_SourceTypeCode,
      PBD_SourceTypeName,
      PBD_SrcBillNo,
      PBD_PayAmount,
      PBD_Remark,
      PBD_IsValid,
      PBD_CreatedBy,
      PBD_CreatedTime,
      PBD_UpdatedBy,
      PBD_UpdatedTime,
      PBD_VersionNo,
      PBD_TransID
      FROM FM_PayBillDetail
      <dynamic prepend="WHERE">
        <!--付款单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_ID">PBD_ID=#WHERE_PBD_ID#</isNotEmpty>
        <!--付款单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_PB_ID">PBD_PB_ID=#WHERE_PBD_PB_ID#</isNotEmpty>
        <!--付款单号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_PB_No">PBD_PB_No=#WHERE_PBD_PB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SourceTypeCode">PBD_SourceTypeCode=#WHERE_PBD_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SourceTypeName">PBD_SourceTypeName=#WHERE_PBD_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SrcBillNo">PBD_SrcBillNo=#WHERE_PBD_SrcBillNo#</isNotEmpty>
        <!--付款金额-->
        <isNotNull prepend="AND" property="WHERE_PBD_PayAmount">PBD_PayAmount=#WHERE_PBD_PayAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_Remark">PBD_Remark=#WHERE_PBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PBD_IsValid">PBD_IsValid=#WHERE_PBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_CreatedBy">PBD_CreatedBy=#WHERE_PBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_UpdatedBy">PBD_UpdatedBy=#WHERE_PBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PBD_VersionNo">PBD_VersionNo=#WHERE_PBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_TransID">PBD_TransID=#WHERE_PBD_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY PBD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[付款单明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLFM_PayBillDetail" parameterClass="MDLFM_PayBillDetail" resultClass="MDLFM_PayBillDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(PBD_ID)
      FROM FM_PayBillDetail
      <dynamic prepend="WHERE">
        <!--付款单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_ID">PBD_ID=#WHERE_PBD_ID#</isNotEmpty>
        <!--付款单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_PB_ID">PBD_PB_ID LIKE '%'+#WHERE_PBD_PB_ID#+'%'</isNotEmpty>
        <!--付款单号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_PB_No">PBD_PB_No LIKE '%'+#WHERE_PBD_PB_No#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SourceTypeCode">PBD_SourceTypeCode LIKE '%'+#WHERE_PBD_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SourceTypeName">PBD_SourceTypeName LIKE '%'+#WHERE_PBD_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SrcBillNo">PBD_SrcBillNo LIKE '%'+#WHERE_PBD_SrcBillNo#+'%'</isNotEmpty>
        <!--付款金额-->
        <isNotNull prepend="AND" property="WHERE_PBD_PayAmount">PBD_PayAmount=#WHERE_PBD_PayAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_Remark">PBD_Remark LIKE '%'+#WHERE_PBD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PBD_IsValid">PBD_IsValid=#WHERE_PBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_CreatedBy">PBD_CreatedBy LIKE '%'+#WHERE_PBD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_UpdatedBy">PBD_UpdatedBy LIKE '%'+#WHERE_PBD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PBD_VersionNo">PBD_VersionNo=#WHERE_PBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_TransID">PBD_TransID LIKE '%'+#WHERE_PBD_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      PBD_ID,
      PBD_PB_ID,
      PBD_PB_No,
      PBD_SourceTypeCode,
      PBD_SourceTypeName,
      PBD_SrcBillNo,
      PBD_PayAmount,
      PBD_Remark,
      PBD_IsValid,
      PBD_CreatedBy,
      PBD_CreatedTime,
      PBD_UpdatedBy,
      PBD_UpdatedTime,
      PBD_VersionNo,
      PBD_TransID
      FROM FM_PayBillDetail
      <dynamic prepend="WHERE">
        <!--付款单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_ID">PBD_ID=#WHERE_PBD_ID#</isNotEmpty>
        <!--付款单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_PB_ID">PBD_PB_ID LIKE '%'+#WHERE_PBD_PB_ID#+'%'</isNotEmpty>
        <!--付款单号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_PB_No">PBD_PB_No LIKE '%'+#WHERE_PBD_PB_No#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SourceTypeCode">PBD_SourceTypeCode LIKE '%'+#WHERE_PBD_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SourceTypeName">PBD_SourceTypeName LIKE '%'+#WHERE_PBD_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SrcBillNo">PBD_SrcBillNo LIKE '%'+#WHERE_PBD_SrcBillNo#+'%'</isNotEmpty>
        <!--付款金额-->
        <isNotNull prepend="AND" property="WHERE_PBD_PayAmount">PBD_PayAmount=#WHERE_PBD_PayAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_Remark">PBD_Remark LIKE '%'+#WHERE_PBD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PBD_IsValid">PBD_IsValid=#WHERE_PBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_CreatedBy">PBD_CreatedBy LIKE '%'+#WHERE_PBD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_UpdatedBy">PBD_UpdatedBy LIKE '%'+#WHERE_PBD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PBD_VersionNo">PBD_VersionNo=#WHERE_PBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_TransID">PBD_TransID LIKE '%'+#WHERE_PBD_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY PBD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[付款单明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLFM_PayBillDetail" parameterClass="MDLFM_PayBillDetail" resultClass="int">
      SELECT COUNT(PBD_ID) 'RecordCount'
      FROM FM_PayBillDetail
      <dynamic prepend="WHERE">
        <!--付款单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_ID">PBD_ID=#WHERE_PBD_ID#</isNotEmpty>
        <!--付款单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_PB_ID">PBD_PB_ID=#WHERE_PBD_PB_ID#</isNotEmpty>
        <!--付款单号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_PB_No">PBD_PB_No=#WHERE_PBD_PB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SourceTypeCode">PBD_SourceTypeCode=#WHERE_PBD_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SourceTypeName">PBD_SourceTypeName=#WHERE_PBD_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SrcBillNo">PBD_SrcBillNo=#WHERE_PBD_SrcBillNo#</isNotEmpty>
        <!--付款金额-->
        <isNotNull prepend="AND" property="WHERE_PBD_PayAmount">PBD_PayAmount=#WHERE_PBD_PayAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_Remark">PBD_Remark=#WHERE_PBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PBD_IsValid">PBD_IsValid=#WHERE_PBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_CreatedBy">PBD_CreatedBy=#WHERE_PBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_UpdatedBy">PBD_UpdatedBy=#WHERE_PBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PBD_VersionNo">PBD_VersionNo=#WHERE_PBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_TransID">PBD_TransID=#WHERE_PBD_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[付款单明细]信息-->
    <update id="COMM_SQL_UpdateMDLFM_PayBillDetail" parameterClass="MDLFM_PayBillDetail" >
      UPDATE FM_PayBillDetail
      SET
      PBD_UpdatedTime=GETDATE(),
      PBD_VersionNo=PBD_VersionNo+1
      <isNotEmpty prepend="," property="PBD_PB_ID">PBD_PB_ID=#PBD_PB_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="PBD_PB_No">PBD_PB_No=#PBD_PB_No#</isNotEmpty>
      <isNotEmpty prepend="," property="PBD_SourceTypeCode">PBD_SourceTypeCode=#PBD_SourceTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="PBD_SourceTypeName">PBD_SourceTypeName=#PBD_SourceTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="PBD_SrcBillNo">PBD_SrcBillNo=#PBD_SrcBillNo#</isNotEmpty>
      <isNotNull prepend="," property="PBD_PayAmount">PBD_PayAmount=#PBD_PayAmount#</isNotNull>
      <isNotEmpty prepend="," property="PBD_Remark">PBD_Remark=#PBD_Remark#</isNotEmpty>
      <isNotNull prepend="," property="PBD_IsValid">PBD_IsValid=#PBD_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="PBD_CreatedBy">PBD_CreatedBy=#PBD_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="PBD_CreatedTime">PBD_CreatedTime=#PBD_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="PBD_UpdatedBy">PBD_UpdatedBy=#PBD_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="PBD_TransID">PBD_TransID=#PBD_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--付款单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_ID">PBD_ID=#WHERE_PBD_ID#</isNotEmpty>
        <!--付款单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_PB_ID">PBD_PB_ID=#WHERE_PBD_PB_ID#</isNotEmpty>
        <!--付款单号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_PB_No">PBD_PB_No=#WHERE_PBD_PB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SourceTypeCode">PBD_SourceTypeCode=#WHERE_PBD_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SourceTypeName">PBD_SourceTypeName=#WHERE_PBD_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_SrcBillNo">PBD_SrcBillNo=#WHERE_PBD_SrcBillNo#</isNotEmpty>
        <!--付款金额-->
        <isNotNull prepend="AND" property="WHERE_PBD_PayAmount">PBD_PayAmount=#WHERE_PBD_PayAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_Remark">PBD_Remark=#WHERE_PBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PBD_IsValid">PBD_IsValid=#WHERE_PBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_CreatedBy">PBD_CreatedBy=#WHERE_PBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_UpdatedBy">PBD_UpdatedBy=#WHERE_PBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PBD_VersionNo">PBD_VersionNo=#WHERE_PBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PBD_TransID">PBD_TransID=#WHERE_PBD_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[付款单明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLFM_PayBillDetail" parameterClass="List">
      DELETE FROM FM_PayBillDetail
      WHERE PBD_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_PBD_ID#
      </iterate>
    </delete>

    <!--新增[收款单]信息-->
    <insert id="COMM_SQL_INSERT_MDLFM_ReceiptBill" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        FM_ReceiptBill
        (
        <!--收款ID-->
        RB_ID,
        <!--收款单号-->
        RB_No,
        <!--收款组织ID-->
        RB_Rec_Org_ID,
        <!--收款组织名称-->
        RB_Rec_Org_Name,
        <!--收款日期-->
        RB_Date,
        <!--付款对象类型编码-->
        RB_PayObjectTypeCode,
        <!--付款对象类型名称-->
        RB_PayObjectTypeName,
        <!--付款对象ID-->
        RB_PayObjectID,
        <!--付款对象-->
        RB_PayObjectName,
        <!--收款通道编码-->
        RB_ReceiveTypeCode,
        <!--收款通道名称-->
        RB_ReceiveTypeName,
        <!--收款账号-->
        RB_ReceiveAccount,
        <!--收款凭证编号-->
        RB_CertificateNo,
        <!--收款凭证图片-->
        RB_CertificatePic,
        <!--合计金额-->
        RB_ReceiveTotalAmount,
        <!--业务状态编码-->
        RB_BusinessStatusCode,
        <!--业务状态名称-->
        RB_BusinessStatusName,
        <!--审核状态编码-->
        RB_ApprovalStatusCode,
        <!--审核状态名称-->
        RB_ApprovalStatusName,
        <!--备注-->
        RB_Remark,
        <!--有效-->
        RB_IsValid,
        <!--创建人-->
        RB_CreatedBy,
        <!--创建时间-->
        RB_CreatedTime,
        <!--修改人-->
        RB_UpdatedBy,
        <!--修改时间-->
        RB_UpdatedTime,
        <!--版本号-->
        RB_VersionNo,
        <!--事务编号-->
        RB_TransID
        )
        VALUES
        (
        <!--收款ID-->
        #[].RB_ID#,
        <!--收款单号-->
        #[].RB_No#,
        <!--收款组织ID-->
        #[].RB_Rec_Org_ID#,
        <!--收款组织名称-->
        #[].RB_Rec_Org_Name#,
        <!--收款日期-->
        #[].RB_Date#,
        <!--付款对象类型编码-->
        #[].RB_PayObjectTypeCode#,
        <!--付款对象类型名称-->
        #[].RB_PayObjectTypeName#,
        <!--付款对象ID-->
        #[].RB_PayObjectID#,
        <!--付款对象-->
        #[].RB_PayObjectName#,
        <!--收款通道编码-->
        #[].RB_ReceiveTypeCode#,
        <!--收款通道名称-->
        #[].RB_ReceiveTypeName#,
        <!--收款账号-->
        #[].RB_ReceiveAccount#,
        <!--收款凭证编号-->
        #[].RB_CertificateNo#,
        <!--收款凭证图片-->
        #[].RB_CertificatePic#,
        <!--合计金额-->
        #[].RB_ReceiveTotalAmount#,
        <!--业务状态编码-->
        #[].RB_BusinessStatusCode#,
        <!--业务状态名称-->
        #[].RB_BusinessStatusName#,
        <!--审核状态编码-->
        #[].RB_ApprovalStatusCode#,
        <!--审核状态名称-->
        #[].RB_ApprovalStatusName#,
        <!--备注-->
        #[].RB_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].RB_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].RB_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].RB_TransID#
        )
      </iterate>
    </insert>

    <!--查询[收款单]信息（精确条件）-->
    <select id="COMM_SQL_MDLFM_ReceiptBill" parameterClass="MDLFM_ReceiptBill" resultClass="MDLFM_ReceiptBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(RB_ID)
      FROM FM_ReceiptBill
      <dynamic prepend="WHERE">
        <!--收款ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ID">RB_ID=#WHERE_RB_ID#</isNotEmpty>
        <!--收款单号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_No">RB_No=#WHERE_RB_No#</isNotEmpty>
        <!--收款组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Rec_Org_ID">RB_Rec_Org_ID=#WHERE_RB_Rec_Org_ID#</isNotEmpty>
        <!--收款组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Rec_Org_Name">RB_Rec_Org_Name=#WHERE_RB_Rec_Org_Name#</isNotEmpty>
        <!--收款日期-->
        <isNotNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">RB_Date BETWEEN #_DateStart# AND #_DateEnd#</isNotNull>
          <isNull  prepend="AND" property="_DateEnd">RB_Date <![CDATA[>=]]> #_DateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">RB_Date <![CDATA[<=]]> #_DateEnd#</isNotNull>
        </isNull>
        <!--付款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectTypeCode">RB_PayObjectTypeCode=#WHERE_RB_PayObjectTypeCode#</isNotEmpty>
        <!--付款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectTypeName">RB_PayObjectTypeName=#WHERE_RB_PayObjectTypeName#</isNotEmpty>
        <!--付款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectID">RB_PayObjectID=#WHERE_RB_PayObjectID#</isNotEmpty>
        <!--付款对象-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectName">RB_PayObjectName=#WHERE_RB_PayObjectName#</isNotEmpty>
        <!--收款通道编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveTypeCode">RB_ReceiveTypeCode=#WHERE_RB_ReceiveTypeCode#</isNotEmpty>
        <!--收款通道名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveTypeName">RB_ReceiveTypeName=#WHERE_RB_ReceiveTypeName#</isNotEmpty>
        <!--收款账号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveAccount">RB_ReceiveAccount=#WHERE_RB_ReceiveAccount#</isNotEmpty>
        <!--收款凭证编号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CertificateNo">RB_CertificateNo=#WHERE_RB_CertificateNo#</isNotEmpty>
        <!--收款凭证图片-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CertificatePic">RB_CertificatePic=#WHERE_RB_CertificatePic#</isNotEmpty>
        <!--合计金额-->
        <isNotNull prepend="AND" property="WHERE_RB_ReceiveTotalAmount">RB_ReceiveTotalAmount=#WHERE_RB_ReceiveTotalAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_BusinessStatusCode">RB_BusinessStatusCode=#WHERE_RB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_BusinessStatusName">RB_BusinessStatusName=#WHERE_RB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ApprovalStatusCode">RB_ApprovalStatusCode=#WHERE_RB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ApprovalStatusName">RB_ApprovalStatusName=#WHERE_RB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Remark">RB_Remark=#WHERE_RB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_RB_IsValid">RB_IsValid=#WHERE_RB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CreatedBy">RB_CreatedBy=#WHERE_RB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_RB_UpdatedBy">RB_UpdatedBy=#WHERE_RB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_RB_VersionNo">RB_VersionNo=#WHERE_RB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_TransID">RB_TransID=#WHERE_RB_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      RB_ID,
      RB_No,
      RB_Rec_Org_ID,
      RB_Rec_Org_Name,
      RB_Date,
      RB_PayObjectTypeCode,
      RB_PayObjectTypeName,
      RB_PayObjectID,
      RB_PayObjectName,
      RB_ReceiveTypeCode,
      RB_ReceiveTypeName,
      RB_ReceiveAccount,
      RB_CertificateNo,
      RB_CertificatePic,
      RB_ReceiveTotalAmount,
      RB_BusinessStatusCode,
      RB_BusinessStatusName,
      RB_ApprovalStatusCode,
      RB_ApprovalStatusName,
      RB_Remark,
      RB_IsValid,
      RB_CreatedBy,
      RB_CreatedTime,
      RB_UpdatedBy,
      RB_UpdatedTime,
      RB_VersionNo,
      RB_TransID
      FROM FM_ReceiptBill
      <dynamic prepend="WHERE">
        <!--收款ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ID">RB_ID=#WHERE_RB_ID#</isNotEmpty>
        <!--收款单号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_No">RB_No=#WHERE_RB_No#</isNotEmpty>
        <!--收款组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Rec_Org_ID">RB_Rec_Org_ID=#WHERE_RB_Rec_Org_ID#</isNotEmpty>
        <!--收款组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Rec_Org_Name">RB_Rec_Org_Name=#WHERE_RB_Rec_Org_Name#</isNotEmpty>
        <!--收款日期-->
        <isNotNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">RB_Date BETWEEN #_DateStart# AND #_DateEnd#</isNotNull>
          <isNull  prepend="AND" property="_DateEnd">RB_Date <![CDATA[>=]]> #_DateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">RB_Date <![CDATA[<=]]> #_DateEnd#</isNotNull>
        </isNull>
        <!--付款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectTypeCode">RB_PayObjectTypeCode=#WHERE_RB_PayObjectTypeCode#</isNotEmpty>
        <!--付款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectTypeName">RB_PayObjectTypeName=#WHERE_RB_PayObjectTypeName#</isNotEmpty>
        <!--付款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectID">RB_PayObjectID=#WHERE_RB_PayObjectID#</isNotEmpty>
        <!--付款对象-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectName">RB_PayObjectName=#WHERE_RB_PayObjectName#</isNotEmpty>
        <!--收款通道编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveTypeCode">RB_ReceiveTypeCode=#WHERE_RB_ReceiveTypeCode#</isNotEmpty>
        <!--收款通道名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveTypeName">RB_ReceiveTypeName=#WHERE_RB_ReceiveTypeName#</isNotEmpty>
        <!--收款账号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveAccount">RB_ReceiveAccount=#WHERE_RB_ReceiveAccount#</isNotEmpty>
        <!--收款凭证编号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CertificateNo">RB_CertificateNo=#WHERE_RB_CertificateNo#</isNotEmpty>
        <!--收款凭证图片-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CertificatePic">RB_CertificatePic=#WHERE_RB_CertificatePic#</isNotEmpty>
        <!--合计金额-->
        <isNotNull prepend="AND" property="WHERE_RB_ReceiveTotalAmount">RB_ReceiveTotalAmount=#WHERE_RB_ReceiveTotalAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_BusinessStatusCode">RB_BusinessStatusCode=#WHERE_RB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_BusinessStatusName">RB_BusinessStatusName=#WHERE_RB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ApprovalStatusCode">RB_ApprovalStatusCode=#WHERE_RB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ApprovalStatusName">RB_ApprovalStatusName=#WHERE_RB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Remark">RB_Remark=#WHERE_RB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_RB_IsValid">RB_IsValid=#WHERE_RB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CreatedBy">RB_CreatedBy=#WHERE_RB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_RB_UpdatedBy">RB_UpdatedBy=#WHERE_RB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_RB_VersionNo">RB_VersionNo=#WHERE_RB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_TransID">RB_TransID=#WHERE_RB_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY RB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[收款单]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLFM_ReceiptBill" parameterClass="MDLFM_ReceiptBill" resultClass="MDLFM_ReceiptBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(RB_ID)
      FROM FM_ReceiptBill
      <dynamic prepend="WHERE">
        <!--收款ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ID">RB_ID=#WHERE_RB_ID#</isNotEmpty>
        <!--收款单号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_No">RB_No LIKE '%'+#WHERE_RB_No#+'%'</isNotEmpty>
        <!--收款组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Rec_Org_ID">RB_Rec_Org_ID LIKE '%'+#WHERE_RB_Rec_Org_ID#+'%'</isNotEmpty>
        <!--收款组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Rec_Org_Name">RB_Rec_Org_Name LIKE '%'+#WHERE_RB_Rec_Org_Name#+'%'</isNotEmpty>
        <!--收款日期-->
        <isNotNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">RB_Date BETWEEN #_DateStart# AND #_DateEnd#</isNotNull>
          <isNull  prepend="AND" property="_DateEnd">RB_Date <![CDATA[>=]]> #_DateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">RB_Date <![CDATA[<=]]> #_DateEnd#</isNotNull>
        </isNull>
        <!--付款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectTypeCode">RB_PayObjectTypeCode LIKE '%'+#WHERE_RB_PayObjectTypeCode#+'%'</isNotEmpty>
        <!--付款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectTypeName">RB_PayObjectTypeName LIKE '%'+#WHERE_RB_PayObjectTypeName#+'%'</isNotEmpty>
        <!--付款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectID">RB_PayObjectID LIKE '%'+#WHERE_RB_PayObjectID#+'%'</isNotEmpty>
        <!--付款对象-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectName">RB_PayObjectName LIKE '%'+#WHERE_RB_PayObjectName#+'%'</isNotEmpty>
        <!--收款通道编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveTypeCode">RB_ReceiveTypeCode LIKE '%'+#WHERE_RB_ReceiveTypeCode#+'%'</isNotEmpty>
        <!--收款通道名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveTypeName">RB_ReceiveTypeName LIKE '%'+#WHERE_RB_ReceiveTypeName#+'%'</isNotEmpty>
        <!--收款账号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveAccount">RB_ReceiveAccount LIKE '%'+#WHERE_RB_ReceiveAccount#+'%'</isNotEmpty>
        <!--收款凭证编号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CertificateNo">RB_CertificateNo LIKE '%'+#WHERE_RB_CertificateNo#+'%'</isNotEmpty>
        <!--收款凭证图片-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CertificatePic">RB_CertificatePic LIKE '%'+#WHERE_RB_CertificatePic#+'%'</isNotEmpty>
        <!--合计金额-->
        <isNotNull prepend="AND" property="WHERE_RB_ReceiveTotalAmount">RB_ReceiveTotalAmount=#WHERE_RB_ReceiveTotalAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_BusinessStatusCode">RB_BusinessStatusCode LIKE '%'+#WHERE_RB_BusinessStatusCode#+'%'</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_BusinessStatusName">RB_BusinessStatusName LIKE '%'+#WHERE_RB_BusinessStatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ApprovalStatusCode">RB_ApprovalStatusCode LIKE '%'+#WHERE_RB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ApprovalStatusName">RB_ApprovalStatusName LIKE '%'+#WHERE_RB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Remark">RB_Remark LIKE '%'+#WHERE_RB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_RB_IsValid">RB_IsValid=#WHERE_RB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CreatedBy">RB_CreatedBy LIKE '%'+#WHERE_RB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_RB_UpdatedBy">RB_UpdatedBy LIKE '%'+#WHERE_RB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_RB_VersionNo">RB_VersionNo=#WHERE_RB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_TransID">RB_TransID LIKE '%'+#WHERE_RB_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      RB_ID,
      RB_No,
      RB_Rec_Org_ID,
      RB_Rec_Org_Name,
      RB_Date,
      RB_PayObjectTypeCode,
      RB_PayObjectTypeName,
      RB_PayObjectID,
      RB_PayObjectName,
      RB_ReceiveTypeCode,
      RB_ReceiveTypeName,
      RB_ReceiveAccount,
      RB_CertificateNo,
      RB_CertificatePic,
      RB_ReceiveTotalAmount,
      RB_BusinessStatusCode,
      RB_BusinessStatusName,
      RB_ApprovalStatusCode,
      RB_ApprovalStatusName,
      RB_Remark,
      RB_IsValid,
      RB_CreatedBy,
      RB_CreatedTime,
      RB_UpdatedBy,
      RB_UpdatedTime,
      RB_VersionNo,
      RB_TransID
      FROM FM_ReceiptBill
      <dynamic prepend="WHERE">
        <!--收款ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ID">RB_ID=#WHERE_RB_ID#</isNotEmpty>
        <!--收款单号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_No">RB_No LIKE '%'+#WHERE_RB_No#+'%'</isNotEmpty>
        <!--收款组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Rec_Org_ID">RB_Rec_Org_ID LIKE '%'+#WHERE_RB_Rec_Org_ID#+'%'</isNotEmpty>
        <!--收款组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Rec_Org_Name">RB_Rec_Org_Name LIKE '%'+#WHERE_RB_Rec_Org_Name#+'%'</isNotEmpty>
        <!--收款日期-->
        <isNotNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">RB_Date BETWEEN #_DateStart# AND #_DateEnd#</isNotNull>
          <isNull  prepend="AND" property="_DateEnd">RB_Date <![CDATA[>=]]> #_DateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">RB_Date <![CDATA[<=]]> #_DateEnd#</isNotNull>
        </isNull>
        <!--付款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectTypeCode">RB_PayObjectTypeCode LIKE '%'+#WHERE_RB_PayObjectTypeCode#+'%'</isNotEmpty>
        <!--付款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectTypeName">RB_PayObjectTypeName LIKE '%'+#WHERE_RB_PayObjectTypeName#+'%'</isNotEmpty>
        <!--付款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectID">RB_PayObjectID LIKE '%'+#WHERE_RB_PayObjectID#+'%'</isNotEmpty>
        <!--付款对象-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectName">RB_PayObjectName LIKE '%'+#WHERE_RB_PayObjectName#+'%'</isNotEmpty>
        <!--收款通道编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveTypeCode">RB_ReceiveTypeCode LIKE '%'+#WHERE_RB_ReceiveTypeCode#+'%'</isNotEmpty>
        <!--收款通道名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveTypeName">RB_ReceiveTypeName LIKE '%'+#WHERE_RB_ReceiveTypeName#+'%'</isNotEmpty>
        <!--收款账号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveAccount">RB_ReceiveAccount LIKE '%'+#WHERE_RB_ReceiveAccount#+'%'</isNotEmpty>
        <!--收款凭证编号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CertificateNo">RB_CertificateNo LIKE '%'+#WHERE_RB_CertificateNo#+'%'</isNotEmpty>
        <!--收款凭证图片-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CertificatePic">RB_CertificatePic LIKE '%'+#WHERE_RB_CertificatePic#+'%'</isNotEmpty>
        <!--合计金额-->
        <isNotNull prepend="AND" property="WHERE_RB_ReceiveTotalAmount">RB_ReceiveTotalAmount=#WHERE_RB_ReceiveTotalAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_BusinessStatusCode">RB_BusinessStatusCode LIKE '%'+#WHERE_RB_BusinessStatusCode#+'%'</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_BusinessStatusName">RB_BusinessStatusName LIKE '%'+#WHERE_RB_BusinessStatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ApprovalStatusCode">RB_ApprovalStatusCode LIKE '%'+#WHERE_RB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ApprovalStatusName">RB_ApprovalStatusName LIKE '%'+#WHERE_RB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Remark">RB_Remark LIKE '%'+#WHERE_RB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_RB_IsValid">RB_IsValid=#WHERE_RB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CreatedBy">RB_CreatedBy LIKE '%'+#WHERE_RB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_RB_UpdatedBy">RB_UpdatedBy LIKE '%'+#WHERE_RB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_RB_VersionNo">RB_VersionNo=#WHERE_RB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_TransID">RB_TransID LIKE '%'+#WHERE_RB_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY RB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[收款单]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLFM_ReceiptBill" parameterClass="MDLFM_ReceiptBill" resultClass="int">
      SELECT COUNT(RB_ID) 'RecordCount'
      FROM FM_ReceiptBill
      <dynamic prepend="WHERE">
        <!--收款ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ID">RB_ID=#WHERE_RB_ID#</isNotEmpty>
        <!--收款单号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_No">RB_No=#WHERE_RB_No#</isNotEmpty>
        <!--收款组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Rec_Org_ID">RB_Rec_Org_ID=#WHERE_RB_Rec_Org_ID#</isNotEmpty>
        <!--收款组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Rec_Org_Name">RB_Rec_Org_Name=#WHERE_RB_Rec_Org_Name#</isNotEmpty>
        <!--收款日期-->
        <isNotNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">RB_Date BETWEEN #_DateStart# AND #_DateEnd#</isNotNull>
          <isNull  prepend="AND" property="_DateEnd">RB_Date <![CDATA[>=]]> #_DateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">RB_Date <![CDATA[<=]]> #_DateEnd#</isNotNull>
        </isNull>
        <!--付款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectTypeCode">RB_PayObjectTypeCode=#WHERE_RB_PayObjectTypeCode#</isNotEmpty>
        <!--付款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectTypeName">RB_PayObjectTypeName=#WHERE_RB_PayObjectTypeName#</isNotEmpty>
        <!--付款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectID">RB_PayObjectID=#WHERE_RB_PayObjectID#</isNotEmpty>
        <!--付款对象-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectName">RB_PayObjectName=#WHERE_RB_PayObjectName#</isNotEmpty>
        <!--收款通道编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveTypeCode">RB_ReceiveTypeCode=#WHERE_RB_ReceiveTypeCode#</isNotEmpty>
        <!--收款通道名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveTypeName">RB_ReceiveTypeName=#WHERE_RB_ReceiveTypeName#</isNotEmpty>
        <!--收款账号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveAccount">RB_ReceiveAccount=#WHERE_RB_ReceiveAccount#</isNotEmpty>
        <!--收款凭证编号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CertificateNo">RB_CertificateNo=#WHERE_RB_CertificateNo#</isNotEmpty>
        <!--收款凭证图片-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CertificatePic">RB_CertificatePic=#WHERE_RB_CertificatePic#</isNotEmpty>
        <!--合计金额-->
        <isNotNull prepend="AND" property="WHERE_RB_ReceiveTotalAmount">RB_ReceiveTotalAmount=#WHERE_RB_ReceiveTotalAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_BusinessStatusCode">RB_BusinessStatusCode=#WHERE_RB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_BusinessStatusName">RB_BusinessStatusName=#WHERE_RB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ApprovalStatusCode">RB_ApprovalStatusCode=#WHERE_RB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ApprovalStatusName">RB_ApprovalStatusName=#WHERE_RB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Remark">RB_Remark=#WHERE_RB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_RB_IsValid">RB_IsValid=#WHERE_RB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CreatedBy">RB_CreatedBy=#WHERE_RB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_RB_UpdatedBy">RB_UpdatedBy=#WHERE_RB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_RB_VersionNo">RB_VersionNo=#WHERE_RB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_TransID">RB_TransID=#WHERE_RB_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[收款单]信息-->
    <update id="COMM_SQL_UpdateMDLFM_ReceiptBill" parameterClass="MDLFM_ReceiptBill" >
      UPDATE FM_ReceiptBill
      SET
      RB_UpdatedTime=GETDATE(),
      RB_VersionNo=RB_VersionNo+1
      <isNotEmpty prepend="," property="RB_No">RB_No=#RB_No#</isNotEmpty>
      <isNotEmpty prepend="," property="RB_Rec_Org_ID">RB_Rec_Org_ID=#RB_Rec_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="RB_Rec_Org_Name">RB_Rec_Org_Name=#RB_Rec_Org_Name#</isNotEmpty>
      <isNotNull prepend="," property="RB_Date">RB_Date=#RB_Date#</isNotNull>
      <isNotEmpty prepend="," property="RB_PayObjectTypeCode">RB_PayObjectTypeCode=#RB_PayObjectTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="RB_PayObjectTypeName">RB_PayObjectTypeName=#RB_PayObjectTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="RB_PayObjectID">RB_PayObjectID=#RB_PayObjectID#</isNotEmpty>
      <isNotEmpty prepend="," property="RB_PayObjectName">RB_PayObjectName=#RB_PayObjectName#</isNotEmpty>
      <isNotEmpty prepend="," property="RB_ReceiveTypeCode">RB_ReceiveTypeCode=#RB_ReceiveTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="RB_ReceiveTypeName">RB_ReceiveTypeName=#RB_ReceiveTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="RB_ReceiveAccount">RB_ReceiveAccount=#RB_ReceiveAccount#</isNotEmpty>
      <isNotEmpty prepend="," property="RB_CertificateNo">RB_CertificateNo=#RB_CertificateNo#</isNotEmpty>
      <isNotEmpty prepend="," property="RB_CertificatePic">RB_CertificatePic=#RB_CertificatePic#</isNotEmpty>
      <isNotNull prepend="," property="RB_ReceiveTotalAmount">RB_ReceiveTotalAmount=#RB_ReceiveTotalAmount#</isNotNull>
      <isNotEmpty prepend="," property="RB_BusinessStatusCode">RB_BusinessStatusCode=#RB_BusinessStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="RB_BusinessStatusName">RB_BusinessStatusName=#RB_BusinessStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="RB_ApprovalStatusCode">RB_ApprovalStatusCode=#RB_ApprovalStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="RB_ApprovalStatusName">RB_ApprovalStatusName=#RB_ApprovalStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="RB_Remark">RB_Remark=#RB_Remark#</isNotEmpty>
      <isNotNull prepend="," property="RB_IsValid">RB_IsValid=#RB_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="RB_CreatedBy">RB_CreatedBy=#RB_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="RB_CreatedTime">RB_CreatedTime=#RB_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="RB_UpdatedBy">RB_UpdatedBy=#RB_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="RB_TransID">RB_TransID=#RB_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--收款ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ID">RB_ID=#WHERE_RB_ID#</isNotEmpty>
        <!--收款单号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_No">RB_No=#WHERE_RB_No#</isNotEmpty>
        <!--收款组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Rec_Org_ID">RB_Rec_Org_ID=#WHERE_RB_Rec_Org_ID#</isNotEmpty>
        <!--收款组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Rec_Org_Name">RB_Rec_Org_Name=#WHERE_RB_Rec_Org_Name#</isNotEmpty>
        <!--收款日期-->
        <isNotNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">RB_Date BETWEEN #_DateStart# AND #_DateEnd#</isNotNull>
          <isNull  prepend="AND" property="_DateEnd">RB_Date <![CDATA[>=]]> #_DateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_DateStart">
          <isNotNull prepend="AND" property="_DateEnd">RB_Date <![CDATA[<=]]> #_DateEnd#</isNotNull>
        </isNull>
        <!--付款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectTypeCode">RB_PayObjectTypeCode=#WHERE_RB_PayObjectTypeCode#</isNotEmpty>
        <!--付款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectTypeName">RB_PayObjectTypeName=#WHERE_RB_PayObjectTypeName#</isNotEmpty>
        <!--付款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectID">RB_PayObjectID=#WHERE_RB_PayObjectID#</isNotEmpty>
        <!--付款对象-->
        <isNotEmpty prepend="AND" property="WHERE_RB_PayObjectName">RB_PayObjectName=#WHERE_RB_PayObjectName#</isNotEmpty>
        <!--收款通道编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveTypeCode">RB_ReceiveTypeCode=#WHERE_RB_ReceiveTypeCode#</isNotEmpty>
        <!--收款通道名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveTypeName">RB_ReceiveTypeName=#WHERE_RB_ReceiveTypeName#</isNotEmpty>
        <!--收款账号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ReceiveAccount">RB_ReceiveAccount=#WHERE_RB_ReceiveAccount#</isNotEmpty>
        <!--收款凭证编号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CertificateNo">RB_CertificateNo=#WHERE_RB_CertificateNo#</isNotEmpty>
        <!--收款凭证图片-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CertificatePic">RB_CertificatePic=#WHERE_RB_CertificatePic#</isNotEmpty>
        <!--合计金额-->
        <isNotNull prepend="AND" property="WHERE_RB_ReceiveTotalAmount">RB_ReceiveTotalAmount=#WHERE_RB_ReceiveTotalAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_BusinessStatusCode">RB_BusinessStatusCode=#WHERE_RB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_BusinessStatusName">RB_BusinessStatusName=#WHERE_RB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ApprovalStatusCode">RB_ApprovalStatusCode=#WHERE_RB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_RB_ApprovalStatusName">RB_ApprovalStatusName=#WHERE_RB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_RB_Remark">RB_Remark=#WHERE_RB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_RB_IsValid">RB_IsValid=#WHERE_RB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_RB_CreatedBy">RB_CreatedBy=#WHERE_RB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_RB_UpdatedBy">RB_UpdatedBy=#WHERE_RB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_RB_VersionNo">RB_VersionNo=#WHERE_RB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_RB_TransID">RB_TransID=#WHERE_RB_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[收款单]信息-->
    <delete id="COMM_SQL_DELETE_MDLFM_ReceiptBill" parameterClass="List">
      DELETE FROM FM_ReceiptBill
      WHERE RB_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_RB_ID#
      </iterate>
    </delete>

    <!--新增[收款单明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLFM_ReceiptBillDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        FM_ReceiptBillDetail
        (
        <!--收款单明细ID-->
        RBD_ID,
        <!--收款单ID-->
        RBD_RB_ID,
        <!--收款单号-->
        RBD_RB_No,
        <!--来源类型编码-->
        RBD_SourceTypeCode,
        <!--来源类型名称-->
        RBD_SourceTypeName,
        <!--来源单号-->
        RBD_SrcBillNo,
        <!--收款金额-->
        RBD_ReceiveAmount,
        <!--备注-->
        RBD_Remark,
        <!--有效-->
        RBD_IsValid,
        <!--创建人-->
        RBD_CreatedBy,
        <!--创建时间-->
        RBD_CreatedTime,
        <!--修改人-->
        RBD_UpdatedBy,
        <!--修改时间-->
        RBD_UpdatedTime,
        <!--版本号-->
        RBD_VersionNo,
        <!--事务编号-->
        RBD_TransID
        )
        VALUES
        (
        <!--收款单明细ID-->
        #[].RBD_ID#,
        <!--收款单ID-->
        #[].RBD_RB_ID#,
        <!--收款单号-->
        #[].RBD_RB_No#,
        <!--来源类型编码-->
        #[].RBD_SourceTypeCode#,
        <!--来源类型名称-->
        #[].RBD_SourceTypeName#,
        <!--来源单号-->
        #[].RBD_SrcBillNo#,
        <!--收款金额-->
        #[].RBD_ReceiveAmount#,
        <!--备注-->
        #[].RBD_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].RBD_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].RBD_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].RBD_TransID#
        )
      </iterate>
    </insert>

    <!--查询[收款单明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLFM_ReceiptBillDetail" parameterClass="MDLFM_ReceiptBillDetail" resultClass="MDLFM_ReceiptBillDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(RBD_ID)
      FROM FM_ReceiptBillDetail
      <dynamic prepend="WHERE">
        <!--收款单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_ID">RBD_ID=#WHERE_RBD_ID#</isNotEmpty>
        <!--收款单ID-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_RB_ID">RBD_RB_ID=#WHERE_RBD_RB_ID#</isNotEmpty>
        <!--收款单号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_RB_No">RBD_RB_No=#WHERE_RBD_RB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SourceTypeCode">RBD_SourceTypeCode=#WHERE_RBD_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SourceTypeName">RBD_SourceTypeName=#WHERE_RBD_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SrcBillNo">RBD_SrcBillNo=#WHERE_RBD_SrcBillNo#</isNotEmpty>
        <!--收款金额-->
        <isNotNull prepend="AND" property="WHERE_RBD_ReceiveAmount">RBD_ReceiveAmount=#WHERE_RBD_ReceiveAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_Remark">RBD_Remark=#WHERE_RBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_RBD_IsValid">RBD_IsValid=#WHERE_RBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_CreatedBy">RBD_CreatedBy=#WHERE_RBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_UpdatedBy">RBD_UpdatedBy=#WHERE_RBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_RBD_VersionNo">RBD_VersionNo=#WHERE_RBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_TransID">RBD_TransID=#WHERE_RBD_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      RBD_ID,
      RBD_RB_ID,
      RBD_RB_No,
      RBD_SourceTypeCode,
      RBD_SourceTypeName,
      RBD_SrcBillNo,
      RBD_ReceiveAmount,
      RBD_Remark,
      RBD_IsValid,
      RBD_CreatedBy,
      RBD_CreatedTime,
      RBD_UpdatedBy,
      RBD_UpdatedTime,
      RBD_VersionNo,
      RBD_TransID
      FROM FM_ReceiptBillDetail
      <dynamic prepend="WHERE">
        <!--收款单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_ID">RBD_ID=#WHERE_RBD_ID#</isNotEmpty>
        <!--收款单ID-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_RB_ID">RBD_RB_ID=#WHERE_RBD_RB_ID#</isNotEmpty>
        <!--收款单号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_RB_No">RBD_RB_No=#WHERE_RBD_RB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SourceTypeCode">RBD_SourceTypeCode=#WHERE_RBD_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SourceTypeName">RBD_SourceTypeName=#WHERE_RBD_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SrcBillNo">RBD_SrcBillNo=#WHERE_RBD_SrcBillNo#</isNotEmpty>
        <!--收款金额-->
        <isNotNull prepend="AND" property="WHERE_RBD_ReceiveAmount">RBD_ReceiveAmount=#WHERE_RBD_ReceiveAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_Remark">RBD_Remark=#WHERE_RBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_RBD_IsValid">RBD_IsValid=#WHERE_RBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_CreatedBy">RBD_CreatedBy=#WHERE_RBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_UpdatedBy">RBD_UpdatedBy=#WHERE_RBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_RBD_VersionNo">RBD_VersionNo=#WHERE_RBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_TransID">RBD_TransID=#WHERE_RBD_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY RBD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[收款单明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLFM_ReceiptBillDetail" parameterClass="MDLFM_ReceiptBillDetail" resultClass="MDLFM_ReceiptBillDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(RBD_ID)
      FROM FM_ReceiptBillDetail
      <dynamic prepend="WHERE">
        <!--收款单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_ID">RBD_ID=#WHERE_RBD_ID#</isNotEmpty>
        <!--收款单ID-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_RB_ID">RBD_RB_ID LIKE '%'+#WHERE_RBD_RB_ID#+'%'</isNotEmpty>
        <!--收款单号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_RB_No">RBD_RB_No LIKE '%'+#WHERE_RBD_RB_No#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SourceTypeCode">RBD_SourceTypeCode LIKE '%'+#WHERE_RBD_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SourceTypeName">RBD_SourceTypeName LIKE '%'+#WHERE_RBD_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SrcBillNo">RBD_SrcBillNo LIKE '%'+#WHERE_RBD_SrcBillNo#+'%'</isNotEmpty>
        <!--收款金额-->
        <isNotNull prepend="AND" property="WHERE_RBD_ReceiveAmount">RBD_ReceiveAmount=#WHERE_RBD_ReceiveAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_Remark">RBD_Remark LIKE '%'+#WHERE_RBD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_RBD_IsValid">RBD_IsValid=#WHERE_RBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_CreatedBy">RBD_CreatedBy LIKE '%'+#WHERE_RBD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_UpdatedBy">RBD_UpdatedBy LIKE '%'+#WHERE_RBD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_RBD_VersionNo">RBD_VersionNo=#WHERE_RBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_TransID">RBD_TransID LIKE '%'+#WHERE_RBD_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      RBD_ID,
      RBD_RB_ID,
      RBD_RB_No,
      RBD_SourceTypeCode,
      RBD_SourceTypeName,
      RBD_SrcBillNo,
      RBD_ReceiveAmount,
      RBD_Remark,
      RBD_IsValid,
      RBD_CreatedBy,
      RBD_CreatedTime,
      RBD_UpdatedBy,
      RBD_UpdatedTime,
      RBD_VersionNo,
      RBD_TransID
      FROM FM_ReceiptBillDetail
      <dynamic prepend="WHERE">
        <!--收款单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_ID">RBD_ID=#WHERE_RBD_ID#</isNotEmpty>
        <!--收款单ID-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_RB_ID">RBD_RB_ID LIKE '%'+#WHERE_RBD_RB_ID#+'%'</isNotEmpty>
        <!--收款单号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_RB_No">RBD_RB_No LIKE '%'+#WHERE_RBD_RB_No#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SourceTypeCode">RBD_SourceTypeCode LIKE '%'+#WHERE_RBD_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SourceTypeName">RBD_SourceTypeName LIKE '%'+#WHERE_RBD_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SrcBillNo">RBD_SrcBillNo LIKE '%'+#WHERE_RBD_SrcBillNo#+'%'</isNotEmpty>
        <!--收款金额-->
        <isNotNull prepend="AND" property="WHERE_RBD_ReceiveAmount">RBD_ReceiveAmount=#WHERE_RBD_ReceiveAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_Remark">RBD_Remark LIKE '%'+#WHERE_RBD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_RBD_IsValid">RBD_IsValid=#WHERE_RBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_CreatedBy">RBD_CreatedBy LIKE '%'+#WHERE_RBD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_UpdatedBy">RBD_UpdatedBy LIKE '%'+#WHERE_RBD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_RBD_VersionNo">RBD_VersionNo=#WHERE_RBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_TransID">RBD_TransID LIKE '%'+#WHERE_RBD_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY RBD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[收款单明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLFM_ReceiptBillDetail" parameterClass="MDLFM_ReceiptBillDetail" resultClass="int">
      SELECT COUNT(RBD_ID) 'RecordCount'
      FROM FM_ReceiptBillDetail
      <dynamic prepend="WHERE">
        <!--收款单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_ID">RBD_ID=#WHERE_RBD_ID#</isNotEmpty>
        <!--收款单ID-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_RB_ID">RBD_RB_ID=#WHERE_RBD_RB_ID#</isNotEmpty>
        <!--收款单号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_RB_No">RBD_RB_No=#WHERE_RBD_RB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SourceTypeCode">RBD_SourceTypeCode=#WHERE_RBD_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SourceTypeName">RBD_SourceTypeName=#WHERE_RBD_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SrcBillNo">RBD_SrcBillNo=#WHERE_RBD_SrcBillNo#</isNotEmpty>
        <!--收款金额-->
        <isNotNull prepend="AND" property="WHERE_RBD_ReceiveAmount">RBD_ReceiveAmount=#WHERE_RBD_ReceiveAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_Remark">RBD_Remark=#WHERE_RBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_RBD_IsValid">RBD_IsValid=#WHERE_RBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_CreatedBy">RBD_CreatedBy=#WHERE_RBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_UpdatedBy">RBD_UpdatedBy=#WHERE_RBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_RBD_VersionNo">RBD_VersionNo=#WHERE_RBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_TransID">RBD_TransID=#WHERE_RBD_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[收款单明细]信息-->
    <update id="COMM_SQL_UpdateMDLFM_ReceiptBillDetail" parameterClass="MDLFM_ReceiptBillDetail" >
      UPDATE FM_ReceiptBillDetail
      SET
      RBD_UpdatedTime=GETDATE(),
      RBD_VersionNo=RBD_VersionNo+1
      <isNotEmpty prepend="," property="RBD_RB_ID">RBD_RB_ID=#RBD_RB_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="RBD_RB_No">RBD_RB_No=#RBD_RB_No#</isNotEmpty>
      <isNotEmpty prepend="," property="RBD_SourceTypeCode">RBD_SourceTypeCode=#RBD_SourceTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="RBD_SourceTypeName">RBD_SourceTypeName=#RBD_SourceTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="RBD_SrcBillNo">RBD_SrcBillNo=#RBD_SrcBillNo#</isNotEmpty>
      <isNotNull prepend="," property="RBD_ReceiveAmount">RBD_ReceiveAmount=#RBD_ReceiveAmount#</isNotNull>
      <isNotEmpty prepend="," property="RBD_Remark">RBD_Remark=#RBD_Remark#</isNotEmpty>
      <isNotNull prepend="," property="RBD_IsValid">RBD_IsValid=#RBD_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="RBD_CreatedBy">RBD_CreatedBy=#RBD_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="RBD_CreatedTime">RBD_CreatedTime=#RBD_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="RBD_UpdatedBy">RBD_UpdatedBy=#RBD_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="RBD_TransID">RBD_TransID=#RBD_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--收款单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_ID">RBD_ID=#WHERE_RBD_ID#</isNotEmpty>
        <!--收款单ID-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_RB_ID">RBD_RB_ID=#WHERE_RBD_RB_ID#</isNotEmpty>
        <!--收款单号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_RB_No">RBD_RB_No=#WHERE_RBD_RB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SourceTypeCode">RBD_SourceTypeCode=#WHERE_RBD_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SourceTypeName">RBD_SourceTypeName=#WHERE_RBD_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_SrcBillNo">RBD_SrcBillNo=#WHERE_RBD_SrcBillNo#</isNotEmpty>
        <!--收款金额-->
        <isNotNull prepend="AND" property="WHERE_RBD_ReceiveAmount">RBD_ReceiveAmount=#WHERE_RBD_ReceiveAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_Remark">RBD_Remark=#WHERE_RBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_RBD_IsValid">RBD_IsValid=#WHERE_RBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_CreatedBy">RBD_CreatedBy=#WHERE_RBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">RBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_UpdatedBy">RBD_UpdatedBy=#WHERE_RBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">RBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_RBD_VersionNo">RBD_VersionNo=#WHERE_RBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_RBD_TransID">RBD_TransID=#WHERE_RBD_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[收款单明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLFM_ReceiptBillDetail" parameterClass="List">
      DELETE FROM FM_ReceiptBillDetail
      WHERE RBD_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_RBD_ID#
      </iterate>
    </delete>

    <!--新增[应付单]信息-->
    <insert id="COMM_SQL_INSERT_MDLFM_AccountPayableBill" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        FM_AccountPayableBill
        (
        <!--应付单ID-->
        APB_ID,
        <!--应付单号-->
        APB_No,
        <!--单据方向编码-->
        APB_BillDirectCode,
        <!--单据方向名称-->
        APB_BillDirectName,
        <!--来源类型-->
        APB_SourceTypeCode,
        <!--来源类型-->
        APB_SourceTypeName,
        <!--来源单据号-->
        APB_SourceBillNo,
        <!--组织ID-->
        APB_Org_ID,
        <!--组织名称-->
        APB_Org_Name,
        <!--收款对象类型编码-->
        APB_ReceiveObjectTypeCode,
        <!--收款对象类型名称-->
        APB_ReceiveObjectTypeName,
        <!--收款对象ID-->
        APB_ReceiveObjectID,
        <!--收款对象名称-->
        APB_ReceiveObjectName,
        <!--应付金额-->
        APB_AccountPayableAmount,
        <!--已付金额-->
        APB_PaidAmount,
        <!--未付金额-->
        APB_UnpaidAmount,
        <!--业务状态编码-->
        APB_BusinessStatusCode,
        <!--业务状态名称-->
        APB_BusinessStatusName,
        <!--审核状态编码-->
        APB_ApprovalStatusCode,
        <!--审核状态名称-->
        APB_ApprovalStatusName,
        <!--对账时间-->
        APB_ReconciliationTime,
        <!--备注-->
        APB_Remark,
        <!--有效-->
        APB_IsValid,
        <!--创建人-->
        APB_CreatedBy,
        <!--创建时间-->
        APB_CreatedTime,
        <!--修改人-->
        APB_UpdatedBy,
        <!--修改时间-->
        APB_UpdatedTime,
        <!--版本号-->
        APB_VersionNo,
        <!--事务编号-->
        APB_TransID
        )
        VALUES
        (
        <!--应付单ID-->
        #[].APB_ID#,
        <!--应付单号-->
        #[].APB_No#,
        <!--单据方向编码-->
        #[].APB_BillDirectCode#,
        <!--单据方向名称-->
        #[].APB_BillDirectName#,
        <!--来源类型-->
        #[].APB_SourceTypeCode#,
        <!--来源类型-->
        #[].APB_SourceTypeName#,
        <!--来源单据号-->
        #[].APB_SourceBillNo#,
        <!--组织ID-->
        #[].APB_Org_ID#,
        <!--组织名称-->
        #[].APB_Org_Name#,
        <!--收款对象类型编码-->
        #[].APB_ReceiveObjectTypeCode#,
        <!--收款对象类型名称-->
        #[].APB_ReceiveObjectTypeName#,
        <!--收款对象ID-->
        #[].APB_ReceiveObjectID#,
        <!--收款对象名称-->
        #[].APB_ReceiveObjectName#,
        <!--应付金额-->
        #[].APB_AccountPayableAmount#,
        <!--已付金额-->
        #[].APB_PaidAmount#,
        <!--未付金额-->
        #[].APB_UnpaidAmount#,
        <!--业务状态编码-->
        #[].APB_BusinessStatusCode#,
        <!--业务状态名称-->
        #[].APB_BusinessStatusName#,
        <!--审核状态编码-->
        #[].APB_ApprovalStatusCode#,
        <!--审核状态名称-->
        #[].APB_ApprovalStatusName#,
        <!--对账时间-->
        #[].APB_ReconciliationTime#,
        <!--备注-->
        #[].APB_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].APB_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].APB_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].APB_TransID#
        )
      </iterate>
    </insert>

    <!--查询[应付单]信息（精确条件）-->
    <select id="COMM_SQL_MDLFM_AccountPayableBill" parameterClass="MDLFM_AccountPayableBill" resultClass="MDLFM_AccountPayableBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APB_ID)
      FROM FM_AccountPayableBill
      <dynamic prepend="WHERE">
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ID">APB_ID=#WHERE_APB_ID#</isNotEmpty>
        <!--应付单号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_No">APB_No=#WHERE_APB_No#</isNotEmpty>
        <!--单据方向编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BillDirectCode">APB_BillDirectCode=#WHERE_APB_BillDirectCode#</isNotEmpty>
        <!--单据方向名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BillDirectName">APB_BillDirectName=#WHERE_APB_BillDirectName#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceTypeCode">APB_SourceTypeCode=#WHERE_APB_SourceTypeCode#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceTypeName">APB_SourceTypeName=#WHERE_APB_SourceTypeName#</isNotEmpty>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceBillNo">APB_SourceBillNo=#WHERE_APB_SourceBillNo#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Org_ID">APB_Org_ID=#WHERE_APB_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Org_Name">APB_Org_Name=#WHERE_APB_Org_Name#</isNotEmpty>
        <!--收款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectTypeCode">APB_ReceiveObjectTypeCode=#WHERE_APB_ReceiveObjectTypeCode#</isNotEmpty>
        <!--收款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectTypeName">APB_ReceiveObjectTypeName=#WHERE_APB_ReceiveObjectTypeName#</isNotEmpty>
        <!--收款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectID">APB_ReceiveObjectID=#WHERE_APB_ReceiveObjectID#</isNotEmpty>
        <!--收款对象名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectName">APB_ReceiveObjectName=#WHERE_APB_ReceiveObjectName#</isNotEmpty>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_AccountPayableAmount">APB_AccountPayableAmount=#WHERE_APB_AccountPayableAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_PaidAmount">APB_PaidAmount=#WHERE_APB_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_UnpaidAmount">APB_UnpaidAmount=#WHERE_APB_UnpaidAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BusinessStatusCode">APB_BusinessStatusCode=#WHERE_APB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BusinessStatusName">APB_BusinessStatusName=#WHERE_APB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ApprovalStatusCode">APB_ApprovalStatusCode=#WHERE_APB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ApprovalStatusName">APB_ApprovalStatusName=#WHERE_APB_ApprovalStatusName#</isNotEmpty>
        <!--对账时间-->
        <isNotNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime BETWEEN #_ReconciliationTimeStart# AND #_ReconciliationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime <![CDATA[>=]]> #_ReconciliationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime <![CDATA[<=]]> #_ReconciliationTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Remark">APB_Remark=#WHERE_APB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APB_IsValid">APB_IsValid=#WHERE_APB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APB_CreatedBy">APB_CreatedBy=#WHERE_APB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APB_UpdatedBy">APB_UpdatedBy=#WHERE_APB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APB_VersionNo">APB_VersionNo=#WHERE_APB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_TransID">APB_TransID=#WHERE_APB_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APB_ID,
      APB_No,
      APB_BillDirectCode,
      APB_BillDirectName,
      APB_SourceTypeCode,
      APB_SourceTypeName,
      APB_SourceBillNo,
      APB_Org_ID,
      APB_Org_Name,
      APB_ReceiveObjectTypeCode,
      APB_ReceiveObjectTypeName,
      APB_ReceiveObjectID,
      APB_ReceiveObjectName,
      APB_AccountPayableAmount,
      APB_PaidAmount,
      APB_UnpaidAmount,
      APB_BusinessStatusCode,
      APB_BusinessStatusName,
      APB_ApprovalStatusCode,
      APB_ApprovalStatusName,
      APB_ReconciliationTime,
      APB_Remark,
      APB_IsValid,
      APB_CreatedBy,
      APB_CreatedTime,
      APB_UpdatedBy,
      APB_UpdatedTime,
      APB_VersionNo,
      APB_TransID
      FROM FM_AccountPayableBill
      <dynamic prepend="WHERE">
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ID">APB_ID=#WHERE_APB_ID#</isNotEmpty>
        <!--应付单号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_No">APB_No=#WHERE_APB_No#</isNotEmpty>
        <!--单据方向编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BillDirectCode">APB_BillDirectCode=#WHERE_APB_BillDirectCode#</isNotEmpty>
        <!--单据方向名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BillDirectName">APB_BillDirectName=#WHERE_APB_BillDirectName#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceTypeCode">APB_SourceTypeCode=#WHERE_APB_SourceTypeCode#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceTypeName">APB_SourceTypeName=#WHERE_APB_SourceTypeName#</isNotEmpty>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceBillNo">APB_SourceBillNo=#WHERE_APB_SourceBillNo#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Org_ID">APB_Org_ID=#WHERE_APB_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Org_Name">APB_Org_Name=#WHERE_APB_Org_Name#</isNotEmpty>
        <!--收款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectTypeCode">APB_ReceiveObjectTypeCode=#WHERE_APB_ReceiveObjectTypeCode#</isNotEmpty>
        <!--收款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectTypeName">APB_ReceiveObjectTypeName=#WHERE_APB_ReceiveObjectTypeName#</isNotEmpty>
        <!--收款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectID">APB_ReceiveObjectID=#WHERE_APB_ReceiveObjectID#</isNotEmpty>
        <!--收款对象名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectName">APB_ReceiveObjectName=#WHERE_APB_ReceiveObjectName#</isNotEmpty>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_AccountPayableAmount">APB_AccountPayableAmount=#WHERE_APB_AccountPayableAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_PaidAmount">APB_PaidAmount=#WHERE_APB_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_UnpaidAmount">APB_UnpaidAmount=#WHERE_APB_UnpaidAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BusinessStatusCode">APB_BusinessStatusCode=#WHERE_APB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BusinessStatusName">APB_BusinessStatusName=#WHERE_APB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ApprovalStatusCode">APB_ApprovalStatusCode=#WHERE_APB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ApprovalStatusName">APB_ApprovalStatusName=#WHERE_APB_ApprovalStatusName#</isNotEmpty>
        <!--对账时间-->
        <isNotNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime BETWEEN #_ReconciliationTimeStart# AND #_ReconciliationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime <![CDATA[>=]]> #_ReconciliationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime <![CDATA[<=]]> #_ReconciliationTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Remark">APB_Remark=#WHERE_APB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APB_IsValid">APB_IsValid=#WHERE_APB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APB_CreatedBy">APB_CreatedBy=#WHERE_APB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APB_UpdatedBy">APB_UpdatedBy=#WHERE_APB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APB_VersionNo">APB_VersionNo=#WHERE_APB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_TransID">APB_TransID=#WHERE_APB_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[应付单]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLFM_AccountPayableBill" parameterClass="MDLFM_AccountPayableBill" resultClass="MDLFM_AccountPayableBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APB_ID)
      FROM FM_AccountPayableBill
      <dynamic prepend="WHERE">
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ID">APB_ID=#WHERE_APB_ID#</isNotEmpty>
        <!--应付单号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_No">APB_No LIKE '%'+#WHERE_APB_No#+'%'</isNotEmpty>
        <!--单据方向编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BillDirectCode">APB_BillDirectCode LIKE '%'+#WHERE_APB_BillDirectCode#+'%'</isNotEmpty>
        <!--单据方向名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BillDirectName">APB_BillDirectName LIKE '%'+#WHERE_APB_BillDirectName#+'%'</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceTypeCode">APB_SourceTypeCode LIKE '%'+#WHERE_APB_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceTypeName">APB_SourceTypeName LIKE '%'+#WHERE_APB_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceBillNo">APB_SourceBillNo LIKE '%'+#WHERE_APB_SourceBillNo#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Org_ID">APB_Org_ID LIKE '%'+#WHERE_APB_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Org_Name">APB_Org_Name LIKE '%'+#WHERE_APB_Org_Name#+'%'</isNotEmpty>
        <!--收款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectTypeCode">APB_ReceiveObjectTypeCode LIKE '%'+#WHERE_APB_ReceiveObjectTypeCode#+'%'</isNotEmpty>
        <!--收款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectTypeName">APB_ReceiveObjectTypeName LIKE '%'+#WHERE_APB_ReceiveObjectTypeName#+'%'</isNotEmpty>
        <!--收款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectID">APB_ReceiveObjectID LIKE '%'+#WHERE_APB_ReceiveObjectID#+'%'</isNotEmpty>
        <!--收款对象名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectName">APB_ReceiveObjectName LIKE '%'+#WHERE_APB_ReceiveObjectName#+'%'</isNotEmpty>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_AccountPayableAmount">APB_AccountPayableAmount=#WHERE_APB_AccountPayableAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_PaidAmount">APB_PaidAmount=#WHERE_APB_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_UnpaidAmount">APB_UnpaidAmount=#WHERE_APB_UnpaidAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BusinessStatusCode">APB_BusinessStatusCode LIKE '%'+#WHERE_APB_BusinessStatusCode#+'%'</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BusinessStatusName">APB_BusinessStatusName LIKE '%'+#WHERE_APB_BusinessStatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ApprovalStatusCode">APB_ApprovalStatusCode LIKE '%'+#WHERE_APB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ApprovalStatusName">APB_ApprovalStatusName LIKE '%'+#WHERE_APB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--对账时间-->
        <isNotNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime BETWEEN #_ReconciliationTimeStart# AND #_ReconciliationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime <![CDATA[>=]]> #_ReconciliationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime <![CDATA[<=]]> #_ReconciliationTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Remark">APB_Remark LIKE '%'+#WHERE_APB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APB_IsValid">APB_IsValid=#WHERE_APB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APB_CreatedBy">APB_CreatedBy LIKE '%'+#WHERE_APB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APB_UpdatedBy">APB_UpdatedBy LIKE '%'+#WHERE_APB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APB_VersionNo">APB_VersionNo=#WHERE_APB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_TransID">APB_TransID LIKE '%'+#WHERE_APB_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APB_ID,
      APB_No,
      APB_BillDirectCode,
      APB_BillDirectName,
      APB_SourceTypeCode,
      APB_SourceTypeName,
      APB_SourceBillNo,
      APB_Org_ID,
      APB_Org_Name,
      APB_ReceiveObjectTypeCode,
      APB_ReceiveObjectTypeName,
      APB_ReceiveObjectID,
      APB_ReceiveObjectName,
      APB_AccountPayableAmount,
      APB_PaidAmount,
      APB_UnpaidAmount,
      APB_BusinessStatusCode,
      APB_BusinessStatusName,
      APB_ApprovalStatusCode,
      APB_ApprovalStatusName,
      APB_ReconciliationTime,
      APB_Remark,
      APB_IsValid,
      APB_CreatedBy,
      APB_CreatedTime,
      APB_UpdatedBy,
      APB_UpdatedTime,
      APB_VersionNo,
      APB_TransID
      FROM FM_AccountPayableBill
      <dynamic prepend="WHERE">
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ID">APB_ID=#WHERE_APB_ID#</isNotEmpty>
        <!--应付单号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_No">APB_No LIKE '%'+#WHERE_APB_No#+'%'</isNotEmpty>
        <!--单据方向编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BillDirectCode">APB_BillDirectCode LIKE '%'+#WHERE_APB_BillDirectCode#+'%'</isNotEmpty>
        <!--单据方向名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BillDirectName">APB_BillDirectName LIKE '%'+#WHERE_APB_BillDirectName#+'%'</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceTypeCode">APB_SourceTypeCode LIKE '%'+#WHERE_APB_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceTypeName">APB_SourceTypeName LIKE '%'+#WHERE_APB_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceBillNo">APB_SourceBillNo LIKE '%'+#WHERE_APB_SourceBillNo#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Org_ID">APB_Org_ID LIKE '%'+#WHERE_APB_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Org_Name">APB_Org_Name LIKE '%'+#WHERE_APB_Org_Name#+'%'</isNotEmpty>
        <!--收款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectTypeCode">APB_ReceiveObjectTypeCode LIKE '%'+#WHERE_APB_ReceiveObjectTypeCode#+'%'</isNotEmpty>
        <!--收款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectTypeName">APB_ReceiveObjectTypeName LIKE '%'+#WHERE_APB_ReceiveObjectTypeName#+'%'</isNotEmpty>
        <!--收款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectID">APB_ReceiveObjectID LIKE '%'+#WHERE_APB_ReceiveObjectID#+'%'</isNotEmpty>
        <!--收款对象名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectName">APB_ReceiveObjectName LIKE '%'+#WHERE_APB_ReceiveObjectName#+'%'</isNotEmpty>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_AccountPayableAmount">APB_AccountPayableAmount=#WHERE_APB_AccountPayableAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_PaidAmount">APB_PaidAmount=#WHERE_APB_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_UnpaidAmount">APB_UnpaidAmount=#WHERE_APB_UnpaidAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BusinessStatusCode">APB_BusinessStatusCode LIKE '%'+#WHERE_APB_BusinessStatusCode#+'%'</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BusinessStatusName">APB_BusinessStatusName LIKE '%'+#WHERE_APB_BusinessStatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ApprovalStatusCode">APB_ApprovalStatusCode LIKE '%'+#WHERE_APB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ApprovalStatusName">APB_ApprovalStatusName LIKE '%'+#WHERE_APB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--对账时间-->
        <isNotNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime BETWEEN #_ReconciliationTimeStart# AND #_ReconciliationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime <![CDATA[>=]]> #_ReconciliationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime <![CDATA[<=]]> #_ReconciliationTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Remark">APB_Remark LIKE '%'+#WHERE_APB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APB_IsValid">APB_IsValid=#WHERE_APB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APB_CreatedBy">APB_CreatedBy LIKE '%'+#WHERE_APB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APB_UpdatedBy">APB_UpdatedBy LIKE '%'+#WHERE_APB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APB_VersionNo">APB_VersionNo=#WHERE_APB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_TransID">APB_TransID LIKE '%'+#WHERE_APB_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[应付单]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLFM_AccountPayableBill" parameterClass="MDLFM_AccountPayableBill" resultClass="int">
      SELECT COUNT(APB_ID) 'RecordCount'
      FROM FM_AccountPayableBill
      <dynamic prepend="WHERE">
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ID">APB_ID=#WHERE_APB_ID#</isNotEmpty>
        <!--应付单号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_No">APB_No=#WHERE_APB_No#</isNotEmpty>
        <!--单据方向编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BillDirectCode">APB_BillDirectCode=#WHERE_APB_BillDirectCode#</isNotEmpty>
        <!--单据方向名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BillDirectName">APB_BillDirectName=#WHERE_APB_BillDirectName#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceTypeCode">APB_SourceTypeCode=#WHERE_APB_SourceTypeCode#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceTypeName">APB_SourceTypeName=#WHERE_APB_SourceTypeName#</isNotEmpty>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceBillNo">APB_SourceBillNo=#WHERE_APB_SourceBillNo#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Org_ID">APB_Org_ID=#WHERE_APB_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Org_Name">APB_Org_Name=#WHERE_APB_Org_Name#</isNotEmpty>
        <!--收款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectTypeCode">APB_ReceiveObjectTypeCode=#WHERE_APB_ReceiveObjectTypeCode#</isNotEmpty>
        <!--收款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectTypeName">APB_ReceiveObjectTypeName=#WHERE_APB_ReceiveObjectTypeName#</isNotEmpty>
        <!--收款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectID">APB_ReceiveObjectID=#WHERE_APB_ReceiveObjectID#</isNotEmpty>
        <!--收款对象名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectName">APB_ReceiveObjectName=#WHERE_APB_ReceiveObjectName#</isNotEmpty>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_AccountPayableAmount">APB_AccountPayableAmount=#WHERE_APB_AccountPayableAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_PaidAmount">APB_PaidAmount=#WHERE_APB_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_UnpaidAmount">APB_UnpaidAmount=#WHERE_APB_UnpaidAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BusinessStatusCode">APB_BusinessStatusCode=#WHERE_APB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BusinessStatusName">APB_BusinessStatusName=#WHERE_APB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ApprovalStatusCode">APB_ApprovalStatusCode=#WHERE_APB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ApprovalStatusName">APB_ApprovalStatusName=#WHERE_APB_ApprovalStatusName#</isNotEmpty>
        <!--对账时间-->
        <isNotNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime BETWEEN #_ReconciliationTimeStart# AND #_ReconciliationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime <![CDATA[>=]]> #_ReconciliationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime <![CDATA[<=]]> #_ReconciliationTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Remark">APB_Remark=#WHERE_APB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APB_IsValid">APB_IsValid=#WHERE_APB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APB_CreatedBy">APB_CreatedBy=#WHERE_APB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APB_UpdatedBy">APB_UpdatedBy=#WHERE_APB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APB_VersionNo">APB_VersionNo=#WHERE_APB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_TransID">APB_TransID=#WHERE_APB_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[应付单]信息-->
    <update id="COMM_SQL_UpdateMDLFM_AccountPayableBill" parameterClass="MDLFM_AccountPayableBill" >
      UPDATE FM_AccountPayableBill
      SET
      APB_UpdatedTime=GETDATE(),
      APB_VersionNo=APB_VersionNo+1
      <isNotEmpty prepend="," property="APB_No">APB_No=#APB_No#</isNotEmpty>
      <isNotEmpty prepend="," property="APB_BillDirectCode">APB_BillDirectCode=#APB_BillDirectCode#</isNotEmpty>
      <isNotEmpty prepend="," property="APB_BillDirectName">APB_BillDirectName=#APB_BillDirectName#</isNotEmpty>
      <isNotEmpty prepend="," property="APB_SourceTypeCode">APB_SourceTypeCode=#APB_SourceTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="APB_SourceTypeName">APB_SourceTypeName=#APB_SourceTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="APB_SourceBillNo">APB_SourceBillNo=#APB_SourceBillNo#</isNotEmpty>
      <isNotEmpty prepend="," property="APB_Org_ID">APB_Org_ID=#APB_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="APB_Org_Name">APB_Org_Name=#APB_Org_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="APB_ReceiveObjectTypeCode">APB_ReceiveObjectTypeCode=#APB_ReceiveObjectTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="APB_ReceiveObjectTypeName">APB_ReceiveObjectTypeName=#APB_ReceiveObjectTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="APB_ReceiveObjectID">APB_ReceiveObjectID=#APB_ReceiveObjectID#</isNotEmpty>
      <isNotEmpty prepend="," property="APB_ReceiveObjectName">APB_ReceiveObjectName=#APB_ReceiveObjectName#</isNotEmpty>
      <isNotNull prepend="," property="APB_AccountPayableAmount">APB_AccountPayableAmount=#APB_AccountPayableAmount#</isNotNull>
      <isNotNull prepend="," property="APB_PaidAmount">APB_PaidAmount=#APB_PaidAmount#</isNotNull>
      <isNotNull prepend="," property="APB_UnpaidAmount">APB_UnpaidAmount=#APB_UnpaidAmount#</isNotNull>
      <isNotEmpty prepend="," property="APB_BusinessStatusCode">APB_BusinessStatusCode=#APB_BusinessStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="APB_BusinessStatusName">APB_BusinessStatusName=#APB_BusinessStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="APB_ApprovalStatusCode">APB_ApprovalStatusCode=#APB_ApprovalStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="APB_ApprovalStatusName">APB_ApprovalStatusName=#APB_ApprovalStatusName#</isNotEmpty>
      <isNotNull prepend="," property="APB_ReconciliationTime">APB_ReconciliationTime=#APB_ReconciliationTime#</isNotNull>
      <isNotEmpty prepend="," property="APB_Remark">APB_Remark=#APB_Remark#</isNotEmpty>
      <isNotNull prepend="," property="APB_IsValid">APB_IsValid=#APB_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="APB_CreatedBy">APB_CreatedBy=#APB_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="APB_CreatedTime">APB_CreatedTime=#APB_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="APB_UpdatedBy">APB_UpdatedBy=#APB_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="APB_TransID">APB_TransID=#APB_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ID">APB_ID=#WHERE_APB_ID#</isNotEmpty>
        <!--应付单号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_No">APB_No=#WHERE_APB_No#</isNotEmpty>
        <!--单据方向编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BillDirectCode">APB_BillDirectCode=#WHERE_APB_BillDirectCode#</isNotEmpty>
        <!--单据方向名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BillDirectName">APB_BillDirectName=#WHERE_APB_BillDirectName#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceTypeCode">APB_SourceTypeCode=#WHERE_APB_SourceTypeCode#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceTypeName">APB_SourceTypeName=#WHERE_APB_SourceTypeName#</isNotEmpty>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_SourceBillNo">APB_SourceBillNo=#WHERE_APB_SourceBillNo#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Org_ID">APB_Org_ID=#WHERE_APB_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Org_Name">APB_Org_Name=#WHERE_APB_Org_Name#</isNotEmpty>
        <!--收款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectTypeCode">APB_ReceiveObjectTypeCode=#WHERE_APB_ReceiveObjectTypeCode#</isNotEmpty>
        <!--收款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectTypeName">APB_ReceiveObjectTypeName=#WHERE_APB_ReceiveObjectTypeName#</isNotEmpty>
        <!--收款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectID">APB_ReceiveObjectID=#WHERE_APB_ReceiveObjectID#</isNotEmpty>
        <!--收款对象名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ReceiveObjectName">APB_ReceiveObjectName=#WHERE_APB_ReceiveObjectName#</isNotEmpty>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_AccountPayableAmount">APB_AccountPayableAmount=#WHERE_APB_AccountPayableAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_PaidAmount">APB_PaidAmount=#WHERE_APB_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APB_UnpaidAmount">APB_UnpaidAmount=#WHERE_APB_UnpaidAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BusinessStatusCode">APB_BusinessStatusCode=#WHERE_APB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_BusinessStatusName">APB_BusinessStatusName=#WHERE_APB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ApprovalStatusCode">APB_ApprovalStatusCode=#WHERE_APB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APB_ApprovalStatusName">APB_ApprovalStatusName=#WHERE_APB_ApprovalStatusName#</isNotEmpty>
        <!--对账时间-->
        <isNotNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime BETWEEN #_ReconciliationTimeStart# AND #_ReconciliationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime <![CDATA[>=]]> #_ReconciliationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">APB_ReconciliationTime <![CDATA[<=]]> #_ReconciliationTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APB_Remark">APB_Remark=#WHERE_APB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APB_IsValid">APB_IsValid=#WHERE_APB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APB_CreatedBy">APB_CreatedBy=#WHERE_APB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APB_UpdatedBy">APB_UpdatedBy=#WHERE_APB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APB_VersionNo">APB_VersionNo=#WHERE_APB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APB_TransID">APB_TransID=#WHERE_APB_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[应付单]信息-->
    <delete id="COMM_SQL_DELETE_MDLFM_AccountPayableBill" parameterClass="List">
      DELETE FROM FM_AccountPayableBill
      WHERE APB_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_APB_ID#
      </iterate>
    </delete>

    <!--新增[应付单明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLFM_AccountPayableBillDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        FM_AccountPayableBillDetail
        (
        <!--应付单明细ID-->
        APBD_ID,
        <!--应付单ID-->
        APBD_APB_ID,
        <!--是否负向明细-->
        APBD_IsMinusDetail,
        <!--来源单据号-->
        APBD_SourceBillNo,
        <!--来源单据明细ID-->
        APBD_SourceBillDetailID,
        <!--组织ID-->
        APBD_Org_ID,
        <!--组织名称-->
        APBD_Org_Name,
        <!--应付金额-->
        APBD_AccountPayableAmount,
        <!--已付金额-->
        APBD_PaidAmount,
        <!--未付金额-->
        APBD_UnpaidAmount,
        <!--业务状态编码-->
        APBD_BusinessStatusCode,
        <!--业务状态名称-->
        APBD_BusinessStatusName,
        <!--审核状态编码-->
        APBD_ApprovalStatusCode,
        <!--审核状态名称-->
        APBD_ApprovalStatusName,
        <!--备注-->
        APBD_Remark,
        <!--有效-->
        APBD_IsValid,
        <!--创建人-->
        APBD_CreatedBy,
        <!--创建时间-->
        APBD_CreatedTime,
        <!--修改人-->
        APBD_UpdatedBy,
        <!--修改时间-->
        APBD_UpdatedTime,
        <!--版本号-->
        APBD_VersionNo,
        <!--事务编号-->
        APBD_TransID
        )
        VALUES
        (
        <!--应付单明细ID-->
        #[].APBD_ID#,
        <!--应付单ID-->
        #[].APBD_APB_ID#,
        <!--是否负向明细-->
        #[].APBD_IsMinusDetail#,
        <!--来源单据号-->
        #[].APBD_SourceBillNo#,
        <!--来源单据明细ID-->
        #[].APBD_SourceBillDetailID#,
        <!--组织ID-->
        #[].APBD_Org_ID#,
        <!--组织名称-->
        #[].APBD_Org_Name#,
        <!--应付金额-->
        #[].APBD_AccountPayableAmount#,
        <!--已付金额-->
        #[].APBD_PaidAmount#,
        <!--未付金额-->
        #[].APBD_UnpaidAmount#,
        <!--业务状态编码-->
        #[].APBD_BusinessStatusCode#,
        <!--业务状态名称-->
        #[].APBD_BusinessStatusName#,
        <!--审核状态编码-->
        #[].APBD_ApprovalStatusCode#,
        <!--审核状态名称-->
        #[].APBD_ApprovalStatusName#,
        <!--备注-->
        #[].APBD_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].APBD_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].APBD_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].APBD_TransID#
        )
      </iterate>
    </insert>

    <!--查询[应付单明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLFM_AccountPayableBillDetail" parameterClass="MDLFM_AccountPayableBillDetail" resultClass="MDLFM_AccountPayableBillDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APBD_ID)
      FROM FM_AccountPayableBillDetail
      <dynamic prepend="WHERE">
        <!--应付单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ID">APBD_ID=#WHERE_APBD_ID#</isNotEmpty>
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_APB_ID">APBD_APB_ID=#WHERE_APBD_APB_ID#</isNotEmpty>
        <!--是否负向明细-->
        <isNotNull prepend="AND" property="WHERE_APBD_IsMinusDetail">APBD_IsMinusDetail=#WHERE_APBD_IsMinusDetail#</isNotNull>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_SourceBillNo">APBD_SourceBillNo=#WHERE_APBD_SourceBillNo#</isNotEmpty>
        <!--来源单据明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_SourceBillDetailID">APBD_SourceBillDetailID=#WHERE_APBD_SourceBillDetailID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Org_ID">APBD_Org_ID=#WHERE_APBD_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Org_Name">APBD_Org_Name=#WHERE_APBD_Org_Name#</isNotEmpty>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_AccountPayableAmount">APBD_AccountPayableAmount=#WHERE_APBD_AccountPayableAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_PaidAmount">APBD_PaidAmount=#WHERE_APBD_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_UnpaidAmount">APBD_UnpaidAmount=#WHERE_APBD_UnpaidAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_BusinessStatusCode">APBD_BusinessStatusCode=#WHERE_APBD_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_BusinessStatusName">APBD_BusinessStatusName=#WHERE_APBD_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ApprovalStatusCode">APBD_ApprovalStatusCode=#WHERE_APBD_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ApprovalStatusName">APBD_ApprovalStatusName=#WHERE_APBD_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Remark">APBD_Remark=#WHERE_APBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APBD_IsValid">APBD_IsValid=#WHERE_APBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_CreatedBy">APBD_CreatedBy=#WHERE_APBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_UpdatedBy">APBD_UpdatedBy=#WHERE_APBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APBD_VersionNo">APBD_VersionNo=#WHERE_APBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_TransID">APBD_TransID=#WHERE_APBD_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APBD_ID,
      APBD_APB_ID,
      APBD_IsMinusDetail,
      APBD_SourceBillNo,
      APBD_SourceBillDetailID,
      APBD_Org_ID,
      APBD_Org_Name,
      APBD_AccountPayableAmount,
      APBD_PaidAmount,
      APBD_UnpaidAmount,
      APBD_BusinessStatusCode,
      APBD_BusinessStatusName,
      APBD_ApprovalStatusCode,
      APBD_ApprovalStatusName,
      APBD_Remark,
      APBD_IsValid,
      APBD_CreatedBy,
      APBD_CreatedTime,
      APBD_UpdatedBy,
      APBD_UpdatedTime,
      APBD_VersionNo,
      APBD_TransID
      FROM FM_AccountPayableBillDetail
      <dynamic prepend="WHERE">
        <!--应付单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ID">APBD_ID=#WHERE_APBD_ID#</isNotEmpty>
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_APB_ID">APBD_APB_ID=#WHERE_APBD_APB_ID#</isNotEmpty>
        <!--是否负向明细-->
        <isNotNull prepend="AND" property="WHERE_APBD_IsMinusDetail">APBD_IsMinusDetail=#WHERE_APBD_IsMinusDetail#</isNotNull>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_SourceBillNo">APBD_SourceBillNo=#WHERE_APBD_SourceBillNo#</isNotEmpty>
        <!--来源单据明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_SourceBillDetailID">APBD_SourceBillDetailID=#WHERE_APBD_SourceBillDetailID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Org_ID">APBD_Org_ID=#WHERE_APBD_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Org_Name">APBD_Org_Name=#WHERE_APBD_Org_Name#</isNotEmpty>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_AccountPayableAmount">APBD_AccountPayableAmount=#WHERE_APBD_AccountPayableAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_PaidAmount">APBD_PaidAmount=#WHERE_APBD_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_UnpaidAmount">APBD_UnpaidAmount=#WHERE_APBD_UnpaidAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_BusinessStatusCode">APBD_BusinessStatusCode=#WHERE_APBD_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_BusinessStatusName">APBD_BusinessStatusName=#WHERE_APBD_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ApprovalStatusCode">APBD_ApprovalStatusCode=#WHERE_APBD_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ApprovalStatusName">APBD_ApprovalStatusName=#WHERE_APBD_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Remark">APBD_Remark=#WHERE_APBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APBD_IsValid">APBD_IsValid=#WHERE_APBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_CreatedBy">APBD_CreatedBy=#WHERE_APBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_UpdatedBy">APBD_UpdatedBy=#WHERE_APBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APBD_VersionNo">APBD_VersionNo=#WHERE_APBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_TransID">APBD_TransID=#WHERE_APBD_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APBD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[应付单明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLFM_AccountPayableBillDetail" parameterClass="MDLFM_AccountPayableBillDetail" resultClass="MDLFM_AccountPayableBillDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APBD_ID)
      FROM FM_AccountPayableBillDetail
      <dynamic prepend="WHERE">
        <!--应付单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ID">APBD_ID=#WHERE_APBD_ID#</isNotEmpty>
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_APB_ID">APBD_APB_ID LIKE '%'+#WHERE_APBD_APB_ID#+'%'</isNotEmpty>
        <!--是否负向明细-->
        <isNotNull prepend="AND" property="WHERE_APBD_IsMinusDetail">APBD_IsMinusDetail=#WHERE_APBD_IsMinusDetail#</isNotNull>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_SourceBillNo">APBD_SourceBillNo LIKE '%'+#WHERE_APBD_SourceBillNo#+'%'</isNotEmpty>
        <!--来源单据明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_SourceBillDetailID">APBD_SourceBillDetailID LIKE '%'+#WHERE_APBD_SourceBillDetailID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Org_ID">APBD_Org_ID LIKE '%'+#WHERE_APBD_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Org_Name">APBD_Org_Name LIKE '%'+#WHERE_APBD_Org_Name#+'%'</isNotEmpty>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_AccountPayableAmount">APBD_AccountPayableAmount=#WHERE_APBD_AccountPayableAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_PaidAmount">APBD_PaidAmount=#WHERE_APBD_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_UnpaidAmount">APBD_UnpaidAmount=#WHERE_APBD_UnpaidAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_BusinessStatusCode">APBD_BusinessStatusCode LIKE '%'+#WHERE_APBD_BusinessStatusCode#+'%'</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_BusinessStatusName">APBD_BusinessStatusName LIKE '%'+#WHERE_APBD_BusinessStatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ApprovalStatusCode">APBD_ApprovalStatusCode LIKE '%'+#WHERE_APBD_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ApprovalStatusName">APBD_ApprovalStatusName LIKE '%'+#WHERE_APBD_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Remark">APBD_Remark LIKE '%'+#WHERE_APBD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APBD_IsValid">APBD_IsValid=#WHERE_APBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_CreatedBy">APBD_CreatedBy LIKE '%'+#WHERE_APBD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_UpdatedBy">APBD_UpdatedBy LIKE '%'+#WHERE_APBD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APBD_VersionNo">APBD_VersionNo=#WHERE_APBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_TransID">APBD_TransID LIKE '%'+#WHERE_APBD_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APBD_ID,
      APBD_APB_ID,
      APBD_IsMinusDetail,
      APBD_SourceBillNo,
      APBD_SourceBillDetailID,
      APBD_Org_ID,
      APBD_Org_Name,
      APBD_AccountPayableAmount,
      APBD_PaidAmount,
      APBD_UnpaidAmount,
      APBD_BusinessStatusCode,
      APBD_BusinessStatusName,
      APBD_ApprovalStatusCode,
      APBD_ApprovalStatusName,
      APBD_Remark,
      APBD_IsValid,
      APBD_CreatedBy,
      APBD_CreatedTime,
      APBD_UpdatedBy,
      APBD_UpdatedTime,
      APBD_VersionNo,
      APBD_TransID
      FROM FM_AccountPayableBillDetail
      <dynamic prepend="WHERE">
        <!--应付单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ID">APBD_ID=#WHERE_APBD_ID#</isNotEmpty>
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_APB_ID">APBD_APB_ID LIKE '%'+#WHERE_APBD_APB_ID#+'%'</isNotEmpty>
        <!--是否负向明细-->
        <isNotNull prepend="AND" property="WHERE_APBD_IsMinusDetail">APBD_IsMinusDetail=#WHERE_APBD_IsMinusDetail#</isNotNull>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_SourceBillNo">APBD_SourceBillNo LIKE '%'+#WHERE_APBD_SourceBillNo#+'%'</isNotEmpty>
        <!--来源单据明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_SourceBillDetailID">APBD_SourceBillDetailID LIKE '%'+#WHERE_APBD_SourceBillDetailID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Org_ID">APBD_Org_ID LIKE '%'+#WHERE_APBD_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Org_Name">APBD_Org_Name LIKE '%'+#WHERE_APBD_Org_Name#+'%'</isNotEmpty>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_AccountPayableAmount">APBD_AccountPayableAmount=#WHERE_APBD_AccountPayableAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_PaidAmount">APBD_PaidAmount=#WHERE_APBD_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_UnpaidAmount">APBD_UnpaidAmount=#WHERE_APBD_UnpaidAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_BusinessStatusCode">APBD_BusinessStatusCode LIKE '%'+#WHERE_APBD_BusinessStatusCode#+'%'</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_BusinessStatusName">APBD_BusinessStatusName LIKE '%'+#WHERE_APBD_BusinessStatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ApprovalStatusCode">APBD_ApprovalStatusCode LIKE '%'+#WHERE_APBD_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ApprovalStatusName">APBD_ApprovalStatusName LIKE '%'+#WHERE_APBD_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Remark">APBD_Remark LIKE '%'+#WHERE_APBD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APBD_IsValid">APBD_IsValid=#WHERE_APBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_CreatedBy">APBD_CreatedBy LIKE '%'+#WHERE_APBD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_UpdatedBy">APBD_UpdatedBy LIKE '%'+#WHERE_APBD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APBD_VersionNo">APBD_VersionNo=#WHERE_APBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_TransID">APBD_TransID LIKE '%'+#WHERE_APBD_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APBD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[应付单明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLFM_AccountPayableBillDetail" parameterClass="MDLFM_AccountPayableBillDetail" resultClass="int">
      SELECT COUNT(APBD_ID) 'RecordCount'
      FROM FM_AccountPayableBillDetail
      <dynamic prepend="WHERE">
        <!--应付单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ID">APBD_ID=#WHERE_APBD_ID#</isNotEmpty>
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_APB_ID">APBD_APB_ID=#WHERE_APBD_APB_ID#</isNotEmpty>
        <!--是否负向明细-->
        <isNotNull prepend="AND" property="WHERE_APBD_IsMinusDetail">APBD_IsMinusDetail=#WHERE_APBD_IsMinusDetail#</isNotNull>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_SourceBillNo">APBD_SourceBillNo=#WHERE_APBD_SourceBillNo#</isNotEmpty>
        <!--来源单据明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_SourceBillDetailID">APBD_SourceBillDetailID=#WHERE_APBD_SourceBillDetailID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Org_ID">APBD_Org_ID=#WHERE_APBD_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Org_Name">APBD_Org_Name=#WHERE_APBD_Org_Name#</isNotEmpty>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_AccountPayableAmount">APBD_AccountPayableAmount=#WHERE_APBD_AccountPayableAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_PaidAmount">APBD_PaidAmount=#WHERE_APBD_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_UnpaidAmount">APBD_UnpaidAmount=#WHERE_APBD_UnpaidAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_BusinessStatusCode">APBD_BusinessStatusCode=#WHERE_APBD_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_BusinessStatusName">APBD_BusinessStatusName=#WHERE_APBD_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ApprovalStatusCode">APBD_ApprovalStatusCode=#WHERE_APBD_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ApprovalStatusName">APBD_ApprovalStatusName=#WHERE_APBD_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Remark">APBD_Remark=#WHERE_APBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APBD_IsValid">APBD_IsValid=#WHERE_APBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_CreatedBy">APBD_CreatedBy=#WHERE_APBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_UpdatedBy">APBD_UpdatedBy=#WHERE_APBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APBD_VersionNo">APBD_VersionNo=#WHERE_APBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_TransID">APBD_TransID=#WHERE_APBD_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[应付单明细]信息-->
    <update id="COMM_SQL_UpdateMDLFM_AccountPayableBillDetail" parameterClass="MDLFM_AccountPayableBillDetail" >
      UPDATE FM_AccountPayableBillDetail
      SET
      APBD_UpdatedTime=GETDATE(),
      APBD_VersionNo=APBD_VersionNo+1
      <isNotEmpty prepend="," property="APBD_APB_ID">APBD_APB_ID=#APBD_APB_ID#</isNotEmpty>
      <isNotNull prepend="," property="APBD_IsMinusDetail">APBD_IsMinusDetail=#APBD_IsMinusDetail#</isNotNull>
      <isNotEmpty prepend="," property="APBD_SourceBillNo">APBD_SourceBillNo=#APBD_SourceBillNo#</isNotEmpty>
      <isNotEmpty prepend="," property="APBD_SourceBillDetailID">APBD_SourceBillDetailID=#APBD_SourceBillDetailID#</isNotEmpty>
      <isNotEmpty prepend="," property="APBD_Org_ID">APBD_Org_ID=#APBD_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="APBD_Org_Name">APBD_Org_Name=#APBD_Org_Name#</isNotEmpty>
      <isNotNull prepend="," property="APBD_AccountPayableAmount">APBD_AccountPayableAmount=#APBD_AccountPayableAmount#</isNotNull>
      <isNotNull prepend="," property="APBD_PaidAmount">APBD_PaidAmount=#APBD_PaidAmount#</isNotNull>
      <isNotNull prepend="," property="APBD_UnpaidAmount">APBD_UnpaidAmount=#APBD_UnpaidAmount#</isNotNull>
      <isNotEmpty prepend="," property="APBD_BusinessStatusCode">APBD_BusinessStatusCode=#APBD_BusinessStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="APBD_BusinessStatusName">APBD_BusinessStatusName=#APBD_BusinessStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="APBD_ApprovalStatusCode">APBD_ApprovalStatusCode=#APBD_ApprovalStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="APBD_ApprovalStatusName">APBD_ApprovalStatusName=#APBD_ApprovalStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="APBD_Remark">APBD_Remark=#APBD_Remark#</isNotEmpty>
      <isNotNull prepend="," property="APBD_IsValid">APBD_IsValid=#APBD_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="APBD_CreatedBy">APBD_CreatedBy=#APBD_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="APBD_CreatedTime">APBD_CreatedTime=#APBD_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="APBD_UpdatedBy">APBD_UpdatedBy=#APBD_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="APBD_TransID">APBD_TransID=#APBD_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--应付单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ID">APBD_ID=#WHERE_APBD_ID#</isNotEmpty>
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_APB_ID">APBD_APB_ID=#WHERE_APBD_APB_ID#</isNotEmpty>
        <!--是否负向明细-->
        <isNotNull prepend="AND" property="WHERE_APBD_IsMinusDetail">APBD_IsMinusDetail=#WHERE_APBD_IsMinusDetail#</isNotNull>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_SourceBillNo">APBD_SourceBillNo=#WHERE_APBD_SourceBillNo#</isNotEmpty>
        <!--来源单据明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_SourceBillDetailID">APBD_SourceBillDetailID=#WHERE_APBD_SourceBillDetailID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Org_ID">APBD_Org_ID=#WHERE_APBD_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Org_Name">APBD_Org_Name=#WHERE_APBD_Org_Name#</isNotEmpty>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_AccountPayableAmount">APBD_AccountPayableAmount=#WHERE_APBD_AccountPayableAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_PaidAmount">APBD_PaidAmount=#WHERE_APBD_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APBD_UnpaidAmount">APBD_UnpaidAmount=#WHERE_APBD_UnpaidAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_BusinessStatusCode">APBD_BusinessStatusCode=#WHERE_APBD_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_BusinessStatusName">APBD_BusinessStatusName=#WHERE_APBD_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ApprovalStatusCode">APBD_ApprovalStatusCode=#WHERE_APBD_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_ApprovalStatusName">APBD_ApprovalStatusName=#WHERE_APBD_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_Remark">APBD_Remark=#WHERE_APBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APBD_IsValid">APBD_IsValid=#WHERE_APBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_CreatedBy">APBD_CreatedBy=#WHERE_APBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_UpdatedBy">APBD_UpdatedBy=#WHERE_APBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APBD_VersionNo">APBD_VersionNo=#WHERE_APBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APBD_TransID">APBD_TransID=#WHERE_APBD_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[应付单明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLFM_AccountPayableBillDetail" parameterClass="List">
      DELETE FROM FM_AccountPayableBillDetail
      WHERE APBD_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_APBD_ID#
      </iterate>
    </delete>

    <!--新增[应付单日志]信息-->
    <insert id="COMM_SQL_INSERT_MDLFM_AccountPayableBillLog" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        FM_AccountPayableBillLog
        (
        <!--应付单日志ID-->
        APBL_ID,
        <!--应付单ID-->
        APBL_APB_ID,
        <!--应付单明细ID-->
        APBL_APBD_ID,
        <!--组织ID-->
        APBL_Org_ID,
        <!--组织名称-->
        APBL_Org_Name,
        <!--操作类型编码-->
        APBL_OperateTypeCode,
        <!--操作类型名称-->
        APBL_OperateTypeName,
        <!--应付单明细版本号-->
        APBL_APBD_VersionNo,
        <!--应付金额-->
        APBL_APAmount,
        <!--已付金额-->
        APBL_PaidAmount,
        <!--未付金额-->
        APBL_UnpaidAmount,
        <!--备注-->
        APBL_Remark,
        <!--有效-->
        APBL_IsValid,
        <!--创建人-->
        APBL_CreatedBy,
        <!--创建时间-->
        APBL_CreatedTime,
        <!--修改人-->
        APBL_UpdatedBy,
        <!--修改时间-->
        APBL_UpdatedTime,
        <!--版本号-->
        APBL_VersionNo,
        <!--事务编号-->
        APBL_TransID
        )
        VALUES
        (
        <!--应付单日志ID-->
        #[].APBL_ID#,
        <!--应付单ID-->
        #[].APBL_APB_ID#,
        <!--应付单明细ID-->
        #[].APBL_APBD_ID#,
        <!--组织ID-->
        #[].APBL_Org_ID#,
        <!--组织名称-->
        #[].APBL_Org_Name#,
        <!--操作类型编码-->
        #[].APBL_OperateTypeCode#,
        <!--操作类型名称-->
        #[].APBL_OperateTypeName#,
        <!--应付单明细版本号-->
        1,
        <!--应付金额-->
        #[].APBL_APAmount#,
        <!--已付金额-->
        #[].APBL_PaidAmount#,
        <!--未付金额-->
        #[].APBL_UnpaidAmount#,
        <!--备注-->
        #[].APBL_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].APBL_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].APBL_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].APBL_TransID#
        )
      </iterate>
    </insert>

    <!--查询[应付单日志]信息（精确条件）-->
    <select id="COMM_SQL_MDLFM_AccountPayableBillLog" parameterClass="MDLFM_AccountPayableBillLog" resultClass="MDLFM_AccountPayableBillLog">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APBL_ID)
      FROM FM_AccountPayableBillLog
      <dynamic prepend="WHERE">
        <!--应付单日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_ID">APBL_ID=#WHERE_APBL_ID#</isNotEmpty>
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_APB_ID">APBL_APB_ID=#WHERE_APBL_APB_ID#</isNotEmpty>
        <!--应付单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_APBD_ID">APBL_APBD_ID=#WHERE_APBL_APBD_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Org_ID">APBL_Org_ID=#WHERE_APBL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Org_Name">APBL_Org_Name=#WHERE_APBL_Org_Name#</isNotEmpty>
        <!--操作类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_OperateTypeCode">APBL_OperateTypeCode=#WHERE_APBL_OperateTypeCode#</isNotEmpty>
        <!--操作类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_OperateTypeName">APBL_OperateTypeName=#WHERE_APBL_OperateTypeName#</isNotEmpty>
        <!--应付单明细版本号-->
        <isNotNull prepend="AND" property="WHERE_APBL_APBD_VersionNo">APBL_APBD_VersionNo=#WHERE_APBL_APBD_VersionNo#</isNotNull>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_APAmount">APBL_APAmount=#WHERE_APBL_APAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_PaidAmount">APBL_PaidAmount=#WHERE_APBL_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_UnpaidAmount">APBL_UnpaidAmount=#WHERE_APBL_UnpaidAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Remark">APBL_Remark=#WHERE_APBL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APBL_IsValid">APBL_IsValid=#WHERE_APBL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_CreatedBy">APBL_CreatedBy=#WHERE_APBL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_UpdatedBy">APBL_UpdatedBy=#WHERE_APBL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APBL_VersionNo">APBL_VersionNo=#WHERE_APBL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_TransID">APBL_TransID=#WHERE_APBL_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APBL_ID,
      APBL_APB_ID,
      APBL_APBD_ID,
      APBL_Org_ID,
      APBL_Org_Name,
      APBL_OperateTypeCode,
      APBL_OperateTypeName,
      APBL_APBD_VersionNo,
      APBL_APAmount,
      APBL_PaidAmount,
      APBL_UnpaidAmount,
      APBL_Remark,
      APBL_IsValid,
      APBL_CreatedBy,
      APBL_CreatedTime,
      APBL_UpdatedBy,
      APBL_UpdatedTime,
      APBL_VersionNo,
      APBL_TransID
      FROM FM_AccountPayableBillLog
      <dynamic prepend="WHERE">
        <!--应付单日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_ID">APBL_ID=#WHERE_APBL_ID#</isNotEmpty>
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_APB_ID">APBL_APB_ID=#WHERE_APBL_APB_ID#</isNotEmpty>
        <!--应付单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_APBD_ID">APBL_APBD_ID=#WHERE_APBL_APBD_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Org_ID">APBL_Org_ID=#WHERE_APBL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Org_Name">APBL_Org_Name=#WHERE_APBL_Org_Name#</isNotEmpty>
        <!--操作类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_OperateTypeCode">APBL_OperateTypeCode=#WHERE_APBL_OperateTypeCode#</isNotEmpty>
        <!--操作类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_OperateTypeName">APBL_OperateTypeName=#WHERE_APBL_OperateTypeName#</isNotEmpty>
        <!--应付单明细版本号-->
        <isNotNull prepend="AND" property="WHERE_APBL_APBD_VersionNo">APBL_APBD_VersionNo=#WHERE_APBL_APBD_VersionNo#</isNotNull>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_APAmount">APBL_APAmount=#WHERE_APBL_APAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_PaidAmount">APBL_PaidAmount=#WHERE_APBL_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_UnpaidAmount">APBL_UnpaidAmount=#WHERE_APBL_UnpaidAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Remark">APBL_Remark=#WHERE_APBL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APBL_IsValid">APBL_IsValid=#WHERE_APBL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_CreatedBy">APBL_CreatedBy=#WHERE_APBL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_UpdatedBy">APBL_UpdatedBy=#WHERE_APBL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APBL_VersionNo">APBL_VersionNo=#WHERE_APBL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_TransID">APBL_TransID=#WHERE_APBL_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APBL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[应付单日志]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLFM_AccountPayableBillLog" parameterClass="MDLFM_AccountPayableBillLog" resultClass="MDLFM_AccountPayableBillLog">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(APBL_ID)
      FROM FM_AccountPayableBillLog
      <dynamic prepend="WHERE">
        <!--应付单日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_ID">APBL_ID=#WHERE_APBL_ID#</isNotEmpty>
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_APB_ID">APBL_APB_ID LIKE '%'+#WHERE_APBL_APB_ID#+'%'</isNotEmpty>
        <!--应付单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_APBD_ID">APBL_APBD_ID LIKE '%'+#WHERE_APBL_APBD_ID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Org_ID">APBL_Org_ID LIKE '%'+#WHERE_APBL_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Org_Name">APBL_Org_Name LIKE '%'+#WHERE_APBL_Org_Name#+'%'</isNotEmpty>
        <!--操作类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_OperateTypeCode">APBL_OperateTypeCode LIKE '%'+#WHERE_APBL_OperateTypeCode#+'%'</isNotEmpty>
        <!--操作类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_OperateTypeName">APBL_OperateTypeName LIKE '%'+#WHERE_APBL_OperateTypeName#+'%'</isNotEmpty>
        <!--应付单明细版本号-->
        <isNotNull prepend="AND" property="WHERE_APBL_APBD_VersionNo">APBL_APBD_VersionNo=#WHERE_APBL_APBD_VersionNo#</isNotNull>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_APAmount">APBL_APAmount=#WHERE_APBL_APAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_PaidAmount">APBL_PaidAmount=#WHERE_APBL_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_UnpaidAmount">APBL_UnpaidAmount=#WHERE_APBL_UnpaidAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Remark">APBL_Remark LIKE '%'+#WHERE_APBL_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APBL_IsValid">APBL_IsValid=#WHERE_APBL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_CreatedBy">APBL_CreatedBy LIKE '%'+#WHERE_APBL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_UpdatedBy">APBL_UpdatedBy LIKE '%'+#WHERE_APBL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APBL_VersionNo">APBL_VersionNo=#WHERE_APBL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_TransID">APBL_TransID LIKE '%'+#WHERE_APBL_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      APBL_ID,
      APBL_APB_ID,
      APBL_APBD_ID,
      APBL_Org_ID,
      APBL_Org_Name,
      APBL_OperateTypeCode,
      APBL_OperateTypeName,
      APBL_APBD_VersionNo,
      APBL_APAmount,
      APBL_PaidAmount,
      APBL_UnpaidAmount,
      APBL_Remark,
      APBL_IsValid,
      APBL_CreatedBy,
      APBL_CreatedTime,
      APBL_UpdatedBy,
      APBL_UpdatedTime,
      APBL_VersionNo,
      APBL_TransID
      FROM FM_AccountPayableBillLog
      <dynamic prepend="WHERE">
        <!--应付单日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_ID">APBL_ID=#WHERE_APBL_ID#</isNotEmpty>
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_APB_ID">APBL_APB_ID LIKE '%'+#WHERE_APBL_APB_ID#+'%'</isNotEmpty>
        <!--应付单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_APBD_ID">APBL_APBD_ID LIKE '%'+#WHERE_APBL_APBD_ID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Org_ID">APBL_Org_ID LIKE '%'+#WHERE_APBL_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Org_Name">APBL_Org_Name LIKE '%'+#WHERE_APBL_Org_Name#+'%'</isNotEmpty>
        <!--操作类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_OperateTypeCode">APBL_OperateTypeCode LIKE '%'+#WHERE_APBL_OperateTypeCode#+'%'</isNotEmpty>
        <!--操作类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_OperateTypeName">APBL_OperateTypeName LIKE '%'+#WHERE_APBL_OperateTypeName#+'%'</isNotEmpty>
        <!--应付单明细版本号-->
        <isNotNull prepend="AND" property="WHERE_APBL_APBD_VersionNo">APBL_APBD_VersionNo=#WHERE_APBL_APBD_VersionNo#</isNotNull>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_APAmount">APBL_APAmount=#WHERE_APBL_APAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_PaidAmount">APBL_PaidAmount=#WHERE_APBL_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_UnpaidAmount">APBL_UnpaidAmount=#WHERE_APBL_UnpaidAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Remark">APBL_Remark LIKE '%'+#WHERE_APBL_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APBL_IsValid">APBL_IsValid=#WHERE_APBL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_CreatedBy">APBL_CreatedBy LIKE '%'+#WHERE_APBL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_UpdatedBy">APBL_UpdatedBy LIKE '%'+#WHERE_APBL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APBL_VersionNo">APBL_VersionNo=#WHERE_APBL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_TransID">APBL_TransID LIKE '%'+#WHERE_APBL_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY APBL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[应付单日志]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLFM_AccountPayableBillLog" parameterClass="MDLFM_AccountPayableBillLog" resultClass="int">
      SELECT COUNT(APBL_ID) 'RecordCount'
      FROM FM_AccountPayableBillLog
      <dynamic prepend="WHERE">
        <!--应付单日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_ID">APBL_ID=#WHERE_APBL_ID#</isNotEmpty>
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_APB_ID">APBL_APB_ID=#WHERE_APBL_APB_ID#</isNotEmpty>
        <!--应付单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_APBD_ID">APBL_APBD_ID=#WHERE_APBL_APBD_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Org_ID">APBL_Org_ID=#WHERE_APBL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Org_Name">APBL_Org_Name=#WHERE_APBL_Org_Name#</isNotEmpty>
        <!--操作类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_OperateTypeCode">APBL_OperateTypeCode=#WHERE_APBL_OperateTypeCode#</isNotEmpty>
        <!--操作类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_OperateTypeName">APBL_OperateTypeName=#WHERE_APBL_OperateTypeName#</isNotEmpty>
        <!--应付单明细版本号-->
        <isNotNull prepend="AND" property="WHERE_APBL_APBD_VersionNo">APBL_APBD_VersionNo=#WHERE_APBL_APBD_VersionNo#</isNotNull>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_APAmount">APBL_APAmount=#WHERE_APBL_APAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_PaidAmount">APBL_PaidAmount=#WHERE_APBL_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_UnpaidAmount">APBL_UnpaidAmount=#WHERE_APBL_UnpaidAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Remark">APBL_Remark=#WHERE_APBL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APBL_IsValid">APBL_IsValid=#WHERE_APBL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_CreatedBy">APBL_CreatedBy=#WHERE_APBL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_UpdatedBy">APBL_UpdatedBy=#WHERE_APBL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APBL_VersionNo">APBL_VersionNo=#WHERE_APBL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_TransID">APBL_TransID=#WHERE_APBL_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[应付单日志]信息-->
    <update id="COMM_SQL_UpdateMDLFM_AccountPayableBillLog" parameterClass="MDLFM_AccountPayableBillLog" >
      UPDATE FM_AccountPayableBillLog
      SET
      APBL_UpdatedTime=GETDATE(),
      APBL_VersionNo=APBL_VersionNo+1
      <isNotEmpty prepend="," property="APBL_APB_ID">APBL_APB_ID=#APBL_APB_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="APBL_APBD_ID">APBL_APBD_ID=#APBL_APBD_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="APBL_Org_ID">APBL_Org_ID=#APBL_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="APBL_Org_Name">APBL_Org_Name=#APBL_Org_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="APBL_OperateTypeCode">APBL_OperateTypeCode=#APBL_OperateTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="APBL_OperateTypeName">APBL_OperateTypeName=#APBL_OperateTypeName#</isNotEmpty>
      <isNotNull prepend="," property="APBL_APBD_VersionNo">APBL_APBD_VersionNo=#APBL_APBD_VersionNo#</isNotNull>
      <isNotNull prepend="," property="APBL_APAmount">APBL_APAmount=#APBL_APAmount#</isNotNull>
      <isNotNull prepend="," property="APBL_PaidAmount">APBL_PaidAmount=#APBL_PaidAmount#</isNotNull>
      <isNotNull prepend="," property="APBL_UnpaidAmount">APBL_UnpaidAmount=#APBL_UnpaidAmount#</isNotNull>
      <isNotEmpty prepend="," property="APBL_Remark">APBL_Remark=#APBL_Remark#</isNotEmpty>
      <isNotNull prepend="," property="APBL_IsValid">APBL_IsValid=#APBL_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="APBL_CreatedBy">APBL_CreatedBy=#APBL_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="APBL_CreatedTime">APBL_CreatedTime=#APBL_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="APBL_UpdatedBy">APBL_UpdatedBy=#APBL_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="APBL_TransID">APBL_TransID=#APBL_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--应付单日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_ID">APBL_ID=#WHERE_APBL_ID#</isNotEmpty>
        <!--应付单ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_APB_ID">APBL_APB_ID=#WHERE_APBL_APB_ID#</isNotEmpty>
        <!--应付单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_APBD_ID">APBL_APBD_ID=#WHERE_APBL_APBD_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Org_ID">APBL_Org_ID=#WHERE_APBL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Org_Name">APBL_Org_Name=#WHERE_APBL_Org_Name#</isNotEmpty>
        <!--操作类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_OperateTypeCode">APBL_OperateTypeCode=#WHERE_APBL_OperateTypeCode#</isNotEmpty>
        <!--操作类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_OperateTypeName">APBL_OperateTypeName=#WHERE_APBL_OperateTypeName#</isNotEmpty>
        <!--应付单明细版本号-->
        <isNotNull prepend="AND" property="WHERE_APBL_APBD_VersionNo">APBL_APBD_VersionNo=#WHERE_APBL_APBD_VersionNo#</isNotNull>
        <!--应付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_APAmount">APBL_APAmount=#WHERE_APBL_APAmount#</isNotNull>
        <!--已付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_PaidAmount">APBL_PaidAmount=#WHERE_APBL_PaidAmount#</isNotNull>
        <!--未付金额-->
        <isNotNull prepend="AND" property="WHERE_APBL_UnpaidAmount">APBL_UnpaidAmount=#WHERE_APBL_UnpaidAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_Remark">APBL_Remark=#WHERE_APBL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_APBL_IsValid">APBL_IsValid=#WHERE_APBL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_CreatedBy">APBL_CreatedBy=#WHERE_APBL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">APBL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_UpdatedBy">APBL_UpdatedBy=#WHERE_APBL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">APBL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_APBL_VersionNo">APBL_VersionNo=#WHERE_APBL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_APBL_TransID">APBL_TransID=#WHERE_APBL_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[应付单日志]信息-->
    <delete id="COMM_SQL_DELETE_MDLFM_AccountPayableBillLog" parameterClass="List">
      DELETE FROM FM_AccountPayableBillLog
      WHERE APBL_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_APBL_ID#
      </iterate>
    </delete>

    <!--新增[应收单]信息-->
    <insert id="COMM_SQL_INSERT_MDLFM_AccountReceivableBill" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        FM_AccountReceivableBill
        (
        <!--应收单ID-->
        ARB_ID,
        <!--应收单号-->
        ARB_No,
        <!--单据方向编码-->
        ARB_BillDirectCode,
        <!--单据方向名称-->
        ARB_BillDirectName,
        <!--来源类型-->
        ARB_SourceTypeCode,
        <!--来源类型-->
        ARB_SourceTypeName,
        <!--来源单据号-->
        ARB_SrcBillNo,
        <!--组织ID-->
        ARB_Org_ID,
        <!--组织名称-->
        ARB_Org_Name,
        <!--付款对象类型编码-->
        ARB_PayObjectTypeCode,
        <!--付款对象类型名称-->
        ARB_PayObjectTypeName,
        <!--付款对象ID-->
        ARB_PayObjectID,
        <!--付款对象名称-->
        ARB_PayObjectName,
        <!--应收金额-->
        ARB_AccountReceivableAmount,
        <!--已收金额-->
        ARB_ReceivedAmount,
        <!--未收金额-->
        ARB_UnReceiveAmount,
        <!--业务状态编码-->
        ARB_BusinessStatusCode,
        <!--业务状态名称-->
        ARB_BusinessStatusName,
        <!--审核状态编码-->
        ARB_ApprovalStatusCode,
        <!--审核状态名称-->
        ARB_ApprovalStatusName,
        <!--对账时间-->
        ARB_ReconciliationTime,
        <!--备注-->
        ARB_Remark,
        <!--有效-->
        ARB_IsValid,
        <!--创建人-->
        ARB_CreatedBy,
        <!--创建时间-->
        ARB_CreatedTime,
        <!--修改人-->
        ARB_UpdatedBy,
        <!--修改时间-->
        ARB_UpdatedTime,
        <!--版本号-->
        ARB_VersionNo,
        <!--事务编号-->
        ARB_TransID
        )
        VALUES
        (
        <!--应收单ID-->
        #[].ARB_ID#,
        <!--应收单号-->
        #[].ARB_No#,
        <!--单据方向编码-->
        #[].ARB_BillDirectCode#,
        <!--单据方向名称-->
        #[].ARB_BillDirectName#,
        <!--来源类型-->
        #[].ARB_SourceTypeCode#,
        <!--来源类型-->
        #[].ARB_SourceTypeName#,
        <!--来源单据号-->
        #[].ARB_SrcBillNo#,
        <!--组织ID-->
        #[].ARB_Org_ID#,
        <!--组织名称-->
        #[].ARB_Org_Name#,
        <!--付款对象类型编码-->
        #[].ARB_PayObjectTypeCode#,
        <!--付款对象类型名称-->
        #[].ARB_PayObjectTypeName#,
        <!--付款对象ID-->
        #[].ARB_PayObjectID#,
        <!--付款对象名称-->
        #[].ARB_PayObjectName#,
        <!--应收金额-->
        #[].ARB_AccountReceivableAmount#,
        <!--已收金额-->
        #[].ARB_ReceivedAmount#,
        <!--未收金额-->
        #[].ARB_UnReceiveAmount#,
        <!--业务状态编码-->
        #[].ARB_BusinessStatusCode#,
        <!--业务状态名称-->
        #[].ARB_BusinessStatusName#,
        <!--审核状态编码-->
        #[].ARB_ApprovalStatusCode#,
        <!--审核状态名称-->
        #[].ARB_ApprovalStatusName#,
        <!--对账时间-->
        #[].ARB_ReconciliationTime#,
        <!--备注-->
        #[].ARB_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].ARB_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].ARB_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].ARB_TransID#
        )
      </iterate>
    </insert>

    <!--查询[应收单]信息（精确条件）-->
    <select id="COMM_SQL_MDLFM_AccountReceivableBill" parameterClass="MDLFM_AccountReceivableBill" resultClass="MDLFM_AccountReceivableBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ARB_ID)
      FROM FM_AccountReceivableBill
      <dynamic prepend="WHERE">
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ID">ARB_ID=#WHERE_ARB_ID#</isNotEmpty>
        <!--应收单号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_No">ARB_No=#WHERE_ARB_No#</isNotEmpty>
        <!--单据方向编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BillDirectCode">ARB_BillDirectCode=#WHERE_ARB_BillDirectCode#</isNotEmpty>
        <!--单据方向名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BillDirectName">ARB_BillDirectName=#WHERE_ARB_BillDirectName#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SourceTypeCode">ARB_SourceTypeCode=#WHERE_ARB_SourceTypeCode#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SourceTypeName">ARB_SourceTypeName=#WHERE_ARB_SourceTypeName#</isNotEmpty>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SrcBillNo">ARB_SrcBillNo=#WHERE_ARB_SrcBillNo#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Org_ID">ARB_Org_ID=#WHERE_ARB_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Org_Name">ARB_Org_Name=#WHERE_ARB_Org_Name#</isNotEmpty>
        <!--付款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectTypeCode">ARB_PayObjectTypeCode=#WHERE_ARB_PayObjectTypeCode#</isNotEmpty>
        <!--付款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectTypeName">ARB_PayObjectTypeName=#WHERE_ARB_PayObjectTypeName#</isNotEmpty>
        <!--付款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectID">ARB_PayObjectID=#WHERE_ARB_PayObjectID#</isNotEmpty>
        <!--付款对象名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectName">ARB_PayObjectName=#WHERE_ARB_PayObjectName#</isNotEmpty>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_AccountReceivableAmount">ARB_AccountReceivableAmount=#WHERE_ARB_AccountReceivableAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_ReceivedAmount">ARB_ReceivedAmount=#WHERE_ARB_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_UnReceiveAmount">ARB_UnReceiveAmount=#WHERE_ARB_UnReceiveAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BusinessStatusCode">ARB_BusinessStatusCode=#WHERE_ARB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BusinessStatusName">ARB_BusinessStatusName=#WHERE_ARB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ApprovalStatusCode">ARB_ApprovalStatusCode=#WHERE_ARB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ApprovalStatusName">ARB_ApprovalStatusName=#WHERE_ARB_ApprovalStatusName#</isNotEmpty>
        <!--对账时间-->
        <isNotNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime BETWEEN #_ReconciliationTimeStart# AND #_ReconciliationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime <![CDATA[>=]]> #_ReconciliationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime <![CDATA[<=]]> #_ReconciliationTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Remark">ARB_Remark=#WHERE_ARB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARB_IsValid">ARB_IsValid=#WHERE_ARB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_CreatedBy">ARB_CreatedBy=#WHERE_ARB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_UpdatedBy">ARB_UpdatedBy=#WHERE_ARB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARB_VersionNo">ARB_VersionNo=#WHERE_ARB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_TransID">ARB_TransID=#WHERE_ARB_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ARB_ID,
      ARB_No,
      ARB_BillDirectCode,
      ARB_BillDirectName,
      ARB_SourceTypeCode,
      ARB_SourceTypeName,
      ARB_SrcBillNo,
      ARB_Org_ID,
      ARB_Org_Name,
      ARB_PayObjectTypeCode,
      ARB_PayObjectTypeName,
      ARB_PayObjectID,
      ARB_PayObjectName,
      ARB_AccountReceivableAmount,
      ARB_ReceivedAmount,
      ARB_UnReceiveAmount,
      ARB_BusinessStatusCode,
      ARB_BusinessStatusName,
      ARB_ApprovalStatusCode,
      ARB_ApprovalStatusName,
      ARB_ReconciliationTime,
      ARB_Remark,
      ARB_IsValid,
      ARB_CreatedBy,
      ARB_CreatedTime,
      ARB_UpdatedBy,
      ARB_UpdatedTime,
      ARB_VersionNo,
      ARB_TransID
      FROM FM_AccountReceivableBill
      <dynamic prepend="WHERE">
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ID">ARB_ID=#WHERE_ARB_ID#</isNotEmpty>
        <!--应收单号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_No">ARB_No=#WHERE_ARB_No#</isNotEmpty>
        <!--单据方向编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BillDirectCode">ARB_BillDirectCode=#WHERE_ARB_BillDirectCode#</isNotEmpty>
        <!--单据方向名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BillDirectName">ARB_BillDirectName=#WHERE_ARB_BillDirectName#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SourceTypeCode">ARB_SourceTypeCode=#WHERE_ARB_SourceTypeCode#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SourceTypeName">ARB_SourceTypeName=#WHERE_ARB_SourceTypeName#</isNotEmpty>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SrcBillNo">ARB_SrcBillNo=#WHERE_ARB_SrcBillNo#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Org_ID">ARB_Org_ID=#WHERE_ARB_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Org_Name">ARB_Org_Name=#WHERE_ARB_Org_Name#</isNotEmpty>
        <!--付款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectTypeCode">ARB_PayObjectTypeCode=#WHERE_ARB_PayObjectTypeCode#</isNotEmpty>
        <!--付款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectTypeName">ARB_PayObjectTypeName=#WHERE_ARB_PayObjectTypeName#</isNotEmpty>
        <!--付款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectID">ARB_PayObjectID=#WHERE_ARB_PayObjectID#</isNotEmpty>
        <!--付款对象名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectName">ARB_PayObjectName=#WHERE_ARB_PayObjectName#</isNotEmpty>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_AccountReceivableAmount">ARB_AccountReceivableAmount=#WHERE_ARB_AccountReceivableAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_ReceivedAmount">ARB_ReceivedAmount=#WHERE_ARB_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_UnReceiveAmount">ARB_UnReceiveAmount=#WHERE_ARB_UnReceiveAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BusinessStatusCode">ARB_BusinessStatusCode=#WHERE_ARB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BusinessStatusName">ARB_BusinessStatusName=#WHERE_ARB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ApprovalStatusCode">ARB_ApprovalStatusCode=#WHERE_ARB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ApprovalStatusName">ARB_ApprovalStatusName=#WHERE_ARB_ApprovalStatusName#</isNotEmpty>
        <!--对账时间-->
        <isNotNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime BETWEEN #_ReconciliationTimeStart# AND #_ReconciliationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime <![CDATA[>=]]> #_ReconciliationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime <![CDATA[<=]]> #_ReconciliationTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Remark">ARB_Remark=#WHERE_ARB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARB_IsValid">ARB_IsValid=#WHERE_ARB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_CreatedBy">ARB_CreatedBy=#WHERE_ARB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_UpdatedBy">ARB_UpdatedBy=#WHERE_ARB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARB_VersionNo">ARB_VersionNo=#WHERE_ARB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_TransID">ARB_TransID=#WHERE_ARB_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ARB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[应收单]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLFM_AccountReceivableBill" parameterClass="MDLFM_AccountReceivableBill" resultClass="MDLFM_AccountReceivableBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ARB_ID)
      FROM FM_AccountReceivableBill
      <dynamic prepend="WHERE">
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ID">ARB_ID=#WHERE_ARB_ID#</isNotEmpty>
        <!--应收单号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_No">ARB_No LIKE '%'+#WHERE_ARB_No#+'%'</isNotEmpty>
        <!--单据方向编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BillDirectCode">ARB_BillDirectCode LIKE '%'+#WHERE_ARB_BillDirectCode#+'%'</isNotEmpty>
        <!--单据方向名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BillDirectName">ARB_BillDirectName LIKE '%'+#WHERE_ARB_BillDirectName#+'%'</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SourceTypeCode">ARB_SourceTypeCode LIKE '%'+#WHERE_ARB_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SourceTypeName">ARB_SourceTypeName LIKE '%'+#WHERE_ARB_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SrcBillNo">ARB_SrcBillNo LIKE '%'+#WHERE_ARB_SrcBillNo#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Org_ID">ARB_Org_ID LIKE '%'+#WHERE_ARB_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Org_Name">ARB_Org_Name LIKE '%'+#WHERE_ARB_Org_Name#+'%'</isNotEmpty>
        <!--付款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectTypeCode">ARB_PayObjectTypeCode LIKE '%'+#WHERE_ARB_PayObjectTypeCode#+'%'</isNotEmpty>
        <!--付款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectTypeName">ARB_PayObjectTypeName LIKE '%'+#WHERE_ARB_PayObjectTypeName#+'%'</isNotEmpty>
        <!--付款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectID">ARB_PayObjectID LIKE '%'+#WHERE_ARB_PayObjectID#+'%'</isNotEmpty>
        <!--付款对象名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectName">ARB_PayObjectName LIKE '%'+#WHERE_ARB_PayObjectName#+'%'</isNotEmpty>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_AccountReceivableAmount">ARB_AccountReceivableAmount=#WHERE_ARB_AccountReceivableAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_ReceivedAmount">ARB_ReceivedAmount=#WHERE_ARB_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_UnReceiveAmount">ARB_UnReceiveAmount=#WHERE_ARB_UnReceiveAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BusinessStatusCode">ARB_BusinessStatusCode LIKE '%'+#WHERE_ARB_BusinessStatusCode#+'%'</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BusinessStatusName">ARB_BusinessStatusName LIKE '%'+#WHERE_ARB_BusinessStatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ApprovalStatusCode">ARB_ApprovalStatusCode LIKE '%'+#WHERE_ARB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ApprovalStatusName">ARB_ApprovalStatusName LIKE '%'+#WHERE_ARB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--对账时间-->
        <isNotNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime BETWEEN #_ReconciliationTimeStart# AND #_ReconciliationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime <![CDATA[>=]]> #_ReconciliationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime <![CDATA[<=]]> #_ReconciliationTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Remark">ARB_Remark LIKE '%'+#WHERE_ARB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARB_IsValid">ARB_IsValid=#WHERE_ARB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_CreatedBy">ARB_CreatedBy LIKE '%'+#WHERE_ARB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_UpdatedBy">ARB_UpdatedBy LIKE '%'+#WHERE_ARB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARB_VersionNo">ARB_VersionNo=#WHERE_ARB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_TransID">ARB_TransID LIKE '%'+#WHERE_ARB_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ARB_ID,
      ARB_No,
      ARB_BillDirectCode,
      ARB_BillDirectName,
      ARB_SourceTypeCode,
      ARB_SourceTypeName,
      ARB_SrcBillNo,
      ARB_Org_ID,
      ARB_Org_Name,
      ARB_PayObjectTypeCode,
      ARB_PayObjectTypeName,
      ARB_PayObjectID,
      ARB_PayObjectName,
      ARB_AccountReceivableAmount,
      ARB_ReceivedAmount,
      ARB_UnReceiveAmount,
      ARB_BusinessStatusCode,
      ARB_BusinessStatusName,
      ARB_ApprovalStatusCode,
      ARB_ApprovalStatusName,
      ARB_ReconciliationTime,
      ARB_Remark,
      ARB_IsValid,
      ARB_CreatedBy,
      ARB_CreatedTime,
      ARB_UpdatedBy,
      ARB_UpdatedTime,
      ARB_VersionNo,
      ARB_TransID
      FROM FM_AccountReceivableBill
      <dynamic prepend="WHERE">
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ID">ARB_ID=#WHERE_ARB_ID#</isNotEmpty>
        <!--应收单号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_No">ARB_No LIKE '%'+#WHERE_ARB_No#+'%'</isNotEmpty>
        <!--单据方向编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BillDirectCode">ARB_BillDirectCode LIKE '%'+#WHERE_ARB_BillDirectCode#+'%'</isNotEmpty>
        <!--单据方向名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BillDirectName">ARB_BillDirectName LIKE '%'+#WHERE_ARB_BillDirectName#+'%'</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SourceTypeCode">ARB_SourceTypeCode LIKE '%'+#WHERE_ARB_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SourceTypeName">ARB_SourceTypeName LIKE '%'+#WHERE_ARB_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SrcBillNo">ARB_SrcBillNo LIKE '%'+#WHERE_ARB_SrcBillNo#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Org_ID">ARB_Org_ID LIKE '%'+#WHERE_ARB_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Org_Name">ARB_Org_Name LIKE '%'+#WHERE_ARB_Org_Name#+'%'</isNotEmpty>
        <!--付款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectTypeCode">ARB_PayObjectTypeCode LIKE '%'+#WHERE_ARB_PayObjectTypeCode#+'%'</isNotEmpty>
        <!--付款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectTypeName">ARB_PayObjectTypeName LIKE '%'+#WHERE_ARB_PayObjectTypeName#+'%'</isNotEmpty>
        <!--付款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectID">ARB_PayObjectID LIKE '%'+#WHERE_ARB_PayObjectID#+'%'</isNotEmpty>
        <!--付款对象名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectName">ARB_PayObjectName LIKE '%'+#WHERE_ARB_PayObjectName#+'%'</isNotEmpty>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_AccountReceivableAmount">ARB_AccountReceivableAmount=#WHERE_ARB_AccountReceivableAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_ReceivedAmount">ARB_ReceivedAmount=#WHERE_ARB_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_UnReceiveAmount">ARB_UnReceiveAmount=#WHERE_ARB_UnReceiveAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BusinessStatusCode">ARB_BusinessStatusCode LIKE '%'+#WHERE_ARB_BusinessStatusCode#+'%'</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BusinessStatusName">ARB_BusinessStatusName LIKE '%'+#WHERE_ARB_BusinessStatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ApprovalStatusCode">ARB_ApprovalStatusCode LIKE '%'+#WHERE_ARB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ApprovalStatusName">ARB_ApprovalStatusName LIKE '%'+#WHERE_ARB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--对账时间-->
        <isNotNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime BETWEEN #_ReconciliationTimeStart# AND #_ReconciliationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime <![CDATA[>=]]> #_ReconciliationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime <![CDATA[<=]]> #_ReconciliationTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Remark">ARB_Remark LIKE '%'+#WHERE_ARB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARB_IsValid">ARB_IsValid=#WHERE_ARB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_CreatedBy">ARB_CreatedBy LIKE '%'+#WHERE_ARB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_UpdatedBy">ARB_UpdatedBy LIKE '%'+#WHERE_ARB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARB_VersionNo">ARB_VersionNo=#WHERE_ARB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_TransID">ARB_TransID LIKE '%'+#WHERE_ARB_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ARB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[应收单]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLFM_AccountReceivableBill" parameterClass="MDLFM_AccountReceivableBill" resultClass="int">
      SELECT COUNT(ARB_ID) 'RecordCount'
      FROM FM_AccountReceivableBill
      <dynamic prepend="WHERE">
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ID">ARB_ID=#WHERE_ARB_ID#</isNotEmpty>
        <!--应收单号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_No">ARB_No=#WHERE_ARB_No#</isNotEmpty>
        <!--单据方向编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BillDirectCode">ARB_BillDirectCode=#WHERE_ARB_BillDirectCode#</isNotEmpty>
        <!--单据方向名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BillDirectName">ARB_BillDirectName=#WHERE_ARB_BillDirectName#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SourceTypeCode">ARB_SourceTypeCode=#WHERE_ARB_SourceTypeCode#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SourceTypeName">ARB_SourceTypeName=#WHERE_ARB_SourceTypeName#</isNotEmpty>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SrcBillNo">ARB_SrcBillNo=#WHERE_ARB_SrcBillNo#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Org_ID">ARB_Org_ID=#WHERE_ARB_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Org_Name">ARB_Org_Name=#WHERE_ARB_Org_Name#</isNotEmpty>
        <!--付款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectTypeCode">ARB_PayObjectTypeCode=#WHERE_ARB_PayObjectTypeCode#</isNotEmpty>
        <!--付款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectTypeName">ARB_PayObjectTypeName=#WHERE_ARB_PayObjectTypeName#</isNotEmpty>
        <!--付款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectID">ARB_PayObjectID=#WHERE_ARB_PayObjectID#</isNotEmpty>
        <!--付款对象名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectName">ARB_PayObjectName=#WHERE_ARB_PayObjectName#</isNotEmpty>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_AccountReceivableAmount">ARB_AccountReceivableAmount=#WHERE_ARB_AccountReceivableAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_ReceivedAmount">ARB_ReceivedAmount=#WHERE_ARB_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_UnReceiveAmount">ARB_UnReceiveAmount=#WHERE_ARB_UnReceiveAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BusinessStatusCode">ARB_BusinessStatusCode=#WHERE_ARB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BusinessStatusName">ARB_BusinessStatusName=#WHERE_ARB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ApprovalStatusCode">ARB_ApprovalStatusCode=#WHERE_ARB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ApprovalStatusName">ARB_ApprovalStatusName=#WHERE_ARB_ApprovalStatusName#</isNotEmpty>
        <!--对账时间-->
        <isNotNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime BETWEEN #_ReconciliationTimeStart# AND #_ReconciliationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime <![CDATA[>=]]> #_ReconciliationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime <![CDATA[<=]]> #_ReconciliationTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Remark">ARB_Remark=#WHERE_ARB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARB_IsValid">ARB_IsValid=#WHERE_ARB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_CreatedBy">ARB_CreatedBy=#WHERE_ARB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_UpdatedBy">ARB_UpdatedBy=#WHERE_ARB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARB_VersionNo">ARB_VersionNo=#WHERE_ARB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_TransID">ARB_TransID=#WHERE_ARB_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[应收单]信息-->
    <update id="COMM_SQL_UpdateMDLFM_AccountReceivableBill" parameterClass="MDLFM_AccountReceivableBill" >
      UPDATE FM_AccountReceivableBill
      SET
      ARB_UpdatedTime=GETDATE(),
      ARB_VersionNo=ARB_VersionNo+1
      <isNotEmpty prepend="," property="ARB_No">ARB_No=#ARB_No#</isNotEmpty>
      <isNotEmpty prepend="," property="ARB_BillDirectCode">ARB_BillDirectCode=#ARB_BillDirectCode#</isNotEmpty>
      <isNotEmpty prepend="," property="ARB_BillDirectName">ARB_BillDirectName=#ARB_BillDirectName#</isNotEmpty>
      <isNotEmpty prepend="," property="ARB_SourceTypeCode">ARB_SourceTypeCode=#ARB_SourceTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="ARB_SourceTypeName">ARB_SourceTypeName=#ARB_SourceTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="ARB_SrcBillNo">ARB_SrcBillNo=#ARB_SrcBillNo#</isNotEmpty>
      <isNotEmpty prepend="," property="ARB_Org_ID">ARB_Org_ID=#ARB_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="ARB_Org_Name">ARB_Org_Name=#ARB_Org_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="ARB_PayObjectTypeCode">ARB_PayObjectTypeCode=#ARB_PayObjectTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="ARB_PayObjectTypeName">ARB_PayObjectTypeName=#ARB_PayObjectTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="ARB_PayObjectID">ARB_PayObjectID=#ARB_PayObjectID#</isNotEmpty>
      <isNotEmpty prepend="," property="ARB_PayObjectName">ARB_PayObjectName=#ARB_PayObjectName#</isNotEmpty>
      <isNotNull prepend="," property="ARB_AccountReceivableAmount">ARB_AccountReceivableAmount=#ARB_AccountReceivableAmount#</isNotNull>
      <isNotNull prepend="," property="ARB_ReceivedAmount">ARB_ReceivedAmount=#ARB_ReceivedAmount#</isNotNull>
      <isNotNull prepend="," property="ARB_UnReceiveAmount">ARB_UnReceiveAmount=#ARB_UnReceiveAmount#</isNotNull>
      <isNotEmpty prepend="," property="ARB_BusinessStatusCode">ARB_BusinessStatusCode=#ARB_BusinessStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="ARB_BusinessStatusName">ARB_BusinessStatusName=#ARB_BusinessStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="ARB_ApprovalStatusCode">ARB_ApprovalStatusCode=#ARB_ApprovalStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="ARB_ApprovalStatusName">ARB_ApprovalStatusName=#ARB_ApprovalStatusName#</isNotEmpty>
      <isNotNull prepend="," property="ARB_ReconciliationTime">ARB_ReconciliationTime=#ARB_ReconciliationTime#</isNotNull>
      <isNotEmpty prepend="," property="ARB_Remark">ARB_Remark=#ARB_Remark#</isNotEmpty>
      <isNotNull prepend="," property="ARB_IsValid">ARB_IsValid=#ARB_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="ARB_CreatedBy">ARB_CreatedBy=#ARB_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="ARB_CreatedTime">ARB_CreatedTime=#ARB_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="ARB_UpdatedBy">ARB_UpdatedBy=#ARB_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="ARB_TransID">ARB_TransID=#ARB_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ID">ARB_ID=#WHERE_ARB_ID#</isNotEmpty>
        <!--应收单号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_No">ARB_No=#WHERE_ARB_No#</isNotEmpty>
        <!--单据方向编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BillDirectCode">ARB_BillDirectCode=#WHERE_ARB_BillDirectCode#</isNotEmpty>
        <!--单据方向名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BillDirectName">ARB_BillDirectName=#WHERE_ARB_BillDirectName#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SourceTypeCode">ARB_SourceTypeCode=#WHERE_ARB_SourceTypeCode#</isNotEmpty>
        <!--来源类型-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SourceTypeName">ARB_SourceTypeName=#WHERE_ARB_SourceTypeName#</isNotEmpty>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_SrcBillNo">ARB_SrcBillNo=#WHERE_ARB_SrcBillNo#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Org_ID">ARB_Org_ID=#WHERE_ARB_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Org_Name">ARB_Org_Name=#WHERE_ARB_Org_Name#</isNotEmpty>
        <!--付款对象类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectTypeCode">ARB_PayObjectTypeCode=#WHERE_ARB_PayObjectTypeCode#</isNotEmpty>
        <!--付款对象类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectTypeName">ARB_PayObjectTypeName=#WHERE_ARB_PayObjectTypeName#</isNotEmpty>
        <!--付款对象ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectID">ARB_PayObjectID=#WHERE_ARB_PayObjectID#</isNotEmpty>
        <!--付款对象名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_PayObjectName">ARB_PayObjectName=#WHERE_ARB_PayObjectName#</isNotEmpty>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_AccountReceivableAmount">ARB_AccountReceivableAmount=#WHERE_ARB_AccountReceivableAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_ReceivedAmount">ARB_ReceivedAmount=#WHERE_ARB_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARB_UnReceiveAmount">ARB_UnReceiveAmount=#WHERE_ARB_UnReceiveAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BusinessStatusCode">ARB_BusinessStatusCode=#WHERE_ARB_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_BusinessStatusName">ARB_BusinessStatusName=#WHERE_ARB_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ApprovalStatusCode">ARB_ApprovalStatusCode=#WHERE_ARB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_ApprovalStatusName">ARB_ApprovalStatusName=#WHERE_ARB_ApprovalStatusName#</isNotEmpty>
        <!--对账时间-->
        <isNotNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime BETWEEN #_ReconciliationTimeStart# AND #_ReconciliationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime <![CDATA[>=]]> #_ReconciliationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReconciliationTimeStart">
          <isNotNull prepend="AND" property="_ReconciliationTimeEnd">ARB_ReconciliationTime <![CDATA[<=]]> #_ReconciliationTimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_Remark">ARB_Remark=#WHERE_ARB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARB_IsValid">ARB_IsValid=#WHERE_ARB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_CreatedBy">ARB_CreatedBy=#WHERE_ARB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_UpdatedBy">ARB_UpdatedBy=#WHERE_ARB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARB_VersionNo">ARB_VersionNo=#WHERE_ARB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARB_TransID">ARB_TransID=#WHERE_ARB_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[应收单]信息-->
    <delete id="COMM_SQL_DELETE_MDLFM_AccountReceivableBill" parameterClass="List">
      DELETE FROM FM_AccountReceivableBill
      WHERE ARB_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_ARB_ID#
      </iterate>
    </delete>

    <!--新增[应收单明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLFM_AccountReceivableBillDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        FM_AccountReceivableBillDetail
        (
        <!--应收单明细ID-->
        ARBD_ID,
        <!--应收单ID-->
        ARBD_ARB_ID,
        <!--是否负向明细-->
        ARBD_IsMinusDetail,
        <!--来源单据号-->
        ARBD_SrcBillNo,
        <!--来源单据明细ID-->
        ARBD_SrcBillDetailID,
        <!--组织ID-->
        ARBD_Org_ID,
        <!--组织名称-->
        ARBD_Org_Name,
        <!--应收金额-->
        ARBD_AccountReceivableAmount,
        <!--已收金额-->
        ARBD_ReceivedAmount,
        <!--未收金额-->
        ARBD_UnReceiveAmount,
        <!--业务状态编码-->
        ARBD_BusinessStatusCode,
        <!--业务状态名称-->
        ARBD_BusinessStatusName,
        <!--审核状态编码-->
        ARBD_ApprovalStatusCode,
        <!--审核状态名称-->
        ARBD_ApprovalStatusName,
        <!--备注-->
        ARBD_Remark,
        <!--有效-->
        ARBD_IsValid,
        <!--创建人-->
        ARBD_CreatedBy,
        <!--创建时间-->
        ARBD_CreatedTime,
        <!--修改人-->
        ARBD_UpdatedBy,
        <!--修改时间-->
        ARBD_UpdatedTime,
        <!--版本号-->
        ARBD_VersionNo,
        <!--事务编号-->
        ARBD_TransID
        )
        VALUES
        (
        <!--应收单明细ID-->
        #[].ARBD_ID#,
        <!--应收单ID-->
        #[].ARBD_ARB_ID#,
        <!--是否负向明细-->
        #[].ARBD_IsMinusDetail#,
        <!--来源单据号-->
        #[].ARBD_SrcBillNo#,
        <!--来源单据明细ID-->
        #[].ARBD_SrcBillDetailID#,
        <!--组织ID-->
        #[].ARBD_Org_ID#,
        <!--组织名称-->
        #[].ARBD_Org_Name#,
        <!--应收金额-->
        #[].ARBD_AccountReceivableAmount#,
        <!--已收金额-->
        #[].ARBD_ReceivedAmount#,
        <!--未收金额-->
        #[].ARBD_UnReceiveAmount#,
        <!--业务状态编码-->
        #[].ARBD_BusinessStatusCode#,
        <!--业务状态名称-->
        #[].ARBD_BusinessStatusName#,
        <!--审核状态编码-->
        #[].ARBD_ApprovalStatusCode#,
        <!--审核状态名称-->
        #[].ARBD_ApprovalStatusName#,
        <!--备注-->
        #[].ARBD_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].ARBD_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].ARBD_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].ARBD_TransID#
        )
      </iterate>
    </insert>

    <!--查询[应收单明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLFM_AccountReceivableBillDetail" parameterClass="MDLFM_AccountReceivableBillDetail" resultClass="MDLFM_AccountReceivableBillDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ARBD_ID)
      FROM FM_AccountReceivableBillDetail
      <dynamic prepend="WHERE">
        <!--应收单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ID">ARBD_ID=#WHERE_ARBD_ID#</isNotEmpty>
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ARB_ID">ARBD_ARB_ID=#WHERE_ARBD_ARB_ID#</isNotEmpty>
        <!--是否负向明细-->
        <isNotNull prepend="AND" property="WHERE_ARBD_IsMinusDetail">ARBD_IsMinusDetail=#WHERE_ARBD_IsMinusDetail#</isNotNull>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_SrcBillNo">ARBD_SrcBillNo=#WHERE_ARBD_SrcBillNo#</isNotEmpty>
        <!--来源单据明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_SrcBillDetailID">ARBD_SrcBillDetailID=#WHERE_ARBD_SrcBillDetailID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Org_ID">ARBD_Org_ID=#WHERE_ARBD_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Org_Name">ARBD_Org_Name=#WHERE_ARBD_Org_Name#</isNotEmpty>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_AccountReceivableAmount">ARBD_AccountReceivableAmount=#WHERE_ARBD_AccountReceivableAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_ReceivedAmount">ARBD_ReceivedAmount=#WHERE_ARBD_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_UnReceiveAmount">ARBD_UnReceiveAmount=#WHERE_ARBD_UnReceiveAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_BusinessStatusCode">ARBD_BusinessStatusCode=#WHERE_ARBD_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_BusinessStatusName">ARBD_BusinessStatusName=#WHERE_ARBD_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ApprovalStatusCode">ARBD_ApprovalStatusCode=#WHERE_ARBD_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ApprovalStatusName">ARBD_ApprovalStatusName=#WHERE_ARBD_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Remark">ARBD_Remark=#WHERE_ARBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARBD_IsValid">ARBD_IsValid=#WHERE_ARBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_CreatedBy">ARBD_CreatedBy=#WHERE_ARBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_UpdatedBy">ARBD_UpdatedBy=#WHERE_ARBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBD_VersionNo">ARBD_VersionNo=#WHERE_ARBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_TransID">ARBD_TransID=#WHERE_ARBD_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ARBD_ID,
      ARBD_ARB_ID,
      ARBD_IsMinusDetail,
      ARBD_SrcBillNo,
      ARBD_SrcBillDetailID,
      ARBD_Org_ID,
      ARBD_Org_Name,
      ARBD_AccountReceivableAmount,
      ARBD_ReceivedAmount,
      ARBD_UnReceiveAmount,
      ARBD_BusinessStatusCode,
      ARBD_BusinessStatusName,
      ARBD_ApprovalStatusCode,
      ARBD_ApprovalStatusName,
      ARBD_Remark,
      ARBD_IsValid,
      ARBD_CreatedBy,
      ARBD_CreatedTime,
      ARBD_UpdatedBy,
      ARBD_UpdatedTime,
      ARBD_VersionNo,
      ARBD_TransID
      FROM FM_AccountReceivableBillDetail
      <dynamic prepend="WHERE">
        <!--应收单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ID">ARBD_ID=#WHERE_ARBD_ID#</isNotEmpty>
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ARB_ID">ARBD_ARB_ID=#WHERE_ARBD_ARB_ID#</isNotEmpty>
        <!--是否负向明细-->
        <isNotNull prepend="AND" property="WHERE_ARBD_IsMinusDetail">ARBD_IsMinusDetail=#WHERE_ARBD_IsMinusDetail#</isNotNull>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_SrcBillNo">ARBD_SrcBillNo=#WHERE_ARBD_SrcBillNo#</isNotEmpty>
        <!--来源单据明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_SrcBillDetailID">ARBD_SrcBillDetailID=#WHERE_ARBD_SrcBillDetailID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Org_ID">ARBD_Org_ID=#WHERE_ARBD_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Org_Name">ARBD_Org_Name=#WHERE_ARBD_Org_Name#</isNotEmpty>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_AccountReceivableAmount">ARBD_AccountReceivableAmount=#WHERE_ARBD_AccountReceivableAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_ReceivedAmount">ARBD_ReceivedAmount=#WHERE_ARBD_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_UnReceiveAmount">ARBD_UnReceiveAmount=#WHERE_ARBD_UnReceiveAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_BusinessStatusCode">ARBD_BusinessStatusCode=#WHERE_ARBD_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_BusinessStatusName">ARBD_BusinessStatusName=#WHERE_ARBD_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ApprovalStatusCode">ARBD_ApprovalStatusCode=#WHERE_ARBD_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ApprovalStatusName">ARBD_ApprovalStatusName=#WHERE_ARBD_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Remark">ARBD_Remark=#WHERE_ARBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARBD_IsValid">ARBD_IsValid=#WHERE_ARBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_CreatedBy">ARBD_CreatedBy=#WHERE_ARBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_UpdatedBy">ARBD_UpdatedBy=#WHERE_ARBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBD_VersionNo">ARBD_VersionNo=#WHERE_ARBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_TransID">ARBD_TransID=#WHERE_ARBD_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ARBD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[应收单明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLFM_AccountReceivableBillDetail" parameterClass="MDLFM_AccountReceivableBillDetail" resultClass="MDLFM_AccountReceivableBillDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ARBD_ID)
      FROM FM_AccountReceivableBillDetail
      <dynamic prepend="WHERE">
        <!--应收单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ID">ARBD_ID=#WHERE_ARBD_ID#</isNotEmpty>
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ARB_ID">ARBD_ARB_ID LIKE '%'+#WHERE_ARBD_ARB_ID#+'%'</isNotEmpty>
        <!--是否负向明细-->
        <isNotNull prepend="AND" property="WHERE_ARBD_IsMinusDetail">ARBD_IsMinusDetail=#WHERE_ARBD_IsMinusDetail#</isNotNull>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_SrcBillNo">ARBD_SrcBillNo LIKE '%'+#WHERE_ARBD_SrcBillNo#+'%'</isNotEmpty>
        <!--来源单据明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_SrcBillDetailID">ARBD_SrcBillDetailID LIKE '%'+#WHERE_ARBD_SrcBillDetailID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Org_ID">ARBD_Org_ID LIKE '%'+#WHERE_ARBD_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Org_Name">ARBD_Org_Name LIKE '%'+#WHERE_ARBD_Org_Name#+'%'</isNotEmpty>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_AccountReceivableAmount">ARBD_AccountReceivableAmount=#WHERE_ARBD_AccountReceivableAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_ReceivedAmount">ARBD_ReceivedAmount=#WHERE_ARBD_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_UnReceiveAmount">ARBD_UnReceiveAmount=#WHERE_ARBD_UnReceiveAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_BusinessStatusCode">ARBD_BusinessStatusCode LIKE '%'+#WHERE_ARBD_BusinessStatusCode#+'%'</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_BusinessStatusName">ARBD_BusinessStatusName LIKE '%'+#WHERE_ARBD_BusinessStatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ApprovalStatusCode">ARBD_ApprovalStatusCode LIKE '%'+#WHERE_ARBD_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ApprovalStatusName">ARBD_ApprovalStatusName LIKE '%'+#WHERE_ARBD_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Remark">ARBD_Remark LIKE '%'+#WHERE_ARBD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARBD_IsValid">ARBD_IsValid=#WHERE_ARBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_CreatedBy">ARBD_CreatedBy LIKE '%'+#WHERE_ARBD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_UpdatedBy">ARBD_UpdatedBy LIKE '%'+#WHERE_ARBD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBD_VersionNo">ARBD_VersionNo=#WHERE_ARBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_TransID">ARBD_TransID LIKE '%'+#WHERE_ARBD_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ARBD_ID,
      ARBD_ARB_ID,
      ARBD_IsMinusDetail,
      ARBD_SrcBillNo,
      ARBD_SrcBillDetailID,
      ARBD_Org_ID,
      ARBD_Org_Name,
      ARBD_AccountReceivableAmount,
      ARBD_ReceivedAmount,
      ARBD_UnReceiveAmount,
      ARBD_BusinessStatusCode,
      ARBD_BusinessStatusName,
      ARBD_ApprovalStatusCode,
      ARBD_ApprovalStatusName,
      ARBD_Remark,
      ARBD_IsValid,
      ARBD_CreatedBy,
      ARBD_CreatedTime,
      ARBD_UpdatedBy,
      ARBD_UpdatedTime,
      ARBD_VersionNo,
      ARBD_TransID
      FROM FM_AccountReceivableBillDetail
      <dynamic prepend="WHERE">
        <!--应收单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ID">ARBD_ID=#WHERE_ARBD_ID#</isNotEmpty>
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ARB_ID">ARBD_ARB_ID LIKE '%'+#WHERE_ARBD_ARB_ID#+'%'</isNotEmpty>
        <!--是否负向明细-->
        <isNotNull prepend="AND" property="WHERE_ARBD_IsMinusDetail">ARBD_IsMinusDetail=#WHERE_ARBD_IsMinusDetail#</isNotNull>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_SrcBillNo">ARBD_SrcBillNo LIKE '%'+#WHERE_ARBD_SrcBillNo#+'%'</isNotEmpty>
        <!--来源单据明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_SrcBillDetailID">ARBD_SrcBillDetailID LIKE '%'+#WHERE_ARBD_SrcBillDetailID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Org_ID">ARBD_Org_ID LIKE '%'+#WHERE_ARBD_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Org_Name">ARBD_Org_Name LIKE '%'+#WHERE_ARBD_Org_Name#+'%'</isNotEmpty>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_AccountReceivableAmount">ARBD_AccountReceivableAmount=#WHERE_ARBD_AccountReceivableAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_ReceivedAmount">ARBD_ReceivedAmount=#WHERE_ARBD_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_UnReceiveAmount">ARBD_UnReceiveAmount=#WHERE_ARBD_UnReceiveAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_BusinessStatusCode">ARBD_BusinessStatusCode LIKE '%'+#WHERE_ARBD_BusinessStatusCode#+'%'</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_BusinessStatusName">ARBD_BusinessStatusName LIKE '%'+#WHERE_ARBD_BusinessStatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ApprovalStatusCode">ARBD_ApprovalStatusCode LIKE '%'+#WHERE_ARBD_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ApprovalStatusName">ARBD_ApprovalStatusName LIKE '%'+#WHERE_ARBD_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Remark">ARBD_Remark LIKE '%'+#WHERE_ARBD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARBD_IsValid">ARBD_IsValid=#WHERE_ARBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_CreatedBy">ARBD_CreatedBy LIKE '%'+#WHERE_ARBD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_UpdatedBy">ARBD_UpdatedBy LIKE '%'+#WHERE_ARBD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBD_VersionNo">ARBD_VersionNo=#WHERE_ARBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_TransID">ARBD_TransID LIKE '%'+#WHERE_ARBD_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ARBD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[应收单明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLFM_AccountReceivableBillDetail" parameterClass="MDLFM_AccountReceivableBillDetail" resultClass="int">
      SELECT COUNT(ARBD_ID) 'RecordCount'
      FROM FM_AccountReceivableBillDetail
      <dynamic prepend="WHERE">
        <!--应收单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ID">ARBD_ID=#WHERE_ARBD_ID#</isNotEmpty>
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ARB_ID">ARBD_ARB_ID=#WHERE_ARBD_ARB_ID#</isNotEmpty>
        <!--是否负向明细-->
        <isNotNull prepend="AND" property="WHERE_ARBD_IsMinusDetail">ARBD_IsMinusDetail=#WHERE_ARBD_IsMinusDetail#</isNotNull>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_SrcBillNo">ARBD_SrcBillNo=#WHERE_ARBD_SrcBillNo#</isNotEmpty>
        <!--来源单据明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_SrcBillDetailID">ARBD_SrcBillDetailID=#WHERE_ARBD_SrcBillDetailID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Org_ID">ARBD_Org_ID=#WHERE_ARBD_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Org_Name">ARBD_Org_Name=#WHERE_ARBD_Org_Name#</isNotEmpty>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_AccountReceivableAmount">ARBD_AccountReceivableAmount=#WHERE_ARBD_AccountReceivableAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_ReceivedAmount">ARBD_ReceivedAmount=#WHERE_ARBD_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_UnReceiveAmount">ARBD_UnReceiveAmount=#WHERE_ARBD_UnReceiveAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_BusinessStatusCode">ARBD_BusinessStatusCode=#WHERE_ARBD_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_BusinessStatusName">ARBD_BusinessStatusName=#WHERE_ARBD_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ApprovalStatusCode">ARBD_ApprovalStatusCode=#WHERE_ARBD_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ApprovalStatusName">ARBD_ApprovalStatusName=#WHERE_ARBD_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Remark">ARBD_Remark=#WHERE_ARBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARBD_IsValid">ARBD_IsValid=#WHERE_ARBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_CreatedBy">ARBD_CreatedBy=#WHERE_ARBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_UpdatedBy">ARBD_UpdatedBy=#WHERE_ARBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBD_VersionNo">ARBD_VersionNo=#WHERE_ARBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_TransID">ARBD_TransID=#WHERE_ARBD_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[应收单明细]信息-->
    <update id="COMM_SQL_UpdateMDLFM_AccountReceivableBillDetail" parameterClass="MDLFM_AccountReceivableBillDetail" >
      UPDATE FM_AccountReceivableBillDetail
      SET
      ARBD_UpdatedTime=GETDATE(),
      ARBD_VersionNo=ARBD_VersionNo+1
      <isNotEmpty prepend="," property="ARBD_ARB_ID">ARBD_ARB_ID=#ARBD_ARB_ID#</isNotEmpty>
      <isNotNull prepend="," property="ARBD_IsMinusDetail">ARBD_IsMinusDetail=#ARBD_IsMinusDetail#</isNotNull>
      <isNotEmpty prepend="," property="ARBD_SrcBillNo">ARBD_SrcBillNo=#ARBD_SrcBillNo#</isNotEmpty>
      <isNotEmpty prepend="," property="ARBD_SrcBillDetailID">ARBD_SrcBillDetailID=#ARBD_SrcBillDetailID#</isNotEmpty>
      <isNotEmpty prepend="," property="ARBD_Org_ID">ARBD_Org_ID=#ARBD_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="ARBD_Org_Name">ARBD_Org_Name=#ARBD_Org_Name#</isNotEmpty>
      <isNotNull prepend="," property="ARBD_AccountReceivableAmount">ARBD_AccountReceivableAmount=#ARBD_AccountReceivableAmount#</isNotNull>
      <isNotNull prepend="," property="ARBD_ReceivedAmount">ARBD_ReceivedAmount=#ARBD_ReceivedAmount#</isNotNull>
      <isNotNull prepend="," property="ARBD_UnReceiveAmount">ARBD_UnReceiveAmount=#ARBD_UnReceiveAmount#</isNotNull>
      <isNotEmpty prepend="," property="ARBD_BusinessStatusCode">ARBD_BusinessStatusCode=#ARBD_BusinessStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="ARBD_BusinessStatusName">ARBD_BusinessStatusName=#ARBD_BusinessStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="ARBD_ApprovalStatusCode">ARBD_ApprovalStatusCode=#ARBD_ApprovalStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="ARBD_ApprovalStatusName">ARBD_ApprovalStatusName=#ARBD_ApprovalStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="ARBD_Remark">ARBD_Remark=#ARBD_Remark#</isNotEmpty>
      <isNotNull prepend="," property="ARBD_IsValid">ARBD_IsValid=#ARBD_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="ARBD_CreatedBy">ARBD_CreatedBy=#ARBD_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="ARBD_CreatedTime">ARBD_CreatedTime=#ARBD_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="ARBD_UpdatedBy">ARBD_UpdatedBy=#ARBD_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="ARBD_TransID">ARBD_TransID=#ARBD_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--应收单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ID">ARBD_ID=#WHERE_ARBD_ID#</isNotEmpty>
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ARB_ID">ARBD_ARB_ID=#WHERE_ARBD_ARB_ID#</isNotEmpty>
        <!--是否负向明细-->
        <isNotNull prepend="AND" property="WHERE_ARBD_IsMinusDetail">ARBD_IsMinusDetail=#WHERE_ARBD_IsMinusDetail#</isNotNull>
        <!--来源单据号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_SrcBillNo">ARBD_SrcBillNo=#WHERE_ARBD_SrcBillNo#</isNotEmpty>
        <!--来源单据明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_SrcBillDetailID">ARBD_SrcBillDetailID=#WHERE_ARBD_SrcBillDetailID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Org_ID">ARBD_Org_ID=#WHERE_ARBD_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Org_Name">ARBD_Org_Name=#WHERE_ARBD_Org_Name#</isNotEmpty>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_AccountReceivableAmount">ARBD_AccountReceivableAmount=#WHERE_ARBD_AccountReceivableAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_ReceivedAmount">ARBD_ReceivedAmount=#WHERE_ARBD_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBD_UnReceiveAmount">ARBD_UnReceiveAmount=#WHERE_ARBD_UnReceiveAmount#</isNotNull>
        <!--业务状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_BusinessStatusCode">ARBD_BusinessStatusCode=#WHERE_ARBD_BusinessStatusCode#</isNotEmpty>
        <!--业务状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_BusinessStatusName">ARBD_BusinessStatusName=#WHERE_ARBD_BusinessStatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ApprovalStatusCode">ARBD_ApprovalStatusCode=#WHERE_ARBD_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_ApprovalStatusName">ARBD_ApprovalStatusName=#WHERE_ARBD_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_Remark">ARBD_Remark=#WHERE_ARBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARBD_IsValid">ARBD_IsValid=#WHERE_ARBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_CreatedBy">ARBD_CreatedBy=#WHERE_ARBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_UpdatedBy">ARBD_UpdatedBy=#WHERE_ARBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBD_VersionNo">ARBD_VersionNo=#WHERE_ARBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBD_TransID">ARBD_TransID=#WHERE_ARBD_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[应收单明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLFM_AccountReceivableBillDetail" parameterClass="List">
      DELETE FROM FM_AccountReceivableBillDetail
      WHERE ARBD_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_ARBD_ID#
      </iterate>
    </delete>

    <!--新增[应收单日志]信息-->
    <insert id="COMM_SQL_INSERT_MDLFM_AccountReceivableBillLog" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        FM_AccountReceivableBillLog
        (
        <!--应收单日志ID-->
        ARBL_ID,
        <!--应收单ID-->
        ARBL_ARB_ID,
        <!--应收单明细ID-->
        ARBL_ARBD_ID,
        <!--组织ID-->
        ARBL_Org_ID,
        <!--组织名称-->
        ARBL_Org_Name,
        <!--操作类型编码-->
        ARBL_OperateTypeCode,
        <!--操作类型名称-->
        ARBL_OperateTypeName,
        <!--应收单明细版本号-->
        ARBL_APBD_VersionNo,
        <!--应收金额-->
        ARBL_ARAmount,
        <!--已收金额-->
        ARBL_ReceivedAmount,
        <!--未收金额-->
        ARBL_UnReceiveAmount,
        <!--备注-->
        ARBL_Remark,
        <!--有效-->
        ARBL_IsValid,
        <!--创建人-->
        ARBL_CreatedBy,
        <!--创建时间-->
        ARBL_CreatedTime,
        <!--修改人-->
        ARBL_UpdatedBy,
        <!--修改时间-->
        ARBL_UpdatedTime,
        <!--版本号-->
        ARBL_VersionNo,
        <!--事务编号-->
        ARBL_TransID
        )
        VALUES
        (
        <!--应收单日志ID-->
        #[].ARBL_ID#,
        <!--应收单ID-->
        #[].ARBL_ARB_ID#,
        <!--应收单明细ID-->
        #[].ARBL_ARBD_ID#,
        <!--组织ID-->
        #[].ARBL_Org_ID#,
        <!--组织名称-->
        #[].ARBL_Org_Name#,
        <!--操作类型编码-->
        #[].ARBL_OperateTypeCode#,
        <!--操作类型名称-->
        #[].ARBL_OperateTypeName#,
        <!--应收单明细版本号-->
        1,
        <!--应收金额-->
        #[].ARBL_ARAmount#,
        <!--已收金额-->
        #[].ARBL_ReceivedAmount#,
        <!--未收金额-->
        #[].ARBL_UnReceiveAmount#,
        <!--备注-->
        #[].ARBL_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].ARBL_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].ARBL_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].ARBL_TransID#
        )
      </iterate>
    </insert>

    <!--查询[应收单日志]信息（精确条件）-->
    <select id="COMM_SQL_MDLFM_AccountReceivableBillLog" parameterClass="MDLFM_AccountReceivableBillLog" resultClass="MDLFM_AccountReceivableBillLog">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ARBL_ID)
      FROM FM_AccountReceivableBillLog
      <dynamic prepend="WHERE">
        <!--应收单日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ID">ARBL_ID=#WHERE_ARBL_ID#</isNotEmpty>
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ARB_ID">ARBL_ARB_ID=#WHERE_ARBL_ARB_ID#</isNotEmpty>
        <!--应收单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ARBD_ID">ARBL_ARBD_ID=#WHERE_ARBL_ARBD_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Org_ID">ARBL_Org_ID=#WHERE_ARBL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Org_Name">ARBL_Org_Name=#WHERE_ARBL_Org_Name#</isNotEmpty>
        <!--操作类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_OperateTypeCode">ARBL_OperateTypeCode=#WHERE_ARBL_OperateTypeCode#</isNotEmpty>
        <!--操作类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_OperateTypeName">ARBL_OperateTypeName=#WHERE_ARBL_OperateTypeName#</isNotEmpty>
        <!--应收单明细版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBL_APBD_VersionNo">ARBL_APBD_VersionNo=#WHERE_ARBL_APBD_VersionNo#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_ARAmount">ARBL_ARAmount=#WHERE_ARBL_ARAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_ReceivedAmount">ARBL_ReceivedAmount=#WHERE_ARBL_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_UnReceiveAmount">ARBL_UnReceiveAmount=#WHERE_ARBL_UnReceiveAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Remark">ARBL_Remark=#WHERE_ARBL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARBL_IsValid">ARBL_IsValid=#WHERE_ARBL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_CreatedBy">ARBL_CreatedBy=#WHERE_ARBL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_UpdatedBy">ARBL_UpdatedBy=#WHERE_ARBL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBL_VersionNo">ARBL_VersionNo=#WHERE_ARBL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_TransID">ARBL_TransID=#WHERE_ARBL_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ARBL_ID,
      ARBL_ARB_ID,
      ARBL_ARBD_ID,
      ARBL_Org_ID,
      ARBL_Org_Name,
      ARBL_OperateTypeCode,
      ARBL_OperateTypeName,
      ARBL_APBD_VersionNo,
      ARBL_ARAmount,
      ARBL_ReceivedAmount,
      ARBL_UnReceiveAmount,
      ARBL_Remark,
      ARBL_IsValid,
      ARBL_CreatedBy,
      ARBL_CreatedTime,
      ARBL_UpdatedBy,
      ARBL_UpdatedTime,
      ARBL_VersionNo,
      ARBL_TransID
      FROM FM_AccountReceivableBillLog
      <dynamic prepend="WHERE">
        <!--应收单日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ID">ARBL_ID=#WHERE_ARBL_ID#</isNotEmpty>
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ARB_ID">ARBL_ARB_ID=#WHERE_ARBL_ARB_ID#</isNotEmpty>
        <!--应收单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ARBD_ID">ARBL_ARBD_ID=#WHERE_ARBL_ARBD_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Org_ID">ARBL_Org_ID=#WHERE_ARBL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Org_Name">ARBL_Org_Name=#WHERE_ARBL_Org_Name#</isNotEmpty>
        <!--操作类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_OperateTypeCode">ARBL_OperateTypeCode=#WHERE_ARBL_OperateTypeCode#</isNotEmpty>
        <!--操作类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_OperateTypeName">ARBL_OperateTypeName=#WHERE_ARBL_OperateTypeName#</isNotEmpty>
        <!--应收单明细版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBL_APBD_VersionNo">ARBL_APBD_VersionNo=#WHERE_ARBL_APBD_VersionNo#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_ARAmount">ARBL_ARAmount=#WHERE_ARBL_ARAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_ReceivedAmount">ARBL_ReceivedAmount=#WHERE_ARBL_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_UnReceiveAmount">ARBL_UnReceiveAmount=#WHERE_ARBL_UnReceiveAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Remark">ARBL_Remark=#WHERE_ARBL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARBL_IsValid">ARBL_IsValid=#WHERE_ARBL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_CreatedBy">ARBL_CreatedBy=#WHERE_ARBL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_UpdatedBy">ARBL_UpdatedBy=#WHERE_ARBL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBL_VersionNo">ARBL_VersionNo=#WHERE_ARBL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_TransID">ARBL_TransID=#WHERE_ARBL_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ARBL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[应收单日志]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLFM_AccountReceivableBillLog" parameterClass="MDLFM_AccountReceivableBillLog" resultClass="MDLFM_AccountReceivableBillLog">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ARBL_ID)
      FROM FM_AccountReceivableBillLog
      <dynamic prepend="WHERE">
        <!--应收单日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ID">ARBL_ID=#WHERE_ARBL_ID#</isNotEmpty>
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ARB_ID">ARBL_ARB_ID LIKE '%'+#WHERE_ARBL_ARB_ID#+'%'</isNotEmpty>
        <!--应收单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ARBD_ID">ARBL_ARBD_ID LIKE '%'+#WHERE_ARBL_ARBD_ID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Org_ID">ARBL_Org_ID LIKE '%'+#WHERE_ARBL_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Org_Name">ARBL_Org_Name LIKE '%'+#WHERE_ARBL_Org_Name#+'%'</isNotEmpty>
        <!--操作类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_OperateTypeCode">ARBL_OperateTypeCode LIKE '%'+#WHERE_ARBL_OperateTypeCode#+'%'</isNotEmpty>
        <!--操作类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_OperateTypeName">ARBL_OperateTypeName LIKE '%'+#WHERE_ARBL_OperateTypeName#+'%'</isNotEmpty>
        <!--应收单明细版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBL_APBD_VersionNo">ARBL_APBD_VersionNo=#WHERE_ARBL_APBD_VersionNo#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_ARAmount">ARBL_ARAmount=#WHERE_ARBL_ARAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_ReceivedAmount">ARBL_ReceivedAmount=#WHERE_ARBL_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_UnReceiveAmount">ARBL_UnReceiveAmount=#WHERE_ARBL_UnReceiveAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Remark">ARBL_Remark LIKE '%'+#WHERE_ARBL_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARBL_IsValid">ARBL_IsValid=#WHERE_ARBL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_CreatedBy">ARBL_CreatedBy LIKE '%'+#WHERE_ARBL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_UpdatedBy">ARBL_UpdatedBy LIKE '%'+#WHERE_ARBL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBL_VersionNo">ARBL_VersionNo=#WHERE_ARBL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_TransID">ARBL_TransID LIKE '%'+#WHERE_ARBL_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ARBL_ID,
      ARBL_ARB_ID,
      ARBL_ARBD_ID,
      ARBL_Org_ID,
      ARBL_Org_Name,
      ARBL_OperateTypeCode,
      ARBL_OperateTypeName,
      ARBL_APBD_VersionNo,
      ARBL_ARAmount,
      ARBL_ReceivedAmount,
      ARBL_UnReceiveAmount,
      ARBL_Remark,
      ARBL_IsValid,
      ARBL_CreatedBy,
      ARBL_CreatedTime,
      ARBL_UpdatedBy,
      ARBL_UpdatedTime,
      ARBL_VersionNo,
      ARBL_TransID
      FROM FM_AccountReceivableBillLog
      <dynamic prepend="WHERE">
        <!--应收单日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ID">ARBL_ID=#WHERE_ARBL_ID#</isNotEmpty>
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ARB_ID">ARBL_ARB_ID LIKE '%'+#WHERE_ARBL_ARB_ID#+'%'</isNotEmpty>
        <!--应收单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ARBD_ID">ARBL_ARBD_ID LIKE '%'+#WHERE_ARBL_ARBD_ID#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Org_ID">ARBL_Org_ID LIKE '%'+#WHERE_ARBL_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Org_Name">ARBL_Org_Name LIKE '%'+#WHERE_ARBL_Org_Name#+'%'</isNotEmpty>
        <!--操作类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_OperateTypeCode">ARBL_OperateTypeCode LIKE '%'+#WHERE_ARBL_OperateTypeCode#+'%'</isNotEmpty>
        <!--操作类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_OperateTypeName">ARBL_OperateTypeName LIKE '%'+#WHERE_ARBL_OperateTypeName#+'%'</isNotEmpty>
        <!--应收单明细版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBL_APBD_VersionNo">ARBL_APBD_VersionNo=#WHERE_ARBL_APBD_VersionNo#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_ARAmount">ARBL_ARAmount=#WHERE_ARBL_ARAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_ReceivedAmount">ARBL_ReceivedAmount=#WHERE_ARBL_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_UnReceiveAmount">ARBL_UnReceiveAmount=#WHERE_ARBL_UnReceiveAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Remark">ARBL_Remark LIKE '%'+#WHERE_ARBL_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARBL_IsValid">ARBL_IsValid=#WHERE_ARBL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_CreatedBy">ARBL_CreatedBy LIKE '%'+#WHERE_ARBL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_UpdatedBy">ARBL_UpdatedBy LIKE '%'+#WHERE_ARBL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBL_VersionNo">ARBL_VersionNo=#WHERE_ARBL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_TransID">ARBL_TransID LIKE '%'+#WHERE_ARBL_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ARBL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[应收单日志]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLFM_AccountReceivableBillLog" parameterClass="MDLFM_AccountReceivableBillLog" resultClass="int">
      SELECT COUNT(ARBL_ID) 'RecordCount'
      FROM FM_AccountReceivableBillLog
      <dynamic prepend="WHERE">
        <!--应收单日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ID">ARBL_ID=#WHERE_ARBL_ID#</isNotEmpty>
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ARB_ID">ARBL_ARB_ID=#WHERE_ARBL_ARB_ID#</isNotEmpty>
        <!--应收单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ARBD_ID">ARBL_ARBD_ID=#WHERE_ARBL_ARBD_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Org_ID">ARBL_Org_ID=#WHERE_ARBL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Org_Name">ARBL_Org_Name=#WHERE_ARBL_Org_Name#</isNotEmpty>
        <!--操作类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_OperateTypeCode">ARBL_OperateTypeCode=#WHERE_ARBL_OperateTypeCode#</isNotEmpty>
        <!--操作类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_OperateTypeName">ARBL_OperateTypeName=#WHERE_ARBL_OperateTypeName#</isNotEmpty>
        <!--应收单明细版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBL_APBD_VersionNo">ARBL_APBD_VersionNo=#WHERE_ARBL_APBD_VersionNo#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_ARAmount">ARBL_ARAmount=#WHERE_ARBL_ARAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_ReceivedAmount">ARBL_ReceivedAmount=#WHERE_ARBL_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_UnReceiveAmount">ARBL_UnReceiveAmount=#WHERE_ARBL_UnReceiveAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Remark">ARBL_Remark=#WHERE_ARBL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARBL_IsValid">ARBL_IsValid=#WHERE_ARBL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_CreatedBy">ARBL_CreatedBy=#WHERE_ARBL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_UpdatedBy">ARBL_UpdatedBy=#WHERE_ARBL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBL_VersionNo">ARBL_VersionNo=#WHERE_ARBL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_TransID">ARBL_TransID=#WHERE_ARBL_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[应收单日志]信息-->
    <update id="COMM_SQL_UpdateMDLFM_AccountReceivableBillLog" parameterClass="MDLFM_AccountReceivableBillLog" >
      UPDATE FM_AccountReceivableBillLog
      SET
      ARBL_UpdatedTime=GETDATE(),
      ARBL_VersionNo=ARBL_VersionNo+1
      <isNotEmpty prepend="," property="ARBL_ARB_ID">ARBL_ARB_ID=#ARBL_ARB_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="ARBL_ARBD_ID">ARBL_ARBD_ID=#ARBL_ARBD_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="ARBL_Org_ID">ARBL_Org_ID=#ARBL_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="ARBL_Org_Name">ARBL_Org_Name=#ARBL_Org_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="ARBL_OperateTypeCode">ARBL_OperateTypeCode=#ARBL_OperateTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="ARBL_OperateTypeName">ARBL_OperateTypeName=#ARBL_OperateTypeName#</isNotEmpty>
      <isNotNull prepend="," property="ARBL_APBD_VersionNo">ARBL_APBD_VersionNo=#ARBL_APBD_VersionNo#</isNotNull>
      <isNotNull prepend="," property="ARBL_ARAmount">ARBL_ARAmount=#ARBL_ARAmount#</isNotNull>
      <isNotNull prepend="," property="ARBL_ReceivedAmount">ARBL_ReceivedAmount=#ARBL_ReceivedAmount#</isNotNull>
      <isNotNull prepend="," property="ARBL_UnReceiveAmount">ARBL_UnReceiveAmount=#ARBL_UnReceiveAmount#</isNotNull>
      <isNotEmpty prepend="," property="ARBL_Remark">ARBL_Remark=#ARBL_Remark#</isNotEmpty>
      <isNotNull prepend="," property="ARBL_IsValid">ARBL_IsValid=#ARBL_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="ARBL_CreatedBy">ARBL_CreatedBy=#ARBL_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="ARBL_CreatedTime">ARBL_CreatedTime=#ARBL_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="ARBL_UpdatedBy">ARBL_UpdatedBy=#ARBL_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="ARBL_TransID">ARBL_TransID=#ARBL_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--应收单日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ID">ARBL_ID=#WHERE_ARBL_ID#</isNotEmpty>
        <!--应收单ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ARB_ID">ARBL_ARB_ID=#WHERE_ARBL_ARB_ID#</isNotEmpty>
        <!--应收单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_ARBD_ID">ARBL_ARBD_ID=#WHERE_ARBL_ARBD_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Org_ID">ARBL_Org_ID=#WHERE_ARBL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Org_Name">ARBL_Org_Name=#WHERE_ARBL_Org_Name#</isNotEmpty>
        <!--操作类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_OperateTypeCode">ARBL_OperateTypeCode=#WHERE_ARBL_OperateTypeCode#</isNotEmpty>
        <!--操作类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_OperateTypeName">ARBL_OperateTypeName=#WHERE_ARBL_OperateTypeName#</isNotEmpty>
        <!--应收单明细版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBL_APBD_VersionNo">ARBL_APBD_VersionNo=#WHERE_ARBL_APBD_VersionNo#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_ARAmount">ARBL_ARAmount=#WHERE_ARBL_ARAmount#</isNotNull>
        <!--已收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_ReceivedAmount">ARBL_ReceivedAmount=#WHERE_ARBL_ReceivedAmount#</isNotNull>
        <!--未收金额-->
        <isNotNull prepend="AND" property="WHERE_ARBL_UnReceiveAmount">ARBL_UnReceiveAmount=#WHERE_ARBL_UnReceiveAmount#</isNotNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_Remark">ARBL_Remark=#WHERE_ARBL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ARBL_IsValid">ARBL_IsValid=#WHERE_ARBL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_CreatedBy">ARBL_CreatedBy=#WHERE_ARBL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ARBL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_UpdatedBy">ARBL_UpdatedBy=#WHERE_ARBL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ARBL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ARBL_VersionNo">ARBL_VersionNo=#WHERE_ARBL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ARBL_TransID">ARBL_TransID=#WHERE_ARBL_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[应收单日志]信息-->
    <delete id="COMM_SQL_DELETE_MDLFM_AccountReceivableBillLog" parameterClass="List">
      DELETE FROM FM_AccountReceivableBillLog
      WHERE ARBL_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_ARBL_ID#
      </iterate>
    </delete>

    <!--新增[采购订单]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_PurchaseOrder" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_PurchaseOrder
        (
        <!--采购订单ID-->
        PO_ID,
        <!--订单号-->
        PO_No,
        <!--组织ID-->
        PO_Org_ID,
        <!--供应商ID-->
        PO_SUPP_ID,
        <!--供应商名称-->
        PO_SUPP_Name,
        <!--来源类型编码-->
        PO_SourceTypeCode,
        <!--来源类型名称-->
        PO_SourceTypeName,
        <!--来源单号-->
        PO_SourceNo,
        <!--订单总额-->
        PO_TotalAmount,
        <!--物流费-->
        PO_LogisticFee,
        <!--单据状态编码-->
        PO_StatusCode,
        <!--单据状态名称-->
        PO_StatusName,
        <!--审核状态编码-->
        PO_ApprovalStatusCode,
        <!--审核状态名称-->
        PO_ApprovalStatusName,
        <!--到货时间-->
        PO_ReceivedTime,
        <!--有效-->
        PO_IsValid,
        <!--创建人-->
        PO_CreatedBy,
        <!--创建时间-->
        PO_CreatedTime,
        <!--修改人-->
        PO_UpdatedBy,
        <!--修改时间-->
        PO_UpdatedTime,
        <!--版本号-->
        PO_VersionNo,
        <!--事务编号-->
        PO_TransID
        )
        VALUES
        (
        <!--采购订单ID-->
        #[].PO_ID#,
        <!--订单号-->
        #[].PO_No#,
        <!--组织ID-->
        #[].PO_Org_ID#,
        <!--供应商ID-->
        #[].PO_SUPP_ID#,
        <!--供应商名称-->
        #[].PO_SUPP_Name#,
        <!--来源类型编码-->
        #[].PO_SourceTypeCode#,
        <!--来源类型名称-->
        #[].PO_SourceTypeName#,
        <!--来源单号-->
        #[].PO_SourceNo#,
        <!--订单总额-->
        #[].PO_TotalAmount#,
        <!--物流费-->
        #[].PO_LogisticFee#,
        <!--单据状态编码-->
        #[].PO_StatusCode#,
        <!--单据状态名称-->
        #[].PO_StatusName#,
        <!--审核状态编码-->
        #[].PO_ApprovalStatusCode#,
        <!--审核状态名称-->
        #[].PO_ApprovalStatusName#,
        <!--到货时间-->
        #[].PO_ReceivedTime#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].PO_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].PO_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].PO_TransID#
        )
      </iterate>
    </insert>

    <!--查询[采购订单]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_PurchaseOrder" parameterClass="MDLPIS_PurchaseOrder" resultClass="MDLPIS_PurchaseOrder">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(PO_ID)
      FROM PIS_PurchaseOrder
      <dynamic prepend="WHERE">
        <!--采购订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ID">PO_ID=#WHERE_PO_ID#</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_No">PO_No=#WHERE_PO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_Org_ID">PO_Org_ID=#WHERE_PO_Org_ID#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SUPP_ID">PO_SUPP_ID=#WHERE_PO_SUPP_ID#</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SUPP_Name">PO_SUPP_Name=#WHERE_PO_SUPP_Name#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceTypeCode">PO_SourceTypeCode=#WHERE_PO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceTypeName">PO_SourceTypeName=#WHERE_PO_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceNo">PO_SourceNo=#WHERE_PO_SourceNo#</isNotEmpty>
        <!--订单总额-->
        <isNotNull prepend="AND" property="WHERE_PO_TotalAmount">PO_TotalAmount=#WHERE_PO_TotalAmount#</isNotNull>
        <!--物流费-->
        <isNotNull prepend="AND" property="WHERE_PO_LogisticFee">PO_LogisticFee=#WHERE_PO_LogisticFee#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_StatusCode">PO_StatusCode=#WHERE_PO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_StatusName">PO_StatusName=#WHERE_PO_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ApprovalStatusCode">PO_ApprovalStatusCode=#WHERE_PO_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ApprovalStatusName">PO_ApprovalStatusName=#WHERE_PO_ApprovalStatusName#</isNotEmpty>
        <!--到货时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PO_IsValid">PO_IsValid=#WHERE_PO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PO_CreatedBy">PO_CreatedBy=#WHERE_PO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PO_UpdatedBy">PO_UpdatedBy=#WHERE_PO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PO_VersionNo">PO_VersionNo=#WHERE_PO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_TransID">PO_TransID=#WHERE_PO_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      PO_ID,
      PO_No,
      PO_Org_ID,
      PO_SUPP_ID,
      PO_SUPP_Name,
      PO_SourceTypeCode,
      PO_SourceTypeName,
      PO_SourceNo,
      PO_TotalAmount,
      PO_LogisticFee,
      PO_StatusCode,
      PO_StatusName,
      PO_ApprovalStatusCode,
      PO_ApprovalStatusName,
      PO_ReceivedTime,
      PO_IsValid,
      PO_CreatedBy,
      PO_CreatedTime,
      PO_UpdatedBy,
      PO_UpdatedTime,
      PO_VersionNo,
      PO_TransID
      FROM PIS_PurchaseOrder
      <dynamic prepend="WHERE">
        <!--采购订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ID">PO_ID=#WHERE_PO_ID#</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_No">PO_No=#WHERE_PO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_Org_ID">PO_Org_ID=#WHERE_PO_Org_ID#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SUPP_ID">PO_SUPP_ID=#WHERE_PO_SUPP_ID#</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SUPP_Name">PO_SUPP_Name=#WHERE_PO_SUPP_Name#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceTypeCode">PO_SourceTypeCode=#WHERE_PO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceTypeName">PO_SourceTypeName=#WHERE_PO_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceNo">PO_SourceNo=#WHERE_PO_SourceNo#</isNotEmpty>
        <!--订单总额-->
        <isNotNull prepend="AND" property="WHERE_PO_TotalAmount">PO_TotalAmount=#WHERE_PO_TotalAmount#</isNotNull>
        <!--物流费-->
        <isNotNull prepend="AND" property="WHERE_PO_LogisticFee">PO_LogisticFee=#WHERE_PO_LogisticFee#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_StatusCode">PO_StatusCode=#WHERE_PO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_StatusName">PO_StatusName=#WHERE_PO_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ApprovalStatusCode">PO_ApprovalStatusCode=#WHERE_PO_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ApprovalStatusName">PO_ApprovalStatusName=#WHERE_PO_ApprovalStatusName#</isNotEmpty>
        <!--到货时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PO_IsValid">PO_IsValid=#WHERE_PO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PO_CreatedBy">PO_CreatedBy=#WHERE_PO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PO_UpdatedBy">PO_UpdatedBy=#WHERE_PO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PO_VersionNo">PO_VersionNo=#WHERE_PO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_TransID">PO_TransID=#WHERE_PO_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY PO_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[采购订单]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_PurchaseOrder" parameterClass="MDLPIS_PurchaseOrder" resultClass="MDLPIS_PurchaseOrder">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(PO_ID)
      FROM PIS_PurchaseOrder
      <dynamic prepend="WHERE">
        <!--采购订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ID">PO_ID=#WHERE_PO_ID#</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_No">PO_No LIKE '%'+#WHERE_PO_No#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_Org_ID">PO_Org_ID LIKE '%'+#WHERE_PO_Org_ID#+'%'</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SUPP_ID">PO_SUPP_ID LIKE '%'+#WHERE_PO_SUPP_ID#+'%'</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SUPP_Name">PO_SUPP_Name LIKE '%'+#WHERE_PO_SUPP_Name#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceTypeCode">PO_SourceTypeCode LIKE '%'+#WHERE_PO_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceTypeName">PO_SourceTypeName LIKE '%'+#WHERE_PO_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceNo">PO_SourceNo LIKE '%'+#WHERE_PO_SourceNo#+'%'</isNotEmpty>
        <!--订单总额-->
        <isNotNull prepend="AND" property="WHERE_PO_TotalAmount">PO_TotalAmount=#WHERE_PO_TotalAmount#</isNotNull>
        <!--物流费-->
        <isNotNull prepend="AND" property="WHERE_PO_LogisticFee">PO_LogisticFee=#WHERE_PO_LogisticFee#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_StatusCode">PO_StatusCode LIKE '%'+#WHERE_PO_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_StatusName">PO_StatusName LIKE '%'+#WHERE_PO_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ApprovalStatusCode">PO_ApprovalStatusCode LIKE '%'+#WHERE_PO_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ApprovalStatusName">PO_ApprovalStatusName LIKE '%'+#WHERE_PO_ApprovalStatusName#+'%'</isNotEmpty>
        <!--到货时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PO_IsValid">PO_IsValid=#WHERE_PO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PO_CreatedBy">PO_CreatedBy LIKE '%'+#WHERE_PO_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PO_UpdatedBy">PO_UpdatedBy LIKE '%'+#WHERE_PO_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PO_VersionNo">PO_VersionNo=#WHERE_PO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_TransID">PO_TransID LIKE '%'+#WHERE_PO_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      PO_ID,
      PO_No,
      PO_Org_ID,
      PO_SUPP_ID,
      PO_SUPP_Name,
      PO_SourceTypeCode,
      PO_SourceTypeName,
      PO_SourceNo,
      PO_TotalAmount,
      PO_LogisticFee,
      PO_StatusCode,
      PO_StatusName,
      PO_ApprovalStatusCode,
      PO_ApprovalStatusName,
      PO_ReceivedTime,
      PO_IsValid,
      PO_CreatedBy,
      PO_CreatedTime,
      PO_UpdatedBy,
      PO_UpdatedTime,
      PO_VersionNo,
      PO_TransID
      FROM PIS_PurchaseOrder
      <dynamic prepend="WHERE">
        <!--采购订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ID">PO_ID=#WHERE_PO_ID#</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_No">PO_No LIKE '%'+#WHERE_PO_No#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_Org_ID">PO_Org_ID LIKE '%'+#WHERE_PO_Org_ID#+'%'</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SUPP_ID">PO_SUPP_ID LIKE '%'+#WHERE_PO_SUPP_ID#+'%'</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SUPP_Name">PO_SUPP_Name LIKE '%'+#WHERE_PO_SUPP_Name#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceTypeCode">PO_SourceTypeCode LIKE '%'+#WHERE_PO_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceTypeName">PO_SourceTypeName LIKE '%'+#WHERE_PO_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceNo">PO_SourceNo LIKE '%'+#WHERE_PO_SourceNo#+'%'</isNotEmpty>
        <!--订单总额-->
        <isNotNull prepend="AND" property="WHERE_PO_TotalAmount">PO_TotalAmount=#WHERE_PO_TotalAmount#</isNotNull>
        <!--物流费-->
        <isNotNull prepend="AND" property="WHERE_PO_LogisticFee">PO_LogisticFee=#WHERE_PO_LogisticFee#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_StatusCode">PO_StatusCode LIKE '%'+#WHERE_PO_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_StatusName">PO_StatusName LIKE '%'+#WHERE_PO_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ApprovalStatusCode">PO_ApprovalStatusCode LIKE '%'+#WHERE_PO_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ApprovalStatusName">PO_ApprovalStatusName LIKE '%'+#WHERE_PO_ApprovalStatusName#+'%'</isNotEmpty>
        <!--到货时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PO_IsValid">PO_IsValid=#WHERE_PO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PO_CreatedBy">PO_CreatedBy LIKE '%'+#WHERE_PO_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PO_UpdatedBy">PO_UpdatedBy LIKE '%'+#WHERE_PO_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PO_VersionNo">PO_VersionNo=#WHERE_PO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_TransID">PO_TransID LIKE '%'+#WHERE_PO_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY PO_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[采购订单]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_PurchaseOrder" parameterClass="MDLPIS_PurchaseOrder" resultClass="int">
      SELECT COUNT(PO_ID) 'RecordCount'
      FROM PIS_PurchaseOrder
      <dynamic prepend="WHERE">
        <!--采购订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ID">PO_ID=#WHERE_PO_ID#</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_No">PO_No=#WHERE_PO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_Org_ID">PO_Org_ID=#WHERE_PO_Org_ID#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SUPP_ID">PO_SUPP_ID=#WHERE_PO_SUPP_ID#</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SUPP_Name">PO_SUPP_Name=#WHERE_PO_SUPP_Name#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceTypeCode">PO_SourceTypeCode=#WHERE_PO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceTypeName">PO_SourceTypeName=#WHERE_PO_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceNo">PO_SourceNo=#WHERE_PO_SourceNo#</isNotEmpty>
        <!--订单总额-->
        <isNotNull prepend="AND" property="WHERE_PO_TotalAmount">PO_TotalAmount=#WHERE_PO_TotalAmount#</isNotNull>
        <!--物流费-->
        <isNotNull prepend="AND" property="WHERE_PO_LogisticFee">PO_LogisticFee=#WHERE_PO_LogisticFee#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_StatusCode">PO_StatusCode=#WHERE_PO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_StatusName">PO_StatusName=#WHERE_PO_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ApprovalStatusCode">PO_ApprovalStatusCode=#WHERE_PO_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ApprovalStatusName">PO_ApprovalStatusName=#WHERE_PO_ApprovalStatusName#</isNotEmpty>
        <!--到货时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PO_IsValid">PO_IsValid=#WHERE_PO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PO_CreatedBy">PO_CreatedBy=#WHERE_PO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PO_UpdatedBy">PO_UpdatedBy=#WHERE_PO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PO_VersionNo">PO_VersionNo=#WHERE_PO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_TransID">PO_TransID=#WHERE_PO_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[采购订单]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_PurchaseOrder" parameterClass="MDLPIS_PurchaseOrder" >
      UPDATE PIS_PurchaseOrder
      SET
      PO_UpdatedTime=GETDATE(),
      PO_VersionNo=PO_VersionNo+1
      <isNotEmpty prepend="," property="PO_No">PO_No=#PO_No#</isNotEmpty>
      <isNotEmpty prepend="," property="PO_Org_ID">PO_Org_ID=#PO_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="PO_SUPP_ID">PO_SUPP_ID=#PO_SUPP_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="PO_SUPP_Name">PO_SUPP_Name=#PO_SUPP_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="PO_SourceTypeCode">PO_SourceTypeCode=#PO_SourceTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="PO_SourceTypeName">PO_SourceTypeName=#PO_SourceTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="PO_SourceNo">PO_SourceNo=#PO_SourceNo#</isNotEmpty>
      <isNotNull prepend="," property="PO_TotalAmount">PO_TotalAmount=#PO_TotalAmount#</isNotNull>
      <isNotNull prepend="," property="PO_LogisticFee">PO_LogisticFee=#PO_LogisticFee#</isNotNull>
      <isNotEmpty prepend="," property="PO_StatusCode">PO_StatusCode=#PO_StatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="PO_StatusName">PO_StatusName=#PO_StatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="PO_ApprovalStatusCode">PO_ApprovalStatusCode=#PO_ApprovalStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="PO_ApprovalStatusName">PO_ApprovalStatusName=#PO_ApprovalStatusName#</isNotEmpty>
      <isNotNull prepend="," property="PO_ReceivedTime">PO_ReceivedTime=#PO_ReceivedTime#</isNotNull>
      <isNotNull prepend="," property="PO_IsValid">PO_IsValid=#PO_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="PO_CreatedBy">PO_CreatedBy=#PO_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="PO_CreatedTime">PO_CreatedTime=#PO_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="PO_UpdatedBy">PO_UpdatedBy=#PO_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="PO_TransID">PO_TransID=#PO_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--采购订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ID">PO_ID=#WHERE_PO_ID#</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_No">PO_No=#WHERE_PO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_Org_ID">PO_Org_ID=#WHERE_PO_Org_ID#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SUPP_ID">PO_SUPP_ID=#WHERE_PO_SUPP_ID#</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SUPP_Name">PO_SUPP_Name=#WHERE_PO_SUPP_Name#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceTypeCode">PO_SourceTypeCode=#WHERE_PO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceTypeName">PO_SourceTypeName=#WHERE_PO_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_SourceNo">PO_SourceNo=#WHERE_PO_SourceNo#</isNotEmpty>
        <!--订单总额-->
        <isNotNull prepend="AND" property="WHERE_PO_TotalAmount">PO_TotalAmount=#WHERE_PO_TotalAmount#</isNotNull>
        <!--物流费-->
        <isNotNull prepend="AND" property="WHERE_PO_LogisticFee">PO_LogisticFee=#WHERE_PO_LogisticFee#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_StatusCode">PO_StatusCode=#WHERE_PO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_StatusName">PO_StatusName=#WHERE_PO_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ApprovalStatusCode">PO_ApprovalStatusCode=#WHERE_PO_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PO_ApprovalStatusName">PO_ApprovalStatusName=#WHERE_PO_ApprovalStatusName#</isNotEmpty>
        <!--到货时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">PO_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PO_IsValid">PO_IsValid=#WHERE_PO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PO_CreatedBy">PO_CreatedBy=#WHERE_PO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PO_UpdatedBy">PO_UpdatedBy=#WHERE_PO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PO_VersionNo">PO_VersionNo=#WHERE_PO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PO_TransID">PO_TransID=#WHERE_PO_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[采购订单]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_PurchaseOrder" parameterClass="List">
      DELETE FROM PIS_PurchaseOrder
      WHERE PO_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_PO_ID#
      </iterate>
    </delete>

    <!--新增[采购订单明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_PurchaseOrderDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_PurchaseOrderDetail
        (
        <!--采购订单明细ID-->
        POD_ID,
        <!--采购订单ID-->
        POD_PO_ID,
        <!--订单号-->
        POD_PO_No,
        <!--配件条码-->
        POD_AutoPartsBarcode,
        <!--第三方编码-->
        POD_ThirdCode,
        <!--原厂编码-->
        POD_OEMCode,
        <!--配件名称-->
        POD_AutoPartsName,
        <!--配件品牌-->
        POD_AutoPartsBrand,
        <!--规格型号-->
        POD_AutoPartsSpec,
        <!--配件级别-->
        POD_AutoPartsLevel,
        <!--计量单位-->
        POD_UOM,
        <!--汽车品牌-->
        POD_VehicleBrand,
        <!--车系-->
        POD_VehicleInspire,
        <!--排量-->
        POD_VehicleCapacity,
        <!--年款-->
        POD_VehicleYearModel,
        <!--变速类型-->
        POD_VehicleGearboxType,
        <!--进货仓库ID-->
        POD_WH_ID,
        <!--进货仓位ID-->
        POD_WHB_ID,
        <!--订货数量-->
        POD_OrderQty,
        <!--签收数量-->
        POD_ReceivedQty,
        <!--订货单价-->
        POD_UnitPrice,
        <!--单据状态编码-->
        POD_StatusCode,
        <!--单据状态名称-->
        POD_StatusName,
        <!--到货时间-->
        POD_ReceivedTime,
        <!--有效-->
        POD_IsValid,
        <!--创建人-->
        POD_CreatedBy,
        <!--创建时间-->
        POD_CreatedTime,
        <!--修改人-->
        POD_UpdatedBy,
        <!--修改时间-->
        POD_UpdatedTime,
        <!--版本号-->
        POD_VersionNo,
        <!--事务编号-->
        POD_TransID
        )
        VALUES
        (
        <!--采购订单明细ID-->
        #[].POD_ID#,
        <!--采购订单ID-->
        #[].POD_PO_ID#,
        <!--订单号-->
        #[].POD_PO_No#,
        <!--配件条码-->
        #[].POD_AutoPartsBarcode#,
        <!--第三方编码-->
        #[].POD_ThirdCode#,
        <!--原厂编码-->
        #[].POD_OEMCode#,
        <!--配件名称-->
        #[].POD_AutoPartsName#,
        <!--配件品牌-->
        #[].POD_AutoPartsBrand#,
        <!--规格型号-->
        #[].POD_AutoPartsSpec#,
        <!--配件级别-->
        #[].POD_AutoPartsLevel#,
        <!--计量单位-->
        #[].POD_UOM#,
        <!--汽车品牌-->
        #[].POD_VehicleBrand#,
        <!--车系-->
        #[].POD_VehicleInspire#,
        <!--排量-->
        #[].POD_VehicleCapacity#,
        <!--年款-->
        #[].POD_VehicleYearModel#,
        <!--变速类型-->
        #[].POD_VehicleGearboxType#,
        <!--进货仓库ID-->
        #[].POD_WH_ID#,
        <!--进货仓位ID-->
        #[].POD_WHB_ID#,
        <!--订货数量-->
        #[].POD_OrderQty#,
        <!--签收数量-->
        #[].POD_ReceivedQty#,
        <!--订货单价-->
        #[].POD_UnitPrice#,
        <!--单据状态编码-->
        #[].POD_StatusCode#,
        <!--单据状态名称-->
        #[].POD_StatusName#,
        <!--到货时间-->
        #[].POD_ReceivedTime#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].POD_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].POD_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].POD_TransID#
        )
      </iterate>
    </insert>

    <!--查询[采购订单明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_PurchaseOrderDetail" parameterClass="MDLPIS_PurchaseOrderDetail" resultClass="MDLPIS_PurchaseOrderDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(POD_ID)
      FROM PIS_PurchaseOrderDetail
      <dynamic prepend="WHERE">
        <!--采购订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_ID">POD_ID=#WHERE_POD_ID#</isNotEmpty>
        <!--采购订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_PO_ID">POD_PO_ID=#WHERE_POD_PO_ID#</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_PO_No">POD_PO_No=#WHERE_POD_PO_No#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsBarcode">POD_AutoPartsBarcode=#WHERE_POD_AutoPartsBarcode#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_ThirdCode">POD_ThirdCode=#WHERE_POD_ThirdCode#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_OEMCode">POD_OEMCode=#WHERE_POD_OEMCode#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsName">POD_AutoPartsName=#WHERE_POD_AutoPartsName#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsBrand">POD_AutoPartsBrand=#WHERE_POD_AutoPartsBrand#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsSpec">POD_AutoPartsSpec=#WHERE_POD_AutoPartsSpec#</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsLevel">POD_AutoPartsLevel=#WHERE_POD_AutoPartsLevel#</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_POD_UOM">POD_UOM=#WHERE_POD_UOM#</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleBrand">POD_VehicleBrand=#WHERE_POD_VehicleBrand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleInspire">POD_VehicleInspire=#WHERE_POD_VehicleInspire#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleCapacity">POD_VehicleCapacity=#WHERE_POD_VehicleCapacity#</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleYearModel">POD_VehicleYearModel=#WHERE_POD_VehicleYearModel#</isNotEmpty>
        <!--变速类型-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleGearboxType">POD_VehicleGearboxType=#WHERE_POD_VehicleGearboxType#</isNotEmpty>
        <!--进货仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_WH_ID">POD_WH_ID=#WHERE_POD_WH_ID#</isNotEmpty>
        <!--进货仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_WHB_ID">POD_WHB_ID=#WHERE_POD_WHB_ID#</isNotEmpty>
        <!--订货数量-->
        <isNotNull prepend="AND" property="WHERE_POD_OrderQty">POD_OrderQty=#WHERE_POD_OrderQty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_POD_ReceivedQty">POD_ReceivedQty=#WHERE_POD_ReceivedQty#</isNotNull>
        <!--订货单价-->
        <isNotNull prepend="AND" property="WHERE_POD_UnitPrice">POD_UnitPrice=#WHERE_POD_UnitPrice#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_StatusCode">POD_StatusCode=#WHERE_POD_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_POD_StatusName">POD_StatusName=#WHERE_POD_StatusName#</isNotEmpty>
        <!--到货时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_POD_IsValid">POD_IsValid=#WHERE_POD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_POD_CreatedBy">POD_CreatedBy=#WHERE_POD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_POD_UpdatedBy">POD_UpdatedBy=#WHERE_POD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_POD_VersionNo">POD_VersionNo=#WHERE_POD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_TransID">POD_TransID=#WHERE_POD_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      POD_ID,
      POD_PO_ID,
      POD_PO_No,
      POD_AutoPartsBarcode,
      POD_ThirdCode,
      POD_OEMCode,
      POD_AutoPartsName,
      POD_AutoPartsBrand,
      POD_AutoPartsSpec,
      POD_AutoPartsLevel,
      POD_UOM,
      POD_VehicleBrand,
      POD_VehicleInspire,
      POD_VehicleCapacity,
      POD_VehicleYearModel,
      POD_VehicleGearboxType,
      POD_WH_ID,
      POD_WHB_ID,
      POD_OrderQty,
      POD_ReceivedQty,
      POD_UnitPrice,
      POD_StatusCode,
      POD_StatusName,
      POD_ReceivedTime,
      POD_IsValid,
      POD_CreatedBy,
      POD_CreatedTime,
      POD_UpdatedBy,
      POD_UpdatedTime,
      POD_VersionNo,
      POD_TransID
      FROM PIS_PurchaseOrderDetail
      <dynamic prepend="WHERE">
        <!--采购订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_ID">POD_ID=#WHERE_POD_ID#</isNotEmpty>
        <!--采购订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_PO_ID">POD_PO_ID=#WHERE_POD_PO_ID#</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_PO_No">POD_PO_No=#WHERE_POD_PO_No#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsBarcode">POD_AutoPartsBarcode=#WHERE_POD_AutoPartsBarcode#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_ThirdCode">POD_ThirdCode=#WHERE_POD_ThirdCode#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_OEMCode">POD_OEMCode=#WHERE_POD_OEMCode#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsName">POD_AutoPartsName=#WHERE_POD_AutoPartsName#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsBrand">POD_AutoPartsBrand=#WHERE_POD_AutoPartsBrand#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsSpec">POD_AutoPartsSpec=#WHERE_POD_AutoPartsSpec#</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsLevel">POD_AutoPartsLevel=#WHERE_POD_AutoPartsLevel#</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_POD_UOM">POD_UOM=#WHERE_POD_UOM#</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleBrand">POD_VehicleBrand=#WHERE_POD_VehicleBrand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleInspire">POD_VehicleInspire=#WHERE_POD_VehicleInspire#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleCapacity">POD_VehicleCapacity=#WHERE_POD_VehicleCapacity#</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleYearModel">POD_VehicleYearModel=#WHERE_POD_VehicleYearModel#</isNotEmpty>
        <!--变速类型-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleGearboxType">POD_VehicleGearboxType=#WHERE_POD_VehicleGearboxType#</isNotEmpty>
        <!--进货仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_WH_ID">POD_WH_ID=#WHERE_POD_WH_ID#</isNotEmpty>
        <!--进货仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_WHB_ID">POD_WHB_ID=#WHERE_POD_WHB_ID#</isNotEmpty>
        <!--订货数量-->
        <isNotNull prepend="AND" property="WHERE_POD_OrderQty">POD_OrderQty=#WHERE_POD_OrderQty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_POD_ReceivedQty">POD_ReceivedQty=#WHERE_POD_ReceivedQty#</isNotNull>
        <!--订货单价-->
        <isNotNull prepend="AND" property="WHERE_POD_UnitPrice">POD_UnitPrice=#WHERE_POD_UnitPrice#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_StatusCode">POD_StatusCode=#WHERE_POD_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_POD_StatusName">POD_StatusName=#WHERE_POD_StatusName#</isNotEmpty>
        <!--到货时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_POD_IsValid">POD_IsValid=#WHERE_POD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_POD_CreatedBy">POD_CreatedBy=#WHERE_POD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_POD_UpdatedBy">POD_UpdatedBy=#WHERE_POD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_POD_VersionNo">POD_VersionNo=#WHERE_POD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_TransID">POD_TransID=#WHERE_POD_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY POD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[采购订单明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_PurchaseOrderDetail" parameterClass="MDLPIS_PurchaseOrderDetail" resultClass="MDLPIS_PurchaseOrderDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(POD_ID)
      FROM PIS_PurchaseOrderDetail
      <dynamic prepend="WHERE">
        <!--采购订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_ID">POD_ID=#WHERE_POD_ID#</isNotEmpty>
        <!--采购订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_PO_ID">POD_PO_ID LIKE '%'+#WHERE_POD_PO_ID#+'%'</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_PO_No">POD_PO_No LIKE '%'+#WHERE_POD_PO_No#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsBarcode">POD_AutoPartsBarcode LIKE '%'+#WHERE_POD_AutoPartsBarcode#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_ThirdCode">POD_ThirdCode LIKE '%'+#WHERE_POD_ThirdCode#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_OEMCode">POD_OEMCode LIKE '%'+#WHERE_POD_OEMCode#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsName">POD_AutoPartsName LIKE '%'+#WHERE_POD_AutoPartsName#+'%'</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsBrand">POD_AutoPartsBrand LIKE '%'+#WHERE_POD_AutoPartsBrand#+'%'</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsSpec">POD_AutoPartsSpec LIKE '%'+#WHERE_POD_AutoPartsSpec#+'%'</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsLevel">POD_AutoPartsLevel LIKE '%'+#WHERE_POD_AutoPartsLevel#+'%'</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_POD_UOM">POD_UOM LIKE '%'+#WHERE_POD_UOM#+'%'</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleBrand">POD_VehicleBrand LIKE '%'+#WHERE_POD_VehicleBrand#+'%'</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleInspire">POD_VehicleInspire LIKE '%'+#WHERE_POD_VehicleInspire#+'%'</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleCapacity">POD_VehicleCapacity LIKE '%'+#WHERE_POD_VehicleCapacity#+'%'</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleYearModel">POD_VehicleYearModel LIKE '%'+#WHERE_POD_VehicleYearModel#+'%'</isNotEmpty>
        <!--变速类型-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleGearboxType">POD_VehicleGearboxType LIKE '%'+#WHERE_POD_VehicleGearboxType#+'%'</isNotEmpty>
        <!--进货仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_WH_ID">POD_WH_ID LIKE '%'+#WHERE_POD_WH_ID#+'%'</isNotEmpty>
        <!--进货仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_WHB_ID">POD_WHB_ID LIKE '%'+#WHERE_POD_WHB_ID#+'%'</isNotEmpty>
        <!--订货数量-->
        <isNotNull prepend="AND" property="WHERE_POD_OrderQty">POD_OrderQty=#WHERE_POD_OrderQty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_POD_ReceivedQty">POD_ReceivedQty=#WHERE_POD_ReceivedQty#</isNotNull>
        <!--订货单价-->
        <isNotNull prepend="AND" property="WHERE_POD_UnitPrice">POD_UnitPrice=#WHERE_POD_UnitPrice#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_StatusCode">POD_StatusCode LIKE '%'+#WHERE_POD_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_POD_StatusName">POD_StatusName LIKE '%'+#WHERE_POD_StatusName#+'%'</isNotEmpty>
        <!--到货时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_POD_IsValid">POD_IsValid=#WHERE_POD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_POD_CreatedBy">POD_CreatedBy LIKE '%'+#WHERE_POD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_POD_UpdatedBy">POD_UpdatedBy LIKE '%'+#WHERE_POD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_POD_VersionNo">POD_VersionNo=#WHERE_POD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_TransID">POD_TransID LIKE '%'+#WHERE_POD_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      POD_ID,
      POD_PO_ID,
      POD_PO_No,
      POD_AutoPartsBarcode,
      POD_ThirdCode,
      POD_OEMCode,
      POD_AutoPartsName,
      POD_AutoPartsBrand,
      POD_AutoPartsSpec,
      POD_AutoPartsLevel,
      POD_UOM,
      POD_VehicleBrand,
      POD_VehicleInspire,
      POD_VehicleCapacity,
      POD_VehicleYearModel,
      POD_VehicleGearboxType,
      POD_WH_ID,
      POD_WHB_ID,
      POD_OrderQty,
      POD_ReceivedQty,
      POD_UnitPrice,
      POD_StatusCode,
      POD_StatusName,
      POD_ReceivedTime,
      POD_IsValid,
      POD_CreatedBy,
      POD_CreatedTime,
      POD_UpdatedBy,
      POD_UpdatedTime,
      POD_VersionNo,
      POD_TransID
      FROM PIS_PurchaseOrderDetail
      <dynamic prepend="WHERE">
        <!--采购订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_ID">POD_ID=#WHERE_POD_ID#</isNotEmpty>
        <!--采购订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_PO_ID">POD_PO_ID LIKE '%'+#WHERE_POD_PO_ID#+'%'</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_PO_No">POD_PO_No LIKE '%'+#WHERE_POD_PO_No#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsBarcode">POD_AutoPartsBarcode LIKE '%'+#WHERE_POD_AutoPartsBarcode#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_ThirdCode">POD_ThirdCode LIKE '%'+#WHERE_POD_ThirdCode#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_OEMCode">POD_OEMCode LIKE '%'+#WHERE_POD_OEMCode#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsName">POD_AutoPartsName LIKE '%'+#WHERE_POD_AutoPartsName#+'%'</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsBrand">POD_AutoPartsBrand LIKE '%'+#WHERE_POD_AutoPartsBrand#+'%'</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsSpec">POD_AutoPartsSpec LIKE '%'+#WHERE_POD_AutoPartsSpec#+'%'</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsLevel">POD_AutoPartsLevel LIKE '%'+#WHERE_POD_AutoPartsLevel#+'%'</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_POD_UOM">POD_UOM LIKE '%'+#WHERE_POD_UOM#+'%'</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleBrand">POD_VehicleBrand LIKE '%'+#WHERE_POD_VehicleBrand#+'%'</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleInspire">POD_VehicleInspire LIKE '%'+#WHERE_POD_VehicleInspire#+'%'</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleCapacity">POD_VehicleCapacity LIKE '%'+#WHERE_POD_VehicleCapacity#+'%'</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleYearModel">POD_VehicleYearModel LIKE '%'+#WHERE_POD_VehicleYearModel#+'%'</isNotEmpty>
        <!--变速类型-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleGearboxType">POD_VehicleGearboxType LIKE '%'+#WHERE_POD_VehicleGearboxType#+'%'</isNotEmpty>
        <!--进货仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_WH_ID">POD_WH_ID LIKE '%'+#WHERE_POD_WH_ID#+'%'</isNotEmpty>
        <!--进货仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_WHB_ID">POD_WHB_ID LIKE '%'+#WHERE_POD_WHB_ID#+'%'</isNotEmpty>
        <!--订货数量-->
        <isNotNull prepend="AND" property="WHERE_POD_OrderQty">POD_OrderQty=#WHERE_POD_OrderQty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_POD_ReceivedQty">POD_ReceivedQty=#WHERE_POD_ReceivedQty#</isNotNull>
        <!--订货单价-->
        <isNotNull prepend="AND" property="WHERE_POD_UnitPrice">POD_UnitPrice=#WHERE_POD_UnitPrice#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_StatusCode">POD_StatusCode LIKE '%'+#WHERE_POD_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_POD_StatusName">POD_StatusName LIKE '%'+#WHERE_POD_StatusName#+'%'</isNotEmpty>
        <!--到货时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_POD_IsValid">POD_IsValid=#WHERE_POD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_POD_CreatedBy">POD_CreatedBy LIKE '%'+#WHERE_POD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_POD_UpdatedBy">POD_UpdatedBy LIKE '%'+#WHERE_POD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_POD_VersionNo">POD_VersionNo=#WHERE_POD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_TransID">POD_TransID LIKE '%'+#WHERE_POD_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY POD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[采购订单明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_PurchaseOrderDetail" parameterClass="MDLPIS_PurchaseOrderDetail" resultClass="int">
      SELECT COUNT(POD_ID) 'RecordCount'
      FROM PIS_PurchaseOrderDetail
      <dynamic prepend="WHERE">
        <!--采购订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_ID">POD_ID=#WHERE_POD_ID#</isNotEmpty>
        <!--采购订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_PO_ID">POD_PO_ID=#WHERE_POD_PO_ID#</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_PO_No">POD_PO_No=#WHERE_POD_PO_No#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsBarcode">POD_AutoPartsBarcode=#WHERE_POD_AutoPartsBarcode#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_ThirdCode">POD_ThirdCode=#WHERE_POD_ThirdCode#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_OEMCode">POD_OEMCode=#WHERE_POD_OEMCode#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsName">POD_AutoPartsName=#WHERE_POD_AutoPartsName#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsBrand">POD_AutoPartsBrand=#WHERE_POD_AutoPartsBrand#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsSpec">POD_AutoPartsSpec=#WHERE_POD_AutoPartsSpec#</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsLevel">POD_AutoPartsLevel=#WHERE_POD_AutoPartsLevel#</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_POD_UOM">POD_UOM=#WHERE_POD_UOM#</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleBrand">POD_VehicleBrand=#WHERE_POD_VehicleBrand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleInspire">POD_VehicleInspire=#WHERE_POD_VehicleInspire#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleCapacity">POD_VehicleCapacity=#WHERE_POD_VehicleCapacity#</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleYearModel">POD_VehicleYearModel=#WHERE_POD_VehicleYearModel#</isNotEmpty>
        <!--变速类型-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleGearboxType">POD_VehicleGearboxType=#WHERE_POD_VehicleGearboxType#</isNotEmpty>
        <!--进货仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_WH_ID">POD_WH_ID=#WHERE_POD_WH_ID#</isNotEmpty>
        <!--进货仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_WHB_ID">POD_WHB_ID=#WHERE_POD_WHB_ID#</isNotEmpty>
        <!--订货数量-->
        <isNotNull prepend="AND" property="WHERE_POD_OrderQty">POD_OrderQty=#WHERE_POD_OrderQty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_POD_ReceivedQty">POD_ReceivedQty=#WHERE_POD_ReceivedQty#</isNotNull>
        <!--订货单价-->
        <isNotNull prepend="AND" property="WHERE_POD_UnitPrice">POD_UnitPrice=#WHERE_POD_UnitPrice#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_StatusCode">POD_StatusCode=#WHERE_POD_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_POD_StatusName">POD_StatusName=#WHERE_POD_StatusName#</isNotEmpty>
        <!--到货时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_POD_IsValid">POD_IsValid=#WHERE_POD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_POD_CreatedBy">POD_CreatedBy=#WHERE_POD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_POD_UpdatedBy">POD_UpdatedBy=#WHERE_POD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_POD_VersionNo">POD_VersionNo=#WHERE_POD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_TransID">POD_TransID=#WHERE_POD_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[采购订单明细]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_PurchaseOrderDetail" parameterClass="MDLPIS_PurchaseOrderDetail" >
      UPDATE PIS_PurchaseOrderDetail
      SET
      POD_UpdatedTime=GETDATE(),
      POD_VersionNo=POD_VersionNo+1
      <isNotEmpty prepend="," property="POD_PO_ID">POD_PO_ID=#POD_PO_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_PO_No">POD_PO_No=#POD_PO_No#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_AutoPartsBarcode">POD_AutoPartsBarcode=#POD_AutoPartsBarcode#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_ThirdCode">POD_ThirdCode=#POD_ThirdCode#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_OEMCode">POD_OEMCode=#POD_OEMCode#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_AutoPartsName">POD_AutoPartsName=#POD_AutoPartsName#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_AutoPartsBrand">POD_AutoPartsBrand=#POD_AutoPartsBrand#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_AutoPartsSpec">POD_AutoPartsSpec=#POD_AutoPartsSpec#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_AutoPartsLevel">POD_AutoPartsLevel=#POD_AutoPartsLevel#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_UOM">POD_UOM=#POD_UOM#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_VehicleBrand">POD_VehicleBrand=#POD_VehicleBrand#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_VehicleInspire">POD_VehicleInspire=#POD_VehicleInspire#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_VehicleCapacity">POD_VehicleCapacity=#POD_VehicleCapacity#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_VehicleYearModel">POD_VehicleYearModel=#POD_VehicleYearModel#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_VehicleGearboxType">POD_VehicleGearboxType=#POD_VehicleGearboxType#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_WH_ID">POD_WH_ID=#POD_WH_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_WHB_ID">POD_WHB_ID=#POD_WHB_ID#</isNotEmpty>
      <isNotNull prepend="," property="POD_OrderQty">POD_OrderQty=#POD_OrderQty#</isNotNull>
      <isNotNull prepend="," property="POD_ReceivedQty">POD_ReceivedQty=#POD_ReceivedQty#</isNotNull>
      <isNotNull prepend="," property="POD_UnitPrice">POD_UnitPrice=#POD_UnitPrice#</isNotNull>
      <isNotEmpty prepend="," property="POD_StatusCode">POD_StatusCode=#POD_StatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_StatusName">POD_StatusName=#POD_StatusName#</isNotEmpty>
      <isNotNull prepend="," property="POD_ReceivedTime">POD_ReceivedTime=#POD_ReceivedTime#</isNotNull>
      <isNotNull prepend="," property="POD_IsValid">POD_IsValid=#POD_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="POD_CreatedBy">POD_CreatedBy=#POD_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="POD_CreatedTime">POD_CreatedTime=#POD_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="POD_UpdatedBy">POD_UpdatedBy=#POD_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="POD_TransID">POD_TransID=#POD_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--采购订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_ID">POD_ID=#WHERE_POD_ID#</isNotEmpty>
        <!--采购订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_PO_ID">POD_PO_ID=#WHERE_POD_PO_ID#</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_PO_No">POD_PO_No=#WHERE_POD_PO_No#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsBarcode">POD_AutoPartsBarcode=#WHERE_POD_AutoPartsBarcode#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_ThirdCode">POD_ThirdCode=#WHERE_POD_ThirdCode#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_OEMCode">POD_OEMCode=#WHERE_POD_OEMCode#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsName">POD_AutoPartsName=#WHERE_POD_AutoPartsName#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsBrand">POD_AutoPartsBrand=#WHERE_POD_AutoPartsBrand#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsSpec">POD_AutoPartsSpec=#WHERE_POD_AutoPartsSpec#</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_POD_AutoPartsLevel">POD_AutoPartsLevel=#WHERE_POD_AutoPartsLevel#</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_POD_UOM">POD_UOM=#WHERE_POD_UOM#</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleBrand">POD_VehicleBrand=#WHERE_POD_VehicleBrand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleInspire">POD_VehicleInspire=#WHERE_POD_VehicleInspire#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleCapacity">POD_VehicleCapacity=#WHERE_POD_VehicleCapacity#</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleYearModel">POD_VehicleYearModel=#WHERE_POD_VehicleYearModel#</isNotEmpty>
        <!--变速类型-->
        <isNotEmpty prepend="AND" property="WHERE_POD_VehicleGearboxType">POD_VehicleGearboxType=#WHERE_POD_VehicleGearboxType#</isNotEmpty>
        <!--进货仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_WH_ID">POD_WH_ID=#WHERE_POD_WH_ID#</isNotEmpty>
        <!--进货仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_POD_WHB_ID">POD_WHB_ID=#WHERE_POD_WHB_ID#</isNotEmpty>
        <!--订货数量-->
        <isNotNull prepend="AND" property="WHERE_POD_OrderQty">POD_OrderQty=#WHERE_POD_OrderQty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_POD_ReceivedQty">POD_ReceivedQty=#WHERE_POD_ReceivedQty#</isNotNull>
        <!--订货单价-->
        <isNotNull prepend="AND" property="WHERE_POD_UnitPrice">POD_UnitPrice=#WHERE_POD_UnitPrice#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_POD_StatusCode">POD_StatusCode=#WHERE_POD_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_POD_StatusName">POD_StatusName=#WHERE_POD_StatusName#</isNotEmpty>
        <!--到货时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">POD_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_POD_IsValid">POD_IsValid=#WHERE_POD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_POD_CreatedBy">POD_CreatedBy=#WHERE_POD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">POD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_POD_UpdatedBy">POD_UpdatedBy=#WHERE_POD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">POD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_POD_VersionNo">POD_VersionNo=#WHERE_POD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_POD_TransID">POD_TransID=#WHERE_POD_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[采购订单明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_PurchaseOrderDetail" parameterClass="List">
      DELETE FROM PIS_PurchaseOrderDetail
      WHERE POD_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_POD_ID#
      </iterate>
    </delete>

    <!--新增[采购预测订单]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_PurchaseForecastOrder" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_PurchaseForecastOrder
        (
        <!--采购预测订单ID-->
        PFO_ID,
        <!--单号-->
        PFO_No,
        <!--组织ID-->
        PFO_Org_ID,
        <!--供应商ID-->
        PFO_SUPP_ID,
        <!--供应商名称-->
        PFO_SUPP_Name,
        <!--来源类型编码-->
        PFO_SourceTypeCode,
        <!--来源类型名称-->
        PFO_SourceTypeName,
        <!--订单总额-->
        PFO_TotalAmount,
        <!--单据状态编码-->
        PFO_StatusCode,
        <!--单据状态名称-->
        PFO_StatusName,
        <!--备注-->
        PFO_Remark,
        <!--有效-->
        PFO_IsValid,
        <!--创建人-->
        PFO_CreatedBy,
        <!--创建时间-->
        PFO_CreatedTime,
        <!--修改人-->
        PFO_UpdatedBy,
        <!--修改时间-->
        PFO_UpdatedTime,
        <!--版本号-->
        PFO_VersionNo,
        <!--事务编号-->
        PFO_TransID
        )
        VALUES
        (
        <!--采购预测订单ID-->
        #[].PFO_ID#,
        <!--单号-->
        #[].PFO_No#,
        <!--组织ID-->
        #[].PFO_Org_ID#,
        <!--供应商ID-->
        #[].PFO_SUPP_ID#,
        <!--供应商名称-->
        #[].PFO_SUPP_Name#,
        <!--来源类型编码-->
        #[].PFO_SourceTypeCode#,
        <!--来源类型名称-->
        #[].PFO_SourceTypeName#,
        <!--订单总额-->
        #[].PFO_TotalAmount#,
        <!--单据状态编码-->
        #[].PFO_StatusCode#,
        <!--单据状态名称-->
        #[].PFO_StatusName#,
        <!--备注-->
        #[].PFO_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].PFO_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].PFO_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].PFO_TransID#
        )
      </iterate>
    </insert>

    <!--查询[采购预测订单]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_PurchaseForecastOrder" parameterClass="MDLPIS_PurchaseForecastOrder" resultClass="MDLPIS_PurchaseForecastOrder">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(PFO_ID)
      FROM PIS_PurchaseForecastOrder
      <dynamic prepend="WHERE">
        <!--采购预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_ID">PFO_ID=#WHERE_PFO_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_No">PFO_No=#WHERE_PFO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_Org_ID">PFO_Org_ID=#WHERE_PFO_Org_ID#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SUPP_ID">PFO_SUPP_ID=#WHERE_PFO_SUPP_ID#</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SUPP_Name">PFO_SUPP_Name=#WHERE_PFO_SUPP_Name#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SourceTypeCode">PFO_SourceTypeCode=#WHERE_PFO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SourceTypeName">PFO_SourceTypeName=#WHERE_PFO_SourceTypeName#</isNotEmpty>
        <!--订单总额-->
        <isNotNull prepend="AND" property="WHERE_PFO_TotalAmount">PFO_TotalAmount=#WHERE_PFO_TotalAmount#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_StatusCode">PFO_StatusCode=#WHERE_PFO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_StatusName">PFO_StatusName=#WHERE_PFO_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_Remark">PFO_Remark=#WHERE_PFO_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PFO_IsValid">PFO_IsValid=#WHERE_PFO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_CreatedBy">PFO_CreatedBy=#WHERE_PFO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_UpdatedBy">PFO_UpdatedBy=#WHERE_PFO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PFO_VersionNo">PFO_VersionNo=#WHERE_PFO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_TransID">PFO_TransID=#WHERE_PFO_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      PFO_ID,
      PFO_No,
      PFO_Org_ID,
      PFO_SUPP_ID,
      PFO_SUPP_Name,
      PFO_SourceTypeCode,
      PFO_SourceTypeName,
      PFO_TotalAmount,
      PFO_StatusCode,
      PFO_StatusName,
      PFO_Remark,
      PFO_IsValid,
      PFO_CreatedBy,
      PFO_CreatedTime,
      PFO_UpdatedBy,
      PFO_UpdatedTime,
      PFO_VersionNo,
      PFO_TransID
      FROM PIS_PurchaseForecastOrder
      <dynamic prepend="WHERE">
        <!--采购预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_ID">PFO_ID=#WHERE_PFO_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_No">PFO_No=#WHERE_PFO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_Org_ID">PFO_Org_ID=#WHERE_PFO_Org_ID#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SUPP_ID">PFO_SUPP_ID=#WHERE_PFO_SUPP_ID#</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SUPP_Name">PFO_SUPP_Name=#WHERE_PFO_SUPP_Name#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SourceTypeCode">PFO_SourceTypeCode=#WHERE_PFO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SourceTypeName">PFO_SourceTypeName=#WHERE_PFO_SourceTypeName#</isNotEmpty>
        <!--订单总额-->
        <isNotNull prepend="AND" property="WHERE_PFO_TotalAmount">PFO_TotalAmount=#WHERE_PFO_TotalAmount#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_StatusCode">PFO_StatusCode=#WHERE_PFO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_StatusName">PFO_StatusName=#WHERE_PFO_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_Remark">PFO_Remark=#WHERE_PFO_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PFO_IsValid">PFO_IsValid=#WHERE_PFO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_CreatedBy">PFO_CreatedBy=#WHERE_PFO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_UpdatedBy">PFO_UpdatedBy=#WHERE_PFO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PFO_VersionNo">PFO_VersionNo=#WHERE_PFO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_TransID">PFO_TransID=#WHERE_PFO_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY PFO_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[采购预测订单]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_PurchaseForecastOrder" parameterClass="MDLPIS_PurchaseForecastOrder" resultClass="MDLPIS_PurchaseForecastOrder">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(PFO_ID)
      FROM PIS_PurchaseForecastOrder
      <dynamic prepend="WHERE">
        <!--采购预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_ID">PFO_ID=#WHERE_PFO_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_No">PFO_No LIKE '%'+#WHERE_PFO_No#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_Org_ID">PFO_Org_ID LIKE '%'+#WHERE_PFO_Org_ID#+'%'</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SUPP_ID">PFO_SUPP_ID LIKE '%'+#WHERE_PFO_SUPP_ID#+'%'</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SUPP_Name">PFO_SUPP_Name LIKE '%'+#WHERE_PFO_SUPP_Name#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SourceTypeCode">PFO_SourceTypeCode LIKE '%'+#WHERE_PFO_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SourceTypeName">PFO_SourceTypeName LIKE '%'+#WHERE_PFO_SourceTypeName#+'%'</isNotEmpty>
        <!--订单总额-->
        <isNotNull prepend="AND" property="WHERE_PFO_TotalAmount">PFO_TotalAmount=#WHERE_PFO_TotalAmount#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_StatusCode">PFO_StatusCode LIKE '%'+#WHERE_PFO_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_StatusName">PFO_StatusName LIKE '%'+#WHERE_PFO_StatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_Remark">PFO_Remark LIKE '%'+#WHERE_PFO_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PFO_IsValid">PFO_IsValid=#WHERE_PFO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_CreatedBy">PFO_CreatedBy LIKE '%'+#WHERE_PFO_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_UpdatedBy">PFO_UpdatedBy LIKE '%'+#WHERE_PFO_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PFO_VersionNo">PFO_VersionNo=#WHERE_PFO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_TransID">PFO_TransID LIKE '%'+#WHERE_PFO_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      PFO_ID,
      PFO_No,
      PFO_Org_ID,
      PFO_SUPP_ID,
      PFO_SUPP_Name,
      PFO_SourceTypeCode,
      PFO_SourceTypeName,
      PFO_TotalAmount,
      PFO_StatusCode,
      PFO_StatusName,
      PFO_Remark,
      PFO_IsValid,
      PFO_CreatedBy,
      PFO_CreatedTime,
      PFO_UpdatedBy,
      PFO_UpdatedTime,
      PFO_VersionNo,
      PFO_TransID
      FROM PIS_PurchaseForecastOrder
      <dynamic prepend="WHERE">
        <!--采购预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_ID">PFO_ID=#WHERE_PFO_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_No">PFO_No LIKE '%'+#WHERE_PFO_No#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_Org_ID">PFO_Org_ID LIKE '%'+#WHERE_PFO_Org_ID#+'%'</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SUPP_ID">PFO_SUPP_ID LIKE '%'+#WHERE_PFO_SUPP_ID#+'%'</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SUPP_Name">PFO_SUPP_Name LIKE '%'+#WHERE_PFO_SUPP_Name#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SourceTypeCode">PFO_SourceTypeCode LIKE '%'+#WHERE_PFO_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SourceTypeName">PFO_SourceTypeName LIKE '%'+#WHERE_PFO_SourceTypeName#+'%'</isNotEmpty>
        <!--订单总额-->
        <isNotNull prepend="AND" property="WHERE_PFO_TotalAmount">PFO_TotalAmount=#WHERE_PFO_TotalAmount#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_StatusCode">PFO_StatusCode LIKE '%'+#WHERE_PFO_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_StatusName">PFO_StatusName LIKE '%'+#WHERE_PFO_StatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_Remark">PFO_Remark LIKE '%'+#WHERE_PFO_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PFO_IsValid">PFO_IsValid=#WHERE_PFO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_CreatedBy">PFO_CreatedBy LIKE '%'+#WHERE_PFO_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_UpdatedBy">PFO_UpdatedBy LIKE '%'+#WHERE_PFO_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PFO_VersionNo">PFO_VersionNo=#WHERE_PFO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_TransID">PFO_TransID LIKE '%'+#WHERE_PFO_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY PFO_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[采购预测订单]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_PurchaseForecastOrder" parameterClass="MDLPIS_PurchaseForecastOrder" resultClass="int">
      SELECT COUNT(PFO_ID) 'RecordCount'
      FROM PIS_PurchaseForecastOrder
      <dynamic prepend="WHERE">
        <!--采购预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_ID">PFO_ID=#WHERE_PFO_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_No">PFO_No=#WHERE_PFO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_Org_ID">PFO_Org_ID=#WHERE_PFO_Org_ID#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SUPP_ID">PFO_SUPP_ID=#WHERE_PFO_SUPP_ID#</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SUPP_Name">PFO_SUPP_Name=#WHERE_PFO_SUPP_Name#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SourceTypeCode">PFO_SourceTypeCode=#WHERE_PFO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SourceTypeName">PFO_SourceTypeName=#WHERE_PFO_SourceTypeName#</isNotEmpty>
        <!--订单总额-->
        <isNotNull prepend="AND" property="WHERE_PFO_TotalAmount">PFO_TotalAmount=#WHERE_PFO_TotalAmount#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_StatusCode">PFO_StatusCode=#WHERE_PFO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_StatusName">PFO_StatusName=#WHERE_PFO_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_Remark">PFO_Remark=#WHERE_PFO_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PFO_IsValid">PFO_IsValid=#WHERE_PFO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_CreatedBy">PFO_CreatedBy=#WHERE_PFO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_UpdatedBy">PFO_UpdatedBy=#WHERE_PFO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PFO_VersionNo">PFO_VersionNo=#WHERE_PFO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_TransID">PFO_TransID=#WHERE_PFO_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[采购预测订单]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_PurchaseForecastOrder" parameterClass="MDLPIS_PurchaseForecastOrder" >
      UPDATE PIS_PurchaseForecastOrder
      SET
      PFO_UpdatedTime=GETDATE(),
      PFO_VersionNo=PFO_VersionNo+1
      <isNotEmpty prepend="," property="PFO_No">PFO_No=#PFO_No#</isNotEmpty>
      <isNotEmpty prepend="," property="PFO_Org_ID">PFO_Org_ID=#PFO_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="PFO_SUPP_ID">PFO_SUPP_ID=#PFO_SUPP_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="PFO_SUPP_Name">PFO_SUPP_Name=#PFO_SUPP_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="PFO_SourceTypeCode">PFO_SourceTypeCode=#PFO_SourceTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="PFO_SourceTypeName">PFO_SourceTypeName=#PFO_SourceTypeName#</isNotEmpty>
      <isNotNull prepend="," property="PFO_TotalAmount">PFO_TotalAmount=#PFO_TotalAmount#</isNotNull>
      <isNotEmpty prepend="," property="PFO_StatusCode">PFO_StatusCode=#PFO_StatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="PFO_StatusName">PFO_StatusName=#PFO_StatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="PFO_Remark">PFO_Remark=#PFO_Remark#</isNotEmpty>
      <isNotNull prepend="," property="PFO_IsValid">PFO_IsValid=#PFO_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="PFO_CreatedBy">PFO_CreatedBy=#PFO_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="PFO_CreatedTime">PFO_CreatedTime=#PFO_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="PFO_UpdatedBy">PFO_UpdatedBy=#PFO_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="PFO_TransID">PFO_TransID=#PFO_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--采购预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_ID">PFO_ID=#WHERE_PFO_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_No">PFO_No=#WHERE_PFO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_Org_ID">PFO_Org_ID=#WHERE_PFO_Org_ID#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SUPP_ID">PFO_SUPP_ID=#WHERE_PFO_SUPP_ID#</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SUPP_Name">PFO_SUPP_Name=#WHERE_PFO_SUPP_Name#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SourceTypeCode">PFO_SourceTypeCode=#WHERE_PFO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_SourceTypeName">PFO_SourceTypeName=#WHERE_PFO_SourceTypeName#</isNotEmpty>
        <!--订单总额-->
        <isNotNull prepend="AND" property="WHERE_PFO_TotalAmount">PFO_TotalAmount=#WHERE_PFO_TotalAmount#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_StatusCode">PFO_StatusCode=#WHERE_PFO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_StatusName">PFO_StatusName=#WHERE_PFO_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_Remark">PFO_Remark=#WHERE_PFO_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PFO_IsValid">PFO_IsValid=#WHERE_PFO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_CreatedBy">PFO_CreatedBy=#WHERE_PFO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_UpdatedBy">PFO_UpdatedBy=#WHERE_PFO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PFO_VersionNo">PFO_VersionNo=#WHERE_PFO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PFO_TransID">PFO_TransID=#WHERE_PFO_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[采购预测订单]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_PurchaseForecastOrder" parameterClass="List">
      DELETE FROM PIS_PurchaseForecastOrder
      WHERE PFO_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_PFO_ID#
      </iterate>
    </delete>

    <!--新增[采购预测订单明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_PurchaseForecastOrderDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_PurchaseForecastOrderDetail
        (
        <!--采购预测订单明细ID-->
        PFOD_ID,
        <!--采购预测订单ID-->
        PFOD_PFO_ID,
        <!--订单号-->
        PFOD_PFO_No,
        <!--配件条码-->
        PFOD_AutoPartsBarcode,
        <!--第三方编码-->
        PFOD_ThirdCode,
        <!--原厂编码-->
        PFOD_OEMCode,
        <!--配件名称-->
        PFOD_AutoPartsName,
        <!--配件品牌-->
        PFOD_AutoPartsBrand,
        <!--规格型号-->
        PFOD_AutoPartsSpec,
        <!--配件级别-->
        PFOD_AutoPartsLevel,
        <!--计量单位-->
        PFOD_UOM,
        <!--汽车品牌-->
        PFOD_VehicleBrand,
        <!--车系-->
        PFOD_VehicleInspire,
        <!--排量-->
        PFOD_VehicleCapacity,
        <!--年款-->
        PFOD_VehicleYearModel,
        <!--变速类型-->
        PFOD_VehicleGearboxType,
        <!--数量-->
        PFOD_Qty,
        <!--最后一次采购单价-->
        PFOD_LastUnitPrice,
        <!--有效-->
        PFOD_IsValid,
        <!--创建人-->
        PFOD_CreatedBy,
        <!--创建时间-->
        PFOD_CreatedTime,
        <!--修改人-->
        PFOD_UpdatedBy,
        <!--修改时间-->
        PFOD_UpdatedTime,
        <!--版本号-->
        PFOD_VersionNo,
        <!--事务编号-->
        PFOD_TransID
        )
        VALUES
        (
        <!--采购预测订单明细ID-->
        #[].PFOD_ID#,
        <!--采购预测订单ID-->
        #[].PFOD_PFO_ID#,
        <!--订单号-->
        #[].PFOD_PFO_No#,
        <!--配件条码-->
        #[].PFOD_AutoPartsBarcode#,
        <!--第三方编码-->
        #[].PFOD_ThirdCode#,
        <!--原厂编码-->
        #[].PFOD_OEMCode#,
        <!--配件名称-->
        #[].PFOD_AutoPartsName#,
        <!--配件品牌-->
        #[].PFOD_AutoPartsBrand#,
        <!--规格型号-->
        #[].PFOD_AutoPartsSpec#,
        <!--配件级别-->
        #[].PFOD_AutoPartsLevel#,
        <!--计量单位-->
        #[].PFOD_UOM#,
        <!--汽车品牌-->
        #[].PFOD_VehicleBrand#,
        <!--车系-->
        #[].PFOD_VehicleInspire#,
        <!--排量-->
        #[].PFOD_VehicleCapacity#,
        <!--年款-->
        #[].PFOD_VehicleYearModel#,
        <!--变速类型-->
        #[].PFOD_VehicleGearboxType#,
        <!--数量-->
        #[].PFOD_Qty#,
        <!--最后一次采购单价-->
        #[].PFOD_LastUnitPrice#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].PFOD_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].PFOD_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].PFOD_TransID#
        )
      </iterate>
    </insert>

    <!--查询[采购预测订单明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_PurchaseForecastOrderDetail" parameterClass="MDLPIS_PurchaseForecastOrderDetail" resultClass="MDLPIS_PurchaseForecastOrderDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(PFOD_ID)
      FROM PIS_PurchaseForecastOrderDetail
      <dynamic prepend="WHERE">
        <!--采购预测订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_ID">PFOD_ID=#WHERE_PFOD_ID#</isNotEmpty>
        <!--采购预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_PFO_ID">PFOD_PFO_ID=#WHERE_PFOD_PFO_ID#</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_PFO_No">PFOD_PFO_No=#WHERE_PFOD_PFO_No#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsBarcode">PFOD_AutoPartsBarcode=#WHERE_PFOD_AutoPartsBarcode#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_ThirdCode">PFOD_ThirdCode=#WHERE_PFOD_ThirdCode#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_OEMCode">PFOD_OEMCode=#WHERE_PFOD_OEMCode#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsName">PFOD_AutoPartsName=#WHERE_PFOD_AutoPartsName#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsBrand">PFOD_AutoPartsBrand=#WHERE_PFOD_AutoPartsBrand#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsSpec">PFOD_AutoPartsSpec=#WHERE_PFOD_AutoPartsSpec#</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsLevel">PFOD_AutoPartsLevel=#WHERE_PFOD_AutoPartsLevel#</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_UOM">PFOD_UOM=#WHERE_PFOD_UOM#</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleBrand">PFOD_VehicleBrand=#WHERE_PFOD_VehicleBrand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleInspire">PFOD_VehicleInspire=#WHERE_PFOD_VehicleInspire#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleCapacity">PFOD_VehicleCapacity=#WHERE_PFOD_VehicleCapacity#</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleYearModel">PFOD_VehicleYearModel=#WHERE_PFOD_VehicleYearModel#</isNotEmpty>
        <!--变速类型-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleGearboxType">PFOD_VehicleGearboxType=#WHERE_PFOD_VehicleGearboxType#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_PFOD_Qty">PFOD_Qty=#WHERE_PFOD_Qty#</isNotNull>
        <!--最后一次采购单价-->
        <isNotNull prepend="AND" property="WHERE_PFOD_LastUnitPrice">PFOD_LastUnitPrice=#WHERE_PFOD_LastUnitPrice#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PFOD_IsValid">PFOD_IsValid=#WHERE_PFOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_CreatedBy">PFOD_CreatedBy=#WHERE_PFOD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_UpdatedBy">PFOD_UpdatedBy=#WHERE_PFOD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PFOD_VersionNo">PFOD_VersionNo=#WHERE_PFOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_TransID">PFOD_TransID=#WHERE_PFOD_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      PFOD_ID,
      PFOD_PFO_ID,
      PFOD_PFO_No,
      PFOD_AutoPartsBarcode,
      PFOD_ThirdCode,
      PFOD_OEMCode,
      PFOD_AutoPartsName,
      PFOD_AutoPartsBrand,
      PFOD_AutoPartsSpec,
      PFOD_AutoPartsLevel,
      PFOD_UOM,
      PFOD_VehicleBrand,
      PFOD_VehicleInspire,
      PFOD_VehicleCapacity,
      PFOD_VehicleYearModel,
      PFOD_VehicleGearboxType,
      PFOD_Qty,
      PFOD_LastUnitPrice,
      PFOD_IsValid,
      PFOD_CreatedBy,
      PFOD_CreatedTime,
      PFOD_UpdatedBy,
      PFOD_UpdatedTime,
      PFOD_VersionNo,
      PFOD_TransID
      FROM PIS_PurchaseForecastOrderDetail
      <dynamic prepend="WHERE">
        <!--采购预测订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_ID">PFOD_ID=#WHERE_PFOD_ID#</isNotEmpty>
        <!--采购预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_PFO_ID">PFOD_PFO_ID=#WHERE_PFOD_PFO_ID#</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_PFO_No">PFOD_PFO_No=#WHERE_PFOD_PFO_No#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsBarcode">PFOD_AutoPartsBarcode=#WHERE_PFOD_AutoPartsBarcode#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_ThirdCode">PFOD_ThirdCode=#WHERE_PFOD_ThirdCode#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_OEMCode">PFOD_OEMCode=#WHERE_PFOD_OEMCode#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsName">PFOD_AutoPartsName=#WHERE_PFOD_AutoPartsName#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsBrand">PFOD_AutoPartsBrand=#WHERE_PFOD_AutoPartsBrand#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsSpec">PFOD_AutoPartsSpec=#WHERE_PFOD_AutoPartsSpec#</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsLevel">PFOD_AutoPartsLevel=#WHERE_PFOD_AutoPartsLevel#</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_UOM">PFOD_UOM=#WHERE_PFOD_UOM#</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleBrand">PFOD_VehicleBrand=#WHERE_PFOD_VehicleBrand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleInspire">PFOD_VehicleInspire=#WHERE_PFOD_VehicleInspire#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleCapacity">PFOD_VehicleCapacity=#WHERE_PFOD_VehicleCapacity#</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleYearModel">PFOD_VehicleYearModel=#WHERE_PFOD_VehicleYearModel#</isNotEmpty>
        <!--变速类型-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleGearboxType">PFOD_VehicleGearboxType=#WHERE_PFOD_VehicleGearboxType#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_PFOD_Qty">PFOD_Qty=#WHERE_PFOD_Qty#</isNotNull>
        <!--最后一次采购单价-->
        <isNotNull prepend="AND" property="WHERE_PFOD_LastUnitPrice">PFOD_LastUnitPrice=#WHERE_PFOD_LastUnitPrice#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PFOD_IsValid">PFOD_IsValid=#WHERE_PFOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_CreatedBy">PFOD_CreatedBy=#WHERE_PFOD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_UpdatedBy">PFOD_UpdatedBy=#WHERE_PFOD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PFOD_VersionNo">PFOD_VersionNo=#WHERE_PFOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_TransID">PFOD_TransID=#WHERE_PFOD_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY PFOD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[采购预测订单明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_PurchaseForecastOrderDetail" parameterClass="MDLPIS_PurchaseForecastOrderDetail" resultClass="MDLPIS_PurchaseForecastOrderDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(PFOD_ID)
      FROM PIS_PurchaseForecastOrderDetail
      <dynamic prepend="WHERE">
        <!--采购预测订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_ID">PFOD_ID=#WHERE_PFOD_ID#</isNotEmpty>
        <!--采购预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_PFO_ID">PFOD_PFO_ID LIKE '%'+#WHERE_PFOD_PFO_ID#+'%'</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_PFO_No">PFOD_PFO_No LIKE '%'+#WHERE_PFOD_PFO_No#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsBarcode">PFOD_AutoPartsBarcode LIKE '%'+#WHERE_PFOD_AutoPartsBarcode#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_ThirdCode">PFOD_ThirdCode LIKE '%'+#WHERE_PFOD_ThirdCode#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_OEMCode">PFOD_OEMCode LIKE '%'+#WHERE_PFOD_OEMCode#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsName">PFOD_AutoPartsName LIKE '%'+#WHERE_PFOD_AutoPartsName#+'%'</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsBrand">PFOD_AutoPartsBrand LIKE '%'+#WHERE_PFOD_AutoPartsBrand#+'%'</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsSpec">PFOD_AutoPartsSpec LIKE '%'+#WHERE_PFOD_AutoPartsSpec#+'%'</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsLevel">PFOD_AutoPartsLevel LIKE '%'+#WHERE_PFOD_AutoPartsLevel#+'%'</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_UOM">PFOD_UOM LIKE '%'+#WHERE_PFOD_UOM#+'%'</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleBrand">PFOD_VehicleBrand LIKE '%'+#WHERE_PFOD_VehicleBrand#+'%'</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleInspire">PFOD_VehicleInspire LIKE '%'+#WHERE_PFOD_VehicleInspire#+'%'</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleCapacity">PFOD_VehicleCapacity LIKE '%'+#WHERE_PFOD_VehicleCapacity#+'%'</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleYearModel">PFOD_VehicleYearModel LIKE '%'+#WHERE_PFOD_VehicleYearModel#+'%'</isNotEmpty>
        <!--变速类型-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleGearboxType">PFOD_VehicleGearboxType LIKE '%'+#WHERE_PFOD_VehicleGearboxType#+'%'</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_PFOD_Qty">PFOD_Qty=#WHERE_PFOD_Qty#</isNotNull>
        <!--最后一次采购单价-->
        <isNotNull prepend="AND" property="WHERE_PFOD_LastUnitPrice">PFOD_LastUnitPrice=#WHERE_PFOD_LastUnitPrice#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PFOD_IsValid">PFOD_IsValid=#WHERE_PFOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_CreatedBy">PFOD_CreatedBy LIKE '%'+#WHERE_PFOD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_UpdatedBy">PFOD_UpdatedBy LIKE '%'+#WHERE_PFOD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PFOD_VersionNo">PFOD_VersionNo=#WHERE_PFOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_TransID">PFOD_TransID LIKE '%'+#WHERE_PFOD_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      PFOD_ID,
      PFOD_PFO_ID,
      PFOD_PFO_No,
      PFOD_AutoPartsBarcode,
      PFOD_ThirdCode,
      PFOD_OEMCode,
      PFOD_AutoPartsName,
      PFOD_AutoPartsBrand,
      PFOD_AutoPartsSpec,
      PFOD_AutoPartsLevel,
      PFOD_UOM,
      PFOD_VehicleBrand,
      PFOD_VehicleInspire,
      PFOD_VehicleCapacity,
      PFOD_VehicleYearModel,
      PFOD_VehicleGearboxType,
      PFOD_Qty,
      PFOD_LastUnitPrice,
      PFOD_IsValid,
      PFOD_CreatedBy,
      PFOD_CreatedTime,
      PFOD_UpdatedBy,
      PFOD_UpdatedTime,
      PFOD_VersionNo,
      PFOD_TransID
      FROM PIS_PurchaseForecastOrderDetail
      <dynamic prepend="WHERE">
        <!--采购预测订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_ID">PFOD_ID=#WHERE_PFOD_ID#</isNotEmpty>
        <!--采购预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_PFO_ID">PFOD_PFO_ID LIKE '%'+#WHERE_PFOD_PFO_ID#+'%'</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_PFO_No">PFOD_PFO_No LIKE '%'+#WHERE_PFOD_PFO_No#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsBarcode">PFOD_AutoPartsBarcode LIKE '%'+#WHERE_PFOD_AutoPartsBarcode#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_ThirdCode">PFOD_ThirdCode LIKE '%'+#WHERE_PFOD_ThirdCode#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_OEMCode">PFOD_OEMCode LIKE '%'+#WHERE_PFOD_OEMCode#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsName">PFOD_AutoPartsName LIKE '%'+#WHERE_PFOD_AutoPartsName#+'%'</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsBrand">PFOD_AutoPartsBrand LIKE '%'+#WHERE_PFOD_AutoPartsBrand#+'%'</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsSpec">PFOD_AutoPartsSpec LIKE '%'+#WHERE_PFOD_AutoPartsSpec#+'%'</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsLevel">PFOD_AutoPartsLevel LIKE '%'+#WHERE_PFOD_AutoPartsLevel#+'%'</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_UOM">PFOD_UOM LIKE '%'+#WHERE_PFOD_UOM#+'%'</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleBrand">PFOD_VehicleBrand LIKE '%'+#WHERE_PFOD_VehicleBrand#+'%'</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleInspire">PFOD_VehicleInspire LIKE '%'+#WHERE_PFOD_VehicleInspire#+'%'</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleCapacity">PFOD_VehicleCapacity LIKE '%'+#WHERE_PFOD_VehicleCapacity#+'%'</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleYearModel">PFOD_VehicleYearModel LIKE '%'+#WHERE_PFOD_VehicleYearModel#+'%'</isNotEmpty>
        <!--变速类型-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleGearboxType">PFOD_VehicleGearboxType LIKE '%'+#WHERE_PFOD_VehicleGearboxType#+'%'</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_PFOD_Qty">PFOD_Qty=#WHERE_PFOD_Qty#</isNotNull>
        <!--最后一次采购单价-->
        <isNotNull prepend="AND" property="WHERE_PFOD_LastUnitPrice">PFOD_LastUnitPrice=#WHERE_PFOD_LastUnitPrice#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PFOD_IsValid">PFOD_IsValid=#WHERE_PFOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_CreatedBy">PFOD_CreatedBy LIKE '%'+#WHERE_PFOD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_UpdatedBy">PFOD_UpdatedBy LIKE '%'+#WHERE_PFOD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PFOD_VersionNo">PFOD_VersionNo=#WHERE_PFOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_TransID">PFOD_TransID LIKE '%'+#WHERE_PFOD_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY PFOD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[采购预测订单明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_PurchaseForecastOrderDetail" parameterClass="MDLPIS_PurchaseForecastOrderDetail" resultClass="int">
      SELECT COUNT(PFOD_ID) 'RecordCount'
      FROM PIS_PurchaseForecastOrderDetail
      <dynamic prepend="WHERE">
        <!--采购预测订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_ID">PFOD_ID=#WHERE_PFOD_ID#</isNotEmpty>
        <!--采购预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_PFO_ID">PFOD_PFO_ID=#WHERE_PFOD_PFO_ID#</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_PFO_No">PFOD_PFO_No=#WHERE_PFOD_PFO_No#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsBarcode">PFOD_AutoPartsBarcode=#WHERE_PFOD_AutoPartsBarcode#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_ThirdCode">PFOD_ThirdCode=#WHERE_PFOD_ThirdCode#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_OEMCode">PFOD_OEMCode=#WHERE_PFOD_OEMCode#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsName">PFOD_AutoPartsName=#WHERE_PFOD_AutoPartsName#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsBrand">PFOD_AutoPartsBrand=#WHERE_PFOD_AutoPartsBrand#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsSpec">PFOD_AutoPartsSpec=#WHERE_PFOD_AutoPartsSpec#</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsLevel">PFOD_AutoPartsLevel=#WHERE_PFOD_AutoPartsLevel#</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_UOM">PFOD_UOM=#WHERE_PFOD_UOM#</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleBrand">PFOD_VehicleBrand=#WHERE_PFOD_VehicleBrand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleInspire">PFOD_VehicleInspire=#WHERE_PFOD_VehicleInspire#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleCapacity">PFOD_VehicleCapacity=#WHERE_PFOD_VehicleCapacity#</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleYearModel">PFOD_VehicleYearModel=#WHERE_PFOD_VehicleYearModel#</isNotEmpty>
        <!--变速类型-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleGearboxType">PFOD_VehicleGearboxType=#WHERE_PFOD_VehicleGearboxType#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_PFOD_Qty">PFOD_Qty=#WHERE_PFOD_Qty#</isNotNull>
        <!--最后一次采购单价-->
        <isNotNull prepend="AND" property="WHERE_PFOD_LastUnitPrice">PFOD_LastUnitPrice=#WHERE_PFOD_LastUnitPrice#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PFOD_IsValid">PFOD_IsValid=#WHERE_PFOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_CreatedBy">PFOD_CreatedBy=#WHERE_PFOD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_UpdatedBy">PFOD_UpdatedBy=#WHERE_PFOD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PFOD_VersionNo">PFOD_VersionNo=#WHERE_PFOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_TransID">PFOD_TransID=#WHERE_PFOD_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[采购预测订单明细]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_PurchaseForecastOrderDetail" parameterClass="MDLPIS_PurchaseForecastOrderDetail" >
      UPDATE PIS_PurchaseForecastOrderDetail
      SET
      PFOD_UpdatedTime=GETDATE(),
      PFOD_VersionNo=PFOD_VersionNo+1
      <isNotEmpty prepend="," property="PFOD_PFO_ID">PFOD_PFO_ID=#PFOD_PFO_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="PFOD_PFO_No">PFOD_PFO_No=#PFOD_PFO_No#</isNotEmpty>
      <isNotEmpty prepend="," property="PFOD_AutoPartsBarcode">PFOD_AutoPartsBarcode=#PFOD_AutoPartsBarcode#</isNotEmpty>
      <isNotEmpty prepend="," property="PFOD_ThirdCode">PFOD_ThirdCode=#PFOD_ThirdCode#</isNotEmpty>
      <isNotEmpty prepend="," property="PFOD_OEMCode">PFOD_OEMCode=#PFOD_OEMCode#</isNotEmpty>
      <isNotEmpty prepend="," property="PFOD_AutoPartsName">PFOD_AutoPartsName=#PFOD_AutoPartsName#</isNotEmpty>
      <isNotEmpty prepend="," property="PFOD_AutoPartsBrand">PFOD_AutoPartsBrand=#PFOD_AutoPartsBrand#</isNotEmpty>
      <isNotEmpty prepend="," property="PFOD_AutoPartsSpec">PFOD_AutoPartsSpec=#PFOD_AutoPartsSpec#</isNotEmpty>
      <isNotEmpty prepend="," property="PFOD_AutoPartsLevel">PFOD_AutoPartsLevel=#PFOD_AutoPartsLevel#</isNotEmpty>
      <isNotEmpty prepend="," property="PFOD_UOM">PFOD_UOM=#PFOD_UOM#</isNotEmpty>
      <isNotEmpty prepend="," property="PFOD_VehicleBrand">PFOD_VehicleBrand=#PFOD_VehicleBrand#</isNotEmpty>
      <isNotEmpty prepend="," property="PFOD_VehicleInspire">PFOD_VehicleInspire=#PFOD_VehicleInspire#</isNotEmpty>
      <isNotEmpty prepend="," property="PFOD_VehicleCapacity">PFOD_VehicleCapacity=#PFOD_VehicleCapacity#</isNotEmpty>
      <isNotEmpty prepend="," property="PFOD_VehicleYearModel">PFOD_VehicleYearModel=#PFOD_VehicleYearModel#</isNotEmpty>
      <isNotEmpty prepend="," property="PFOD_VehicleGearboxType">PFOD_VehicleGearboxType=#PFOD_VehicleGearboxType#</isNotEmpty>
      <isNotNull prepend="," property="PFOD_Qty">PFOD_Qty=#PFOD_Qty#</isNotNull>
      <isNotNull prepend="," property="PFOD_LastUnitPrice">PFOD_LastUnitPrice=#PFOD_LastUnitPrice#</isNotNull>
      <isNotNull prepend="," property="PFOD_IsValid">PFOD_IsValid=#PFOD_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="PFOD_CreatedBy">PFOD_CreatedBy=#PFOD_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="PFOD_CreatedTime">PFOD_CreatedTime=#PFOD_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="PFOD_UpdatedBy">PFOD_UpdatedBy=#PFOD_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="PFOD_TransID">PFOD_TransID=#PFOD_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--采购预测订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_ID">PFOD_ID=#WHERE_PFOD_ID#</isNotEmpty>
        <!--采购预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_PFO_ID">PFOD_PFO_ID=#WHERE_PFOD_PFO_ID#</isNotEmpty>
        <!--订单号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_PFO_No">PFOD_PFO_No=#WHERE_PFOD_PFO_No#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsBarcode">PFOD_AutoPartsBarcode=#WHERE_PFOD_AutoPartsBarcode#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_ThirdCode">PFOD_ThirdCode=#WHERE_PFOD_ThirdCode#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_OEMCode">PFOD_OEMCode=#WHERE_PFOD_OEMCode#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsName">PFOD_AutoPartsName=#WHERE_PFOD_AutoPartsName#</isNotEmpty>
        <!--配件品牌-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsBrand">PFOD_AutoPartsBrand=#WHERE_PFOD_AutoPartsBrand#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsSpec">PFOD_AutoPartsSpec=#WHERE_PFOD_AutoPartsSpec#</isNotEmpty>
        <!--配件级别-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_AutoPartsLevel">PFOD_AutoPartsLevel=#WHERE_PFOD_AutoPartsLevel#</isNotEmpty>
        <!--计量单位-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_UOM">PFOD_UOM=#WHERE_PFOD_UOM#</isNotEmpty>
        <!--汽车品牌-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleBrand">PFOD_VehicleBrand=#WHERE_PFOD_VehicleBrand#</isNotEmpty>
        <!--车系-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleInspire">PFOD_VehicleInspire=#WHERE_PFOD_VehicleInspire#</isNotEmpty>
        <!--排量-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleCapacity">PFOD_VehicleCapacity=#WHERE_PFOD_VehicleCapacity#</isNotEmpty>
        <!--年款-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleYearModel">PFOD_VehicleYearModel=#WHERE_PFOD_VehicleYearModel#</isNotEmpty>
        <!--变速类型-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_VehicleGearboxType">PFOD_VehicleGearboxType=#WHERE_PFOD_VehicleGearboxType#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_PFOD_Qty">PFOD_Qty=#WHERE_PFOD_Qty#</isNotNull>
        <!--最后一次采购单价-->
        <isNotNull prepend="AND" property="WHERE_PFOD_LastUnitPrice">PFOD_LastUnitPrice=#WHERE_PFOD_LastUnitPrice#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PFOD_IsValid">PFOD_IsValid=#WHERE_PFOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_CreatedBy">PFOD_CreatedBy=#WHERE_PFOD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PFOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_UpdatedBy">PFOD_UpdatedBy=#WHERE_PFOD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PFOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PFOD_VersionNo">PFOD_VersionNo=#WHERE_PFOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PFOD_TransID">PFOD_TransID=#WHERE_PFOD_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[采购预测订单明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_PurchaseForecastOrderDetail" parameterClass="List">
      DELETE FROM PIS_PurchaseForecastOrderDetail
      WHERE PFOD_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_PFOD_ID#
      </iterate>
    </delete>

    <!--新增[仓库]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_Warehouse" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_Warehouse
        (
        <!--仓库ID-->
        WH_ID,
        <!--仓库编号-->
        WH_No,
        <!--仓库名称-->
        WH_Name,
        <!--组织ID-->
        WH_Org_ID,
        <!--仓库地址-->
        WH_Address,
        <!--仓库描述-->
        WH_Description,
        <!--有效-->
        WH_IsValid,
        <!--创建人-->
        WH_CreatedBy,
        <!--创建时间-->
        WH_CreatedTime,
        <!--修改人-->
        WH_UpdatedBy,
        <!--修改时间-->
        WH_UpdatedTime,
        <!--版本号-->
        WH_VersionNo,
        <!--事务编号-->
        WH_TransID
        )
        VALUES
        (
        <!--仓库ID-->
        #[].WH_ID#,
        <!--仓库编号-->
        #[].WH_No#,
        <!--仓库名称-->
        #[].WH_Name#,
        <!--组织ID-->
        #[].WH_Org_ID#,
        <!--仓库地址-->
        #[].WH_Address#,
        <!--仓库描述-->
        #[].WH_Description#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].WH_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].WH_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].WH_TransID#
        )
      </iterate>
    </insert>

    <!--查询[仓库]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_Warehouse" parameterClass="MDLPIS_Warehouse" resultClass="MDLPIS_Warehouse">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WH_ID)
      FROM PIS_Warehouse
      <dynamic prepend="WHERE">
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_WH_ID">WH_ID=#WHERE_WH_ID#</isNotEmpty>
        <!--仓库编号-->
        <isNotEmpty prepend="AND" property="WHERE_WH_No">WH_No=#WHERE_WH_No#</isNotEmpty>
        <!--仓库名称-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Name">WH_Name=#WHERE_WH_Name#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Org_ID">WH_Org_ID=#WHERE_WH_Org_ID#</isNotEmpty>
        <!--仓库地址-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Address">WH_Address=#WHERE_WH_Address#</isNotEmpty>
        <!--仓库描述-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Description">WH_Description=#WHERE_WH_Description#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WH_IsValid">WH_IsValid=#WHERE_WH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WH_CreatedBy">WH_CreatedBy=#WHERE_WH_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WH_UpdatedBy">WH_UpdatedBy=#WHERE_WH_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WH_VersionNo">WH_VersionNo=#WHERE_WH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WH_TransID">WH_TransID=#WHERE_WH_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WH_ID,
      WH_No,
      WH_Name,
      WH_Org_ID,
      WH_Address,
      WH_Description,
      WH_IsValid,
      WH_CreatedBy,
      WH_CreatedTime,
      WH_UpdatedBy,
      WH_UpdatedTime,
      WH_VersionNo,
      WH_TransID
      FROM PIS_Warehouse
      <dynamic prepend="WHERE">
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_WH_ID">WH_ID=#WHERE_WH_ID#</isNotEmpty>
        <!--仓库编号-->
        <isNotEmpty prepend="AND" property="WHERE_WH_No">WH_No=#WHERE_WH_No#</isNotEmpty>
        <!--仓库名称-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Name">WH_Name=#WHERE_WH_Name#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Org_ID">WH_Org_ID=#WHERE_WH_Org_ID#</isNotEmpty>
        <!--仓库地址-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Address">WH_Address=#WHERE_WH_Address#</isNotEmpty>
        <!--仓库描述-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Description">WH_Description=#WHERE_WH_Description#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WH_IsValid">WH_IsValid=#WHERE_WH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WH_CreatedBy">WH_CreatedBy=#WHERE_WH_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WH_UpdatedBy">WH_UpdatedBy=#WHERE_WH_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WH_VersionNo">WH_VersionNo=#WHERE_WH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WH_TransID">WH_TransID=#WHERE_WH_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WH_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[仓库]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_Warehouse" parameterClass="MDLPIS_Warehouse" resultClass="MDLPIS_Warehouse">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WH_ID)
      FROM PIS_Warehouse
      <dynamic prepend="WHERE">
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_WH_ID">WH_ID=#WHERE_WH_ID#</isNotEmpty>
        <!--仓库编号-->
        <isNotEmpty prepend="AND" property="WHERE_WH_No">WH_No LIKE '%'+#WHERE_WH_No#+'%'</isNotEmpty>
        <!--仓库名称-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Name">WH_Name LIKE '%'+#WHERE_WH_Name#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Org_ID">WH_Org_ID LIKE '%'+#WHERE_WH_Org_ID#+'%'</isNotEmpty>
        <!--仓库地址-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Address">WH_Address LIKE '%'+#WHERE_WH_Address#+'%'</isNotEmpty>
        <!--仓库描述-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Description">WH_Description LIKE '%'+#WHERE_WH_Description#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WH_IsValid">WH_IsValid=#WHERE_WH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WH_CreatedBy">WH_CreatedBy LIKE '%'+#WHERE_WH_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WH_UpdatedBy">WH_UpdatedBy LIKE '%'+#WHERE_WH_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WH_VersionNo">WH_VersionNo=#WHERE_WH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WH_TransID">WH_TransID LIKE '%'+#WHERE_WH_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WH_ID,
      WH_No,
      WH_Name,
      WH_Org_ID,
      WH_Address,
      WH_Description,
      WH_IsValid,
      WH_CreatedBy,
      WH_CreatedTime,
      WH_UpdatedBy,
      WH_UpdatedTime,
      WH_VersionNo,
      WH_TransID
      FROM PIS_Warehouse
      <dynamic prepend="WHERE">
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_WH_ID">WH_ID=#WHERE_WH_ID#</isNotEmpty>
        <!--仓库编号-->
        <isNotEmpty prepend="AND" property="WHERE_WH_No">WH_No LIKE '%'+#WHERE_WH_No#+'%'</isNotEmpty>
        <!--仓库名称-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Name">WH_Name LIKE '%'+#WHERE_WH_Name#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Org_ID">WH_Org_ID LIKE '%'+#WHERE_WH_Org_ID#+'%'</isNotEmpty>
        <!--仓库地址-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Address">WH_Address LIKE '%'+#WHERE_WH_Address#+'%'</isNotEmpty>
        <!--仓库描述-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Description">WH_Description LIKE '%'+#WHERE_WH_Description#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WH_IsValid">WH_IsValid=#WHERE_WH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WH_CreatedBy">WH_CreatedBy LIKE '%'+#WHERE_WH_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WH_UpdatedBy">WH_UpdatedBy LIKE '%'+#WHERE_WH_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WH_VersionNo">WH_VersionNo=#WHERE_WH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WH_TransID">WH_TransID LIKE '%'+#WHERE_WH_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WH_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[仓库]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_Warehouse" parameterClass="MDLPIS_Warehouse" resultClass="int">
      SELECT COUNT(WH_ID) 'RecordCount'
      FROM PIS_Warehouse
      <dynamic prepend="WHERE">
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_WH_ID">WH_ID=#WHERE_WH_ID#</isNotEmpty>
        <!--仓库编号-->
        <isNotEmpty prepend="AND" property="WHERE_WH_No">WH_No=#WHERE_WH_No#</isNotEmpty>
        <!--仓库名称-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Name">WH_Name=#WHERE_WH_Name#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Org_ID">WH_Org_ID=#WHERE_WH_Org_ID#</isNotEmpty>
        <!--仓库地址-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Address">WH_Address=#WHERE_WH_Address#</isNotEmpty>
        <!--仓库描述-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Description">WH_Description=#WHERE_WH_Description#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WH_IsValid">WH_IsValid=#WHERE_WH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WH_CreatedBy">WH_CreatedBy=#WHERE_WH_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WH_UpdatedBy">WH_UpdatedBy=#WHERE_WH_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WH_VersionNo">WH_VersionNo=#WHERE_WH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WH_TransID">WH_TransID=#WHERE_WH_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[仓库]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_Warehouse" parameterClass="MDLPIS_Warehouse" >
      UPDATE PIS_Warehouse
      SET
      WH_UpdatedTime=GETDATE(),
      WH_VersionNo=WH_VersionNo+1
      <isNotEmpty prepend="," property="WH_No">WH_No=#WH_No#</isNotEmpty>
      <isNotEmpty prepend="," property="WH_Name">WH_Name=#WH_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="WH_Org_ID">WH_Org_ID=#WH_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="WH_Address">WH_Address=#WH_Address#</isNotEmpty>
      <isNotEmpty prepend="," property="WH_Description">WH_Description=#WH_Description#</isNotEmpty>
      <isNotNull prepend="," property="WH_IsValid">WH_IsValid=#WH_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="WH_CreatedBy">WH_CreatedBy=#WH_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="WH_CreatedTime">WH_CreatedTime=#WH_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="WH_UpdatedBy">WH_UpdatedBy=#WH_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="WH_TransID">WH_TransID=#WH_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_WH_ID">WH_ID=#WHERE_WH_ID#</isNotEmpty>
        <!--仓库编号-->
        <isNotEmpty prepend="AND" property="WHERE_WH_No">WH_No=#WHERE_WH_No#</isNotEmpty>
        <!--仓库名称-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Name">WH_Name=#WHERE_WH_Name#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Org_ID">WH_Org_ID=#WHERE_WH_Org_ID#</isNotEmpty>
        <!--仓库地址-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Address">WH_Address=#WHERE_WH_Address#</isNotEmpty>
        <!--仓库描述-->
        <isNotEmpty prepend="AND" property="WHERE_WH_Description">WH_Description=#WHERE_WH_Description#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WH_IsValid">WH_IsValid=#WHERE_WH_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WH_CreatedBy">WH_CreatedBy=#WHERE_WH_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WH_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WH_UpdatedBy">WH_UpdatedBy=#WHERE_WH_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WH_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WH_VersionNo">WH_VersionNo=#WHERE_WH_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WH_TransID">WH_TransID=#WHERE_WH_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[仓库]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_Warehouse" parameterClass="List">
      DELETE FROM PIS_Warehouse
      WHERE WH_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_WH_ID#
      </iterate>
    </delete>

    <!--新增[仓位]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_WarehouseBin" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_WarehouseBin
        (
        <!--仓位ID-->
        WHB_ID,
        <!--仓库ID-->
        WHB_WH_ID,
        <!--仓位名称-->
        WHB_Name,
        <!--仓位描述-->
        WHB_Description,
        <!--有效-->
        WHB_IsValid,
        <!--创建人-->
        WHB_CreatedBy,
        <!--创建时间-->
        WHB_CreatedTime,
        <!--修改人-->
        WHB_UpdatedBy,
        <!--修改时间-->
        WHB_UpdatedTime,
        <!--版本号-->
        WHB_VersionNo,
        <!--事务编号-->
        WHB_TransID
        )
        VALUES
        (
        <!--仓位ID-->
        #[].WHB_ID#,
        <!--仓库ID-->
        #[].WHB_WH_ID#,
        <!--仓位名称-->
        #[].WHB_Name#,
        <!--仓位描述-->
        #[].WHB_Description#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].WHB_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].WHB_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].WHB_TransID#
        )
      </iterate>
    </insert>

    <!--查询[仓位]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_WarehouseBin" parameterClass="MDLPIS_WarehouseBin" resultClass="MDLPIS_WarehouseBin">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WHB_ID)
      FROM PIS_WarehouseBin
      <dynamic prepend="WHERE">
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_ID">WHB_ID=#WHERE_WHB_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_WH_ID">WHB_WH_ID=#WHERE_WHB_WH_ID#</isNotEmpty>
        <!--仓位名称-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_Name">WHB_Name=#WHERE_WHB_Name#</isNotEmpty>
        <!--仓位描述-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_Description">WHB_Description=#WHERE_WHB_Description#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WHB_IsValid">WHB_IsValid=#WHERE_WHB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_CreatedBy">WHB_CreatedBy=#WHERE_WHB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_UpdatedBy">WHB_UpdatedBy=#WHERE_WHB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WHB_VersionNo">WHB_VersionNo=#WHERE_WHB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_TransID">WHB_TransID=#WHERE_WHB_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WHB_ID,
      WHB_WH_ID,
      WHB_Name,
      WHB_Description,
      WHB_IsValid,
      WHB_CreatedBy,
      WHB_CreatedTime,
      WHB_UpdatedBy,
      WHB_UpdatedTime,
      WHB_VersionNo,
      WHB_TransID
      FROM PIS_WarehouseBin
      <dynamic prepend="WHERE">
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_ID">WHB_ID=#WHERE_WHB_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_WH_ID">WHB_WH_ID=#WHERE_WHB_WH_ID#</isNotEmpty>
        <!--仓位名称-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_Name">WHB_Name=#WHERE_WHB_Name#</isNotEmpty>
        <!--仓位描述-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_Description">WHB_Description=#WHERE_WHB_Description#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WHB_IsValid">WHB_IsValid=#WHERE_WHB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_CreatedBy">WHB_CreatedBy=#WHERE_WHB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_UpdatedBy">WHB_UpdatedBy=#WHERE_WHB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WHB_VersionNo">WHB_VersionNo=#WHERE_WHB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_TransID">WHB_TransID=#WHERE_WHB_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WHB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[仓位]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_WarehouseBin" parameterClass="MDLPIS_WarehouseBin" resultClass="MDLPIS_WarehouseBin">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WHB_ID)
      FROM PIS_WarehouseBin
      <dynamic prepend="WHERE">
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_ID">WHB_ID=#WHERE_WHB_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_WH_ID">WHB_WH_ID LIKE '%'+#WHERE_WHB_WH_ID#+'%'</isNotEmpty>
        <!--仓位名称-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_Name">WHB_Name LIKE '%'+#WHERE_WHB_Name#+'%'</isNotEmpty>
        <!--仓位描述-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_Description">WHB_Description LIKE '%'+#WHERE_WHB_Description#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WHB_IsValid">WHB_IsValid=#WHERE_WHB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_CreatedBy">WHB_CreatedBy LIKE '%'+#WHERE_WHB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_UpdatedBy">WHB_UpdatedBy LIKE '%'+#WHERE_WHB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WHB_VersionNo">WHB_VersionNo=#WHERE_WHB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_TransID">WHB_TransID LIKE '%'+#WHERE_WHB_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WHB_ID,
      WHB_WH_ID,
      WHB_Name,
      WHB_Description,
      WHB_IsValid,
      WHB_CreatedBy,
      WHB_CreatedTime,
      WHB_UpdatedBy,
      WHB_UpdatedTime,
      WHB_VersionNo,
      WHB_TransID
      FROM PIS_WarehouseBin
      <dynamic prepend="WHERE">
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_ID">WHB_ID=#WHERE_WHB_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_WH_ID">WHB_WH_ID LIKE '%'+#WHERE_WHB_WH_ID#+'%'</isNotEmpty>
        <!--仓位名称-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_Name">WHB_Name LIKE '%'+#WHERE_WHB_Name#+'%'</isNotEmpty>
        <!--仓位描述-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_Description">WHB_Description LIKE '%'+#WHERE_WHB_Description#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WHB_IsValid">WHB_IsValid=#WHERE_WHB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_CreatedBy">WHB_CreatedBy LIKE '%'+#WHERE_WHB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_UpdatedBy">WHB_UpdatedBy LIKE '%'+#WHERE_WHB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WHB_VersionNo">WHB_VersionNo=#WHERE_WHB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_TransID">WHB_TransID LIKE '%'+#WHERE_WHB_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WHB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[仓位]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_WarehouseBin" parameterClass="MDLPIS_WarehouseBin" resultClass="int">
      SELECT COUNT(WHB_ID) 'RecordCount'
      FROM PIS_WarehouseBin
      <dynamic prepend="WHERE">
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_ID">WHB_ID=#WHERE_WHB_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_WH_ID">WHB_WH_ID=#WHERE_WHB_WH_ID#</isNotEmpty>
        <!--仓位名称-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_Name">WHB_Name=#WHERE_WHB_Name#</isNotEmpty>
        <!--仓位描述-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_Description">WHB_Description=#WHERE_WHB_Description#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WHB_IsValid">WHB_IsValid=#WHERE_WHB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_CreatedBy">WHB_CreatedBy=#WHERE_WHB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_UpdatedBy">WHB_UpdatedBy=#WHERE_WHB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WHB_VersionNo">WHB_VersionNo=#WHERE_WHB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_TransID">WHB_TransID=#WHERE_WHB_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[仓位]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_WarehouseBin" parameterClass="MDLPIS_WarehouseBin" >
      UPDATE PIS_WarehouseBin
      SET
      WHB_UpdatedTime=GETDATE(),
      WHB_VersionNo=WHB_VersionNo+1
      <isNotEmpty prepend="," property="WHB_WH_ID">WHB_WH_ID=#WHB_WH_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="WHB_Name">WHB_Name=#WHB_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="WHB_Description">WHB_Description=#WHB_Description#</isNotEmpty>
      <isNotNull prepend="," property="WHB_IsValid">WHB_IsValid=#WHB_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="WHB_CreatedBy">WHB_CreatedBy=#WHB_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="WHB_CreatedTime">WHB_CreatedTime=#WHB_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="WHB_UpdatedBy">WHB_UpdatedBy=#WHB_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="WHB_TransID">WHB_TransID=#WHB_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_ID">WHB_ID=#WHERE_WHB_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_WH_ID">WHB_WH_ID=#WHERE_WHB_WH_ID#</isNotEmpty>
        <!--仓位名称-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_Name">WHB_Name=#WHERE_WHB_Name#</isNotEmpty>
        <!--仓位描述-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_Description">WHB_Description=#WHERE_WHB_Description#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WHB_IsValid">WHB_IsValid=#WHERE_WHB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_CreatedBy">WHB_CreatedBy=#WHERE_WHB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WHB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_UpdatedBy">WHB_UpdatedBy=#WHERE_WHB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WHB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WHB_VersionNo">WHB_VersionNo=#WHERE_WHB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WHB_TransID">WHB_TransID=#WHERE_WHB_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[仓位]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_WarehouseBin" parameterClass="List">
      DELETE FROM PIS_WarehouseBin
      WHERE WHB_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_WHB_ID#
      </iterate>
    </delete>

    <!--新增[出库单]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_StockOutBill" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_StockOutBill
        (
        <!--出库单ID-->
        SOB_ID,
        <!--组织ID-->
        SOB_Org_ID,
        <!--单号-->
        SOB_No,
        <!--来源类型编码-->
        SOB_SourceTypeCode,
        <!--来源类型名称-->
        SOB_SourceTypeName,
        <!--来源单号-->
        SOB_SourceNo,
        <!--供应商ID-->
        SOB_SUPP_ID,
        <!--供应商名称-->
        SOB_SUPP_Name,
        <!--单据状态编码-->
        SOB_StatusCode,
        <!--单据状态名称-->
        SOB_StatusName,
        <!--审核状态编码-->
        SOB_ApprovalStatusCode,
        <!--审核状态名称-->
        SOB_ApprovalStatusName,
        <!--备注-->
        SOB_Remark,
        <!--有效-->
        SOB_IsValid,
        <!--创建人-->
        SOB_CreatedBy,
        <!--创建时间-->
        SOB_CreatedTime,
        <!--修改人-->
        SOB_UpdatedBy,
        <!--修改时间-->
        SOB_UpdatedTime,
        <!--版本号-->
        SOB_VersionNo,
        <!--事务编号-->
        SOB_TransID
        )
        VALUES
        (
        <!--出库单ID-->
        #[].SOB_ID#,
        <!--组织ID-->
        #[].SOB_Org_ID#,
        <!--单号-->
        #[].SOB_No#,
        <!--来源类型编码-->
        #[].SOB_SourceTypeCode#,
        <!--来源类型名称-->
        #[].SOB_SourceTypeName#,
        <!--来源单号-->
        #[].SOB_SourceNo#,
        <!--供应商ID-->
        #[].SOB_SUPP_ID#,
        <!--供应商名称-->
        #[].SOB_SUPP_Name#,
        <!--单据状态编码-->
        #[].SOB_StatusCode#,
        <!--单据状态名称-->
        #[].SOB_StatusName#,
        <!--审核状态编码-->
        #[].SOB_ApprovalStatusCode#,
        <!--审核状态名称-->
        #[].SOB_ApprovalStatusName#,
        <!--备注-->
        #[].SOB_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].SOB_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].SOB_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].SOB_TransID#
        )
      </iterate>
    </insert>

    <!--查询[出库单]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_StockOutBill" parameterClass="MDLPIS_StockOutBill" resultClass="MDLPIS_StockOutBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SOB_ID)
      FROM PIS_StockOutBill
      <dynamic prepend="WHERE">
        <!--出库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ID">SOB_ID=#WHERE_SOB_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_Org_ID">SOB_Org_ID=#WHERE_SOB_Org_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_No">SOB_No=#WHERE_SOB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceTypeCode">SOB_SourceTypeCode=#WHERE_SOB_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceTypeName">SOB_SourceTypeName=#WHERE_SOB_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceNo">SOB_SourceNo=#WHERE_SOB_SourceNo#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SUPP_ID">SOB_SUPP_ID=#WHERE_SOB_SUPP_ID#</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SUPP_Name">SOB_SUPP_Name=#WHERE_SOB_SUPP_Name#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_StatusCode">SOB_StatusCode=#WHERE_SOB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_StatusName">SOB_StatusName=#WHERE_SOB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ApprovalStatusCode">SOB_ApprovalStatusCode=#WHERE_SOB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ApprovalStatusName">SOB_ApprovalStatusName=#WHERE_SOB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_Remark">SOB_Remark=#WHERE_SOB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOB_IsValid">SOB_IsValid=#WHERE_SOB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_CreatedBy">SOB_CreatedBy=#WHERE_SOB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_UpdatedBy">SOB_UpdatedBy=#WHERE_SOB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOB_VersionNo">SOB_VersionNo=#WHERE_SOB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_TransID">SOB_TransID=#WHERE_SOB_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SOB_ID,
      SOB_Org_ID,
      SOB_No,
      SOB_SourceTypeCode,
      SOB_SourceTypeName,
      SOB_SourceNo,
      SOB_SUPP_ID,
      SOB_SUPP_Name,
      SOB_StatusCode,
      SOB_StatusName,
      SOB_ApprovalStatusCode,
      SOB_ApprovalStatusName,
      SOB_Remark,
      SOB_IsValid,
      SOB_CreatedBy,
      SOB_CreatedTime,
      SOB_UpdatedBy,
      SOB_UpdatedTime,
      SOB_VersionNo,
      SOB_TransID
      FROM PIS_StockOutBill
      <dynamic prepend="WHERE">
        <!--出库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ID">SOB_ID=#WHERE_SOB_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_Org_ID">SOB_Org_ID=#WHERE_SOB_Org_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_No">SOB_No=#WHERE_SOB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceTypeCode">SOB_SourceTypeCode=#WHERE_SOB_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceTypeName">SOB_SourceTypeName=#WHERE_SOB_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceNo">SOB_SourceNo=#WHERE_SOB_SourceNo#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SUPP_ID">SOB_SUPP_ID=#WHERE_SOB_SUPP_ID#</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SUPP_Name">SOB_SUPP_Name=#WHERE_SOB_SUPP_Name#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_StatusCode">SOB_StatusCode=#WHERE_SOB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_StatusName">SOB_StatusName=#WHERE_SOB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ApprovalStatusCode">SOB_ApprovalStatusCode=#WHERE_SOB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ApprovalStatusName">SOB_ApprovalStatusName=#WHERE_SOB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_Remark">SOB_Remark=#WHERE_SOB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOB_IsValid">SOB_IsValid=#WHERE_SOB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_CreatedBy">SOB_CreatedBy=#WHERE_SOB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_UpdatedBy">SOB_UpdatedBy=#WHERE_SOB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOB_VersionNo">SOB_VersionNo=#WHERE_SOB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_TransID">SOB_TransID=#WHERE_SOB_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SOB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[出库单]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_StockOutBill" parameterClass="MDLPIS_StockOutBill" resultClass="MDLPIS_StockOutBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SOB_ID)
      FROM PIS_StockOutBill
      <dynamic prepend="WHERE">
        <!--出库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ID">SOB_ID=#WHERE_SOB_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_Org_ID">SOB_Org_ID LIKE '%'+#WHERE_SOB_Org_ID#+'%'</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_No">SOB_No LIKE '%'+#WHERE_SOB_No#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceTypeCode">SOB_SourceTypeCode LIKE '%'+#WHERE_SOB_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceTypeName">SOB_SourceTypeName LIKE '%'+#WHERE_SOB_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceNo">SOB_SourceNo LIKE '%'+#WHERE_SOB_SourceNo#+'%'</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SUPP_ID">SOB_SUPP_ID LIKE '%'+#WHERE_SOB_SUPP_ID#+'%'</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SUPP_Name">SOB_SUPP_Name LIKE '%'+#WHERE_SOB_SUPP_Name#+'%'</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_StatusCode">SOB_StatusCode LIKE '%'+#WHERE_SOB_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_StatusName">SOB_StatusName LIKE '%'+#WHERE_SOB_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ApprovalStatusCode">SOB_ApprovalStatusCode LIKE '%'+#WHERE_SOB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ApprovalStatusName">SOB_ApprovalStatusName LIKE '%'+#WHERE_SOB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_Remark">SOB_Remark LIKE '%'+#WHERE_SOB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOB_IsValid">SOB_IsValid=#WHERE_SOB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_CreatedBy">SOB_CreatedBy LIKE '%'+#WHERE_SOB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_UpdatedBy">SOB_UpdatedBy LIKE '%'+#WHERE_SOB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOB_VersionNo">SOB_VersionNo=#WHERE_SOB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_TransID">SOB_TransID LIKE '%'+#WHERE_SOB_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SOB_ID,
      SOB_Org_ID,
      SOB_No,
      SOB_SourceTypeCode,
      SOB_SourceTypeName,
      SOB_SourceNo,
      SOB_SUPP_ID,
      SOB_SUPP_Name,
      SOB_StatusCode,
      SOB_StatusName,
      SOB_ApprovalStatusCode,
      SOB_ApprovalStatusName,
      SOB_Remark,
      SOB_IsValid,
      SOB_CreatedBy,
      SOB_CreatedTime,
      SOB_UpdatedBy,
      SOB_UpdatedTime,
      SOB_VersionNo,
      SOB_TransID
      FROM PIS_StockOutBill
      <dynamic prepend="WHERE">
        <!--出库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ID">SOB_ID=#WHERE_SOB_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_Org_ID">SOB_Org_ID LIKE '%'+#WHERE_SOB_Org_ID#+'%'</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_No">SOB_No LIKE '%'+#WHERE_SOB_No#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceTypeCode">SOB_SourceTypeCode LIKE '%'+#WHERE_SOB_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceTypeName">SOB_SourceTypeName LIKE '%'+#WHERE_SOB_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceNo">SOB_SourceNo LIKE '%'+#WHERE_SOB_SourceNo#+'%'</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SUPP_ID">SOB_SUPP_ID LIKE '%'+#WHERE_SOB_SUPP_ID#+'%'</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SUPP_Name">SOB_SUPP_Name LIKE '%'+#WHERE_SOB_SUPP_Name#+'%'</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_StatusCode">SOB_StatusCode LIKE '%'+#WHERE_SOB_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_StatusName">SOB_StatusName LIKE '%'+#WHERE_SOB_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ApprovalStatusCode">SOB_ApprovalStatusCode LIKE '%'+#WHERE_SOB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ApprovalStatusName">SOB_ApprovalStatusName LIKE '%'+#WHERE_SOB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_Remark">SOB_Remark LIKE '%'+#WHERE_SOB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOB_IsValid">SOB_IsValid=#WHERE_SOB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_CreatedBy">SOB_CreatedBy LIKE '%'+#WHERE_SOB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_UpdatedBy">SOB_UpdatedBy LIKE '%'+#WHERE_SOB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOB_VersionNo">SOB_VersionNo=#WHERE_SOB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_TransID">SOB_TransID LIKE '%'+#WHERE_SOB_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SOB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[出库单]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_StockOutBill" parameterClass="MDLPIS_StockOutBill" resultClass="int">
      SELECT COUNT(SOB_ID) 'RecordCount'
      FROM PIS_StockOutBill
      <dynamic prepend="WHERE">
        <!--出库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ID">SOB_ID=#WHERE_SOB_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_Org_ID">SOB_Org_ID=#WHERE_SOB_Org_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_No">SOB_No=#WHERE_SOB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceTypeCode">SOB_SourceTypeCode=#WHERE_SOB_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceTypeName">SOB_SourceTypeName=#WHERE_SOB_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceNo">SOB_SourceNo=#WHERE_SOB_SourceNo#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SUPP_ID">SOB_SUPP_ID=#WHERE_SOB_SUPP_ID#</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SUPP_Name">SOB_SUPP_Name=#WHERE_SOB_SUPP_Name#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_StatusCode">SOB_StatusCode=#WHERE_SOB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_StatusName">SOB_StatusName=#WHERE_SOB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ApprovalStatusCode">SOB_ApprovalStatusCode=#WHERE_SOB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ApprovalStatusName">SOB_ApprovalStatusName=#WHERE_SOB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_Remark">SOB_Remark=#WHERE_SOB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOB_IsValid">SOB_IsValid=#WHERE_SOB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_CreatedBy">SOB_CreatedBy=#WHERE_SOB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_UpdatedBy">SOB_UpdatedBy=#WHERE_SOB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOB_VersionNo">SOB_VersionNo=#WHERE_SOB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_TransID">SOB_TransID=#WHERE_SOB_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[出库单]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_StockOutBill" parameterClass="MDLPIS_StockOutBill" >
      UPDATE PIS_StockOutBill
      SET
      SOB_UpdatedTime=GETDATE(),
      SOB_VersionNo=SOB_VersionNo+1
      <isNotEmpty prepend="," property="SOB_Org_ID">SOB_Org_ID=#SOB_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="SOB_No">SOB_No=#SOB_No#</isNotEmpty>
      <isNotEmpty prepend="," property="SOB_SourceTypeCode">SOB_SourceTypeCode=#SOB_SourceTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SOB_SourceTypeName">SOB_SourceTypeName=#SOB_SourceTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="SOB_SourceNo">SOB_SourceNo=#SOB_SourceNo#</isNotEmpty>
      <isNotEmpty prepend="," property="SOB_SUPP_ID">SOB_SUPP_ID=#SOB_SUPP_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="SOB_SUPP_Name">SOB_SUPP_Name=#SOB_SUPP_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="SOB_StatusCode">SOB_StatusCode=#SOB_StatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SOB_StatusName">SOB_StatusName=#SOB_StatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="SOB_ApprovalStatusCode">SOB_ApprovalStatusCode=#SOB_ApprovalStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SOB_ApprovalStatusName">SOB_ApprovalStatusName=#SOB_ApprovalStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="SOB_Remark">SOB_Remark=#SOB_Remark#</isNotEmpty>
      <isNotNull prepend="," property="SOB_IsValid">SOB_IsValid=#SOB_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="SOB_CreatedBy">SOB_CreatedBy=#SOB_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="SOB_CreatedTime">SOB_CreatedTime=#SOB_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="SOB_UpdatedBy">SOB_UpdatedBy=#SOB_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="SOB_TransID">SOB_TransID=#SOB_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--出库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ID">SOB_ID=#WHERE_SOB_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_Org_ID">SOB_Org_ID=#WHERE_SOB_Org_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_No">SOB_No=#WHERE_SOB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceTypeCode">SOB_SourceTypeCode=#WHERE_SOB_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceTypeName">SOB_SourceTypeName=#WHERE_SOB_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SourceNo">SOB_SourceNo=#WHERE_SOB_SourceNo#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SUPP_ID">SOB_SUPP_ID=#WHERE_SOB_SUPP_ID#</isNotEmpty>
        <!--供应商名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_SUPP_Name">SOB_SUPP_Name=#WHERE_SOB_SUPP_Name#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_StatusCode">SOB_StatusCode=#WHERE_SOB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_StatusName">SOB_StatusName=#WHERE_SOB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ApprovalStatusCode">SOB_ApprovalStatusCode=#WHERE_SOB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_ApprovalStatusName">SOB_ApprovalStatusName=#WHERE_SOB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_Remark">SOB_Remark=#WHERE_SOB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOB_IsValid">SOB_IsValid=#WHERE_SOB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_CreatedBy">SOB_CreatedBy=#WHERE_SOB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_UpdatedBy">SOB_UpdatedBy=#WHERE_SOB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOB_VersionNo">SOB_VersionNo=#WHERE_SOB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOB_TransID">SOB_TransID=#WHERE_SOB_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[出库单]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_StockOutBill" parameterClass="List">
      DELETE FROM PIS_StockOutBill
      WHERE SOB_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_SOB_ID#
      </iterate>
    </delete>

    <!--新增[出库单明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_StockOutBillDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_StockOutBillDetail
        (
        <!--出库单明细ID-->
        SOBD_ID,
        <!--出库单ID-->
        SOBD_SOB_ID,
        <!--出库单号-->
        SOBD_SOB_No,
        <!--来源单明细ID-->
        SOBD_SourceDetailID,
        <!--配件条码-->
        SOBD_Barcode,
        <!--配件批次号-->
        SOBD_BatchNo,
        <!--第三方编码-->
        SOBD_ThirdNo,
        <!--原厂编码-->
        SOBD_OEMNo,
        <!--配件名称-->
        SOBD_Name,
        <!--配件规格型号-->
        SOBD_Specification,
        <!--仓库ID-->
        SOBD_WH_ID,
        <!--仓位ID-->
        SOBD_WHB_ID,
        <!--进货单价-->
        SOBD_UnitCostPrice,
        <!--出库数量-->
        SOBD_Qty,
        <!--单位-->
        SOBD_UOM,
        <!--销售单价-->
        SOBD_UnitSalePrice,
        <!--金额-->
        SOBD_Amount,
        <!--有效-->
        SOBD_IsValid,
        <!--创建人-->
        SOBD_CreatedBy,
        <!--创建时间-->
        SOBD_CreatedTime,
        <!--修改人-->
        SOBD_UpdatedBy,
        <!--修改时间-->
        SOBD_UpdatedTime,
        <!--版本号-->
        SOBD_VersionNo,
        <!--事务编号-->
        SOBD_TransID
        )
        VALUES
        (
        <!--出库单明细ID-->
        #[].SOBD_ID#,
        <!--出库单ID-->
        #[].SOBD_SOB_ID#,
        <!--出库单号-->
        #[].SOBD_SOB_No#,
        <!--来源单明细ID-->
        #[].SOBD_SourceDetailID#,
        <!--配件条码-->
        #[].SOBD_Barcode#,
        <!--配件批次号-->
        #[].SOBD_BatchNo#,
        <!--第三方编码-->
        #[].SOBD_ThirdNo#,
        <!--原厂编码-->
        #[].SOBD_OEMNo#,
        <!--配件名称-->
        #[].SOBD_Name#,
        <!--配件规格型号-->
        #[].SOBD_Specification#,
        <!--仓库ID-->
        #[].SOBD_WH_ID#,
        <!--仓位ID-->
        #[].SOBD_WHB_ID#,
        <!--进货单价-->
        #[].SOBD_UnitCostPrice#,
        <!--出库数量-->
        #[].SOBD_Qty#,
        <!--单位-->
        #[].SOBD_UOM#,
        <!--销售单价-->
        #[].SOBD_UnitSalePrice#,
        <!--金额-->
        #[].SOBD_Amount#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].SOBD_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].SOBD_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].SOBD_TransID#
        )
      </iterate>
    </insert>

    <!--查询[出库单明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_StockOutBillDetail" parameterClass="MDLPIS_StockOutBillDetail" resultClass="MDLPIS_StockOutBillDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SOBD_ID)
      FROM PIS_StockOutBillDetail
      <dynamic prepend="WHERE">
        <!--出库单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_ID">SOBD_ID=#WHERE_SOBD_ID#</isNotEmpty>
        <!--出库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SOB_ID">SOBD_SOB_ID=#WHERE_SOBD_SOB_ID#</isNotEmpty>
        <!--出库单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SOB_No">SOBD_SOB_No=#WHERE_SOBD_SOB_No#</isNotEmpty>
        <!--来源单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SourceDetailID">SOBD_SourceDetailID=#WHERE_SOBD_SourceDetailID#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Barcode">SOBD_Barcode=#WHERE_SOBD_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_BatchNo">SOBD_BatchNo=#WHERE_SOBD_BatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_ThirdNo">SOBD_ThirdNo=#WHERE_SOBD_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_OEMNo">SOBD_OEMNo=#WHERE_SOBD_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Name">SOBD_Name=#WHERE_SOBD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Specification">SOBD_Specification=#WHERE_SOBD_Specification#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_WH_ID">SOBD_WH_ID=#WHERE_SOBD_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_WHB_ID">SOBD_WHB_ID=#WHERE_SOBD_WHB_ID#</isNotEmpty>
        <!--进货单价-->
        <isNotNull prepend="AND" property="WHERE_SOBD_UnitCostPrice">SOBD_UnitCostPrice=#WHERE_SOBD_UnitCostPrice#</isNotNull>
        <!--出库数量-->
        <isNotNull prepend="AND" property="WHERE_SOBD_Qty">SOBD_Qty=#WHERE_SOBD_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_UOM">SOBD_UOM=#WHERE_SOBD_UOM#</isNotEmpty>
        <!--销售单价-->
        <isNotNull prepend="AND" property="WHERE_SOBD_UnitSalePrice">SOBD_UnitSalePrice=#WHERE_SOBD_UnitSalePrice#</isNotNull>
        <!--金额-->
        <isNotNull prepend="AND" property="WHERE_SOBD_Amount">SOBD_Amount=#WHERE_SOBD_Amount#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOBD_IsValid">SOBD_IsValid=#WHERE_SOBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_CreatedBy">SOBD_CreatedBy=#WHERE_SOBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_UpdatedBy">SOBD_UpdatedBy=#WHERE_SOBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOBD_VersionNo">SOBD_VersionNo=#WHERE_SOBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_TransID">SOBD_TransID=#WHERE_SOBD_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SOBD_ID,
      SOBD_SOB_ID,
      SOBD_SOB_No,
      SOBD_SourceDetailID,
      SOBD_Barcode,
      SOBD_BatchNo,
      SOBD_ThirdNo,
      SOBD_OEMNo,
      SOBD_Name,
      SOBD_Specification,
      SOBD_WH_ID,
      SOBD_WHB_ID,
      SOBD_UnitCostPrice,
      SOBD_Qty,
      SOBD_UOM,
      SOBD_UnitSalePrice,
      SOBD_Amount,
      SOBD_IsValid,
      SOBD_CreatedBy,
      SOBD_CreatedTime,
      SOBD_UpdatedBy,
      SOBD_UpdatedTime,
      SOBD_VersionNo,
      SOBD_TransID
      FROM PIS_StockOutBillDetail
      <dynamic prepend="WHERE">
        <!--出库单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_ID">SOBD_ID=#WHERE_SOBD_ID#</isNotEmpty>
        <!--出库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SOB_ID">SOBD_SOB_ID=#WHERE_SOBD_SOB_ID#</isNotEmpty>
        <!--出库单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SOB_No">SOBD_SOB_No=#WHERE_SOBD_SOB_No#</isNotEmpty>
        <!--来源单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SourceDetailID">SOBD_SourceDetailID=#WHERE_SOBD_SourceDetailID#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Barcode">SOBD_Barcode=#WHERE_SOBD_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_BatchNo">SOBD_BatchNo=#WHERE_SOBD_BatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_ThirdNo">SOBD_ThirdNo=#WHERE_SOBD_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_OEMNo">SOBD_OEMNo=#WHERE_SOBD_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Name">SOBD_Name=#WHERE_SOBD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Specification">SOBD_Specification=#WHERE_SOBD_Specification#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_WH_ID">SOBD_WH_ID=#WHERE_SOBD_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_WHB_ID">SOBD_WHB_ID=#WHERE_SOBD_WHB_ID#</isNotEmpty>
        <!--进货单价-->
        <isNotNull prepend="AND" property="WHERE_SOBD_UnitCostPrice">SOBD_UnitCostPrice=#WHERE_SOBD_UnitCostPrice#</isNotNull>
        <!--出库数量-->
        <isNotNull prepend="AND" property="WHERE_SOBD_Qty">SOBD_Qty=#WHERE_SOBD_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_UOM">SOBD_UOM=#WHERE_SOBD_UOM#</isNotEmpty>
        <!--销售单价-->
        <isNotNull prepend="AND" property="WHERE_SOBD_UnitSalePrice">SOBD_UnitSalePrice=#WHERE_SOBD_UnitSalePrice#</isNotNull>
        <!--金额-->
        <isNotNull prepend="AND" property="WHERE_SOBD_Amount">SOBD_Amount=#WHERE_SOBD_Amount#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOBD_IsValid">SOBD_IsValid=#WHERE_SOBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_CreatedBy">SOBD_CreatedBy=#WHERE_SOBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_UpdatedBy">SOBD_UpdatedBy=#WHERE_SOBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOBD_VersionNo">SOBD_VersionNo=#WHERE_SOBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_TransID">SOBD_TransID=#WHERE_SOBD_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SOBD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[出库单明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_StockOutBillDetail" parameterClass="MDLPIS_StockOutBillDetail" resultClass="MDLPIS_StockOutBillDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SOBD_ID)
      FROM PIS_StockOutBillDetail
      <dynamic prepend="WHERE">
        <!--出库单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_ID">SOBD_ID=#WHERE_SOBD_ID#</isNotEmpty>
        <!--出库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SOB_ID">SOBD_SOB_ID LIKE '%'+#WHERE_SOBD_SOB_ID#+'%'</isNotEmpty>
        <!--出库单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SOB_No">SOBD_SOB_No LIKE '%'+#WHERE_SOBD_SOB_No#+'%'</isNotEmpty>
        <!--来源单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SourceDetailID">SOBD_SourceDetailID LIKE '%'+#WHERE_SOBD_SourceDetailID#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Barcode">SOBD_Barcode LIKE '%'+#WHERE_SOBD_Barcode#+'%'</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_BatchNo">SOBD_BatchNo LIKE '%'+#WHERE_SOBD_BatchNo#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_ThirdNo">SOBD_ThirdNo LIKE '%'+#WHERE_SOBD_ThirdNo#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_OEMNo">SOBD_OEMNo LIKE '%'+#WHERE_SOBD_OEMNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Name">SOBD_Name LIKE '%'+#WHERE_SOBD_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Specification">SOBD_Specification LIKE '%'+#WHERE_SOBD_Specification#+'%'</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_WH_ID">SOBD_WH_ID LIKE '%'+#WHERE_SOBD_WH_ID#+'%'</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_WHB_ID">SOBD_WHB_ID LIKE '%'+#WHERE_SOBD_WHB_ID#+'%'</isNotEmpty>
        <!--进货单价-->
        <isNotNull prepend="AND" property="WHERE_SOBD_UnitCostPrice">SOBD_UnitCostPrice=#WHERE_SOBD_UnitCostPrice#</isNotNull>
        <!--出库数量-->
        <isNotNull prepend="AND" property="WHERE_SOBD_Qty">SOBD_Qty=#WHERE_SOBD_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_UOM">SOBD_UOM LIKE '%'+#WHERE_SOBD_UOM#+'%'</isNotEmpty>
        <!--销售单价-->
        <isNotNull prepend="AND" property="WHERE_SOBD_UnitSalePrice">SOBD_UnitSalePrice=#WHERE_SOBD_UnitSalePrice#</isNotNull>
        <!--金额-->
        <isNotNull prepend="AND" property="WHERE_SOBD_Amount">SOBD_Amount=#WHERE_SOBD_Amount#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOBD_IsValid">SOBD_IsValid=#WHERE_SOBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_CreatedBy">SOBD_CreatedBy LIKE '%'+#WHERE_SOBD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_UpdatedBy">SOBD_UpdatedBy LIKE '%'+#WHERE_SOBD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOBD_VersionNo">SOBD_VersionNo=#WHERE_SOBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_TransID">SOBD_TransID LIKE '%'+#WHERE_SOBD_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SOBD_ID,
      SOBD_SOB_ID,
      SOBD_SOB_No,
      SOBD_SourceDetailID,
      SOBD_Barcode,
      SOBD_BatchNo,
      SOBD_ThirdNo,
      SOBD_OEMNo,
      SOBD_Name,
      SOBD_Specification,
      SOBD_WH_ID,
      SOBD_WHB_ID,
      SOBD_UnitCostPrice,
      SOBD_Qty,
      SOBD_UOM,
      SOBD_UnitSalePrice,
      SOBD_Amount,
      SOBD_IsValid,
      SOBD_CreatedBy,
      SOBD_CreatedTime,
      SOBD_UpdatedBy,
      SOBD_UpdatedTime,
      SOBD_VersionNo,
      SOBD_TransID
      FROM PIS_StockOutBillDetail
      <dynamic prepend="WHERE">
        <!--出库单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_ID">SOBD_ID=#WHERE_SOBD_ID#</isNotEmpty>
        <!--出库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SOB_ID">SOBD_SOB_ID LIKE '%'+#WHERE_SOBD_SOB_ID#+'%'</isNotEmpty>
        <!--出库单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SOB_No">SOBD_SOB_No LIKE '%'+#WHERE_SOBD_SOB_No#+'%'</isNotEmpty>
        <!--来源单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SourceDetailID">SOBD_SourceDetailID LIKE '%'+#WHERE_SOBD_SourceDetailID#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Barcode">SOBD_Barcode LIKE '%'+#WHERE_SOBD_Barcode#+'%'</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_BatchNo">SOBD_BatchNo LIKE '%'+#WHERE_SOBD_BatchNo#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_ThirdNo">SOBD_ThirdNo LIKE '%'+#WHERE_SOBD_ThirdNo#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_OEMNo">SOBD_OEMNo LIKE '%'+#WHERE_SOBD_OEMNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Name">SOBD_Name LIKE '%'+#WHERE_SOBD_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Specification">SOBD_Specification LIKE '%'+#WHERE_SOBD_Specification#+'%'</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_WH_ID">SOBD_WH_ID LIKE '%'+#WHERE_SOBD_WH_ID#+'%'</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_WHB_ID">SOBD_WHB_ID LIKE '%'+#WHERE_SOBD_WHB_ID#+'%'</isNotEmpty>
        <!--进货单价-->
        <isNotNull prepend="AND" property="WHERE_SOBD_UnitCostPrice">SOBD_UnitCostPrice=#WHERE_SOBD_UnitCostPrice#</isNotNull>
        <!--出库数量-->
        <isNotNull prepend="AND" property="WHERE_SOBD_Qty">SOBD_Qty=#WHERE_SOBD_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_UOM">SOBD_UOM LIKE '%'+#WHERE_SOBD_UOM#+'%'</isNotEmpty>
        <!--销售单价-->
        <isNotNull prepend="AND" property="WHERE_SOBD_UnitSalePrice">SOBD_UnitSalePrice=#WHERE_SOBD_UnitSalePrice#</isNotNull>
        <!--金额-->
        <isNotNull prepend="AND" property="WHERE_SOBD_Amount">SOBD_Amount=#WHERE_SOBD_Amount#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOBD_IsValid">SOBD_IsValid=#WHERE_SOBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_CreatedBy">SOBD_CreatedBy LIKE '%'+#WHERE_SOBD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_UpdatedBy">SOBD_UpdatedBy LIKE '%'+#WHERE_SOBD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOBD_VersionNo">SOBD_VersionNo=#WHERE_SOBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_TransID">SOBD_TransID LIKE '%'+#WHERE_SOBD_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SOBD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[出库单明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_StockOutBillDetail" parameterClass="MDLPIS_StockOutBillDetail" resultClass="int">
      SELECT COUNT(SOBD_ID) 'RecordCount'
      FROM PIS_StockOutBillDetail
      <dynamic prepend="WHERE">
        <!--出库单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_ID">SOBD_ID=#WHERE_SOBD_ID#</isNotEmpty>
        <!--出库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SOB_ID">SOBD_SOB_ID=#WHERE_SOBD_SOB_ID#</isNotEmpty>
        <!--出库单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SOB_No">SOBD_SOB_No=#WHERE_SOBD_SOB_No#</isNotEmpty>
        <!--来源单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SourceDetailID">SOBD_SourceDetailID=#WHERE_SOBD_SourceDetailID#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Barcode">SOBD_Barcode=#WHERE_SOBD_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_BatchNo">SOBD_BatchNo=#WHERE_SOBD_BatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_ThirdNo">SOBD_ThirdNo=#WHERE_SOBD_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_OEMNo">SOBD_OEMNo=#WHERE_SOBD_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Name">SOBD_Name=#WHERE_SOBD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Specification">SOBD_Specification=#WHERE_SOBD_Specification#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_WH_ID">SOBD_WH_ID=#WHERE_SOBD_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_WHB_ID">SOBD_WHB_ID=#WHERE_SOBD_WHB_ID#</isNotEmpty>
        <!--进货单价-->
        <isNotNull prepend="AND" property="WHERE_SOBD_UnitCostPrice">SOBD_UnitCostPrice=#WHERE_SOBD_UnitCostPrice#</isNotNull>
        <!--出库数量-->
        <isNotNull prepend="AND" property="WHERE_SOBD_Qty">SOBD_Qty=#WHERE_SOBD_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_UOM">SOBD_UOM=#WHERE_SOBD_UOM#</isNotEmpty>
        <!--销售单价-->
        <isNotNull prepend="AND" property="WHERE_SOBD_UnitSalePrice">SOBD_UnitSalePrice=#WHERE_SOBD_UnitSalePrice#</isNotNull>
        <!--金额-->
        <isNotNull prepend="AND" property="WHERE_SOBD_Amount">SOBD_Amount=#WHERE_SOBD_Amount#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOBD_IsValid">SOBD_IsValid=#WHERE_SOBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_CreatedBy">SOBD_CreatedBy=#WHERE_SOBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_UpdatedBy">SOBD_UpdatedBy=#WHERE_SOBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOBD_VersionNo">SOBD_VersionNo=#WHERE_SOBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_TransID">SOBD_TransID=#WHERE_SOBD_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[出库单明细]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_StockOutBillDetail" parameterClass="MDLPIS_StockOutBillDetail" >
      UPDATE PIS_StockOutBillDetail
      SET
      SOBD_UpdatedTime=GETDATE(),
      SOBD_VersionNo=SOBD_VersionNo+1
      <isNotEmpty prepend="," property="SOBD_SOB_ID">SOBD_SOB_ID=#SOBD_SOB_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="SOBD_SOB_No">SOBD_SOB_No=#SOBD_SOB_No#</isNotEmpty>
      <isNotEmpty prepend="," property="SOBD_SourceDetailID">SOBD_SourceDetailID=#SOBD_SourceDetailID#</isNotEmpty>
      <isNotEmpty prepend="," property="SOBD_Barcode">SOBD_Barcode=#SOBD_Barcode#</isNotEmpty>
      <isNotEmpty prepend="," property="SOBD_BatchNo">SOBD_BatchNo=#SOBD_BatchNo#</isNotEmpty>
      <isNotEmpty prepend="," property="SOBD_ThirdNo">SOBD_ThirdNo=#SOBD_ThirdNo#</isNotEmpty>
      <isNotEmpty prepend="," property="SOBD_OEMNo">SOBD_OEMNo=#SOBD_OEMNo#</isNotEmpty>
      <isNotEmpty prepend="," property="SOBD_Name">SOBD_Name=#SOBD_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="SOBD_Specification">SOBD_Specification=#SOBD_Specification#</isNotEmpty>
      <isNotEmpty prepend="," property="SOBD_WH_ID">SOBD_WH_ID=#SOBD_WH_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="SOBD_WHB_ID">SOBD_WHB_ID=#SOBD_WHB_ID#</isNotEmpty>
      <isNotNull prepend="," property="SOBD_UnitCostPrice">SOBD_UnitCostPrice=#SOBD_UnitCostPrice#</isNotNull>
      <isNotNull prepend="," property="SOBD_Qty">SOBD_Qty=#SOBD_Qty#</isNotNull>
      <isNotEmpty prepend="," property="SOBD_UOM">SOBD_UOM=#SOBD_UOM#</isNotEmpty>
      <isNotNull prepend="," property="SOBD_UnitSalePrice">SOBD_UnitSalePrice=#SOBD_UnitSalePrice#</isNotNull>
      <isNotNull prepend="," property="SOBD_Amount">SOBD_Amount=#SOBD_Amount#</isNotNull>
      <isNotNull prepend="," property="SOBD_IsValid">SOBD_IsValid=#SOBD_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="SOBD_CreatedBy">SOBD_CreatedBy=#SOBD_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="SOBD_CreatedTime">SOBD_CreatedTime=#SOBD_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="SOBD_UpdatedBy">SOBD_UpdatedBy=#SOBD_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="SOBD_TransID">SOBD_TransID=#SOBD_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--出库单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_ID">SOBD_ID=#WHERE_SOBD_ID#</isNotEmpty>
        <!--出库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SOB_ID">SOBD_SOB_ID=#WHERE_SOBD_SOB_ID#</isNotEmpty>
        <!--出库单号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SOB_No">SOBD_SOB_No=#WHERE_SOBD_SOB_No#</isNotEmpty>
        <!--来源单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_SourceDetailID">SOBD_SourceDetailID=#WHERE_SOBD_SourceDetailID#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Barcode">SOBD_Barcode=#WHERE_SOBD_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_BatchNo">SOBD_BatchNo=#WHERE_SOBD_BatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_ThirdNo">SOBD_ThirdNo=#WHERE_SOBD_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_OEMNo">SOBD_OEMNo=#WHERE_SOBD_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Name">SOBD_Name=#WHERE_SOBD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_Specification">SOBD_Specification=#WHERE_SOBD_Specification#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_WH_ID">SOBD_WH_ID=#WHERE_SOBD_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_WHB_ID">SOBD_WHB_ID=#WHERE_SOBD_WHB_ID#</isNotEmpty>
        <!--进货单价-->
        <isNotNull prepend="AND" property="WHERE_SOBD_UnitCostPrice">SOBD_UnitCostPrice=#WHERE_SOBD_UnitCostPrice#</isNotNull>
        <!--出库数量-->
        <isNotNull prepend="AND" property="WHERE_SOBD_Qty">SOBD_Qty=#WHERE_SOBD_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_UOM">SOBD_UOM=#WHERE_SOBD_UOM#</isNotEmpty>
        <!--销售单价-->
        <isNotNull prepend="AND" property="WHERE_SOBD_UnitSalePrice">SOBD_UnitSalePrice=#WHERE_SOBD_UnitSalePrice#</isNotNull>
        <!--金额-->
        <isNotNull prepend="AND" property="WHERE_SOBD_Amount">SOBD_Amount=#WHERE_SOBD_Amount#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOBD_IsValid">SOBD_IsValid=#WHERE_SOBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_CreatedBy">SOBD_CreatedBy=#WHERE_SOBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_UpdatedBy">SOBD_UpdatedBy=#WHERE_SOBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOBD_VersionNo">SOBD_VersionNo=#WHERE_SOBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOBD_TransID">SOBD_TransID=#WHERE_SOBD_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[出库单明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_StockOutBillDetail" parameterClass="List">
      DELETE FROM PIS_StockOutBillDetail
      WHERE SOBD_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_SOBD_ID#
      </iterate>
    </delete>

    <!--新增[供应商管理]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_Supplier" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_Supplier
        (
        <!--ID-->
        SUPP_ID,
        <!--编码-->
        SUPP_Code,
        <!--名称-->
        SUPP_Name,
        <!--简称-->
        SUPP_ShortName,
        <!--联系人-->
        SUPP_Contacter,
        <!--固定号码-->
        SUPP_Tel,
        <!--电话号码-->
        SUPP_Phone,
        <!--QQ号码-->
        SUPP_QQ,
        <!--地区-->
        SUPP_Territory,
        <!--省-->
        SUPP_Prov_Code,
        <!--市-->
        SUPP_City_Code,
        <!--区-->
        SUPP_Dist_Code,
        <!--地址-->
        SUPP_Address,
        <!--评估等级-->
        SUPP_EvaluateLevel,
        <!--最近评估日-->
        SUPP_LastEvaluateDate,
        <!--开户行-->
        SUPP_BankName,
        <!--开户名-->
        SUPP_BankAccountName,
        <!--账号-->
        SUPP_BankAccountNo,
        <!--主营配件-->
        SUPP_MainAutoParts,
        <!--备注-->
        SUPP_Remark,
        <!--有效-->
        SUPP_IsValid,
        <!--创建人-->
        SUPP_CreatedBy,
        <!--创建时间-->
        SUPP_CreatedTime,
        <!--修改人-->
        SUPP_UpdatedBy,
        <!--修改时间-->
        SUPP_UpdatedTime,
        <!--版本号-->
        SUPP_VersionNo,
        <!--事务编号-->
        SUPP_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].SUPP_ID#,
        <!--编码-->
        #[].SUPP_Code#,
        <!--名称-->
        #[].SUPP_Name#,
        <!--简称-->
        #[].SUPP_ShortName#,
        <!--联系人-->
        #[].SUPP_Contacter#,
        <!--固定号码-->
        #[].SUPP_Tel#,
        <!--电话号码-->
        #[].SUPP_Phone#,
        <!--QQ号码-->
        #[].SUPP_QQ#,
        <!--地区-->
        #[].SUPP_Territory#,
        <!--省-->
        #[].SUPP_Prov_Code#,
        <!--市-->
        #[].SUPP_City_Code#,
        <!--区-->
        #[].SUPP_Dist_Code#,
        <!--地址-->
        #[].SUPP_Address#,
        <!--评估等级-->
        #[].SUPP_EvaluateLevel#,
        <!--最近评估日-->
        #[].SUPP_LastEvaluateDate#,
        <!--开户行-->
        #[].SUPP_BankName#,
        <!--开户名-->
        #[].SUPP_BankAccountName#,
        <!--账号-->
        #[].SUPP_BankAccountNo#,
        <!--主营配件-->
        #[].SUPP_MainAutoParts#,
        <!--备注-->
        #[].SUPP_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].SUPP_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].SUPP_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].SUPP_TransID#
        )
      </iterate>
    </insert>

    <!--查询[供应商管理]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_Supplier" parameterClass="MDLPIS_Supplier" resultClass="MDLPIS_Supplier">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SUPP_ID)
      FROM PIS_Supplier
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_ID">SUPP_ID=#WHERE_SUPP_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Code">SUPP_Code=#WHERE_SUPP_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Name">SUPP_Name=#WHERE_SUPP_Name#</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_ShortName">SUPP_ShortName=#WHERE_SUPP_ShortName#</isNotEmpty>
        <!--联系人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Contacter">SUPP_Contacter=#WHERE_SUPP_Contacter#</isNotEmpty>
        <!--固定号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Tel">SUPP_Tel=#WHERE_SUPP_Tel#</isNotEmpty>
        <!--电话号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Phone">SUPP_Phone=#WHERE_SUPP_Phone#</isNotEmpty>
        <!--QQ号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_QQ">SUPP_QQ=#WHERE_SUPP_QQ#</isNotEmpty>
        <!--地区-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Territory">SUPP_Territory=#WHERE_SUPP_Territory#</isNotEmpty>
        <!--省-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Prov_Code">SUPP_Prov_Code=#WHERE_SUPP_Prov_Code#</isNotEmpty>
        <!--市-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_City_Code">SUPP_City_Code=#WHERE_SUPP_City_Code#</isNotEmpty>
        <!--区-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Dist_Code">SUPP_Dist_Code=#WHERE_SUPP_Dist_Code#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Address">SUPP_Address=#WHERE_SUPP_Address#</isNotEmpty>
        <!--评估等级-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_EvaluateLevel">SUPP_EvaluateLevel=#WHERE_SUPP_EvaluateLevel#</isNotEmpty>
        <!--最近评估日-->
        <isNotNull prepend="" property="_LastEvaluateDateStart">
          <isNotNull prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate BETWEEN #_LastEvaluateDateStart# AND #_LastEvaluateDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate <![CDATA[>=]]> #_LastEvaluateDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LastEvaluateDateStart">
          <isNotNull prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate <![CDATA[<=]]> #_LastEvaluateDateEnd#</isNotNull>
        </isNull>
        <!--开户行-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankName">SUPP_BankName=#WHERE_SUPP_BankName#</isNotEmpty>
        <!--开户名-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankAccountName">SUPP_BankAccountName=#WHERE_SUPP_BankAccountName#</isNotEmpty>
        <!--账号-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankAccountNo">SUPP_BankAccountNo=#WHERE_SUPP_BankAccountNo#</isNotEmpty>
        <!--主营配件-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_MainAutoParts">SUPP_MainAutoParts=#WHERE_SUPP_MainAutoParts#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Remark">SUPP_Remark=#WHERE_SUPP_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SUPP_IsValid">SUPP_IsValid=#WHERE_SUPP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_CreatedBy">SUPP_CreatedBy=#WHERE_SUPP_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_UpdatedBy">SUPP_UpdatedBy=#WHERE_SUPP_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SUPP_VersionNo">SUPP_VersionNo=#WHERE_SUPP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_TransID">SUPP_TransID=#WHERE_SUPP_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SUPP_ID,
      SUPP_Code,
      SUPP_Name,
      SUPP_ShortName,
      SUPP_Contacter,
      SUPP_Tel,
      SUPP_Phone,
      SUPP_QQ,
      SUPP_Territory,
      SUPP_Prov_Code,
      SUPP_City_Code,
      SUPP_Dist_Code,
      SUPP_Address,
      SUPP_EvaluateLevel,
      SUPP_LastEvaluateDate,
      SUPP_BankName,
      SUPP_BankAccountName,
      SUPP_BankAccountNo,
      SUPP_MainAutoParts,
      SUPP_Remark,
      SUPP_IsValid,
      SUPP_CreatedBy,
      SUPP_CreatedTime,
      SUPP_UpdatedBy,
      SUPP_UpdatedTime,
      SUPP_VersionNo,
      SUPP_TransID
      FROM PIS_Supplier
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_ID">SUPP_ID=#WHERE_SUPP_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Code">SUPP_Code=#WHERE_SUPP_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Name">SUPP_Name=#WHERE_SUPP_Name#</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_ShortName">SUPP_ShortName=#WHERE_SUPP_ShortName#</isNotEmpty>
        <!--联系人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Contacter">SUPP_Contacter=#WHERE_SUPP_Contacter#</isNotEmpty>
        <!--固定号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Tel">SUPP_Tel=#WHERE_SUPP_Tel#</isNotEmpty>
        <!--电话号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Phone">SUPP_Phone=#WHERE_SUPP_Phone#</isNotEmpty>
        <!--QQ号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_QQ">SUPP_QQ=#WHERE_SUPP_QQ#</isNotEmpty>
        <!--地区-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Territory">SUPP_Territory=#WHERE_SUPP_Territory#</isNotEmpty>
        <!--省-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Prov_Code">SUPP_Prov_Code=#WHERE_SUPP_Prov_Code#</isNotEmpty>
        <!--市-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_City_Code">SUPP_City_Code=#WHERE_SUPP_City_Code#</isNotEmpty>
        <!--区-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Dist_Code">SUPP_Dist_Code=#WHERE_SUPP_Dist_Code#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Address">SUPP_Address=#WHERE_SUPP_Address#</isNotEmpty>
        <!--评估等级-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_EvaluateLevel">SUPP_EvaluateLevel=#WHERE_SUPP_EvaluateLevel#</isNotEmpty>
        <!--最近评估日-->
        <isNotNull prepend="" property="_LastEvaluateDateStart">
          <isNotNull prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate BETWEEN #_LastEvaluateDateStart# AND #_LastEvaluateDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate <![CDATA[>=]]> #_LastEvaluateDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LastEvaluateDateStart">
          <isNotNull prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate <![CDATA[<=]]> #_LastEvaluateDateEnd#</isNotNull>
        </isNull>
        <!--开户行-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankName">SUPP_BankName=#WHERE_SUPP_BankName#</isNotEmpty>
        <!--开户名-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankAccountName">SUPP_BankAccountName=#WHERE_SUPP_BankAccountName#</isNotEmpty>
        <!--账号-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankAccountNo">SUPP_BankAccountNo=#WHERE_SUPP_BankAccountNo#</isNotEmpty>
        <!--主营配件-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_MainAutoParts">SUPP_MainAutoParts=#WHERE_SUPP_MainAutoParts#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Remark">SUPP_Remark=#WHERE_SUPP_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SUPP_IsValid">SUPP_IsValid=#WHERE_SUPP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_CreatedBy">SUPP_CreatedBy=#WHERE_SUPP_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_UpdatedBy">SUPP_UpdatedBy=#WHERE_SUPP_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SUPP_VersionNo">SUPP_VersionNo=#WHERE_SUPP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_TransID">SUPP_TransID=#WHERE_SUPP_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SUPP_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[供应商管理]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_Supplier" parameterClass="MDLPIS_Supplier" resultClass="MDLPIS_Supplier">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SUPP_ID)
      FROM PIS_Supplier
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_ID">SUPP_ID=#WHERE_SUPP_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Code">SUPP_Code LIKE '%'+#WHERE_SUPP_Code#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Name">SUPP_Name LIKE '%'+#WHERE_SUPP_Name#+'%'</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_ShortName">SUPP_ShortName LIKE '%'+#WHERE_SUPP_ShortName#+'%'</isNotEmpty>
        <!--联系人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Contacter">SUPP_Contacter LIKE '%'+#WHERE_SUPP_Contacter#+'%'</isNotEmpty>
        <!--固定号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Tel">SUPP_Tel LIKE '%'+#WHERE_SUPP_Tel#+'%'</isNotEmpty>
        <!--电话号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Phone">SUPP_Phone LIKE '%'+#WHERE_SUPP_Phone#+'%'</isNotEmpty>
        <!--QQ号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_QQ">SUPP_QQ LIKE '%'+#WHERE_SUPP_QQ#+'%'</isNotEmpty>
        <!--地区-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Territory">SUPP_Territory LIKE '%'+#WHERE_SUPP_Territory#+'%'</isNotEmpty>
        <!--省-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Prov_Code">SUPP_Prov_Code LIKE '%'+#WHERE_SUPP_Prov_Code#+'%'</isNotEmpty>
        <!--市-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_City_Code">SUPP_City_Code LIKE '%'+#WHERE_SUPP_City_Code#+'%'</isNotEmpty>
        <!--区-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Dist_Code">SUPP_Dist_Code LIKE '%'+#WHERE_SUPP_Dist_Code#+'%'</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Address">SUPP_Address LIKE '%'+#WHERE_SUPP_Address#+'%'</isNotEmpty>
        <!--评估等级-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_EvaluateLevel">SUPP_EvaluateLevel LIKE '%'+#WHERE_SUPP_EvaluateLevel#+'%'</isNotEmpty>
        <!--最近评估日-->
        <isNotNull prepend="" property="_LastEvaluateDateStart">
          <isNotNull prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate BETWEEN #_LastEvaluateDateStart# AND #_LastEvaluateDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate <![CDATA[>=]]> #_LastEvaluateDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LastEvaluateDateStart">
          <isNotNull prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate <![CDATA[<=]]> #_LastEvaluateDateEnd#</isNotNull>
        </isNull>
        <!--开户行-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankName">SUPP_BankName LIKE '%'+#WHERE_SUPP_BankName#+'%'</isNotEmpty>
        <!--开户名-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankAccountName">SUPP_BankAccountName LIKE '%'+#WHERE_SUPP_BankAccountName#+'%'</isNotEmpty>
        <!--账号-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankAccountNo">SUPP_BankAccountNo LIKE '%'+#WHERE_SUPP_BankAccountNo#+'%'</isNotEmpty>
        <!--主营配件-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_MainAutoParts">SUPP_MainAutoParts LIKE '%'+#WHERE_SUPP_MainAutoParts#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Remark">SUPP_Remark LIKE '%'+#WHERE_SUPP_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SUPP_IsValid">SUPP_IsValid=#WHERE_SUPP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_CreatedBy">SUPP_CreatedBy LIKE '%'+#WHERE_SUPP_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_UpdatedBy">SUPP_UpdatedBy LIKE '%'+#WHERE_SUPP_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SUPP_VersionNo">SUPP_VersionNo=#WHERE_SUPP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_TransID">SUPP_TransID LIKE '%'+#WHERE_SUPP_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SUPP_ID,
      SUPP_Code,
      SUPP_Name,
      SUPP_ShortName,
      SUPP_Contacter,
      SUPP_Tel,
      SUPP_Phone,
      SUPP_QQ,
      SUPP_Territory,
      SUPP_Prov_Code,
      SUPP_City_Code,
      SUPP_Dist_Code,
      SUPP_Address,
      SUPP_EvaluateLevel,
      SUPP_LastEvaluateDate,
      SUPP_BankName,
      SUPP_BankAccountName,
      SUPP_BankAccountNo,
      SUPP_MainAutoParts,
      SUPP_Remark,
      SUPP_IsValid,
      SUPP_CreatedBy,
      SUPP_CreatedTime,
      SUPP_UpdatedBy,
      SUPP_UpdatedTime,
      SUPP_VersionNo,
      SUPP_TransID
      FROM PIS_Supplier
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_ID">SUPP_ID=#WHERE_SUPP_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Code">SUPP_Code LIKE '%'+#WHERE_SUPP_Code#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Name">SUPP_Name LIKE '%'+#WHERE_SUPP_Name#+'%'</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_ShortName">SUPP_ShortName LIKE '%'+#WHERE_SUPP_ShortName#+'%'</isNotEmpty>
        <!--联系人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Contacter">SUPP_Contacter LIKE '%'+#WHERE_SUPP_Contacter#+'%'</isNotEmpty>
        <!--固定号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Tel">SUPP_Tel LIKE '%'+#WHERE_SUPP_Tel#+'%'</isNotEmpty>
        <!--电话号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Phone">SUPP_Phone LIKE '%'+#WHERE_SUPP_Phone#+'%'</isNotEmpty>
        <!--QQ号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_QQ">SUPP_QQ LIKE '%'+#WHERE_SUPP_QQ#+'%'</isNotEmpty>
        <!--地区-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Territory">SUPP_Territory LIKE '%'+#WHERE_SUPP_Territory#+'%'</isNotEmpty>
        <!--省-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Prov_Code">SUPP_Prov_Code LIKE '%'+#WHERE_SUPP_Prov_Code#+'%'</isNotEmpty>
        <!--市-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_City_Code">SUPP_City_Code LIKE '%'+#WHERE_SUPP_City_Code#+'%'</isNotEmpty>
        <!--区-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Dist_Code">SUPP_Dist_Code LIKE '%'+#WHERE_SUPP_Dist_Code#+'%'</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Address">SUPP_Address LIKE '%'+#WHERE_SUPP_Address#+'%'</isNotEmpty>
        <!--评估等级-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_EvaluateLevel">SUPP_EvaluateLevel LIKE '%'+#WHERE_SUPP_EvaluateLevel#+'%'</isNotEmpty>
        <!--最近评估日-->
        <isNotNull prepend="" property="_LastEvaluateDateStart">
          <isNotNull prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate BETWEEN #_LastEvaluateDateStart# AND #_LastEvaluateDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate <![CDATA[>=]]> #_LastEvaluateDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LastEvaluateDateStart">
          <isNotNull prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate <![CDATA[<=]]> #_LastEvaluateDateEnd#</isNotNull>
        </isNull>
        <!--开户行-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankName">SUPP_BankName LIKE '%'+#WHERE_SUPP_BankName#+'%'</isNotEmpty>
        <!--开户名-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankAccountName">SUPP_BankAccountName LIKE '%'+#WHERE_SUPP_BankAccountName#+'%'</isNotEmpty>
        <!--账号-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankAccountNo">SUPP_BankAccountNo LIKE '%'+#WHERE_SUPP_BankAccountNo#+'%'</isNotEmpty>
        <!--主营配件-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_MainAutoParts">SUPP_MainAutoParts LIKE '%'+#WHERE_SUPP_MainAutoParts#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Remark">SUPP_Remark LIKE '%'+#WHERE_SUPP_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SUPP_IsValid">SUPP_IsValid=#WHERE_SUPP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_CreatedBy">SUPP_CreatedBy LIKE '%'+#WHERE_SUPP_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_UpdatedBy">SUPP_UpdatedBy LIKE '%'+#WHERE_SUPP_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SUPP_VersionNo">SUPP_VersionNo=#WHERE_SUPP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_TransID">SUPP_TransID LIKE '%'+#WHERE_SUPP_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SUPP_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[供应商管理]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_Supplier" parameterClass="MDLPIS_Supplier" resultClass="int">
      SELECT COUNT(SUPP_ID) 'RecordCount'
      FROM PIS_Supplier
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_ID">SUPP_ID=#WHERE_SUPP_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Code">SUPP_Code=#WHERE_SUPP_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Name">SUPP_Name=#WHERE_SUPP_Name#</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_ShortName">SUPP_ShortName=#WHERE_SUPP_ShortName#</isNotEmpty>
        <!--联系人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Contacter">SUPP_Contacter=#WHERE_SUPP_Contacter#</isNotEmpty>
        <!--固定号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Tel">SUPP_Tel=#WHERE_SUPP_Tel#</isNotEmpty>
        <!--电话号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Phone">SUPP_Phone=#WHERE_SUPP_Phone#</isNotEmpty>
        <!--QQ号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_QQ">SUPP_QQ=#WHERE_SUPP_QQ#</isNotEmpty>
        <!--地区-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Territory">SUPP_Territory=#WHERE_SUPP_Territory#</isNotEmpty>
        <!--省-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Prov_Code">SUPP_Prov_Code=#WHERE_SUPP_Prov_Code#</isNotEmpty>
        <!--市-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_City_Code">SUPP_City_Code=#WHERE_SUPP_City_Code#</isNotEmpty>
        <!--区-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Dist_Code">SUPP_Dist_Code=#WHERE_SUPP_Dist_Code#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Address">SUPP_Address=#WHERE_SUPP_Address#</isNotEmpty>
        <!--评估等级-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_EvaluateLevel">SUPP_EvaluateLevel=#WHERE_SUPP_EvaluateLevel#</isNotEmpty>
        <!--最近评估日-->
        <isNotNull prepend="" property="_LastEvaluateDateStart">
          <isNotNull prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate BETWEEN #_LastEvaluateDateStart# AND #_LastEvaluateDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate <![CDATA[>=]]> #_LastEvaluateDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LastEvaluateDateStart">
          <isNotNull prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate <![CDATA[<=]]> #_LastEvaluateDateEnd#</isNotNull>
        </isNull>
        <!--开户行-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankName">SUPP_BankName=#WHERE_SUPP_BankName#</isNotEmpty>
        <!--开户名-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankAccountName">SUPP_BankAccountName=#WHERE_SUPP_BankAccountName#</isNotEmpty>
        <!--账号-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankAccountNo">SUPP_BankAccountNo=#WHERE_SUPP_BankAccountNo#</isNotEmpty>
        <!--主营配件-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_MainAutoParts">SUPP_MainAutoParts=#WHERE_SUPP_MainAutoParts#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Remark">SUPP_Remark=#WHERE_SUPP_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SUPP_IsValid">SUPP_IsValid=#WHERE_SUPP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_CreatedBy">SUPP_CreatedBy=#WHERE_SUPP_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_UpdatedBy">SUPP_UpdatedBy=#WHERE_SUPP_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SUPP_VersionNo">SUPP_VersionNo=#WHERE_SUPP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_TransID">SUPP_TransID=#WHERE_SUPP_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[供应商管理]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_Supplier" parameterClass="MDLPIS_Supplier" >
      UPDATE PIS_Supplier
      SET
      SUPP_UpdatedTime=GETDATE(),
      SUPP_VersionNo=SUPP_VersionNo+1
      <isNotEmpty prepend="," property="SUPP_Code">SUPP_Code=#SUPP_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_Name">SUPP_Name=#SUPP_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_ShortName">SUPP_ShortName=#SUPP_ShortName#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_Contacter">SUPP_Contacter=#SUPP_Contacter#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_Tel">SUPP_Tel=#SUPP_Tel#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_Phone">SUPP_Phone=#SUPP_Phone#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_QQ">SUPP_QQ=#SUPP_QQ#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_Territory">SUPP_Territory=#SUPP_Territory#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_Prov_Code">SUPP_Prov_Code=#SUPP_Prov_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_City_Code">SUPP_City_Code=#SUPP_City_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_Dist_Code">SUPP_Dist_Code=#SUPP_Dist_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_Address">SUPP_Address=#SUPP_Address#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_EvaluateLevel">SUPP_EvaluateLevel=#SUPP_EvaluateLevel#</isNotEmpty>
      <isNotNull prepend="," property="SUPP_LastEvaluateDate">SUPP_LastEvaluateDate=#SUPP_LastEvaluateDate#</isNotNull>
      <isNotEmpty prepend="," property="SUPP_BankName">SUPP_BankName=#SUPP_BankName#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_BankAccountName">SUPP_BankAccountName=#SUPP_BankAccountName#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_BankAccountNo">SUPP_BankAccountNo=#SUPP_BankAccountNo#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_MainAutoParts">SUPP_MainAutoParts=#SUPP_MainAutoParts#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_Remark">SUPP_Remark=#SUPP_Remark#</isNotEmpty>
      <isNotNull prepend="," property="SUPP_IsValid">SUPP_IsValid=#SUPP_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="SUPP_CreatedBy">SUPP_CreatedBy=#SUPP_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="SUPP_CreatedTime">SUPP_CreatedTime=#SUPP_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="SUPP_UpdatedBy">SUPP_UpdatedBy=#SUPP_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="SUPP_TransID">SUPP_TransID=#SUPP_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_ID">SUPP_ID=#WHERE_SUPP_ID#</isNotEmpty>
        <!--编码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Code">SUPP_Code=#WHERE_SUPP_Code#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Name">SUPP_Name=#WHERE_SUPP_Name#</isNotEmpty>
        <!--简称-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_ShortName">SUPP_ShortName=#WHERE_SUPP_ShortName#</isNotEmpty>
        <!--联系人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Contacter">SUPP_Contacter=#WHERE_SUPP_Contacter#</isNotEmpty>
        <!--固定号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Tel">SUPP_Tel=#WHERE_SUPP_Tel#</isNotEmpty>
        <!--电话号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Phone">SUPP_Phone=#WHERE_SUPP_Phone#</isNotEmpty>
        <!--QQ号码-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_QQ">SUPP_QQ=#WHERE_SUPP_QQ#</isNotEmpty>
        <!--地区-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Territory">SUPP_Territory=#WHERE_SUPP_Territory#</isNotEmpty>
        <!--省-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Prov_Code">SUPP_Prov_Code=#WHERE_SUPP_Prov_Code#</isNotEmpty>
        <!--市-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_City_Code">SUPP_City_Code=#WHERE_SUPP_City_Code#</isNotEmpty>
        <!--区-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Dist_Code">SUPP_Dist_Code=#WHERE_SUPP_Dist_Code#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Address">SUPP_Address=#WHERE_SUPP_Address#</isNotEmpty>
        <!--评估等级-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_EvaluateLevel">SUPP_EvaluateLevel=#WHERE_SUPP_EvaluateLevel#</isNotEmpty>
        <!--最近评估日-->
        <isNotNull prepend="" property="_LastEvaluateDateStart">
          <isNotNull prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate BETWEEN #_LastEvaluateDateStart# AND #_LastEvaluateDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate <![CDATA[>=]]> #_LastEvaluateDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LastEvaluateDateStart">
          <isNotNull prepend="AND" property="_LastEvaluateDateEnd">SUPP_LastEvaluateDate <![CDATA[<=]]> #_LastEvaluateDateEnd#</isNotNull>
        </isNull>
        <!--开户行-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankName">SUPP_BankName=#WHERE_SUPP_BankName#</isNotEmpty>
        <!--开户名-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankAccountName">SUPP_BankAccountName=#WHERE_SUPP_BankAccountName#</isNotEmpty>
        <!--账号-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_BankAccountNo">SUPP_BankAccountNo=#WHERE_SUPP_BankAccountNo#</isNotEmpty>
        <!--主营配件-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_MainAutoParts">SUPP_MainAutoParts=#WHERE_SUPP_MainAutoParts#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_Remark">SUPP_Remark=#WHERE_SUPP_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SUPP_IsValid">SUPP_IsValid=#WHERE_SUPP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_CreatedBy">SUPP_CreatedBy=#WHERE_SUPP_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SUPP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_UpdatedBy">SUPP_UpdatedBy=#WHERE_SUPP_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SUPP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SUPP_VersionNo">SUPP_VersionNo=#WHERE_SUPP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SUPP_TransID">SUPP_TransID=#WHERE_SUPP_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[供应商管理]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_Supplier" parameterClass="List">
      DELETE FROM PIS_Supplier
      WHERE SUPP_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_SUPP_ID#
      </iterate>
    </delete>

    <!--新增[库存]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_Inventory" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_Inventory
        (
        <!--ID-->
        INV_ID,
        <!--组织ID-->
        INV_Org_ID,
        <!--仓库ID-->
        INV_WH_ID,
        <!--仓位ID-->
        INV_WHB_ID,
        <!--第三方编码-->
        INV_ThirdNo,
        <!--原厂编码-->
        INV_OEMNo,
        <!--配件条码-->
        INV_Barcode,
        <!--配件批次号-->
        INV_BatchNo,
        <!--配件名称-->
        INV_Name,
        <!--配件规格型号-->
        INV_Specification,
        <!--供应商ID-->
        INV_SUPP_ID,
        <!--数量-->
        INV_Qty,
        <!--采购单价-->
        INV_PurchaseUnitPrice,
        <!--有效-->
        INV_IsValid,
        <!--创建人-->
        INV_CreatedBy,
        <!--创建时间-->
        INV_CreatedTime,
        <!--修改人-->
        INV_UpdatedBy,
        <!--修改时间-->
        INV_UpdatedTime,
        <!--版本号-->
        INV_VersionNo,
        <!--事务编号-->
        INV_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].INV_ID#,
        <!--组织ID-->
        #[].INV_Org_ID#,
        <!--仓库ID-->
        #[].INV_WH_ID#,
        <!--仓位ID-->
        #[].INV_WHB_ID#,
        <!--第三方编码-->
        #[].INV_ThirdNo#,
        <!--原厂编码-->
        #[].INV_OEMNo#,
        <!--配件条码-->
        #[].INV_Barcode#,
        <!--配件批次号-->
        #[].INV_BatchNo#,
        <!--配件名称-->
        #[].INV_Name#,
        <!--配件规格型号-->
        #[].INV_Specification#,
        <!--供应商ID-->
        #[].INV_SUPP_ID#,
        <!--数量-->
        #[].INV_Qty#,
        <!--采购单价-->
        #[].INV_PurchaseUnitPrice#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].INV_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].INV_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].INV_TransID#
        )
      </iterate>
    </insert>

    <!--查询[库存]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_Inventory" parameterClass="MDLPIS_Inventory" resultClass="MDLPIS_Inventory">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(INV_ID)
      FROM PIS_Inventory
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_ID">INV_ID=#WHERE_INV_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Org_ID">INV_Org_ID=#WHERE_INV_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_WH_ID">INV_WH_ID=#WHERE_INV_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_WHB_ID">INV_WHB_ID=#WHERE_INV_WHB_ID#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_ThirdNo">INV_ThirdNo=#WHERE_INV_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_OEMNo">INV_OEMNo=#WHERE_INV_OEMNo#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Barcode">INV_Barcode=#WHERE_INV_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_BatchNo">INV_BatchNo=#WHERE_INV_BatchNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Name">INV_Name=#WHERE_INV_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Specification">INV_Specification=#WHERE_INV_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_SUPP_ID">INV_SUPP_ID=#WHERE_INV_SUPP_ID#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_INV_Qty">INV_Qty=#WHERE_INV_Qty#</isNotNull>
        <!--采购单价-->
        <isNotNull prepend="AND" property="WHERE_INV_PurchaseUnitPrice">INV_PurchaseUnitPrice=#WHERE_INV_PurchaseUnitPrice#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_INV_IsValid">INV_IsValid=#WHERE_INV_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_INV_CreatedBy">INV_CreatedBy=#WHERE_INV_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_INV_UpdatedBy">INV_UpdatedBy=#WHERE_INV_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_INV_VersionNo">INV_VersionNo=#WHERE_INV_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_TransID">INV_TransID=#WHERE_INV_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      INV_ID,
      INV_Org_ID,
      INV_WH_ID,
      INV_WHB_ID,
      INV_ThirdNo,
      INV_OEMNo,
      INV_Barcode,
      INV_BatchNo,
      INV_Name,
      INV_Specification,
      INV_SUPP_ID,
      INV_Qty,
      INV_PurchaseUnitPrice,
      INV_IsValid,
      INV_CreatedBy,
      INV_CreatedTime,
      INV_UpdatedBy,
      INV_UpdatedTime,
      INV_VersionNo,
      INV_TransID
      FROM PIS_Inventory
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_ID">INV_ID=#WHERE_INV_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Org_ID">INV_Org_ID=#WHERE_INV_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_WH_ID">INV_WH_ID=#WHERE_INV_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_WHB_ID">INV_WHB_ID=#WHERE_INV_WHB_ID#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_ThirdNo">INV_ThirdNo=#WHERE_INV_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_OEMNo">INV_OEMNo=#WHERE_INV_OEMNo#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Barcode">INV_Barcode=#WHERE_INV_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_BatchNo">INV_BatchNo=#WHERE_INV_BatchNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Name">INV_Name=#WHERE_INV_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Specification">INV_Specification=#WHERE_INV_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_SUPP_ID">INV_SUPP_ID=#WHERE_INV_SUPP_ID#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_INV_Qty">INV_Qty=#WHERE_INV_Qty#</isNotNull>
        <!--采购单价-->
        <isNotNull prepend="AND" property="WHERE_INV_PurchaseUnitPrice">INV_PurchaseUnitPrice=#WHERE_INV_PurchaseUnitPrice#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_INV_IsValid">INV_IsValid=#WHERE_INV_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_INV_CreatedBy">INV_CreatedBy=#WHERE_INV_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_INV_UpdatedBy">INV_UpdatedBy=#WHERE_INV_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_INV_VersionNo">INV_VersionNo=#WHERE_INV_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_TransID">INV_TransID=#WHERE_INV_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY INV_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[库存]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_Inventory" parameterClass="MDLPIS_Inventory" resultClass="MDLPIS_Inventory">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(INV_ID)
      FROM PIS_Inventory
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_ID">INV_ID=#WHERE_INV_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Org_ID">INV_Org_ID LIKE '%'+#WHERE_INV_Org_ID#+'%'</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_WH_ID">INV_WH_ID LIKE '%'+#WHERE_INV_WH_ID#+'%'</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_WHB_ID">INV_WHB_ID LIKE '%'+#WHERE_INV_WHB_ID#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_ThirdNo">INV_ThirdNo LIKE '%'+#WHERE_INV_ThirdNo#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_OEMNo">INV_OEMNo LIKE '%'+#WHERE_INV_OEMNo#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Barcode">INV_Barcode LIKE '%'+#WHERE_INV_Barcode#+'%'</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_BatchNo">INV_BatchNo LIKE '%'+#WHERE_INV_BatchNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Name">INV_Name LIKE '%'+#WHERE_INV_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Specification">INV_Specification LIKE '%'+#WHERE_INV_Specification#+'%'</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_SUPP_ID">INV_SUPP_ID LIKE '%'+#WHERE_INV_SUPP_ID#+'%'</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_INV_Qty">INV_Qty=#WHERE_INV_Qty#</isNotNull>
        <!--采购单价-->
        <isNotNull prepend="AND" property="WHERE_INV_PurchaseUnitPrice">INV_PurchaseUnitPrice=#WHERE_INV_PurchaseUnitPrice#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_INV_IsValid">INV_IsValid=#WHERE_INV_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_INV_CreatedBy">INV_CreatedBy LIKE '%'+#WHERE_INV_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_INV_UpdatedBy">INV_UpdatedBy LIKE '%'+#WHERE_INV_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_INV_VersionNo">INV_VersionNo=#WHERE_INV_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_TransID">INV_TransID LIKE '%'+#WHERE_INV_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      INV_ID,
      INV_Org_ID,
      INV_WH_ID,
      INV_WHB_ID,
      INV_ThirdNo,
      INV_OEMNo,
      INV_Barcode,
      INV_BatchNo,
      INV_Name,
      INV_Specification,
      INV_SUPP_ID,
      INV_Qty,
      INV_PurchaseUnitPrice,
      INV_IsValid,
      INV_CreatedBy,
      INV_CreatedTime,
      INV_UpdatedBy,
      INV_UpdatedTime,
      INV_VersionNo,
      INV_TransID
      FROM PIS_Inventory
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_ID">INV_ID=#WHERE_INV_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Org_ID">INV_Org_ID LIKE '%'+#WHERE_INV_Org_ID#+'%'</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_WH_ID">INV_WH_ID LIKE '%'+#WHERE_INV_WH_ID#+'%'</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_WHB_ID">INV_WHB_ID LIKE '%'+#WHERE_INV_WHB_ID#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_ThirdNo">INV_ThirdNo LIKE '%'+#WHERE_INV_ThirdNo#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_OEMNo">INV_OEMNo LIKE '%'+#WHERE_INV_OEMNo#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Barcode">INV_Barcode LIKE '%'+#WHERE_INV_Barcode#+'%'</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_BatchNo">INV_BatchNo LIKE '%'+#WHERE_INV_BatchNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Name">INV_Name LIKE '%'+#WHERE_INV_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Specification">INV_Specification LIKE '%'+#WHERE_INV_Specification#+'%'</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_SUPP_ID">INV_SUPP_ID LIKE '%'+#WHERE_INV_SUPP_ID#+'%'</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_INV_Qty">INV_Qty=#WHERE_INV_Qty#</isNotNull>
        <!--采购单价-->
        <isNotNull prepend="AND" property="WHERE_INV_PurchaseUnitPrice">INV_PurchaseUnitPrice=#WHERE_INV_PurchaseUnitPrice#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_INV_IsValid">INV_IsValid=#WHERE_INV_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_INV_CreatedBy">INV_CreatedBy LIKE '%'+#WHERE_INV_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_INV_UpdatedBy">INV_UpdatedBy LIKE '%'+#WHERE_INV_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_INV_VersionNo">INV_VersionNo=#WHERE_INV_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_TransID">INV_TransID LIKE '%'+#WHERE_INV_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY INV_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[库存]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_Inventory" parameterClass="MDLPIS_Inventory" resultClass="int">
      SELECT COUNT(INV_ID) 'RecordCount'
      FROM PIS_Inventory
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_ID">INV_ID=#WHERE_INV_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Org_ID">INV_Org_ID=#WHERE_INV_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_WH_ID">INV_WH_ID=#WHERE_INV_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_WHB_ID">INV_WHB_ID=#WHERE_INV_WHB_ID#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_ThirdNo">INV_ThirdNo=#WHERE_INV_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_OEMNo">INV_OEMNo=#WHERE_INV_OEMNo#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Barcode">INV_Barcode=#WHERE_INV_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_BatchNo">INV_BatchNo=#WHERE_INV_BatchNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Name">INV_Name=#WHERE_INV_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Specification">INV_Specification=#WHERE_INV_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_SUPP_ID">INV_SUPP_ID=#WHERE_INV_SUPP_ID#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_INV_Qty">INV_Qty=#WHERE_INV_Qty#</isNotNull>
        <!--采购单价-->
        <isNotNull prepend="AND" property="WHERE_INV_PurchaseUnitPrice">INV_PurchaseUnitPrice=#WHERE_INV_PurchaseUnitPrice#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_INV_IsValid">INV_IsValid=#WHERE_INV_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_INV_CreatedBy">INV_CreatedBy=#WHERE_INV_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_INV_UpdatedBy">INV_UpdatedBy=#WHERE_INV_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_INV_VersionNo">INV_VersionNo=#WHERE_INV_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_TransID">INV_TransID=#WHERE_INV_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[库存]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_Inventory" parameterClass="MDLPIS_Inventory" >
      UPDATE PIS_Inventory
      SET
      INV_UpdatedTime=GETDATE(),
      INV_VersionNo=INV_VersionNo+1
      <isNotEmpty prepend="," property="INV_Org_ID">INV_Org_ID=#INV_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="INV_WH_ID">INV_WH_ID=#INV_WH_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="INV_WHB_ID">INV_WHB_ID=#INV_WHB_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="INV_ThirdNo">INV_ThirdNo=#INV_ThirdNo#</isNotEmpty>
      <isNotEmpty prepend="," property="INV_OEMNo">INV_OEMNo=#INV_OEMNo#</isNotEmpty>
      <isNotEmpty prepend="," property="INV_Barcode">INV_Barcode=#INV_Barcode#</isNotEmpty>
      <isNotEmpty prepend="," property="INV_BatchNo">INV_BatchNo=#INV_BatchNo#</isNotEmpty>
      <isNotEmpty prepend="," property="INV_Name">INV_Name=#INV_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="INV_Specification">INV_Specification=#INV_Specification#</isNotEmpty>
      <isNotEmpty prepend="," property="INV_SUPP_ID">INV_SUPP_ID=#INV_SUPP_ID#</isNotEmpty>
      <isNotNull prepend="," property="INV_Qty">INV_Qty=#INV_Qty#</isNotNull>
      <isNotNull prepend="," property="INV_PurchaseUnitPrice">INV_PurchaseUnitPrice=#INV_PurchaseUnitPrice#</isNotNull>
      <isNotNull prepend="," property="INV_IsValid">INV_IsValid=#INV_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="INV_CreatedBy">INV_CreatedBy=#INV_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="INV_CreatedTime">INV_CreatedTime=#INV_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="INV_UpdatedBy">INV_UpdatedBy=#INV_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="INV_TransID">INV_TransID=#INV_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_ID">INV_ID=#WHERE_INV_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Org_ID">INV_Org_ID=#WHERE_INV_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_WH_ID">INV_WH_ID=#WHERE_INV_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_WHB_ID">INV_WHB_ID=#WHERE_INV_WHB_ID#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_ThirdNo">INV_ThirdNo=#WHERE_INV_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_OEMNo">INV_OEMNo=#WHERE_INV_OEMNo#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Barcode">INV_Barcode=#WHERE_INV_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_BatchNo">INV_BatchNo=#WHERE_INV_BatchNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Name">INV_Name=#WHERE_INV_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_Specification">INV_Specification=#WHERE_INV_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_INV_SUPP_ID">INV_SUPP_ID=#WHERE_INV_SUPP_ID#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_INV_Qty">INV_Qty=#WHERE_INV_Qty#</isNotNull>
        <!--采购单价-->
        <isNotNull prepend="AND" property="WHERE_INV_PurchaseUnitPrice">INV_PurchaseUnitPrice=#WHERE_INV_PurchaseUnitPrice#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_INV_IsValid">INV_IsValid=#WHERE_INV_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_INV_CreatedBy">INV_CreatedBy=#WHERE_INV_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INV_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_INV_UpdatedBy">INV_UpdatedBy=#WHERE_INV_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INV_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_INV_VersionNo">INV_VersionNo=#WHERE_INV_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_INV_TransID">INV_TransID=#WHERE_INV_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[库存]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_Inventory" parameterClass="List">
      DELETE FROM PIS_Inventory
      WHERE INV_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_INV_ID#
      </iterate>
    </delete>

    <!--新增[库存图片]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_InventoryPicture" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_InventoryPicture
        (
        <!--ID-->
        INVP_ID,
        <!--来源类型编码-->
        INVP_SourceTypeCode,
        <!--来源类型名称-->
        INVP_SourceTypeName,
        <!--配件ID-->
        INVP_AutoPartsID,
        <!--条码-->
        INVP_Barcode,
        <!--图片名称-->
        INVP_PictureName,
        <!--有效-->
        INVP_IsValid,
        <!--创建人-->
        INVP_CreatedBy,
        <!--创建时间-->
        INVP_CreatedTime,
        <!--修改人-->
        INVP_UpdatedBy,
        <!--修改时间-->
        INVP_UpdatedTime,
        <!--版本号-->
        INVP_VersionNo,
        <!--事务编号-->
        INVP_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].INVP_ID#,
        <!--来源类型编码-->
        #[].INVP_SourceTypeCode#,
        <!--来源类型名称-->
        #[].INVP_SourceTypeName#,
        <!--配件ID-->
        #[].INVP_AutoPartsID#,
        <!--条码-->
        #[].INVP_Barcode#,
        <!--图片名称-->
        #[].INVP_PictureName#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].INVP_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].INVP_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].INVP_TransID#
        )
      </iterate>
    </insert>

    <!--查询[库存图片]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_InventoryPicture" parameterClass="MDLPIS_InventoryPicture" resultClass="MDLPIS_InventoryPicture">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(INVP_ID)
      FROM PIS_InventoryPicture
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_ID">INVP_ID=#WHERE_INVP_ID#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_SourceTypeCode">INVP_SourceTypeCode=#WHERE_INVP_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_SourceTypeName">INVP_SourceTypeName=#WHERE_INVP_SourceTypeName#</isNotEmpty>
        <!--配件ID-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_AutoPartsID">INVP_AutoPartsID=#WHERE_INVP_AutoPartsID#</isNotEmpty>
        <!--条码-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_Barcode">INVP_Barcode=#WHERE_INVP_Barcode#</isNotEmpty>
        <!--图片名称-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_PictureName">INVP_PictureName=#WHERE_INVP_PictureName#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_INVP_IsValid">INVP_IsValid=#WHERE_INVP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_CreatedBy">INVP_CreatedBy=#WHERE_INVP_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_UpdatedBy">INVP_UpdatedBy=#WHERE_INVP_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_INVP_VersionNo">INVP_VersionNo=#WHERE_INVP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_TransID">INVP_TransID=#WHERE_INVP_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      INVP_ID,
      INVP_SourceTypeCode,
      INVP_SourceTypeName,
      INVP_AutoPartsID,
      INVP_Barcode,
      INVP_PictureName,
      INVP_IsValid,
      INVP_CreatedBy,
      INVP_CreatedTime,
      INVP_UpdatedBy,
      INVP_UpdatedTime,
      INVP_VersionNo,
      INVP_TransID
      FROM PIS_InventoryPicture
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_ID">INVP_ID=#WHERE_INVP_ID#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_SourceTypeCode">INVP_SourceTypeCode=#WHERE_INVP_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_SourceTypeName">INVP_SourceTypeName=#WHERE_INVP_SourceTypeName#</isNotEmpty>
        <!--配件ID-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_AutoPartsID">INVP_AutoPartsID=#WHERE_INVP_AutoPartsID#</isNotEmpty>
        <!--条码-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_Barcode">INVP_Barcode=#WHERE_INVP_Barcode#</isNotEmpty>
        <!--图片名称-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_PictureName">INVP_PictureName=#WHERE_INVP_PictureName#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_INVP_IsValid">INVP_IsValid=#WHERE_INVP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_CreatedBy">INVP_CreatedBy=#WHERE_INVP_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_UpdatedBy">INVP_UpdatedBy=#WHERE_INVP_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_INVP_VersionNo">INVP_VersionNo=#WHERE_INVP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_TransID">INVP_TransID=#WHERE_INVP_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY INVP_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[库存图片]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_InventoryPicture" parameterClass="MDLPIS_InventoryPicture" resultClass="MDLPIS_InventoryPicture">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(INVP_ID)
      FROM PIS_InventoryPicture
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_ID">INVP_ID=#WHERE_INVP_ID#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_SourceTypeCode">INVP_SourceTypeCode LIKE '%'+#WHERE_INVP_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_SourceTypeName">INVP_SourceTypeName LIKE '%'+#WHERE_INVP_SourceTypeName#+'%'</isNotEmpty>
        <!--配件ID-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_AutoPartsID">INVP_AutoPartsID LIKE '%'+#WHERE_INVP_AutoPartsID#+'%'</isNotEmpty>
        <!--条码-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_Barcode">INVP_Barcode LIKE '%'+#WHERE_INVP_Barcode#+'%'</isNotEmpty>
        <!--图片名称-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_PictureName">INVP_PictureName LIKE '%'+#WHERE_INVP_PictureName#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_INVP_IsValid">INVP_IsValid=#WHERE_INVP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_CreatedBy">INVP_CreatedBy LIKE '%'+#WHERE_INVP_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_UpdatedBy">INVP_UpdatedBy LIKE '%'+#WHERE_INVP_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_INVP_VersionNo">INVP_VersionNo=#WHERE_INVP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_TransID">INVP_TransID LIKE '%'+#WHERE_INVP_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      INVP_ID,
      INVP_SourceTypeCode,
      INVP_SourceTypeName,
      INVP_AutoPartsID,
      INVP_Barcode,
      INVP_PictureName,
      INVP_IsValid,
      INVP_CreatedBy,
      INVP_CreatedTime,
      INVP_UpdatedBy,
      INVP_UpdatedTime,
      INVP_VersionNo,
      INVP_TransID
      FROM PIS_InventoryPicture
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_ID">INVP_ID=#WHERE_INVP_ID#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_SourceTypeCode">INVP_SourceTypeCode LIKE '%'+#WHERE_INVP_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_SourceTypeName">INVP_SourceTypeName LIKE '%'+#WHERE_INVP_SourceTypeName#+'%'</isNotEmpty>
        <!--配件ID-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_AutoPartsID">INVP_AutoPartsID LIKE '%'+#WHERE_INVP_AutoPartsID#+'%'</isNotEmpty>
        <!--条码-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_Barcode">INVP_Barcode LIKE '%'+#WHERE_INVP_Barcode#+'%'</isNotEmpty>
        <!--图片名称-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_PictureName">INVP_PictureName LIKE '%'+#WHERE_INVP_PictureName#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_INVP_IsValid">INVP_IsValid=#WHERE_INVP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_CreatedBy">INVP_CreatedBy LIKE '%'+#WHERE_INVP_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_UpdatedBy">INVP_UpdatedBy LIKE '%'+#WHERE_INVP_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_INVP_VersionNo">INVP_VersionNo=#WHERE_INVP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_TransID">INVP_TransID LIKE '%'+#WHERE_INVP_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY INVP_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[库存图片]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_InventoryPicture" parameterClass="MDLPIS_InventoryPicture" resultClass="int">
      SELECT COUNT(INVP_ID) 'RecordCount'
      FROM PIS_InventoryPicture
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_ID">INVP_ID=#WHERE_INVP_ID#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_SourceTypeCode">INVP_SourceTypeCode=#WHERE_INVP_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_SourceTypeName">INVP_SourceTypeName=#WHERE_INVP_SourceTypeName#</isNotEmpty>
        <!--配件ID-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_AutoPartsID">INVP_AutoPartsID=#WHERE_INVP_AutoPartsID#</isNotEmpty>
        <!--条码-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_Barcode">INVP_Barcode=#WHERE_INVP_Barcode#</isNotEmpty>
        <!--图片名称-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_PictureName">INVP_PictureName=#WHERE_INVP_PictureName#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_INVP_IsValid">INVP_IsValid=#WHERE_INVP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_CreatedBy">INVP_CreatedBy=#WHERE_INVP_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_UpdatedBy">INVP_UpdatedBy=#WHERE_INVP_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_INVP_VersionNo">INVP_VersionNo=#WHERE_INVP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_TransID">INVP_TransID=#WHERE_INVP_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[库存图片]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_InventoryPicture" parameterClass="MDLPIS_InventoryPicture" >
      UPDATE PIS_InventoryPicture
      SET
      INVP_UpdatedTime=GETDATE(),
      INVP_VersionNo=INVP_VersionNo+1
      <isNotEmpty prepend="," property="INVP_SourceTypeCode">INVP_SourceTypeCode=#INVP_SourceTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="INVP_SourceTypeName">INVP_SourceTypeName=#INVP_SourceTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="INVP_AutoPartsID">INVP_AutoPartsID=#INVP_AutoPartsID#</isNotEmpty>
      <isNotEmpty prepend="," property="INVP_Barcode">INVP_Barcode=#INVP_Barcode#</isNotEmpty>
      <isNotEmpty prepend="," property="INVP_PictureName">INVP_PictureName=#INVP_PictureName#</isNotEmpty>
      <isNotNull prepend="," property="INVP_IsValid">INVP_IsValid=#INVP_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="INVP_CreatedBy">INVP_CreatedBy=#INVP_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="INVP_CreatedTime">INVP_CreatedTime=#INVP_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="INVP_UpdatedBy">INVP_UpdatedBy=#INVP_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="INVP_TransID">INVP_TransID=#INVP_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_ID">INVP_ID=#WHERE_INVP_ID#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_SourceTypeCode">INVP_SourceTypeCode=#WHERE_INVP_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_SourceTypeName">INVP_SourceTypeName=#WHERE_INVP_SourceTypeName#</isNotEmpty>
        <!--配件ID-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_AutoPartsID">INVP_AutoPartsID=#WHERE_INVP_AutoPartsID#</isNotEmpty>
        <!--条码-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_Barcode">INVP_Barcode=#WHERE_INVP_Barcode#</isNotEmpty>
        <!--图片名称-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_PictureName">INVP_PictureName=#WHERE_INVP_PictureName#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_INVP_IsValid">INVP_IsValid=#WHERE_INVP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_CreatedBy">INVP_CreatedBy=#WHERE_INVP_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">INVP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_UpdatedBy">INVP_UpdatedBy=#WHERE_INVP_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">INVP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_INVP_VersionNo">INVP_VersionNo=#WHERE_INVP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_INVP_TransID">INVP_TransID=#WHERE_INVP_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[库存图片]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_InventoryPicture" parameterClass="List">
      DELETE FROM PIS_InventoryPicture
      WHERE INVP_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_INVP_ID#
      </iterate>
    </delete>

    <!--新增[库存异动日志]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_InventoryTransLog" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_InventoryTransLog
        (
        <!--库存异动日志ID-->
        ITL_ID,
        <!--异动类型-->
        ITL_TransType,
        <!--组织ID-->
        ITL_Org_ID,
        <!--仓库ID-->
        ITL_WH_ID,
        <!--仓位ID-->
        ITL_WHB_ID,
        <!--业务单号-->
        ITL_BusinessNo,
        <!--配件条码-->
        ITL_Barcode,
        <!--配件批次号-->
        ITL_BatchNo,
        <!--配件名称-->
        ITL_Name,
        <!--配件规格型号-->
        ITL_Specification,
        <!--单位成本-->
        ITL_UnitCostPrice,
        <!--单位销价-->
        ITL_UnitSalePrice,
        <!--异动数量-->
        ITL_Qty,
        <!--异动后库存数量-->
        ITL_AfterTransQty,
        <!--出发地-->
        ITL_Source,
        <!--目的地-->
        ITL_Destination,
        <!--有效-->
        ITL_IsValid,
        <!--创建人-->
        ITL_CreatedBy,
        <!--创建时间-->
        ITL_CreatedTime,
        <!--修改人-->
        ITL_UpdatedBy,
        <!--修改时间-->
        ITL_UpdatedTime,
        <!--版本号-->
        ITL_VersionNo,
        <!--事务编号-->
        ITL_TransID
        )
        VALUES
        (
        <!--库存异动日志ID-->
        #[].ITL_ID#,
        <!--异动类型-->
        #[].ITL_TransType#,
        <!--组织ID-->
        #[].ITL_Org_ID#,
        <!--仓库ID-->
        #[].ITL_WH_ID#,
        <!--仓位ID-->
        #[].ITL_WHB_ID#,
        <!--业务单号-->
        #[].ITL_BusinessNo#,
        <!--配件条码-->
        #[].ITL_Barcode#,
        <!--配件批次号-->
        #[].ITL_BatchNo#,
        <!--配件名称-->
        #[].ITL_Name#,
        <!--配件规格型号-->
        #[].ITL_Specification#,
        <!--单位成本-->
        #[].ITL_UnitCostPrice#,
        <!--单位销价-->
        #[].ITL_UnitSalePrice#,
        <!--异动数量-->
        #[].ITL_Qty#,
        <!--异动后库存数量-->
        #[].ITL_AfterTransQty#,
        <!--出发地-->
        #[].ITL_Source#,
        <!--目的地-->
        #[].ITL_Destination#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].ITL_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].ITL_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].ITL_TransID#
        )
      </iterate>
    </insert>

    <!--查询[库存异动日志]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_InventoryTransLog" parameterClass="MDLPIS_InventoryTransLog" resultClass="MDLPIS_InventoryTransLog">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ITL_ID)
      FROM PIS_InventoryTransLog
      <dynamic prepend="WHERE">
        <!--库存异动日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_ID">ITL_ID=#WHERE_ITL_ID#</isNotEmpty>
        <!--异动类型-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_TransType">ITL_TransType=#WHERE_ITL_TransType#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Org_ID">ITL_Org_ID=#WHERE_ITL_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_WH_ID">ITL_WH_ID=#WHERE_ITL_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_WHB_ID">ITL_WHB_ID=#WHERE_ITL_WHB_ID#</isNotEmpty>
        <!--业务单号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_BusinessNo">ITL_BusinessNo=#WHERE_ITL_BusinessNo#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Barcode">ITL_Barcode=#WHERE_ITL_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_BatchNo">ITL_BatchNo=#WHERE_ITL_BatchNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Name">ITL_Name=#WHERE_ITL_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Specification">ITL_Specification=#WHERE_ITL_Specification#</isNotEmpty>
        <!--单位成本-->
        <isNotNull prepend="AND" property="WHERE_ITL_UnitCostPrice">ITL_UnitCostPrice=#WHERE_ITL_UnitCostPrice#</isNotNull>
        <!--单位销价-->
        <isNotNull prepend="AND" property="WHERE_ITL_UnitSalePrice">ITL_UnitSalePrice=#WHERE_ITL_UnitSalePrice#</isNotNull>
        <!--异动数量-->
        <isNotNull prepend="AND" property="WHERE_ITL_Qty">ITL_Qty=#WHERE_ITL_Qty#</isNotNull>
        <!--异动后库存数量-->
        <isNotNull prepend="AND" property="WHERE_ITL_AfterTransQty">ITL_AfterTransQty=#WHERE_ITL_AfterTransQty#</isNotNull>
        <!--出发地-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Source">ITL_Source=#WHERE_ITL_Source#</isNotEmpty>
        <!--目的地-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Destination">ITL_Destination=#WHERE_ITL_Destination#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ITL_IsValid">ITL_IsValid=#WHERE_ITL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_CreatedBy">ITL_CreatedBy=#WHERE_ITL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_UpdatedBy">ITL_UpdatedBy=#WHERE_ITL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ITL_VersionNo">ITL_VersionNo=#WHERE_ITL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_TransID">ITL_TransID=#WHERE_ITL_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ITL_ID,
      ITL_TransType,
      ITL_Org_ID,
      ITL_WH_ID,
      ITL_WHB_ID,
      ITL_BusinessNo,
      ITL_Barcode,
      ITL_BatchNo,
      ITL_Name,
      ITL_Specification,
      ITL_UnitCostPrice,
      ITL_UnitSalePrice,
      ITL_Qty,
      ITL_AfterTransQty,
      ITL_Source,
      ITL_Destination,
      ITL_IsValid,
      ITL_CreatedBy,
      ITL_CreatedTime,
      ITL_UpdatedBy,
      ITL_UpdatedTime,
      ITL_VersionNo,
      ITL_TransID
      FROM PIS_InventoryTransLog
      <dynamic prepend="WHERE">
        <!--库存异动日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_ID">ITL_ID=#WHERE_ITL_ID#</isNotEmpty>
        <!--异动类型-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_TransType">ITL_TransType=#WHERE_ITL_TransType#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Org_ID">ITL_Org_ID=#WHERE_ITL_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_WH_ID">ITL_WH_ID=#WHERE_ITL_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_WHB_ID">ITL_WHB_ID=#WHERE_ITL_WHB_ID#</isNotEmpty>
        <!--业务单号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_BusinessNo">ITL_BusinessNo=#WHERE_ITL_BusinessNo#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Barcode">ITL_Barcode=#WHERE_ITL_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_BatchNo">ITL_BatchNo=#WHERE_ITL_BatchNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Name">ITL_Name=#WHERE_ITL_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Specification">ITL_Specification=#WHERE_ITL_Specification#</isNotEmpty>
        <!--单位成本-->
        <isNotNull prepend="AND" property="WHERE_ITL_UnitCostPrice">ITL_UnitCostPrice=#WHERE_ITL_UnitCostPrice#</isNotNull>
        <!--单位销价-->
        <isNotNull prepend="AND" property="WHERE_ITL_UnitSalePrice">ITL_UnitSalePrice=#WHERE_ITL_UnitSalePrice#</isNotNull>
        <!--异动数量-->
        <isNotNull prepend="AND" property="WHERE_ITL_Qty">ITL_Qty=#WHERE_ITL_Qty#</isNotNull>
        <!--异动后库存数量-->
        <isNotNull prepend="AND" property="WHERE_ITL_AfterTransQty">ITL_AfterTransQty=#WHERE_ITL_AfterTransQty#</isNotNull>
        <!--出发地-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Source">ITL_Source=#WHERE_ITL_Source#</isNotEmpty>
        <!--目的地-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Destination">ITL_Destination=#WHERE_ITL_Destination#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ITL_IsValid">ITL_IsValid=#WHERE_ITL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_CreatedBy">ITL_CreatedBy=#WHERE_ITL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_UpdatedBy">ITL_UpdatedBy=#WHERE_ITL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ITL_VersionNo">ITL_VersionNo=#WHERE_ITL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_TransID">ITL_TransID=#WHERE_ITL_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ITL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[库存异动日志]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_InventoryTransLog" parameterClass="MDLPIS_InventoryTransLog" resultClass="MDLPIS_InventoryTransLog">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ITL_ID)
      FROM PIS_InventoryTransLog
      <dynamic prepend="WHERE">
        <!--库存异动日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_ID">ITL_ID=#WHERE_ITL_ID#</isNotEmpty>
        <!--异动类型-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_TransType">ITL_TransType LIKE '%'+#WHERE_ITL_TransType#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Org_ID">ITL_Org_ID LIKE '%'+#WHERE_ITL_Org_ID#+'%'</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_WH_ID">ITL_WH_ID LIKE '%'+#WHERE_ITL_WH_ID#+'%'</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_WHB_ID">ITL_WHB_ID LIKE '%'+#WHERE_ITL_WHB_ID#+'%'</isNotEmpty>
        <!--业务单号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_BusinessNo">ITL_BusinessNo LIKE '%'+#WHERE_ITL_BusinessNo#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Barcode">ITL_Barcode LIKE '%'+#WHERE_ITL_Barcode#+'%'</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_BatchNo">ITL_BatchNo LIKE '%'+#WHERE_ITL_BatchNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Name">ITL_Name LIKE '%'+#WHERE_ITL_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Specification">ITL_Specification LIKE '%'+#WHERE_ITL_Specification#+'%'</isNotEmpty>
        <!--单位成本-->
        <isNotNull prepend="AND" property="WHERE_ITL_UnitCostPrice">ITL_UnitCostPrice=#WHERE_ITL_UnitCostPrice#</isNotNull>
        <!--单位销价-->
        <isNotNull prepend="AND" property="WHERE_ITL_UnitSalePrice">ITL_UnitSalePrice=#WHERE_ITL_UnitSalePrice#</isNotNull>
        <!--异动数量-->
        <isNotNull prepend="AND" property="WHERE_ITL_Qty">ITL_Qty=#WHERE_ITL_Qty#</isNotNull>
        <!--异动后库存数量-->
        <isNotNull prepend="AND" property="WHERE_ITL_AfterTransQty">ITL_AfterTransQty=#WHERE_ITL_AfterTransQty#</isNotNull>
        <!--出发地-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Source">ITL_Source LIKE '%'+#WHERE_ITL_Source#+'%'</isNotEmpty>
        <!--目的地-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Destination">ITL_Destination LIKE '%'+#WHERE_ITL_Destination#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ITL_IsValid">ITL_IsValid=#WHERE_ITL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_CreatedBy">ITL_CreatedBy LIKE '%'+#WHERE_ITL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_UpdatedBy">ITL_UpdatedBy LIKE '%'+#WHERE_ITL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ITL_VersionNo">ITL_VersionNo=#WHERE_ITL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_TransID">ITL_TransID LIKE '%'+#WHERE_ITL_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ITL_ID,
      ITL_TransType,
      ITL_Org_ID,
      ITL_WH_ID,
      ITL_WHB_ID,
      ITL_BusinessNo,
      ITL_Barcode,
      ITL_BatchNo,
      ITL_Name,
      ITL_Specification,
      ITL_UnitCostPrice,
      ITL_UnitSalePrice,
      ITL_Qty,
      ITL_AfterTransQty,
      ITL_Source,
      ITL_Destination,
      ITL_IsValid,
      ITL_CreatedBy,
      ITL_CreatedTime,
      ITL_UpdatedBy,
      ITL_UpdatedTime,
      ITL_VersionNo,
      ITL_TransID
      FROM PIS_InventoryTransLog
      <dynamic prepend="WHERE">
        <!--库存异动日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_ID">ITL_ID=#WHERE_ITL_ID#</isNotEmpty>
        <!--异动类型-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_TransType">ITL_TransType LIKE '%'+#WHERE_ITL_TransType#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Org_ID">ITL_Org_ID LIKE '%'+#WHERE_ITL_Org_ID#+'%'</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_WH_ID">ITL_WH_ID LIKE '%'+#WHERE_ITL_WH_ID#+'%'</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_WHB_ID">ITL_WHB_ID LIKE '%'+#WHERE_ITL_WHB_ID#+'%'</isNotEmpty>
        <!--业务单号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_BusinessNo">ITL_BusinessNo LIKE '%'+#WHERE_ITL_BusinessNo#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Barcode">ITL_Barcode LIKE '%'+#WHERE_ITL_Barcode#+'%'</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_BatchNo">ITL_BatchNo LIKE '%'+#WHERE_ITL_BatchNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Name">ITL_Name LIKE '%'+#WHERE_ITL_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Specification">ITL_Specification LIKE '%'+#WHERE_ITL_Specification#+'%'</isNotEmpty>
        <!--单位成本-->
        <isNotNull prepend="AND" property="WHERE_ITL_UnitCostPrice">ITL_UnitCostPrice=#WHERE_ITL_UnitCostPrice#</isNotNull>
        <!--单位销价-->
        <isNotNull prepend="AND" property="WHERE_ITL_UnitSalePrice">ITL_UnitSalePrice=#WHERE_ITL_UnitSalePrice#</isNotNull>
        <!--异动数量-->
        <isNotNull prepend="AND" property="WHERE_ITL_Qty">ITL_Qty=#WHERE_ITL_Qty#</isNotNull>
        <!--异动后库存数量-->
        <isNotNull prepend="AND" property="WHERE_ITL_AfterTransQty">ITL_AfterTransQty=#WHERE_ITL_AfterTransQty#</isNotNull>
        <!--出发地-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Source">ITL_Source LIKE '%'+#WHERE_ITL_Source#+'%'</isNotEmpty>
        <!--目的地-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Destination">ITL_Destination LIKE '%'+#WHERE_ITL_Destination#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ITL_IsValid">ITL_IsValid=#WHERE_ITL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_CreatedBy">ITL_CreatedBy LIKE '%'+#WHERE_ITL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_UpdatedBy">ITL_UpdatedBy LIKE '%'+#WHERE_ITL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ITL_VersionNo">ITL_VersionNo=#WHERE_ITL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_TransID">ITL_TransID LIKE '%'+#WHERE_ITL_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ITL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[库存异动日志]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_InventoryTransLog" parameterClass="MDLPIS_InventoryTransLog" resultClass="int">
      SELECT COUNT(ITL_ID) 'RecordCount'
      FROM PIS_InventoryTransLog
      <dynamic prepend="WHERE">
        <!--库存异动日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_ID">ITL_ID=#WHERE_ITL_ID#</isNotEmpty>
        <!--异动类型-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_TransType">ITL_TransType=#WHERE_ITL_TransType#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Org_ID">ITL_Org_ID=#WHERE_ITL_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_WH_ID">ITL_WH_ID=#WHERE_ITL_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_WHB_ID">ITL_WHB_ID=#WHERE_ITL_WHB_ID#</isNotEmpty>
        <!--业务单号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_BusinessNo">ITL_BusinessNo=#WHERE_ITL_BusinessNo#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Barcode">ITL_Barcode=#WHERE_ITL_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_BatchNo">ITL_BatchNo=#WHERE_ITL_BatchNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Name">ITL_Name=#WHERE_ITL_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Specification">ITL_Specification=#WHERE_ITL_Specification#</isNotEmpty>
        <!--单位成本-->
        <isNotNull prepend="AND" property="WHERE_ITL_UnitCostPrice">ITL_UnitCostPrice=#WHERE_ITL_UnitCostPrice#</isNotNull>
        <!--单位销价-->
        <isNotNull prepend="AND" property="WHERE_ITL_UnitSalePrice">ITL_UnitSalePrice=#WHERE_ITL_UnitSalePrice#</isNotNull>
        <!--异动数量-->
        <isNotNull prepend="AND" property="WHERE_ITL_Qty">ITL_Qty=#WHERE_ITL_Qty#</isNotNull>
        <!--异动后库存数量-->
        <isNotNull prepend="AND" property="WHERE_ITL_AfterTransQty">ITL_AfterTransQty=#WHERE_ITL_AfterTransQty#</isNotNull>
        <!--出发地-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Source">ITL_Source=#WHERE_ITL_Source#</isNotEmpty>
        <!--目的地-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Destination">ITL_Destination=#WHERE_ITL_Destination#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ITL_IsValid">ITL_IsValid=#WHERE_ITL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_CreatedBy">ITL_CreatedBy=#WHERE_ITL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_UpdatedBy">ITL_UpdatedBy=#WHERE_ITL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ITL_VersionNo">ITL_VersionNo=#WHERE_ITL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_TransID">ITL_TransID=#WHERE_ITL_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[库存异动日志]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_InventoryTransLog" parameterClass="MDLPIS_InventoryTransLog" >
      UPDATE PIS_InventoryTransLog
      SET
      ITL_UpdatedTime=GETDATE(),
      ITL_VersionNo=ITL_VersionNo+1
      <isNotEmpty prepend="," property="ITL_TransType">ITL_TransType=#ITL_TransType#</isNotEmpty>
      <isNotEmpty prepend="," property="ITL_Org_ID">ITL_Org_ID=#ITL_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="ITL_WH_ID">ITL_WH_ID=#ITL_WH_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="ITL_WHB_ID">ITL_WHB_ID=#ITL_WHB_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="ITL_BusinessNo">ITL_BusinessNo=#ITL_BusinessNo#</isNotEmpty>
      <isNotEmpty prepend="," property="ITL_Barcode">ITL_Barcode=#ITL_Barcode#</isNotEmpty>
      <isNotEmpty prepend="," property="ITL_BatchNo">ITL_BatchNo=#ITL_BatchNo#</isNotEmpty>
      <isNotEmpty prepend="," property="ITL_Name">ITL_Name=#ITL_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="ITL_Specification">ITL_Specification=#ITL_Specification#</isNotEmpty>
      <isNotNull prepend="," property="ITL_UnitCostPrice">ITL_UnitCostPrice=#ITL_UnitCostPrice#</isNotNull>
      <isNotNull prepend="," property="ITL_UnitSalePrice">ITL_UnitSalePrice=#ITL_UnitSalePrice#</isNotNull>
      <isNotNull prepend="," property="ITL_Qty">ITL_Qty=#ITL_Qty#</isNotNull>
      <isNotNull prepend="," property="ITL_AfterTransQty">ITL_AfterTransQty=#ITL_AfterTransQty#</isNotNull>
      <isNotEmpty prepend="," property="ITL_Source">ITL_Source=#ITL_Source#</isNotEmpty>
      <isNotEmpty prepend="," property="ITL_Destination">ITL_Destination=#ITL_Destination#</isNotEmpty>
      <isNotNull prepend="," property="ITL_IsValid">ITL_IsValid=#ITL_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="ITL_CreatedBy">ITL_CreatedBy=#ITL_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="ITL_CreatedTime">ITL_CreatedTime=#ITL_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="ITL_UpdatedBy">ITL_UpdatedBy=#ITL_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="ITL_TransID">ITL_TransID=#ITL_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--库存异动日志ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_ID">ITL_ID=#WHERE_ITL_ID#</isNotEmpty>
        <!--异动类型-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_TransType">ITL_TransType=#WHERE_ITL_TransType#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Org_ID">ITL_Org_ID=#WHERE_ITL_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_WH_ID">ITL_WH_ID=#WHERE_ITL_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_WHB_ID">ITL_WHB_ID=#WHERE_ITL_WHB_ID#</isNotEmpty>
        <!--业务单号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_BusinessNo">ITL_BusinessNo=#WHERE_ITL_BusinessNo#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Barcode">ITL_Barcode=#WHERE_ITL_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_BatchNo">ITL_BatchNo=#WHERE_ITL_BatchNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Name">ITL_Name=#WHERE_ITL_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Specification">ITL_Specification=#WHERE_ITL_Specification#</isNotEmpty>
        <!--单位成本-->
        <isNotNull prepend="AND" property="WHERE_ITL_UnitCostPrice">ITL_UnitCostPrice=#WHERE_ITL_UnitCostPrice#</isNotNull>
        <!--单位销价-->
        <isNotNull prepend="AND" property="WHERE_ITL_UnitSalePrice">ITL_UnitSalePrice=#WHERE_ITL_UnitSalePrice#</isNotNull>
        <!--异动数量-->
        <isNotNull prepend="AND" property="WHERE_ITL_Qty">ITL_Qty=#WHERE_ITL_Qty#</isNotNull>
        <!--异动后库存数量-->
        <isNotNull prepend="AND" property="WHERE_ITL_AfterTransQty">ITL_AfterTransQty=#WHERE_ITL_AfterTransQty#</isNotNull>
        <!--出发地-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Source">ITL_Source=#WHERE_ITL_Source#</isNotEmpty>
        <!--目的地-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_Destination">ITL_Destination=#WHERE_ITL_Destination#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ITL_IsValid">ITL_IsValid=#WHERE_ITL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_CreatedBy">ITL_CreatedBy=#WHERE_ITL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ITL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_UpdatedBy">ITL_UpdatedBy=#WHERE_ITL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ITL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ITL_VersionNo">ITL_VersionNo=#WHERE_ITL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ITL_TransID">ITL_TransID=#WHERE_ITL_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[库存异动日志]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_InventoryTransLog" parameterClass="List">
      DELETE FROM PIS_InventoryTransLog
      WHERE ITL_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_ITL_ID#
      </iterate>
    </delete>

    <!--新增[共享库存]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_ShareInventory" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_ShareInventory
        (
        <!--ID-->
        SI_ID,
        <!--组织ID-->
        SI_Org_ID,
        <!--仓库ID-->
        SI_WH_ID,
        <!--仓位ID-->
        SI_WHB_ID,
        <!--第三方编码-->
        SI_ThirdNo,
        <!--原厂编码-->
        SI_OEMNo,
        <!--配件条码-->
        SI_Barcode,
        <!--配件批次号-->
        SI_BatchNo,
        <!--配件名称-->
        SI_Name,
        <!--配件规格型号-->
        SI_Specification,
        <!--供应商ID-->
        SI_SUPP_ID,
        <!--数量-->
        SI_Qty,
        <!--采购单价可见-->
        SI_PurchasePriceIsVisible,
        <!--采购单价-->
        SI_PurchaseUnitPrice,
        <!--普通客户销售单价-->
        SI_PriceOfGeneralCustomer,
        <!--一般汽修商户销售单价-->
        SI_PriceOfCommonAutoFactory,
        <!--平台内汽修商销售单价-->
        SI_PriceOfPlatformAutoFactory,
        <!--有效-->
        SI_IsValid,
        <!--创建人-->
        SI_CreatedBy,
        <!--创建时间-->
        SI_CreatedTime,
        <!--修改人-->
        SI_UpdatedBy,
        <!--修改时间-->
        SI_UpdatedTime,
        <!--版本号-->
        SI_VersionNo,
        <!--事务编号-->
        SI_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].SI_ID#,
        <!--组织ID-->
        #[].SI_Org_ID#,
        <!--仓库ID-->
        #[].SI_WH_ID#,
        <!--仓位ID-->
        #[].SI_WHB_ID#,
        <!--第三方编码-->
        #[].SI_ThirdNo#,
        <!--原厂编码-->
        #[].SI_OEMNo#,
        <!--配件条码-->
        #[].SI_Barcode#,
        <!--配件批次号-->
        #[].SI_BatchNo#,
        <!--配件名称-->
        #[].SI_Name#,
        <!--配件规格型号-->
        #[].SI_Specification#,
        <!--供应商ID-->
        #[].SI_SUPP_ID#,
        <!--数量-->
        #[].SI_Qty#,
        <!--采购单价可见-->
        #[].SI_PurchasePriceIsVisible#,
        <!--采购单价-->
        #[].SI_PurchaseUnitPrice#,
        <!--普通客户销售单价-->
        #[].SI_PriceOfGeneralCustomer#,
        <!--一般汽修商户销售单价-->
        #[].SI_PriceOfCommonAutoFactory#,
        <!--平台内汽修商销售单价-->
        #[].SI_PriceOfPlatformAutoFactory#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].SI_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].SI_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].SI_TransID#
        )
      </iterate>
    </insert>

    <!--查询[共享库存]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_ShareInventory" parameterClass="MDLPIS_ShareInventory" resultClass="MDLPIS_ShareInventory">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SI_ID)
      FROM PIS_ShareInventory
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_ID">SI_ID=#WHERE_SI_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Org_ID">SI_Org_ID=#WHERE_SI_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_WH_ID">SI_WH_ID=#WHERE_SI_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_WHB_ID">SI_WHB_ID=#WHERE_SI_WHB_ID#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_ThirdNo">SI_ThirdNo=#WHERE_SI_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_OEMNo">SI_OEMNo=#WHERE_SI_OEMNo#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Barcode">SI_Barcode=#WHERE_SI_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_BatchNo">SI_BatchNo=#WHERE_SI_BatchNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Name">SI_Name=#WHERE_SI_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Specification">SI_Specification=#WHERE_SI_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_SUPP_ID">SI_SUPP_ID=#WHERE_SI_SUPP_ID#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SI_Qty">SI_Qty=#WHERE_SI_Qty#</isNotNull>
        <!--采购单价可见-->
        <isNotNull prepend="AND" property="WHERE_SI_PurchasePriceIsVisible">SI_PurchasePriceIsVisible=#WHERE_SI_PurchasePriceIsVisible#</isNotNull>
        <!--采购单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PurchaseUnitPrice">SI_PurchaseUnitPrice=#WHERE_SI_PurchaseUnitPrice#</isNotNull>
        <!--普通客户销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfGeneralCustomer">SI_PriceOfGeneralCustomer=#WHERE_SI_PriceOfGeneralCustomer#</isNotNull>
        <!--一般汽修商户销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfCommonAutoFactory">SI_PriceOfCommonAutoFactory=#WHERE_SI_PriceOfCommonAutoFactory#</isNotNull>
        <!--平台内汽修商销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfPlatformAutoFactory">SI_PriceOfPlatformAutoFactory=#WHERE_SI_PriceOfPlatformAutoFactory#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SI_IsValid">SI_IsValid=#WHERE_SI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SI_CreatedBy">SI_CreatedBy=#WHERE_SI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SI_UpdatedBy">SI_UpdatedBy=#WHERE_SI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SI_VersionNo">SI_VersionNo=#WHERE_SI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_TransID">SI_TransID=#WHERE_SI_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SI_ID,
      SI_Org_ID,
      SI_WH_ID,
      SI_WHB_ID,
      SI_ThirdNo,
      SI_OEMNo,
      SI_Barcode,
      SI_BatchNo,
      SI_Name,
      SI_Specification,
      SI_SUPP_ID,
      SI_Qty,
      SI_PurchasePriceIsVisible,
      SI_PurchaseUnitPrice,
      SI_PriceOfGeneralCustomer,
      SI_PriceOfCommonAutoFactory,
      SI_PriceOfPlatformAutoFactory,
      SI_IsValid,
      SI_CreatedBy,
      SI_CreatedTime,
      SI_UpdatedBy,
      SI_UpdatedTime,
      SI_VersionNo,
      SI_TransID
      FROM PIS_ShareInventory
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_ID">SI_ID=#WHERE_SI_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Org_ID">SI_Org_ID=#WHERE_SI_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_WH_ID">SI_WH_ID=#WHERE_SI_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_WHB_ID">SI_WHB_ID=#WHERE_SI_WHB_ID#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_ThirdNo">SI_ThirdNo=#WHERE_SI_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_OEMNo">SI_OEMNo=#WHERE_SI_OEMNo#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Barcode">SI_Barcode=#WHERE_SI_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_BatchNo">SI_BatchNo=#WHERE_SI_BatchNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Name">SI_Name=#WHERE_SI_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Specification">SI_Specification=#WHERE_SI_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_SUPP_ID">SI_SUPP_ID=#WHERE_SI_SUPP_ID#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SI_Qty">SI_Qty=#WHERE_SI_Qty#</isNotNull>
        <!--采购单价可见-->
        <isNotNull prepend="AND" property="WHERE_SI_PurchasePriceIsVisible">SI_PurchasePriceIsVisible=#WHERE_SI_PurchasePriceIsVisible#</isNotNull>
        <!--采购单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PurchaseUnitPrice">SI_PurchaseUnitPrice=#WHERE_SI_PurchaseUnitPrice#</isNotNull>
        <!--普通客户销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfGeneralCustomer">SI_PriceOfGeneralCustomer=#WHERE_SI_PriceOfGeneralCustomer#</isNotNull>
        <!--一般汽修商户销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfCommonAutoFactory">SI_PriceOfCommonAutoFactory=#WHERE_SI_PriceOfCommonAutoFactory#</isNotNull>
        <!--平台内汽修商销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfPlatformAutoFactory">SI_PriceOfPlatformAutoFactory=#WHERE_SI_PriceOfPlatformAutoFactory#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SI_IsValid">SI_IsValid=#WHERE_SI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SI_CreatedBy">SI_CreatedBy=#WHERE_SI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SI_UpdatedBy">SI_UpdatedBy=#WHERE_SI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SI_VersionNo">SI_VersionNo=#WHERE_SI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_TransID">SI_TransID=#WHERE_SI_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SI_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[共享库存]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_ShareInventory" parameterClass="MDLPIS_ShareInventory" resultClass="MDLPIS_ShareInventory">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SI_ID)
      FROM PIS_ShareInventory
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_ID">SI_ID=#WHERE_SI_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Org_ID">SI_Org_ID LIKE '%'+#WHERE_SI_Org_ID#+'%'</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_WH_ID">SI_WH_ID LIKE '%'+#WHERE_SI_WH_ID#+'%'</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_WHB_ID">SI_WHB_ID LIKE '%'+#WHERE_SI_WHB_ID#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_ThirdNo">SI_ThirdNo LIKE '%'+#WHERE_SI_ThirdNo#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_OEMNo">SI_OEMNo LIKE '%'+#WHERE_SI_OEMNo#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Barcode">SI_Barcode LIKE '%'+#WHERE_SI_Barcode#+'%'</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_BatchNo">SI_BatchNo LIKE '%'+#WHERE_SI_BatchNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Name">SI_Name LIKE '%'+#WHERE_SI_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Specification">SI_Specification LIKE '%'+#WHERE_SI_Specification#+'%'</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_SUPP_ID">SI_SUPP_ID LIKE '%'+#WHERE_SI_SUPP_ID#+'%'</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SI_Qty">SI_Qty=#WHERE_SI_Qty#</isNotNull>
        <!--采购单价可见-->
        <isNotNull prepend="AND" property="WHERE_SI_PurchasePriceIsVisible">SI_PurchasePriceIsVisible=#WHERE_SI_PurchasePriceIsVisible#</isNotNull>
        <!--采购单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PurchaseUnitPrice">SI_PurchaseUnitPrice=#WHERE_SI_PurchaseUnitPrice#</isNotNull>
        <!--普通客户销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfGeneralCustomer">SI_PriceOfGeneralCustomer=#WHERE_SI_PriceOfGeneralCustomer#</isNotNull>
        <!--一般汽修商户销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfCommonAutoFactory">SI_PriceOfCommonAutoFactory=#WHERE_SI_PriceOfCommonAutoFactory#</isNotNull>
        <!--平台内汽修商销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfPlatformAutoFactory">SI_PriceOfPlatformAutoFactory=#WHERE_SI_PriceOfPlatformAutoFactory#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SI_IsValid">SI_IsValid=#WHERE_SI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SI_CreatedBy">SI_CreatedBy LIKE '%'+#WHERE_SI_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SI_UpdatedBy">SI_UpdatedBy LIKE '%'+#WHERE_SI_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SI_VersionNo">SI_VersionNo=#WHERE_SI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_TransID">SI_TransID LIKE '%'+#WHERE_SI_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SI_ID,
      SI_Org_ID,
      SI_WH_ID,
      SI_WHB_ID,
      SI_ThirdNo,
      SI_OEMNo,
      SI_Barcode,
      SI_BatchNo,
      SI_Name,
      SI_Specification,
      SI_SUPP_ID,
      SI_Qty,
      SI_PurchasePriceIsVisible,
      SI_PurchaseUnitPrice,
      SI_PriceOfGeneralCustomer,
      SI_PriceOfCommonAutoFactory,
      SI_PriceOfPlatformAutoFactory,
      SI_IsValid,
      SI_CreatedBy,
      SI_CreatedTime,
      SI_UpdatedBy,
      SI_UpdatedTime,
      SI_VersionNo,
      SI_TransID
      FROM PIS_ShareInventory
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_ID">SI_ID=#WHERE_SI_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Org_ID">SI_Org_ID LIKE '%'+#WHERE_SI_Org_ID#+'%'</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_WH_ID">SI_WH_ID LIKE '%'+#WHERE_SI_WH_ID#+'%'</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_WHB_ID">SI_WHB_ID LIKE '%'+#WHERE_SI_WHB_ID#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_ThirdNo">SI_ThirdNo LIKE '%'+#WHERE_SI_ThirdNo#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_OEMNo">SI_OEMNo LIKE '%'+#WHERE_SI_OEMNo#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Barcode">SI_Barcode LIKE '%'+#WHERE_SI_Barcode#+'%'</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_BatchNo">SI_BatchNo LIKE '%'+#WHERE_SI_BatchNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Name">SI_Name LIKE '%'+#WHERE_SI_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Specification">SI_Specification LIKE '%'+#WHERE_SI_Specification#+'%'</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_SUPP_ID">SI_SUPP_ID LIKE '%'+#WHERE_SI_SUPP_ID#+'%'</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SI_Qty">SI_Qty=#WHERE_SI_Qty#</isNotNull>
        <!--采购单价可见-->
        <isNotNull prepend="AND" property="WHERE_SI_PurchasePriceIsVisible">SI_PurchasePriceIsVisible=#WHERE_SI_PurchasePriceIsVisible#</isNotNull>
        <!--采购单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PurchaseUnitPrice">SI_PurchaseUnitPrice=#WHERE_SI_PurchaseUnitPrice#</isNotNull>
        <!--普通客户销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfGeneralCustomer">SI_PriceOfGeneralCustomer=#WHERE_SI_PriceOfGeneralCustomer#</isNotNull>
        <!--一般汽修商户销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfCommonAutoFactory">SI_PriceOfCommonAutoFactory=#WHERE_SI_PriceOfCommonAutoFactory#</isNotNull>
        <!--平台内汽修商销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfPlatformAutoFactory">SI_PriceOfPlatformAutoFactory=#WHERE_SI_PriceOfPlatformAutoFactory#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SI_IsValid">SI_IsValid=#WHERE_SI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SI_CreatedBy">SI_CreatedBy LIKE '%'+#WHERE_SI_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SI_UpdatedBy">SI_UpdatedBy LIKE '%'+#WHERE_SI_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SI_VersionNo">SI_VersionNo=#WHERE_SI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_TransID">SI_TransID LIKE '%'+#WHERE_SI_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SI_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[共享库存]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_ShareInventory" parameterClass="MDLPIS_ShareInventory" resultClass="int">
      SELECT COUNT(SI_ID) 'RecordCount'
      FROM PIS_ShareInventory
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_ID">SI_ID=#WHERE_SI_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Org_ID">SI_Org_ID=#WHERE_SI_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_WH_ID">SI_WH_ID=#WHERE_SI_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_WHB_ID">SI_WHB_ID=#WHERE_SI_WHB_ID#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_ThirdNo">SI_ThirdNo=#WHERE_SI_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_OEMNo">SI_OEMNo=#WHERE_SI_OEMNo#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Barcode">SI_Barcode=#WHERE_SI_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_BatchNo">SI_BatchNo=#WHERE_SI_BatchNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Name">SI_Name=#WHERE_SI_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Specification">SI_Specification=#WHERE_SI_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_SUPP_ID">SI_SUPP_ID=#WHERE_SI_SUPP_ID#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SI_Qty">SI_Qty=#WHERE_SI_Qty#</isNotNull>
        <!--采购单价可见-->
        <isNotNull prepend="AND" property="WHERE_SI_PurchasePriceIsVisible">SI_PurchasePriceIsVisible=#WHERE_SI_PurchasePriceIsVisible#</isNotNull>
        <!--采购单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PurchaseUnitPrice">SI_PurchaseUnitPrice=#WHERE_SI_PurchaseUnitPrice#</isNotNull>
        <!--普通客户销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfGeneralCustomer">SI_PriceOfGeneralCustomer=#WHERE_SI_PriceOfGeneralCustomer#</isNotNull>
        <!--一般汽修商户销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfCommonAutoFactory">SI_PriceOfCommonAutoFactory=#WHERE_SI_PriceOfCommonAutoFactory#</isNotNull>
        <!--平台内汽修商销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfPlatformAutoFactory">SI_PriceOfPlatformAutoFactory=#WHERE_SI_PriceOfPlatformAutoFactory#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SI_IsValid">SI_IsValid=#WHERE_SI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SI_CreatedBy">SI_CreatedBy=#WHERE_SI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SI_UpdatedBy">SI_UpdatedBy=#WHERE_SI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SI_VersionNo">SI_VersionNo=#WHERE_SI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_TransID">SI_TransID=#WHERE_SI_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[共享库存]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_ShareInventory" parameterClass="MDLPIS_ShareInventory" >
      UPDATE PIS_ShareInventory
      SET
      SI_UpdatedTime=GETDATE(),
      SI_VersionNo=SI_VersionNo+1
      <isNotEmpty prepend="," property="SI_Org_ID">SI_Org_ID=#SI_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="SI_WH_ID">SI_WH_ID=#SI_WH_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="SI_WHB_ID">SI_WHB_ID=#SI_WHB_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="SI_ThirdNo">SI_ThirdNo=#SI_ThirdNo#</isNotEmpty>
      <isNotEmpty prepend="," property="SI_OEMNo">SI_OEMNo=#SI_OEMNo#</isNotEmpty>
      <isNotEmpty prepend="," property="SI_Barcode">SI_Barcode=#SI_Barcode#</isNotEmpty>
      <isNotEmpty prepend="," property="SI_BatchNo">SI_BatchNo=#SI_BatchNo#</isNotEmpty>
      <isNotEmpty prepend="," property="SI_Name">SI_Name=#SI_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="SI_Specification">SI_Specification=#SI_Specification#</isNotEmpty>
      <isNotEmpty prepend="," property="SI_SUPP_ID">SI_SUPP_ID=#SI_SUPP_ID#</isNotEmpty>
      <isNotNull prepend="," property="SI_Qty">SI_Qty=#SI_Qty#</isNotNull>
      <isNotNull prepend="," property="SI_PurchasePriceIsVisible">SI_PurchasePriceIsVisible=#SI_PurchasePriceIsVisible#</isNotNull>
      <isNotNull prepend="," property="SI_PurchaseUnitPrice">SI_PurchaseUnitPrice=#SI_PurchaseUnitPrice#</isNotNull>
      <isNotNull prepend="," property="SI_PriceOfGeneralCustomer">SI_PriceOfGeneralCustomer=#SI_PriceOfGeneralCustomer#</isNotNull>
      <isNotNull prepend="," property="SI_PriceOfCommonAutoFactory">SI_PriceOfCommonAutoFactory=#SI_PriceOfCommonAutoFactory#</isNotNull>
      <isNotNull prepend="," property="SI_PriceOfPlatformAutoFactory">SI_PriceOfPlatformAutoFactory=#SI_PriceOfPlatformAutoFactory#</isNotNull>
      <isNotNull prepend="," property="SI_IsValid">SI_IsValid=#SI_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="SI_CreatedBy">SI_CreatedBy=#SI_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="SI_CreatedTime">SI_CreatedTime=#SI_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="SI_UpdatedBy">SI_UpdatedBy=#SI_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="SI_TransID">SI_TransID=#SI_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_ID">SI_ID=#WHERE_SI_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Org_ID">SI_Org_ID=#WHERE_SI_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_WH_ID">SI_WH_ID=#WHERE_SI_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_WHB_ID">SI_WHB_ID=#WHERE_SI_WHB_ID#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_ThirdNo">SI_ThirdNo=#WHERE_SI_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_OEMNo">SI_OEMNo=#WHERE_SI_OEMNo#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Barcode">SI_Barcode=#WHERE_SI_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_BatchNo">SI_BatchNo=#WHERE_SI_BatchNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Name">SI_Name=#WHERE_SI_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_Specification">SI_Specification=#WHERE_SI_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SI_SUPP_ID">SI_SUPP_ID=#WHERE_SI_SUPP_ID#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SI_Qty">SI_Qty=#WHERE_SI_Qty#</isNotNull>
        <!--采购单价可见-->
        <isNotNull prepend="AND" property="WHERE_SI_PurchasePriceIsVisible">SI_PurchasePriceIsVisible=#WHERE_SI_PurchasePriceIsVisible#</isNotNull>
        <!--采购单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PurchaseUnitPrice">SI_PurchaseUnitPrice=#WHERE_SI_PurchaseUnitPrice#</isNotNull>
        <!--普通客户销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfGeneralCustomer">SI_PriceOfGeneralCustomer=#WHERE_SI_PriceOfGeneralCustomer#</isNotNull>
        <!--一般汽修商户销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfCommonAutoFactory">SI_PriceOfCommonAutoFactory=#WHERE_SI_PriceOfCommonAutoFactory#</isNotNull>
        <!--平台内汽修商销售单价-->
        <isNotNull prepend="AND" property="WHERE_SI_PriceOfPlatformAutoFactory">SI_PriceOfPlatformAutoFactory=#WHERE_SI_PriceOfPlatformAutoFactory#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SI_IsValid">SI_IsValid=#WHERE_SI_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SI_CreatedBy">SI_CreatedBy=#WHERE_SI_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SI_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SI_UpdatedBy">SI_UpdatedBy=#WHERE_SI_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SI_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SI_VersionNo">SI_VersionNo=#WHERE_SI_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SI_TransID">SI_TransID=#WHERE_SI_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[共享库存]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_ShareInventory" parameterClass="List">
      DELETE FROM PIS_ShareInventory
      WHERE SI_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_SI_ID#
      </iterate>
    </delete>

    <!--新增[盘点任务]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_StocktakingTask" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_StocktakingTask
        (
        <!--盘点任务ID-->
        ST_ID,
        <!--盘点单号-->
        ST_No,
        <!--盘点次数-->
        ST_CheckAmount,
        <!--组织ID-->
        ST_Org_ID,
        <!--仓库ID-->
        ST_WH_ID,
        <!--仓位ID-->
        ST_WHB_ID,
        <!--开始时间-->
        ST_StartTime,
        <!--结束时间-->
        ST_EndTime,
        <!--显示成本-->
        ST_IsShowCost,
        <!--应有库存量-->
        ST_DueQty,
        <!--实际库存量-->
        ST_ActualQty,
        <!--数量损失率-->
        ST_QtyLossRatio,
        <!--应有库存金额-->
        ST_DueAmount,
        <!--实际库存金额-->
        ST_ActualAmount,
        <!--金额损失率-->
        ST_AmountLossRatio,
        <!--盘点结果编码-->
        ST_CheckResultCode,
        <!--盘点结果名称-->
        ST_CheckResultName,
        <!--盘点单状态编码-->
        ST_StatusCode,
        <!--盘点单状态名称-->
        ST_StatusName,
        <!--审核状态编码-->
        ST_ApprovalStatusCode,
        <!--审核状态名称-->
        ST_ApprovalStatusName,
        <!--备注-->
        ST_Remark,
        <!--有效-->
        ST_IsValid,
        <!--创建人-->
        ST_CreatedBy,
        <!--创建时间-->
        ST_CreatedTime,
        <!--修改人-->
        ST_UpdatedBy,
        <!--修改时间-->
        ST_UpdatedTime,
        <!--版本号-->
        ST_VersionNo,
        <!--事务编号-->
        ST_TransID
        )
        VALUES
        (
        <!--盘点任务ID-->
        #[].ST_ID#,
        <!--盘点单号-->
        #[].ST_No#,
        <!--盘点次数-->
        #[].ST_CheckAmount#,
        <!--组织ID-->
        #[].ST_Org_ID#,
        <!--仓库ID-->
        #[].ST_WH_ID#,
        <!--仓位ID-->
        #[].ST_WHB_ID#,
        <!--开始时间-->
        #[].ST_StartTime#,
        <!--结束时间-->
        #[].ST_EndTime#,
        <!--显示成本-->
        #[].ST_IsShowCost#,
        <!--应有库存量-->
        #[].ST_DueQty#,
        <!--实际库存量-->
        #[].ST_ActualQty#,
        <!--数量损失率-->
        #[].ST_QtyLossRatio#,
        <!--应有库存金额-->
        #[].ST_DueAmount#,
        <!--实际库存金额-->
        #[].ST_ActualAmount#,
        <!--金额损失率-->
        #[].ST_AmountLossRatio#,
        <!--盘点结果编码-->
        #[].ST_CheckResultCode#,
        <!--盘点结果名称-->
        #[].ST_CheckResultName#,
        <!--盘点单状态编码-->
        #[].ST_StatusCode#,
        <!--盘点单状态名称-->
        #[].ST_StatusName#,
        <!--审核状态编码-->
        #[].ST_ApprovalStatusCode#,
        <!--审核状态名称-->
        #[].ST_ApprovalStatusName#,
        <!--备注-->
        #[].ST_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].ST_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].ST_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].ST_TransID#
        )
      </iterate>
    </insert>

    <!--查询[盘点任务]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_StocktakingTask" parameterClass="MDLPIS_StocktakingTask" resultClass="MDLPIS_StocktakingTask">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ST_ID)
      FROM PIS_StocktakingTask
      <dynamic prepend="WHERE">
        <!--盘点任务ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ID">ST_ID=#WHERE_ST_ID#</isNotEmpty>
        <!--盘点单号-->
        <isNotEmpty prepend="AND" property="WHERE_ST_No">ST_No=#WHERE_ST_No#</isNotEmpty>
        <!--盘点次数-->
        <isNotNull prepend="AND" property="WHERE_ST_CheckAmount">ST_CheckAmount=#WHERE_ST_CheckAmount#</isNotNull>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_Org_ID">ST_Org_ID=#WHERE_ST_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_WH_ID">ST_WH_ID=#WHERE_ST_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_WHB_ID">ST_WHB_ID=#WHERE_ST_WHB_ID#</isNotEmpty>
        <!--开始时间-->
        <isNotNull prepend="" property="_StartTimeStart">
          <isNotNull prepend="AND" property="_StartTimeEnd">ST_StartTime BETWEEN #_StartTimeStart# AND #_StartTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_StartTimeEnd">ST_StartTime <![CDATA[>=]]> #_StartTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_StartTimeStart">
          <isNotNull prepend="AND" property="_StartTimeEnd">ST_StartTime <![CDATA[<=]]> #_StartTimeEnd#</isNotNull>
        </isNull>
        <!--结束时间-->
        <isNotNull prepend="" property="_EndTimeStart">
          <isNotNull prepend="AND" property="_EndTimeEnd">ST_EndTime BETWEEN #_EndTimeStart# AND #_EndTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_EndTimeEnd">ST_EndTime <![CDATA[>=]]> #_EndTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_EndTimeStart">
          <isNotNull prepend="AND" property="_EndTimeEnd">ST_EndTime <![CDATA[<=]]> #_EndTimeEnd#</isNotNull>
        </isNull>
        <!--显示成本-->
        <isNotNull prepend="AND" property="WHERE_ST_IsShowCost">ST_IsShowCost=#WHERE_ST_IsShowCost#</isNotNull>
        <!--应有库存量-->
        <isNotNull prepend="AND" property="WHERE_ST_DueQty">ST_DueQty=#WHERE_ST_DueQty#</isNotNull>
        <!--实际库存量-->
        <isNotNull prepend="AND" property="WHERE_ST_ActualQty">ST_ActualQty=#WHERE_ST_ActualQty#</isNotNull>
        <!--数量损失率-->
        <isNotNull prepend="AND" property="WHERE_ST_QtyLossRatio">ST_QtyLossRatio=#WHERE_ST_QtyLossRatio#</isNotNull>
        <!--应有库存金额-->
        <isNotNull prepend="AND" property="WHERE_ST_DueAmount">ST_DueAmount=#WHERE_ST_DueAmount#</isNotNull>
        <!--实际库存金额-->
        <isNotNull prepend="AND" property="WHERE_ST_ActualAmount">ST_ActualAmount=#WHERE_ST_ActualAmount#</isNotNull>
        <!--金额损失率-->
        <isNotNull prepend="AND" property="WHERE_ST_AmountLossRatio">ST_AmountLossRatio=#WHERE_ST_AmountLossRatio#</isNotNull>
        <!--盘点结果编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CheckResultCode">ST_CheckResultCode=#WHERE_ST_CheckResultCode#</isNotEmpty>
        <!--盘点结果名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CheckResultName">ST_CheckResultName=#WHERE_ST_CheckResultName#</isNotEmpty>
        <!--盘点单状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_StatusCode">ST_StatusCode=#WHERE_ST_StatusCode#</isNotEmpty>
        <!--盘点单状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_StatusName">ST_StatusName=#WHERE_ST_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ApprovalStatusCode">ST_ApprovalStatusCode=#WHERE_ST_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ApprovalStatusName">ST_ApprovalStatusName=#WHERE_ST_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ST_Remark">ST_Remark=#WHERE_ST_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ST_IsValid">ST_IsValid=#WHERE_ST_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CreatedBy">ST_CreatedBy=#WHERE_ST_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ST_UpdatedBy">ST_UpdatedBy=#WHERE_ST_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ST_VersionNo">ST_VersionNo=#WHERE_ST_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ST_TransID">ST_TransID=#WHERE_ST_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ST_ID,
      ST_No,
      ST_CheckAmount,
      ST_Org_ID,
      ST_WH_ID,
      ST_WHB_ID,
      ST_StartTime,
      ST_EndTime,
      ST_IsShowCost,
      ST_DueQty,
      ST_ActualQty,
      ST_QtyLossRatio,
      ST_DueAmount,
      ST_ActualAmount,
      ST_AmountLossRatio,
      ST_CheckResultCode,
      ST_CheckResultName,
      ST_StatusCode,
      ST_StatusName,
      ST_ApprovalStatusCode,
      ST_ApprovalStatusName,
      ST_Remark,
      ST_IsValid,
      ST_CreatedBy,
      ST_CreatedTime,
      ST_UpdatedBy,
      ST_UpdatedTime,
      ST_VersionNo,
      ST_TransID
      FROM PIS_StocktakingTask
      <dynamic prepend="WHERE">
        <!--盘点任务ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ID">ST_ID=#WHERE_ST_ID#</isNotEmpty>
        <!--盘点单号-->
        <isNotEmpty prepend="AND" property="WHERE_ST_No">ST_No=#WHERE_ST_No#</isNotEmpty>
        <!--盘点次数-->
        <isNotNull prepend="AND" property="WHERE_ST_CheckAmount">ST_CheckAmount=#WHERE_ST_CheckAmount#</isNotNull>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_Org_ID">ST_Org_ID=#WHERE_ST_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_WH_ID">ST_WH_ID=#WHERE_ST_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_WHB_ID">ST_WHB_ID=#WHERE_ST_WHB_ID#</isNotEmpty>
        <!--开始时间-->
        <isNotNull prepend="" property="_StartTimeStart">
          <isNotNull prepend="AND" property="_StartTimeEnd">ST_StartTime BETWEEN #_StartTimeStart# AND #_StartTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_StartTimeEnd">ST_StartTime <![CDATA[>=]]> #_StartTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_StartTimeStart">
          <isNotNull prepend="AND" property="_StartTimeEnd">ST_StartTime <![CDATA[<=]]> #_StartTimeEnd#</isNotNull>
        </isNull>
        <!--结束时间-->
        <isNotNull prepend="" property="_EndTimeStart">
          <isNotNull prepend="AND" property="_EndTimeEnd">ST_EndTime BETWEEN #_EndTimeStart# AND #_EndTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_EndTimeEnd">ST_EndTime <![CDATA[>=]]> #_EndTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_EndTimeStart">
          <isNotNull prepend="AND" property="_EndTimeEnd">ST_EndTime <![CDATA[<=]]> #_EndTimeEnd#</isNotNull>
        </isNull>
        <!--显示成本-->
        <isNotNull prepend="AND" property="WHERE_ST_IsShowCost">ST_IsShowCost=#WHERE_ST_IsShowCost#</isNotNull>
        <!--应有库存量-->
        <isNotNull prepend="AND" property="WHERE_ST_DueQty">ST_DueQty=#WHERE_ST_DueQty#</isNotNull>
        <!--实际库存量-->
        <isNotNull prepend="AND" property="WHERE_ST_ActualQty">ST_ActualQty=#WHERE_ST_ActualQty#</isNotNull>
        <!--数量损失率-->
        <isNotNull prepend="AND" property="WHERE_ST_QtyLossRatio">ST_QtyLossRatio=#WHERE_ST_QtyLossRatio#</isNotNull>
        <!--应有库存金额-->
        <isNotNull prepend="AND" property="WHERE_ST_DueAmount">ST_DueAmount=#WHERE_ST_DueAmount#</isNotNull>
        <!--实际库存金额-->
        <isNotNull prepend="AND" property="WHERE_ST_ActualAmount">ST_ActualAmount=#WHERE_ST_ActualAmount#</isNotNull>
        <!--金额损失率-->
        <isNotNull prepend="AND" property="WHERE_ST_AmountLossRatio">ST_AmountLossRatio=#WHERE_ST_AmountLossRatio#</isNotNull>
        <!--盘点结果编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CheckResultCode">ST_CheckResultCode=#WHERE_ST_CheckResultCode#</isNotEmpty>
        <!--盘点结果名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CheckResultName">ST_CheckResultName=#WHERE_ST_CheckResultName#</isNotEmpty>
        <!--盘点单状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_StatusCode">ST_StatusCode=#WHERE_ST_StatusCode#</isNotEmpty>
        <!--盘点单状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_StatusName">ST_StatusName=#WHERE_ST_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ApprovalStatusCode">ST_ApprovalStatusCode=#WHERE_ST_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ApprovalStatusName">ST_ApprovalStatusName=#WHERE_ST_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ST_Remark">ST_Remark=#WHERE_ST_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ST_IsValid">ST_IsValid=#WHERE_ST_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CreatedBy">ST_CreatedBy=#WHERE_ST_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ST_UpdatedBy">ST_UpdatedBy=#WHERE_ST_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ST_VersionNo">ST_VersionNo=#WHERE_ST_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ST_TransID">ST_TransID=#WHERE_ST_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ST_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[盘点任务]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_StocktakingTask" parameterClass="MDLPIS_StocktakingTask" resultClass="MDLPIS_StocktakingTask">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(ST_ID)
      FROM PIS_StocktakingTask
      <dynamic prepend="WHERE">
        <!--盘点任务ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ID">ST_ID=#WHERE_ST_ID#</isNotEmpty>
        <!--盘点单号-->
        <isNotEmpty prepend="AND" property="WHERE_ST_No">ST_No LIKE '%'+#WHERE_ST_No#+'%'</isNotEmpty>
        <!--盘点次数-->
        <isNotNull prepend="AND" property="WHERE_ST_CheckAmount">ST_CheckAmount=#WHERE_ST_CheckAmount#</isNotNull>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_Org_ID">ST_Org_ID LIKE '%'+#WHERE_ST_Org_ID#+'%'</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_WH_ID">ST_WH_ID LIKE '%'+#WHERE_ST_WH_ID#+'%'</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_WHB_ID">ST_WHB_ID LIKE '%'+#WHERE_ST_WHB_ID#+'%'</isNotEmpty>
        <!--开始时间-->
        <isNotNull prepend="" property="_StartTimeStart">
          <isNotNull prepend="AND" property="_StartTimeEnd">ST_StartTime BETWEEN #_StartTimeStart# AND #_StartTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_StartTimeEnd">ST_StartTime <![CDATA[>=]]> #_StartTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_StartTimeStart">
          <isNotNull prepend="AND" property="_StartTimeEnd">ST_StartTime <![CDATA[<=]]> #_StartTimeEnd#</isNotNull>
        </isNull>
        <!--结束时间-->
        <isNotNull prepend="" property="_EndTimeStart">
          <isNotNull prepend="AND" property="_EndTimeEnd">ST_EndTime BETWEEN #_EndTimeStart# AND #_EndTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_EndTimeEnd">ST_EndTime <![CDATA[>=]]> #_EndTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_EndTimeStart">
          <isNotNull prepend="AND" property="_EndTimeEnd">ST_EndTime <![CDATA[<=]]> #_EndTimeEnd#</isNotNull>
        </isNull>
        <!--显示成本-->
        <isNotNull prepend="AND" property="WHERE_ST_IsShowCost">ST_IsShowCost=#WHERE_ST_IsShowCost#</isNotNull>
        <!--应有库存量-->
        <isNotNull prepend="AND" property="WHERE_ST_DueQty">ST_DueQty=#WHERE_ST_DueQty#</isNotNull>
        <!--实际库存量-->
        <isNotNull prepend="AND" property="WHERE_ST_ActualQty">ST_ActualQty=#WHERE_ST_ActualQty#</isNotNull>
        <!--数量损失率-->
        <isNotNull prepend="AND" property="WHERE_ST_QtyLossRatio">ST_QtyLossRatio=#WHERE_ST_QtyLossRatio#</isNotNull>
        <!--应有库存金额-->
        <isNotNull prepend="AND" property="WHERE_ST_DueAmount">ST_DueAmount=#WHERE_ST_DueAmount#</isNotNull>
        <!--实际库存金额-->
        <isNotNull prepend="AND" property="WHERE_ST_ActualAmount">ST_ActualAmount=#WHERE_ST_ActualAmount#</isNotNull>
        <!--金额损失率-->
        <isNotNull prepend="AND" property="WHERE_ST_AmountLossRatio">ST_AmountLossRatio=#WHERE_ST_AmountLossRatio#</isNotNull>
        <!--盘点结果编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CheckResultCode">ST_CheckResultCode LIKE '%'+#WHERE_ST_CheckResultCode#+'%'</isNotEmpty>
        <!--盘点结果名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CheckResultName">ST_CheckResultName LIKE '%'+#WHERE_ST_CheckResultName#+'%'</isNotEmpty>
        <!--盘点单状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_StatusCode">ST_StatusCode LIKE '%'+#WHERE_ST_StatusCode#+'%'</isNotEmpty>
        <!--盘点单状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_StatusName">ST_StatusName LIKE '%'+#WHERE_ST_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ApprovalStatusCode">ST_ApprovalStatusCode LIKE '%'+#WHERE_ST_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ApprovalStatusName">ST_ApprovalStatusName LIKE '%'+#WHERE_ST_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ST_Remark">ST_Remark LIKE '%'+#WHERE_ST_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ST_IsValid">ST_IsValid=#WHERE_ST_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CreatedBy">ST_CreatedBy LIKE '%'+#WHERE_ST_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ST_UpdatedBy">ST_UpdatedBy LIKE '%'+#WHERE_ST_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ST_VersionNo">ST_VersionNo=#WHERE_ST_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ST_TransID">ST_TransID LIKE '%'+#WHERE_ST_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      ST_ID,
      ST_No,
      ST_CheckAmount,
      ST_Org_ID,
      ST_WH_ID,
      ST_WHB_ID,
      ST_StartTime,
      ST_EndTime,
      ST_IsShowCost,
      ST_DueQty,
      ST_ActualQty,
      ST_QtyLossRatio,
      ST_DueAmount,
      ST_ActualAmount,
      ST_AmountLossRatio,
      ST_CheckResultCode,
      ST_CheckResultName,
      ST_StatusCode,
      ST_StatusName,
      ST_ApprovalStatusCode,
      ST_ApprovalStatusName,
      ST_Remark,
      ST_IsValid,
      ST_CreatedBy,
      ST_CreatedTime,
      ST_UpdatedBy,
      ST_UpdatedTime,
      ST_VersionNo,
      ST_TransID
      FROM PIS_StocktakingTask
      <dynamic prepend="WHERE">
        <!--盘点任务ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ID">ST_ID=#WHERE_ST_ID#</isNotEmpty>
        <!--盘点单号-->
        <isNotEmpty prepend="AND" property="WHERE_ST_No">ST_No LIKE '%'+#WHERE_ST_No#+'%'</isNotEmpty>
        <!--盘点次数-->
        <isNotNull prepend="AND" property="WHERE_ST_CheckAmount">ST_CheckAmount=#WHERE_ST_CheckAmount#</isNotNull>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_Org_ID">ST_Org_ID LIKE '%'+#WHERE_ST_Org_ID#+'%'</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_WH_ID">ST_WH_ID LIKE '%'+#WHERE_ST_WH_ID#+'%'</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_WHB_ID">ST_WHB_ID LIKE '%'+#WHERE_ST_WHB_ID#+'%'</isNotEmpty>
        <!--开始时间-->
        <isNotNull prepend="" property="_StartTimeStart">
          <isNotNull prepend="AND" property="_StartTimeEnd">ST_StartTime BETWEEN #_StartTimeStart# AND #_StartTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_StartTimeEnd">ST_StartTime <![CDATA[>=]]> #_StartTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_StartTimeStart">
          <isNotNull prepend="AND" property="_StartTimeEnd">ST_StartTime <![CDATA[<=]]> #_StartTimeEnd#</isNotNull>
        </isNull>
        <!--结束时间-->
        <isNotNull prepend="" property="_EndTimeStart">
          <isNotNull prepend="AND" property="_EndTimeEnd">ST_EndTime BETWEEN #_EndTimeStart# AND #_EndTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_EndTimeEnd">ST_EndTime <![CDATA[>=]]> #_EndTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_EndTimeStart">
          <isNotNull prepend="AND" property="_EndTimeEnd">ST_EndTime <![CDATA[<=]]> #_EndTimeEnd#</isNotNull>
        </isNull>
        <!--显示成本-->
        <isNotNull prepend="AND" property="WHERE_ST_IsShowCost">ST_IsShowCost=#WHERE_ST_IsShowCost#</isNotNull>
        <!--应有库存量-->
        <isNotNull prepend="AND" property="WHERE_ST_DueQty">ST_DueQty=#WHERE_ST_DueQty#</isNotNull>
        <!--实际库存量-->
        <isNotNull prepend="AND" property="WHERE_ST_ActualQty">ST_ActualQty=#WHERE_ST_ActualQty#</isNotNull>
        <!--数量损失率-->
        <isNotNull prepend="AND" property="WHERE_ST_QtyLossRatio">ST_QtyLossRatio=#WHERE_ST_QtyLossRatio#</isNotNull>
        <!--应有库存金额-->
        <isNotNull prepend="AND" property="WHERE_ST_DueAmount">ST_DueAmount=#WHERE_ST_DueAmount#</isNotNull>
        <!--实际库存金额-->
        <isNotNull prepend="AND" property="WHERE_ST_ActualAmount">ST_ActualAmount=#WHERE_ST_ActualAmount#</isNotNull>
        <!--金额损失率-->
        <isNotNull prepend="AND" property="WHERE_ST_AmountLossRatio">ST_AmountLossRatio=#WHERE_ST_AmountLossRatio#</isNotNull>
        <!--盘点结果编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CheckResultCode">ST_CheckResultCode LIKE '%'+#WHERE_ST_CheckResultCode#+'%'</isNotEmpty>
        <!--盘点结果名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CheckResultName">ST_CheckResultName LIKE '%'+#WHERE_ST_CheckResultName#+'%'</isNotEmpty>
        <!--盘点单状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_StatusCode">ST_StatusCode LIKE '%'+#WHERE_ST_StatusCode#+'%'</isNotEmpty>
        <!--盘点单状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_StatusName">ST_StatusName LIKE '%'+#WHERE_ST_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ApprovalStatusCode">ST_ApprovalStatusCode LIKE '%'+#WHERE_ST_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ApprovalStatusName">ST_ApprovalStatusName LIKE '%'+#WHERE_ST_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ST_Remark">ST_Remark LIKE '%'+#WHERE_ST_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ST_IsValid">ST_IsValid=#WHERE_ST_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CreatedBy">ST_CreatedBy LIKE '%'+#WHERE_ST_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ST_UpdatedBy">ST_UpdatedBy LIKE '%'+#WHERE_ST_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ST_VersionNo">ST_VersionNo=#WHERE_ST_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ST_TransID">ST_TransID LIKE '%'+#WHERE_ST_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY ST_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[盘点任务]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_StocktakingTask" parameterClass="MDLPIS_StocktakingTask" resultClass="int">
      SELECT COUNT(ST_ID) 'RecordCount'
      FROM PIS_StocktakingTask
      <dynamic prepend="WHERE">
        <!--盘点任务ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ID">ST_ID=#WHERE_ST_ID#</isNotEmpty>
        <!--盘点单号-->
        <isNotEmpty prepend="AND" property="WHERE_ST_No">ST_No=#WHERE_ST_No#</isNotEmpty>
        <!--盘点次数-->
        <isNotNull prepend="AND" property="WHERE_ST_CheckAmount">ST_CheckAmount=#WHERE_ST_CheckAmount#</isNotNull>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_Org_ID">ST_Org_ID=#WHERE_ST_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_WH_ID">ST_WH_ID=#WHERE_ST_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_WHB_ID">ST_WHB_ID=#WHERE_ST_WHB_ID#</isNotEmpty>
        <!--开始时间-->
        <isNotNull prepend="" property="_StartTimeStart">
          <isNotNull prepend="AND" property="_StartTimeEnd">ST_StartTime BETWEEN #_StartTimeStart# AND #_StartTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_StartTimeEnd">ST_StartTime <![CDATA[>=]]> #_StartTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_StartTimeStart">
          <isNotNull prepend="AND" property="_StartTimeEnd">ST_StartTime <![CDATA[<=]]> #_StartTimeEnd#</isNotNull>
        </isNull>
        <!--结束时间-->
        <isNotNull prepend="" property="_EndTimeStart">
          <isNotNull prepend="AND" property="_EndTimeEnd">ST_EndTime BETWEEN #_EndTimeStart# AND #_EndTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_EndTimeEnd">ST_EndTime <![CDATA[>=]]> #_EndTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_EndTimeStart">
          <isNotNull prepend="AND" property="_EndTimeEnd">ST_EndTime <![CDATA[<=]]> #_EndTimeEnd#</isNotNull>
        </isNull>
        <!--显示成本-->
        <isNotNull prepend="AND" property="WHERE_ST_IsShowCost">ST_IsShowCost=#WHERE_ST_IsShowCost#</isNotNull>
        <!--应有库存量-->
        <isNotNull prepend="AND" property="WHERE_ST_DueQty">ST_DueQty=#WHERE_ST_DueQty#</isNotNull>
        <!--实际库存量-->
        <isNotNull prepend="AND" property="WHERE_ST_ActualQty">ST_ActualQty=#WHERE_ST_ActualQty#</isNotNull>
        <!--数量损失率-->
        <isNotNull prepend="AND" property="WHERE_ST_QtyLossRatio">ST_QtyLossRatio=#WHERE_ST_QtyLossRatio#</isNotNull>
        <!--应有库存金额-->
        <isNotNull prepend="AND" property="WHERE_ST_DueAmount">ST_DueAmount=#WHERE_ST_DueAmount#</isNotNull>
        <!--实际库存金额-->
        <isNotNull prepend="AND" property="WHERE_ST_ActualAmount">ST_ActualAmount=#WHERE_ST_ActualAmount#</isNotNull>
        <!--金额损失率-->
        <isNotNull prepend="AND" property="WHERE_ST_AmountLossRatio">ST_AmountLossRatio=#WHERE_ST_AmountLossRatio#</isNotNull>
        <!--盘点结果编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CheckResultCode">ST_CheckResultCode=#WHERE_ST_CheckResultCode#</isNotEmpty>
        <!--盘点结果名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CheckResultName">ST_CheckResultName=#WHERE_ST_CheckResultName#</isNotEmpty>
        <!--盘点单状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_StatusCode">ST_StatusCode=#WHERE_ST_StatusCode#</isNotEmpty>
        <!--盘点单状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_StatusName">ST_StatusName=#WHERE_ST_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ApprovalStatusCode">ST_ApprovalStatusCode=#WHERE_ST_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ApprovalStatusName">ST_ApprovalStatusName=#WHERE_ST_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ST_Remark">ST_Remark=#WHERE_ST_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ST_IsValid">ST_IsValid=#WHERE_ST_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CreatedBy">ST_CreatedBy=#WHERE_ST_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ST_UpdatedBy">ST_UpdatedBy=#WHERE_ST_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ST_VersionNo">ST_VersionNo=#WHERE_ST_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ST_TransID">ST_TransID=#WHERE_ST_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[盘点任务]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_StocktakingTask" parameterClass="MDLPIS_StocktakingTask" >
      UPDATE PIS_StocktakingTask
      SET
      ST_UpdatedTime=GETDATE(),
      ST_VersionNo=ST_VersionNo+1
      <isNotEmpty prepend="," property="ST_No">ST_No=#ST_No#</isNotEmpty>
      <isNotNull prepend="," property="ST_CheckAmount">ST_CheckAmount=#ST_CheckAmount#</isNotNull>
      <isNotEmpty prepend="," property="ST_Org_ID">ST_Org_ID=#ST_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="ST_WH_ID">ST_WH_ID=#ST_WH_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="ST_WHB_ID">ST_WHB_ID=#ST_WHB_ID#</isNotEmpty>
      <isNotNull prepend="," property="ST_StartTime">ST_StartTime=#ST_StartTime#</isNotNull>
      <isNotNull prepend="," property="ST_EndTime">ST_EndTime=#ST_EndTime#</isNotNull>
      <isNotNull prepend="," property="ST_IsShowCost">ST_IsShowCost=#ST_IsShowCost#</isNotNull>
      <isNotNull prepend="," property="ST_DueQty">ST_DueQty=#ST_DueQty#</isNotNull>
      <isNotNull prepend="," property="ST_ActualQty">ST_ActualQty=#ST_ActualQty#</isNotNull>
      <isNotNull prepend="," property="ST_QtyLossRatio">ST_QtyLossRatio=#ST_QtyLossRatio#</isNotNull>
      <isNotNull prepend="," property="ST_DueAmount">ST_DueAmount=#ST_DueAmount#</isNotNull>
      <isNotNull prepend="," property="ST_ActualAmount">ST_ActualAmount=#ST_ActualAmount#</isNotNull>
      <isNotNull prepend="," property="ST_AmountLossRatio">ST_AmountLossRatio=#ST_AmountLossRatio#</isNotNull>
      <isNotEmpty prepend="," property="ST_CheckResultCode">ST_CheckResultCode=#ST_CheckResultCode#</isNotEmpty>
      <isNotEmpty prepend="," property="ST_CheckResultName">ST_CheckResultName=#ST_CheckResultName#</isNotEmpty>
      <isNotEmpty prepend="," property="ST_StatusCode">ST_StatusCode=#ST_StatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="ST_StatusName">ST_StatusName=#ST_StatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="ST_ApprovalStatusCode">ST_ApprovalStatusCode=#ST_ApprovalStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="ST_ApprovalStatusName">ST_ApprovalStatusName=#ST_ApprovalStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="ST_Remark">ST_Remark=#ST_Remark#</isNotEmpty>
      <isNotNull prepend="," property="ST_IsValid">ST_IsValid=#ST_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="ST_CreatedBy">ST_CreatedBy=#ST_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="ST_CreatedTime">ST_CreatedTime=#ST_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="ST_UpdatedBy">ST_UpdatedBy=#ST_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="ST_TransID">ST_TransID=#ST_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--盘点任务ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ID">ST_ID=#WHERE_ST_ID#</isNotEmpty>
        <!--盘点单号-->
        <isNotEmpty prepend="AND" property="WHERE_ST_No">ST_No=#WHERE_ST_No#</isNotEmpty>
        <!--盘点次数-->
        <isNotNull prepend="AND" property="WHERE_ST_CheckAmount">ST_CheckAmount=#WHERE_ST_CheckAmount#</isNotNull>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_Org_ID">ST_Org_ID=#WHERE_ST_Org_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_WH_ID">ST_WH_ID=#WHERE_ST_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_ST_WHB_ID">ST_WHB_ID=#WHERE_ST_WHB_ID#</isNotEmpty>
        <!--开始时间-->
        <isNotNull prepend="" property="_StartTimeStart">
          <isNotNull prepend="AND" property="_StartTimeEnd">ST_StartTime BETWEEN #_StartTimeStart# AND #_StartTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_StartTimeEnd">ST_StartTime <![CDATA[>=]]> #_StartTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_StartTimeStart">
          <isNotNull prepend="AND" property="_StartTimeEnd">ST_StartTime <![CDATA[<=]]> #_StartTimeEnd#</isNotNull>
        </isNull>
        <!--结束时间-->
        <isNotNull prepend="" property="_EndTimeStart">
          <isNotNull prepend="AND" property="_EndTimeEnd">ST_EndTime BETWEEN #_EndTimeStart# AND #_EndTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_EndTimeEnd">ST_EndTime <![CDATA[>=]]> #_EndTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_EndTimeStart">
          <isNotNull prepend="AND" property="_EndTimeEnd">ST_EndTime <![CDATA[<=]]> #_EndTimeEnd#</isNotNull>
        </isNull>
        <!--显示成本-->
        <isNotNull prepend="AND" property="WHERE_ST_IsShowCost">ST_IsShowCost=#WHERE_ST_IsShowCost#</isNotNull>
        <!--应有库存量-->
        <isNotNull prepend="AND" property="WHERE_ST_DueQty">ST_DueQty=#WHERE_ST_DueQty#</isNotNull>
        <!--实际库存量-->
        <isNotNull prepend="AND" property="WHERE_ST_ActualQty">ST_ActualQty=#WHERE_ST_ActualQty#</isNotNull>
        <!--数量损失率-->
        <isNotNull prepend="AND" property="WHERE_ST_QtyLossRatio">ST_QtyLossRatio=#WHERE_ST_QtyLossRatio#</isNotNull>
        <!--应有库存金额-->
        <isNotNull prepend="AND" property="WHERE_ST_DueAmount">ST_DueAmount=#WHERE_ST_DueAmount#</isNotNull>
        <!--实际库存金额-->
        <isNotNull prepend="AND" property="WHERE_ST_ActualAmount">ST_ActualAmount=#WHERE_ST_ActualAmount#</isNotNull>
        <!--金额损失率-->
        <isNotNull prepend="AND" property="WHERE_ST_AmountLossRatio">ST_AmountLossRatio=#WHERE_ST_AmountLossRatio#</isNotNull>
        <!--盘点结果编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CheckResultCode">ST_CheckResultCode=#WHERE_ST_CheckResultCode#</isNotEmpty>
        <!--盘点结果名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CheckResultName">ST_CheckResultName=#WHERE_ST_CheckResultName#</isNotEmpty>
        <!--盘点单状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_StatusCode">ST_StatusCode=#WHERE_ST_StatusCode#</isNotEmpty>
        <!--盘点单状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_StatusName">ST_StatusName=#WHERE_ST_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ApprovalStatusCode">ST_ApprovalStatusCode=#WHERE_ST_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_ST_ApprovalStatusName">ST_ApprovalStatusName=#WHERE_ST_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_ST_Remark">ST_Remark=#WHERE_ST_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_ST_IsValid">ST_IsValid=#WHERE_ST_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_ST_CreatedBy">ST_CreatedBy=#WHERE_ST_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">ST_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_ST_UpdatedBy">ST_UpdatedBy=#WHERE_ST_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">ST_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_ST_VersionNo">ST_VersionNo=#WHERE_ST_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_ST_TransID">ST_TransID=#WHERE_ST_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[盘点任务]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_StocktakingTask" parameterClass="List">
      DELETE FROM PIS_StocktakingTask
      WHERE ST_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_ST_ID#
      </iterate>
    </delete>

    <!--新增[盘点任务明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_StocktakingTaskDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_StocktakingTaskDetail
        (
        <!--盘点任务明细ID-->
        STD_ID,
        <!--盘点任务ID-->
        STD_TB_ID,
        <!--盘点单号-->
        STD_TB_No,
        <!--仓库ID-->
        STD_WH_ID,
        <!--仓位ID-->
        STD_WHB_ID,
        <!--应有量-->
        STD_DueQty,
        <!--实际量-->
        STD_ActualQty,
        <!--差异数量-->
        STD_AdjustQty,
        <!--允差数量-->
        STD_ApprDiffQty,
        <!--数量允差比-->
        STD_ApprDiffQtyRate,
        <!--调整数量-->
        STD_SnapshotQty,
        <!--应有金额-->
        STD_DueAmount,
        <!--实际金额-->
        STD_ActualAmount,
        <!--金额损失率-->
        STD_AmountLossRatio,
        <!--配件条码-->
        STD_Barcode,
        <!--配件批次号-->
        STD_BatchNo,
        <!--第三方编码-->
        STD_ThirdNo,
        <!--原厂编码-->
        STD_OEMNo,
        <!--配件名称-->
        STD_Name,
        <!--配件规格型号-->
        STD_Specification,
        <!--单位-->
        STD_UOM,
        <!--有效-->
        STD_IsValid,
        <!--创建人-->
        STD_CreatedBy,
        <!--创建时间-->
        STD_CreatedTime,
        <!--修改人-->
        STD_UpdatedBy,
        <!--修改时间-->
        STD_UpdatedTime,
        <!--版本号-->
        STD_VersionNo,
        <!--事务编号-->
        STD_TransID
        )
        VALUES
        (
        <!--盘点任务明细ID-->
        #[].STD_ID#,
        <!--盘点任务ID-->
        #[].STD_TB_ID#,
        <!--盘点单号-->
        #[].STD_TB_No#,
        <!--仓库ID-->
        #[].STD_WH_ID#,
        <!--仓位ID-->
        #[].STD_WHB_ID#,
        <!--应有量-->
        #[].STD_DueQty#,
        <!--实际量-->
        #[].STD_ActualQty#,
        <!--差异数量-->
        #[].STD_AdjustQty#,
        <!--允差数量-->
        #[].STD_ApprDiffQty#,
        <!--数量允差比-->
        #[].STD_ApprDiffQtyRate#,
        <!--调整数量-->
        #[].STD_SnapshotQty#,
        <!--应有金额-->
        #[].STD_DueAmount#,
        <!--实际金额-->
        #[].STD_ActualAmount#,
        <!--金额损失率-->
        #[].STD_AmountLossRatio#,
        <!--配件条码-->
        #[].STD_Barcode#,
        <!--配件批次号-->
        #[].STD_BatchNo#,
        <!--第三方编码-->
        #[].STD_ThirdNo#,
        <!--原厂编码-->
        #[].STD_OEMNo#,
        <!--配件名称-->
        #[].STD_Name#,
        <!--配件规格型号-->
        #[].STD_Specification#,
        <!--单位-->
        #[].STD_UOM#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].STD_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].STD_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].STD_TransID#
        )
      </iterate>
    </insert>

    <!--查询[盘点任务明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_StocktakingTaskDetail" parameterClass="MDLPIS_StocktakingTaskDetail" resultClass="MDLPIS_StocktakingTaskDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(STD_ID)
      FROM PIS_StocktakingTaskDetail
      <dynamic prepend="WHERE">
        <!--盘点任务明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_ID">STD_ID=#WHERE_STD_ID#</isNotEmpty>
        <!--盘点任务ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TB_ID">STD_TB_ID=#WHERE_STD_TB_ID#</isNotEmpty>
        <!--盘点单号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TB_No">STD_TB_No=#WHERE_STD_TB_No#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_WH_ID">STD_WH_ID=#WHERE_STD_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_WHB_ID">STD_WHB_ID=#WHERE_STD_WHB_ID#</isNotEmpty>
        <!--应有量-->
        <isNotNull prepend="AND" property="WHERE_STD_DueQty">STD_DueQty=#WHERE_STD_DueQty#</isNotNull>
        <!--实际量-->
        <isNotNull prepend="AND" property="WHERE_STD_ActualQty">STD_ActualQty=#WHERE_STD_ActualQty#</isNotNull>
        <!--差异数量-->
        <isNotNull prepend="AND" property="WHERE_STD_AdjustQty">STD_AdjustQty=#WHERE_STD_AdjustQty#</isNotNull>
        <!--允差数量-->
        <isNotNull prepend="AND" property="WHERE_STD_ApprDiffQty">STD_ApprDiffQty=#WHERE_STD_ApprDiffQty#</isNotNull>
        <!--数量允差比-->
        <isNotNull prepend="AND" property="WHERE_STD_ApprDiffQtyRate">STD_ApprDiffQtyRate=#WHERE_STD_ApprDiffQtyRate#</isNotNull>
        <!--调整数量-->
        <isNotNull prepend="AND" property="WHERE_STD_SnapshotQty">STD_SnapshotQty=#WHERE_STD_SnapshotQty#</isNotNull>
        <!--应有金额-->
        <isNotNull prepend="AND" property="WHERE_STD_DueAmount">STD_DueAmount=#WHERE_STD_DueAmount#</isNotNull>
        <!--实际金额-->
        <isNotNull prepend="AND" property="WHERE_STD_ActualAmount">STD_ActualAmount=#WHERE_STD_ActualAmount#</isNotNull>
        <!--金额损失率-->
        <isNotNull prepend="AND" property="WHERE_STD_AmountLossRatio">STD_AmountLossRatio=#WHERE_STD_AmountLossRatio#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Barcode">STD_Barcode=#WHERE_STD_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_BatchNo">STD_BatchNo=#WHERE_STD_BatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_ThirdNo">STD_ThirdNo=#WHERE_STD_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_OEMNo">STD_OEMNo=#WHERE_STD_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Name">STD_Name=#WHERE_STD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Specification">STD_Specification=#WHERE_STD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_STD_UOM">STD_UOM=#WHERE_STD_UOM#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_STD_IsValid">STD_IsValid=#WHERE_STD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_STD_CreatedBy">STD_CreatedBy=#WHERE_STD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_STD_UpdatedBy">STD_UpdatedBy=#WHERE_STD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_STD_VersionNo">STD_VersionNo=#WHERE_STD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TransID">STD_TransID=#WHERE_STD_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      STD_ID,
      STD_TB_ID,
      STD_TB_No,
      STD_WH_ID,
      STD_WHB_ID,
      STD_DueQty,
      STD_ActualQty,
      STD_AdjustQty,
      STD_ApprDiffQty,
      STD_ApprDiffQtyRate,
      STD_SnapshotQty,
      STD_DueAmount,
      STD_ActualAmount,
      STD_AmountLossRatio,
      STD_Barcode,
      STD_BatchNo,
      STD_ThirdNo,
      STD_OEMNo,
      STD_Name,
      STD_Specification,
      STD_UOM,
      STD_IsValid,
      STD_CreatedBy,
      STD_CreatedTime,
      STD_UpdatedBy,
      STD_UpdatedTime,
      STD_VersionNo,
      STD_TransID
      FROM PIS_StocktakingTaskDetail
      <dynamic prepend="WHERE">
        <!--盘点任务明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_ID">STD_ID=#WHERE_STD_ID#</isNotEmpty>
        <!--盘点任务ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TB_ID">STD_TB_ID=#WHERE_STD_TB_ID#</isNotEmpty>
        <!--盘点单号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TB_No">STD_TB_No=#WHERE_STD_TB_No#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_WH_ID">STD_WH_ID=#WHERE_STD_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_WHB_ID">STD_WHB_ID=#WHERE_STD_WHB_ID#</isNotEmpty>
        <!--应有量-->
        <isNotNull prepend="AND" property="WHERE_STD_DueQty">STD_DueQty=#WHERE_STD_DueQty#</isNotNull>
        <!--实际量-->
        <isNotNull prepend="AND" property="WHERE_STD_ActualQty">STD_ActualQty=#WHERE_STD_ActualQty#</isNotNull>
        <!--差异数量-->
        <isNotNull prepend="AND" property="WHERE_STD_AdjustQty">STD_AdjustQty=#WHERE_STD_AdjustQty#</isNotNull>
        <!--允差数量-->
        <isNotNull prepend="AND" property="WHERE_STD_ApprDiffQty">STD_ApprDiffQty=#WHERE_STD_ApprDiffQty#</isNotNull>
        <!--数量允差比-->
        <isNotNull prepend="AND" property="WHERE_STD_ApprDiffQtyRate">STD_ApprDiffQtyRate=#WHERE_STD_ApprDiffQtyRate#</isNotNull>
        <!--调整数量-->
        <isNotNull prepend="AND" property="WHERE_STD_SnapshotQty">STD_SnapshotQty=#WHERE_STD_SnapshotQty#</isNotNull>
        <!--应有金额-->
        <isNotNull prepend="AND" property="WHERE_STD_DueAmount">STD_DueAmount=#WHERE_STD_DueAmount#</isNotNull>
        <!--实际金额-->
        <isNotNull prepend="AND" property="WHERE_STD_ActualAmount">STD_ActualAmount=#WHERE_STD_ActualAmount#</isNotNull>
        <!--金额损失率-->
        <isNotNull prepend="AND" property="WHERE_STD_AmountLossRatio">STD_AmountLossRatio=#WHERE_STD_AmountLossRatio#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Barcode">STD_Barcode=#WHERE_STD_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_BatchNo">STD_BatchNo=#WHERE_STD_BatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_ThirdNo">STD_ThirdNo=#WHERE_STD_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_OEMNo">STD_OEMNo=#WHERE_STD_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Name">STD_Name=#WHERE_STD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Specification">STD_Specification=#WHERE_STD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_STD_UOM">STD_UOM=#WHERE_STD_UOM#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_STD_IsValid">STD_IsValid=#WHERE_STD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_STD_CreatedBy">STD_CreatedBy=#WHERE_STD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_STD_UpdatedBy">STD_UpdatedBy=#WHERE_STD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_STD_VersionNo">STD_VersionNo=#WHERE_STD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TransID">STD_TransID=#WHERE_STD_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY STD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[盘点任务明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_StocktakingTaskDetail" parameterClass="MDLPIS_StocktakingTaskDetail" resultClass="MDLPIS_StocktakingTaskDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(STD_ID)
      FROM PIS_StocktakingTaskDetail
      <dynamic prepend="WHERE">
        <!--盘点任务明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_ID">STD_ID=#WHERE_STD_ID#</isNotEmpty>
        <!--盘点任务ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TB_ID">STD_TB_ID LIKE '%'+#WHERE_STD_TB_ID#+'%'</isNotEmpty>
        <!--盘点单号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TB_No">STD_TB_No LIKE '%'+#WHERE_STD_TB_No#+'%'</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_WH_ID">STD_WH_ID LIKE '%'+#WHERE_STD_WH_ID#+'%'</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_WHB_ID">STD_WHB_ID LIKE '%'+#WHERE_STD_WHB_ID#+'%'</isNotEmpty>
        <!--应有量-->
        <isNotNull prepend="AND" property="WHERE_STD_DueQty">STD_DueQty=#WHERE_STD_DueQty#</isNotNull>
        <!--实际量-->
        <isNotNull prepend="AND" property="WHERE_STD_ActualQty">STD_ActualQty=#WHERE_STD_ActualQty#</isNotNull>
        <!--差异数量-->
        <isNotNull prepend="AND" property="WHERE_STD_AdjustQty">STD_AdjustQty=#WHERE_STD_AdjustQty#</isNotNull>
        <!--允差数量-->
        <isNotNull prepend="AND" property="WHERE_STD_ApprDiffQty">STD_ApprDiffQty=#WHERE_STD_ApprDiffQty#</isNotNull>
        <!--数量允差比-->
        <isNotNull prepend="AND" property="WHERE_STD_ApprDiffQtyRate">STD_ApprDiffQtyRate=#WHERE_STD_ApprDiffQtyRate#</isNotNull>
        <!--调整数量-->
        <isNotNull prepend="AND" property="WHERE_STD_SnapshotQty">STD_SnapshotQty=#WHERE_STD_SnapshotQty#</isNotNull>
        <!--应有金额-->
        <isNotNull prepend="AND" property="WHERE_STD_DueAmount">STD_DueAmount=#WHERE_STD_DueAmount#</isNotNull>
        <!--实际金额-->
        <isNotNull prepend="AND" property="WHERE_STD_ActualAmount">STD_ActualAmount=#WHERE_STD_ActualAmount#</isNotNull>
        <!--金额损失率-->
        <isNotNull prepend="AND" property="WHERE_STD_AmountLossRatio">STD_AmountLossRatio=#WHERE_STD_AmountLossRatio#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Barcode">STD_Barcode LIKE '%'+#WHERE_STD_Barcode#+'%'</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_BatchNo">STD_BatchNo LIKE '%'+#WHERE_STD_BatchNo#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_ThirdNo">STD_ThirdNo LIKE '%'+#WHERE_STD_ThirdNo#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_OEMNo">STD_OEMNo LIKE '%'+#WHERE_STD_OEMNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Name">STD_Name LIKE '%'+#WHERE_STD_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Specification">STD_Specification LIKE '%'+#WHERE_STD_Specification#+'%'</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_STD_UOM">STD_UOM LIKE '%'+#WHERE_STD_UOM#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_STD_IsValid">STD_IsValid=#WHERE_STD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_STD_CreatedBy">STD_CreatedBy LIKE '%'+#WHERE_STD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_STD_UpdatedBy">STD_UpdatedBy LIKE '%'+#WHERE_STD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_STD_VersionNo">STD_VersionNo=#WHERE_STD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TransID">STD_TransID LIKE '%'+#WHERE_STD_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      STD_ID,
      STD_TB_ID,
      STD_TB_No,
      STD_WH_ID,
      STD_WHB_ID,
      STD_DueQty,
      STD_ActualQty,
      STD_AdjustQty,
      STD_ApprDiffQty,
      STD_ApprDiffQtyRate,
      STD_SnapshotQty,
      STD_DueAmount,
      STD_ActualAmount,
      STD_AmountLossRatio,
      STD_Barcode,
      STD_BatchNo,
      STD_ThirdNo,
      STD_OEMNo,
      STD_Name,
      STD_Specification,
      STD_UOM,
      STD_IsValid,
      STD_CreatedBy,
      STD_CreatedTime,
      STD_UpdatedBy,
      STD_UpdatedTime,
      STD_VersionNo,
      STD_TransID
      FROM PIS_StocktakingTaskDetail
      <dynamic prepend="WHERE">
        <!--盘点任务明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_ID">STD_ID=#WHERE_STD_ID#</isNotEmpty>
        <!--盘点任务ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TB_ID">STD_TB_ID LIKE '%'+#WHERE_STD_TB_ID#+'%'</isNotEmpty>
        <!--盘点单号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TB_No">STD_TB_No LIKE '%'+#WHERE_STD_TB_No#+'%'</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_WH_ID">STD_WH_ID LIKE '%'+#WHERE_STD_WH_ID#+'%'</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_WHB_ID">STD_WHB_ID LIKE '%'+#WHERE_STD_WHB_ID#+'%'</isNotEmpty>
        <!--应有量-->
        <isNotNull prepend="AND" property="WHERE_STD_DueQty">STD_DueQty=#WHERE_STD_DueQty#</isNotNull>
        <!--实际量-->
        <isNotNull prepend="AND" property="WHERE_STD_ActualQty">STD_ActualQty=#WHERE_STD_ActualQty#</isNotNull>
        <!--差异数量-->
        <isNotNull prepend="AND" property="WHERE_STD_AdjustQty">STD_AdjustQty=#WHERE_STD_AdjustQty#</isNotNull>
        <!--允差数量-->
        <isNotNull prepend="AND" property="WHERE_STD_ApprDiffQty">STD_ApprDiffQty=#WHERE_STD_ApprDiffQty#</isNotNull>
        <!--数量允差比-->
        <isNotNull prepend="AND" property="WHERE_STD_ApprDiffQtyRate">STD_ApprDiffQtyRate=#WHERE_STD_ApprDiffQtyRate#</isNotNull>
        <!--调整数量-->
        <isNotNull prepend="AND" property="WHERE_STD_SnapshotQty">STD_SnapshotQty=#WHERE_STD_SnapshotQty#</isNotNull>
        <!--应有金额-->
        <isNotNull prepend="AND" property="WHERE_STD_DueAmount">STD_DueAmount=#WHERE_STD_DueAmount#</isNotNull>
        <!--实际金额-->
        <isNotNull prepend="AND" property="WHERE_STD_ActualAmount">STD_ActualAmount=#WHERE_STD_ActualAmount#</isNotNull>
        <!--金额损失率-->
        <isNotNull prepend="AND" property="WHERE_STD_AmountLossRatio">STD_AmountLossRatio=#WHERE_STD_AmountLossRatio#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Barcode">STD_Barcode LIKE '%'+#WHERE_STD_Barcode#+'%'</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_BatchNo">STD_BatchNo LIKE '%'+#WHERE_STD_BatchNo#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_ThirdNo">STD_ThirdNo LIKE '%'+#WHERE_STD_ThirdNo#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_OEMNo">STD_OEMNo LIKE '%'+#WHERE_STD_OEMNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Name">STD_Name LIKE '%'+#WHERE_STD_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Specification">STD_Specification LIKE '%'+#WHERE_STD_Specification#+'%'</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_STD_UOM">STD_UOM LIKE '%'+#WHERE_STD_UOM#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_STD_IsValid">STD_IsValid=#WHERE_STD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_STD_CreatedBy">STD_CreatedBy LIKE '%'+#WHERE_STD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_STD_UpdatedBy">STD_UpdatedBy LIKE '%'+#WHERE_STD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_STD_VersionNo">STD_VersionNo=#WHERE_STD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TransID">STD_TransID LIKE '%'+#WHERE_STD_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY STD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[盘点任务明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_StocktakingTaskDetail" parameterClass="MDLPIS_StocktakingTaskDetail" resultClass="int">
      SELECT COUNT(STD_ID) 'RecordCount'
      FROM PIS_StocktakingTaskDetail
      <dynamic prepend="WHERE">
        <!--盘点任务明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_ID">STD_ID=#WHERE_STD_ID#</isNotEmpty>
        <!--盘点任务ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TB_ID">STD_TB_ID=#WHERE_STD_TB_ID#</isNotEmpty>
        <!--盘点单号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TB_No">STD_TB_No=#WHERE_STD_TB_No#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_WH_ID">STD_WH_ID=#WHERE_STD_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_WHB_ID">STD_WHB_ID=#WHERE_STD_WHB_ID#</isNotEmpty>
        <!--应有量-->
        <isNotNull prepend="AND" property="WHERE_STD_DueQty">STD_DueQty=#WHERE_STD_DueQty#</isNotNull>
        <!--实际量-->
        <isNotNull prepend="AND" property="WHERE_STD_ActualQty">STD_ActualQty=#WHERE_STD_ActualQty#</isNotNull>
        <!--差异数量-->
        <isNotNull prepend="AND" property="WHERE_STD_AdjustQty">STD_AdjustQty=#WHERE_STD_AdjustQty#</isNotNull>
        <!--允差数量-->
        <isNotNull prepend="AND" property="WHERE_STD_ApprDiffQty">STD_ApprDiffQty=#WHERE_STD_ApprDiffQty#</isNotNull>
        <!--数量允差比-->
        <isNotNull prepend="AND" property="WHERE_STD_ApprDiffQtyRate">STD_ApprDiffQtyRate=#WHERE_STD_ApprDiffQtyRate#</isNotNull>
        <!--调整数量-->
        <isNotNull prepend="AND" property="WHERE_STD_SnapshotQty">STD_SnapshotQty=#WHERE_STD_SnapshotQty#</isNotNull>
        <!--应有金额-->
        <isNotNull prepend="AND" property="WHERE_STD_DueAmount">STD_DueAmount=#WHERE_STD_DueAmount#</isNotNull>
        <!--实际金额-->
        <isNotNull prepend="AND" property="WHERE_STD_ActualAmount">STD_ActualAmount=#WHERE_STD_ActualAmount#</isNotNull>
        <!--金额损失率-->
        <isNotNull prepend="AND" property="WHERE_STD_AmountLossRatio">STD_AmountLossRatio=#WHERE_STD_AmountLossRatio#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Barcode">STD_Barcode=#WHERE_STD_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_BatchNo">STD_BatchNo=#WHERE_STD_BatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_ThirdNo">STD_ThirdNo=#WHERE_STD_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_OEMNo">STD_OEMNo=#WHERE_STD_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Name">STD_Name=#WHERE_STD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Specification">STD_Specification=#WHERE_STD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_STD_UOM">STD_UOM=#WHERE_STD_UOM#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_STD_IsValid">STD_IsValid=#WHERE_STD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_STD_CreatedBy">STD_CreatedBy=#WHERE_STD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_STD_UpdatedBy">STD_UpdatedBy=#WHERE_STD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_STD_VersionNo">STD_VersionNo=#WHERE_STD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TransID">STD_TransID=#WHERE_STD_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[盘点任务明细]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_StocktakingTaskDetail" parameterClass="MDLPIS_StocktakingTaskDetail" >
      UPDATE PIS_StocktakingTaskDetail
      SET
      STD_UpdatedTime=GETDATE(),
      STD_VersionNo=STD_VersionNo+1
      <isNotEmpty prepend="," property="STD_TB_ID">STD_TB_ID=#STD_TB_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="STD_TB_No">STD_TB_No=#STD_TB_No#</isNotEmpty>
      <isNotEmpty prepend="," property="STD_WH_ID">STD_WH_ID=#STD_WH_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="STD_WHB_ID">STD_WHB_ID=#STD_WHB_ID#</isNotEmpty>
      <isNotNull prepend="," property="STD_DueQty">STD_DueQty=#STD_DueQty#</isNotNull>
      <isNotNull prepend="," property="STD_ActualQty">STD_ActualQty=#STD_ActualQty#</isNotNull>
      <isNotNull prepend="," property="STD_AdjustQty">STD_AdjustQty=#STD_AdjustQty#</isNotNull>
      <isNotNull prepend="," property="STD_ApprDiffQty">STD_ApprDiffQty=#STD_ApprDiffQty#</isNotNull>
      <isNotNull prepend="," property="STD_ApprDiffQtyRate">STD_ApprDiffQtyRate=#STD_ApprDiffQtyRate#</isNotNull>
      <isNotNull prepend="," property="STD_SnapshotQty">STD_SnapshotQty=#STD_SnapshotQty#</isNotNull>
      <isNotNull prepend="," property="STD_DueAmount">STD_DueAmount=#STD_DueAmount#</isNotNull>
      <isNotNull prepend="," property="STD_ActualAmount">STD_ActualAmount=#STD_ActualAmount#</isNotNull>
      <isNotNull prepend="," property="STD_AmountLossRatio">STD_AmountLossRatio=#STD_AmountLossRatio#</isNotNull>
      <isNotEmpty prepend="," property="STD_Barcode">STD_Barcode=#STD_Barcode#</isNotEmpty>
      <isNotEmpty prepend="," property="STD_BatchNo">STD_BatchNo=#STD_BatchNo#</isNotEmpty>
      <isNotEmpty prepend="," property="STD_ThirdNo">STD_ThirdNo=#STD_ThirdNo#</isNotEmpty>
      <isNotEmpty prepend="," property="STD_OEMNo">STD_OEMNo=#STD_OEMNo#</isNotEmpty>
      <isNotEmpty prepend="," property="STD_Name">STD_Name=#STD_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="STD_Specification">STD_Specification=#STD_Specification#</isNotEmpty>
      <isNotEmpty prepend="," property="STD_UOM">STD_UOM=#STD_UOM#</isNotEmpty>
      <isNotNull prepend="," property="STD_IsValid">STD_IsValid=#STD_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="STD_CreatedBy">STD_CreatedBy=#STD_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="STD_CreatedTime">STD_CreatedTime=#STD_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="STD_UpdatedBy">STD_UpdatedBy=#STD_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="STD_TransID">STD_TransID=#STD_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--盘点任务明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_ID">STD_ID=#WHERE_STD_ID#</isNotEmpty>
        <!--盘点任务ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TB_ID">STD_TB_ID=#WHERE_STD_TB_ID#</isNotEmpty>
        <!--盘点单号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TB_No">STD_TB_No=#WHERE_STD_TB_No#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_WH_ID">STD_WH_ID=#WHERE_STD_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_STD_WHB_ID">STD_WHB_ID=#WHERE_STD_WHB_ID#</isNotEmpty>
        <!--应有量-->
        <isNotNull prepend="AND" property="WHERE_STD_DueQty">STD_DueQty=#WHERE_STD_DueQty#</isNotNull>
        <!--实际量-->
        <isNotNull prepend="AND" property="WHERE_STD_ActualQty">STD_ActualQty=#WHERE_STD_ActualQty#</isNotNull>
        <!--差异数量-->
        <isNotNull prepend="AND" property="WHERE_STD_AdjustQty">STD_AdjustQty=#WHERE_STD_AdjustQty#</isNotNull>
        <!--允差数量-->
        <isNotNull prepend="AND" property="WHERE_STD_ApprDiffQty">STD_ApprDiffQty=#WHERE_STD_ApprDiffQty#</isNotNull>
        <!--数量允差比-->
        <isNotNull prepend="AND" property="WHERE_STD_ApprDiffQtyRate">STD_ApprDiffQtyRate=#WHERE_STD_ApprDiffQtyRate#</isNotNull>
        <!--调整数量-->
        <isNotNull prepend="AND" property="WHERE_STD_SnapshotQty">STD_SnapshotQty=#WHERE_STD_SnapshotQty#</isNotNull>
        <!--应有金额-->
        <isNotNull prepend="AND" property="WHERE_STD_DueAmount">STD_DueAmount=#WHERE_STD_DueAmount#</isNotNull>
        <!--实际金额-->
        <isNotNull prepend="AND" property="WHERE_STD_ActualAmount">STD_ActualAmount=#WHERE_STD_ActualAmount#</isNotNull>
        <!--金额损失率-->
        <isNotNull prepend="AND" property="WHERE_STD_AmountLossRatio">STD_AmountLossRatio=#WHERE_STD_AmountLossRatio#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Barcode">STD_Barcode=#WHERE_STD_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_BatchNo">STD_BatchNo=#WHERE_STD_BatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_ThirdNo">STD_ThirdNo=#WHERE_STD_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_STD_OEMNo">STD_OEMNo=#WHERE_STD_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Name">STD_Name=#WHERE_STD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_Specification">STD_Specification=#WHERE_STD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_STD_UOM">STD_UOM=#WHERE_STD_UOM#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_STD_IsValid">STD_IsValid=#WHERE_STD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_STD_CreatedBy">STD_CreatedBy=#WHERE_STD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">STD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_STD_UpdatedBy">STD_UpdatedBy=#WHERE_STD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">STD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_STD_VersionNo">STD_VersionNo=#WHERE_STD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_STD_TransID">STD_TransID=#WHERE_STD_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[盘点任务明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_StocktakingTaskDetail" parameterClass="List">
      DELETE FROM PIS_StocktakingTaskDetail
      WHERE STD_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_STD_ID#
      </iterate>
    </delete>

    <!--新增[普通客户]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_GeneralCustomer" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_GeneralCustomer
        (
        <!--普通客户ID-->
        GC_ID,
        <!--组织ID-->
        GC_Org_ID,
        <!--姓名-->
        GC_Name,
        <!--手机号码-->
        GC_PhoneNo,
        <!--地址-->
        GC_Address,
        <!--信用额度-->
        GC_CreditAmount,
        <!--默认支付类型编码-->
        GC_PaymentTypeCode,
        <!--默认支付类型名称-->
        GC_PaymentTypeName,
        <!--默认开票类型编码-->
        GC_BillingTypeCode,
        <!--默认开票类型名称-->
        GC_BillingTypeName,
        <!--默认物流人员类型编码-->
        GC_DeliveryTypeCode,
        <!--默认物流人员类型名称-->
        GC_DeliveryTypeName,
        <!--默认物流人员ID-->
        GC_DeliveryByID,
        <!--默认物流人员名称-->
        GC_DeliveryByName,
        <!--默认物流人员手机号-->
        GC_DeliveryByPhoneNo,
        <!--终止销售-->
        GC_IsEndSales,
        <!--配件价格类别-->
        GC_AutoPartsPriceType,
        <!--备注-->
        GC_Remark,
        <!--有效-->
        GC_IsValid,
        <!--创建人-->
        GC_CreatedBy,
        <!--创建时间-->
        GC_CreatedTime,
        <!--修改人-->
        GC_UpdatedBy,
        <!--修改时间-->
        GC_UpdatedTime,
        <!--版本号-->
        GC_VersionNo,
        <!--事务编号-->
        GC_TransID
        )
        VALUES
        (
        <!--普通客户ID-->
        #[].GC_ID#,
        <!--组织ID-->
        #[].GC_Org_ID#,
        <!--姓名-->
        #[].GC_Name#,
        <!--手机号码-->
        #[].GC_PhoneNo#,
        <!--地址-->
        #[].GC_Address#,
        <!--信用额度-->
        #[].GC_CreditAmount#,
        <!--默认支付类型编码-->
        #[].GC_PaymentTypeCode#,
        <!--默认支付类型名称-->
        #[].GC_PaymentTypeName#,
        <!--默认开票类型编码-->
        #[].GC_BillingTypeCode#,
        <!--默认开票类型名称-->
        #[].GC_BillingTypeName#,
        <!--默认物流人员类型编码-->
        #[].GC_DeliveryTypeCode#,
        <!--默认物流人员类型名称-->
        #[].GC_DeliveryTypeName#,
        <!--默认物流人员ID-->
        #[].GC_DeliveryByID#,
        <!--默认物流人员名称-->
        #[].GC_DeliveryByName#,
        <!--默认物流人员手机号-->
        #[].GC_DeliveryByPhoneNo#,
        <!--终止销售-->
        #[].GC_IsEndSales#,
        <!--配件价格类别-->
        #[].GC_AutoPartsPriceType#,
        <!--备注-->
        #[].GC_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].GC_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].GC_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].GC_TransID#
        )
      </iterate>
    </insert>

    <!--查询[普通客户]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_GeneralCustomer" parameterClass="MDLPIS_GeneralCustomer" resultClass="MDLPIS_GeneralCustomer">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(GC_ID)
      FROM PIS_GeneralCustomer
      <dynamic prepend="WHERE">
        <!--普通客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_ID">GC_ID=#WHERE_GC_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Org_ID">GC_Org_ID=#WHERE_GC_Org_ID#</isNotEmpty>
        <!--姓名-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Name">GC_Name=#WHERE_GC_Name#</isNotEmpty>
        <!--手机号码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PhoneNo">GC_PhoneNo=#WHERE_GC_PhoneNo#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Address">GC_Address=#WHERE_GC_Address#</isNotEmpty>
        <!--信用额度-->
        <isNotNull prepend="AND" property="WHERE_GC_CreditAmount">GC_CreditAmount=#WHERE_GC_CreditAmount#</isNotNull>
        <!--默认支付类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PaymentTypeCode">GC_PaymentTypeCode=#WHERE_GC_PaymentTypeCode#</isNotEmpty>
        <!--默认支付类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PaymentTypeName">GC_PaymentTypeName=#WHERE_GC_PaymentTypeName#</isNotEmpty>
        <!--默认开票类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_BillingTypeCode">GC_BillingTypeCode=#WHERE_GC_BillingTypeCode#</isNotEmpty>
        <!--默认开票类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_BillingTypeName">GC_BillingTypeName=#WHERE_GC_BillingTypeName#</isNotEmpty>
        <!--默认物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryTypeCode">GC_DeliveryTypeCode=#WHERE_GC_DeliveryTypeCode#</isNotEmpty>
        <!--默认物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryTypeName">GC_DeliveryTypeName=#WHERE_GC_DeliveryTypeName#</isNotEmpty>
        <!--默认物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByID">GC_DeliveryByID=#WHERE_GC_DeliveryByID#</isNotEmpty>
        <!--默认物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByName">GC_DeliveryByName=#WHERE_GC_DeliveryByName#</isNotEmpty>
        <!--默认物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByPhoneNo">GC_DeliveryByPhoneNo=#WHERE_GC_DeliveryByPhoneNo#</isNotEmpty>
        <!--终止销售-->
        <isNotNull prepend="AND" property="WHERE_GC_IsEndSales">GC_IsEndSales=#WHERE_GC_IsEndSales#</isNotNull>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_GC_AutoPartsPriceType">GC_AutoPartsPriceType=#WHERE_GC_AutoPartsPriceType#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Remark">GC_Remark=#WHERE_GC_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_GC_IsValid">GC_IsValid=#WHERE_GC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_GC_CreatedBy">GC_CreatedBy=#WHERE_GC_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_GC_UpdatedBy">GC_UpdatedBy=#WHERE_GC_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_GC_VersionNo">GC_VersionNo=#WHERE_GC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_GC_TransID">GC_TransID=#WHERE_GC_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      GC_ID,
      GC_Org_ID,
      GC_Name,
      GC_PhoneNo,
      GC_Address,
      GC_CreditAmount,
      GC_PaymentTypeCode,
      GC_PaymentTypeName,
      GC_BillingTypeCode,
      GC_BillingTypeName,
      GC_DeliveryTypeCode,
      GC_DeliveryTypeName,
      GC_DeliveryByID,
      GC_DeliveryByName,
      GC_DeliveryByPhoneNo,
      GC_IsEndSales,
      GC_AutoPartsPriceType,
      GC_Remark,
      GC_IsValid,
      GC_CreatedBy,
      GC_CreatedTime,
      GC_UpdatedBy,
      GC_UpdatedTime,
      GC_VersionNo,
      GC_TransID
      FROM PIS_GeneralCustomer
      <dynamic prepend="WHERE">
        <!--普通客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_ID">GC_ID=#WHERE_GC_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Org_ID">GC_Org_ID=#WHERE_GC_Org_ID#</isNotEmpty>
        <!--姓名-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Name">GC_Name=#WHERE_GC_Name#</isNotEmpty>
        <!--手机号码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PhoneNo">GC_PhoneNo=#WHERE_GC_PhoneNo#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Address">GC_Address=#WHERE_GC_Address#</isNotEmpty>
        <!--信用额度-->
        <isNotNull prepend="AND" property="WHERE_GC_CreditAmount">GC_CreditAmount=#WHERE_GC_CreditAmount#</isNotNull>
        <!--默认支付类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PaymentTypeCode">GC_PaymentTypeCode=#WHERE_GC_PaymentTypeCode#</isNotEmpty>
        <!--默认支付类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PaymentTypeName">GC_PaymentTypeName=#WHERE_GC_PaymentTypeName#</isNotEmpty>
        <!--默认开票类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_BillingTypeCode">GC_BillingTypeCode=#WHERE_GC_BillingTypeCode#</isNotEmpty>
        <!--默认开票类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_BillingTypeName">GC_BillingTypeName=#WHERE_GC_BillingTypeName#</isNotEmpty>
        <!--默认物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryTypeCode">GC_DeliveryTypeCode=#WHERE_GC_DeliveryTypeCode#</isNotEmpty>
        <!--默认物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryTypeName">GC_DeliveryTypeName=#WHERE_GC_DeliveryTypeName#</isNotEmpty>
        <!--默认物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByID">GC_DeliveryByID=#WHERE_GC_DeliveryByID#</isNotEmpty>
        <!--默认物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByName">GC_DeliveryByName=#WHERE_GC_DeliveryByName#</isNotEmpty>
        <!--默认物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByPhoneNo">GC_DeliveryByPhoneNo=#WHERE_GC_DeliveryByPhoneNo#</isNotEmpty>
        <!--终止销售-->
        <isNotNull prepend="AND" property="WHERE_GC_IsEndSales">GC_IsEndSales=#WHERE_GC_IsEndSales#</isNotNull>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_GC_AutoPartsPriceType">GC_AutoPartsPriceType=#WHERE_GC_AutoPartsPriceType#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Remark">GC_Remark=#WHERE_GC_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_GC_IsValid">GC_IsValid=#WHERE_GC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_GC_CreatedBy">GC_CreatedBy=#WHERE_GC_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_GC_UpdatedBy">GC_UpdatedBy=#WHERE_GC_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_GC_VersionNo">GC_VersionNo=#WHERE_GC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_GC_TransID">GC_TransID=#WHERE_GC_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY GC_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[普通客户]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_GeneralCustomer" parameterClass="MDLPIS_GeneralCustomer" resultClass="MDLPIS_GeneralCustomer">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(GC_ID)
      FROM PIS_GeneralCustomer
      <dynamic prepend="WHERE">
        <!--普通客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_ID">GC_ID=#WHERE_GC_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Org_ID">GC_Org_ID LIKE '%'+#WHERE_GC_Org_ID#+'%'</isNotEmpty>
        <!--姓名-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Name">GC_Name LIKE '%'+#WHERE_GC_Name#+'%'</isNotEmpty>
        <!--手机号码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PhoneNo">GC_PhoneNo LIKE '%'+#WHERE_GC_PhoneNo#+'%'</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Address">GC_Address LIKE '%'+#WHERE_GC_Address#+'%'</isNotEmpty>
        <!--信用额度-->
        <isNotNull prepend="AND" property="WHERE_GC_CreditAmount">GC_CreditAmount=#WHERE_GC_CreditAmount#</isNotNull>
        <!--默认支付类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PaymentTypeCode">GC_PaymentTypeCode LIKE '%'+#WHERE_GC_PaymentTypeCode#+'%'</isNotEmpty>
        <!--默认支付类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PaymentTypeName">GC_PaymentTypeName LIKE '%'+#WHERE_GC_PaymentTypeName#+'%'</isNotEmpty>
        <!--默认开票类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_BillingTypeCode">GC_BillingTypeCode LIKE '%'+#WHERE_GC_BillingTypeCode#+'%'</isNotEmpty>
        <!--默认开票类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_BillingTypeName">GC_BillingTypeName LIKE '%'+#WHERE_GC_BillingTypeName#+'%'</isNotEmpty>
        <!--默认物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryTypeCode">GC_DeliveryTypeCode LIKE '%'+#WHERE_GC_DeliveryTypeCode#+'%'</isNotEmpty>
        <!--默认物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryTypeName">GC_DeliveryTypeName LIKE '%'+#WHERE_GC_DeliveryTypeName#+'%'</isNotEmpty>
        <!--默认物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByID">GC_DeliveryByID LIKE '%'+#WHERE_GC_DeliveryByID#+'%'</isNotEmpty>
        <!--默认物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByName">GC_DeliveryByName LIKE '%'+#WHERE_GC_DeliveryByName#+'%'</isNotEmpty>
        <!--默认物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByPhoneNo">GC_DeliveryByPhoneNo LIKE '%'+#WHERE_GC_DeliveryByPhoneNo#+'%'</isNotEmpty>
        <!--终止销售-->
        <isNotNull prepend="AND" property="WHERE_GC_IsEndSales">GC_IsEndSales=#WHERE_GC_IsEndSales#</isNotNull>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_GC_AutoPartsPriceType">GC_AutoPartsPriceType LIKE '%'+#WHERE_GC_AutoPartsPriceType#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Remark">GC_Remark LIKE '%'+#WHERE_GC_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_GC_IsValid">GC_IsValid=#WHERE_GC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_GC_CreatedBy">GC_CreatedBy LIKE '%'+#WHERE_GC_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_GC_UpdatedBy">GC_UpdatedBy LIKE '%'+#WHERE_GC_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_GC_VersionNo">GC_VersionNo=#WHERE_GC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_GC_TransID">GC_TransID LIKE '%'+#WHERE_GC_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      GC_ID,
      GC_Org_ID,
      GC_Name,
      GC_PhoneNo,
      GC_Address,
      GC_CreditAmount,
      GC_PaymentTypeCode,
      GC_PaymentTypeName,
      GC_BillingTypeCode,
      GC_BillingTypeName,
      GC_DeliveryTypeCode,
      GC_DeliveryTypeName,
      GC_DeliveryByID,
      GC_DeliveryByName,
      GC_DeliveryByPhoneNo,
      GC_IsEndSales,
      GC_AutoPartsPriceType,
      GC_Remark,
      GC_IsValid,
      GC_CreatedBy,
      GC_CreatedTime,
      GC_UpdatedBy,
      GC_UpdatedTime,
      GC_VersionNo,
      GC_TransID
      FROM PIS_GeneralCustomer
      <dynamic prepend="WHERE">
        <!--普通客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_ID">GC_ID=#WHERE_GC_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Org_ID">GC_Org_ID LIKE '%'+#WHERE_GC_Org_ID#+'%'</isNotEmpty>
        <!--姓名-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Name">GC_Name LIKE '%'+#WHERE_GC_Name#+'%'</isNotEmpty>
        <!--手机号码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PhoneNo">GC_PhoneNo LIKE '%'+#WHERE_GC_PhoneNo#+'%'</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Address">GC_Address LIKE '%'+#WHERE_GC_Address#+'%'</isNotEmpty>
        <!--信用额度-->
        <isNotNull prepend="AND" property="WHERE_GC_CreditAmount">GC_CreditAmount=#WHERE_GC_CreditAmount#</isNotNull>
        <!--默认支付类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PaymentTypeCode">GC_PaymentTypeCode LIKE '%'+#WHERE_GC_PaymentTypeCode#+'%'</isNotEmpty>
        <!--默认支付类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PaymentTypeName">GC_PaymentTypeName LIKE '%'+#WHERE_GC_PaymentTypeName#+'%'</isNotEmpty>
        <!--默认开票类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_BillingTypeCode">GC_BillingTypeCode LIKE '%'+#WHERE_GC_BillingTypeCode#+'%'</isNotEmpty>
        <!--默认开票类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_BillingTypeName">GC_BillingTypeName LIKE '%'+#WHERE_GC_BillingTypeName#+'%'</isNotEmpty>
        <!--默认物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryTypeCode">GC_DeliveryTypeCode LIKE '%'+#WHERE_GC_DeliveryTypeCode#+'%'</isNotEmpty>
        <!--默认物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryTypeName">GC_DeliveryTypeName LIKE '%'+#WHERE_GC_DeliveryTypeName#+'%'</isNotEmpty>
        <!--默认物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByID">GC_DeliveryByID LIKE '%'+#WHERE_GC_DeliveryByID#+'%'</isNotEmpty>
        <!--默认物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByName">GC_DeliveryByName LIKE '%'+#WHERE_GC_DeliveryByName#+'%'</isNotEmpty>
        <!--默认物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByPhoneNo">GC_DeliveryByPhoneNo LIKE '%'+#WHERE_GC_DeliveryByPhoneNo#+'%'</isNotEmpty>
        <!--终止销售-->
        <isNotNull prepend="AND" property="WHERE_GC_IsEndSales">GC_IsEndSales=#WHERE_GC_IsEndSales#</isNotNull>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_GC_AutoPartsPriceType">GC_AutoPartsPriceType LIKE '%'+#WHERE_GC_AutoPartsPriceType#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Remark">GC_Remark LIKE '%'+#WHERE_GC_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_GC_IsValid">GC_IsValid=#WHERE_GC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_GC_CreatedBy">GC_CreatedBy LIKE '%'+#WHERE_GC_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_GC_UpdatedBy">GC_UpdatedBy LIKE '%'+#WHERE_GC_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_GC_VersionNo">GC_VersionNo=#WHERE_GC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_GC_TransID">GC_TransID LIKE '%'+#WHERE_GC_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY GC_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[普通客户]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_GeneralCustomer" parameterClass="MDLPIS_GeneralCustomer" resultClass="int">
      SELECT COUNT(GC_ID) 'RecordCount'
      FROM PIS_GeneralCustomer
      <dynamic prepend="WHERE">
        <!--普通客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_ID">GC_ID=#WHERE_GC_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Org_ID">GC_Org_ID=#WHERE_GC_Org_ID#</isNotEmpty>
        <!--姓名-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Name">GC_Name=#WHERE_GC_Name#</isNotEmpty>
        <!--手机号码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PhoneNo">GC_PhoneNo=#WHERE_GC_PhoneNo#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Address">GC_Address=#WHERE_GC_Address#</isNotEmpty>
        <!--信用额度-->
        <isNotNull prepend="AND" property="WHERE_GC_CreditAmount">GC_CreditAmount=#WHERE_GC_CreditAmount#</isNotNull>
        <!--默认支付类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PaymentTypeCode">GC_PaymentTypeCode=#WHERE_GC_PaymentTypeCode#</isNotEmpty>
        <!--默认支付类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PaymentTypeName">GC_PaymentTypeName=#WHERE_GC_PaymentTypeName#</isNotEmpty>
        <!--默认开票类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_BillingTypeCode">GC_BillingTypeCode=#WHERE_GC_BillingTypeCode#</isNotEmpty>
        <!--默认开票类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_BillingTypeName">GC_BillingTypeName=#WHERE_GC_BillingTypeName#</isNotEmpty>
        <!--默认物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryTypeCode">GC_DeliveryTypeCode=#WHERE_GC_DeliveryTypeCode#</isNotEmpty>
        <!--默认物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryTypeName">GC_DeliveryTypeName=#WHERE_GC_DeliveryTypeName#</isNotEmpty>
        <!--默认物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByID">GC_DeliveryByID=#WHERE_GC_DeliveryByID#</isNotEmpty>
        <!--默认物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByName">GC_DeliveryByName=#WHERE_GC_DeliveryByName#</isNotEmpty>
        <!--默认物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByPhoneNo">GC_DeliveryByPhoneNo=#WHERE_GC_DeliveryByPhoneNo#</isNotEmpty>
        <!--终止销售-->
        <isNotNull prepend="AND" property="WHERE_GC_IsEndSales">GC_IsEndSales=#WHERE_GC_IsEndSales#</isNotNull>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_GC_AutoPartsPriceType">GC_AutoPartsPriceType=#WHERE_GC_AutoPartsPriceType#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Remark">GC_Remark=#WHERE_GC_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_GC_IsValid">GC_IsValid=#WHERE_GC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_GC_CreatedBy">GC_CreatedBy=#WHERE_GC_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_GC_UpdatedBy">GC_UpdatedBy=#WHERE_GC_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_GC_VersionNo">GC_VersionNo=#WHERE_GC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_GC_TransID">GC_TransID=#WHERE_GC_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[普通客户]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_GeneralCustomer" parameterClass="MDLPIS_GeneralCustomer" >
      UPDATE PIS_GeneralCustomer
      SET
      GC_UpdatedTime=GETDATE(),
      GC_VersionNo=GC_VersionNo+1
      <isNotEmpty prepend="," property="GC_Org_ID">GC_Org_ID=#GC_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="GC_Name">GC_Name=#GC_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="GC_PhoneNo">GC_PhoneNo=#GC_PhoneNo#</isNotEmpty>
      <isNotEmpty prepend="," property="GC_Address">GC_Address=#GC_Address#</isNotEmpty>
      <isNotNull prepend="," property="GC_CreditAmount">GC_CreditAmount=#GC_CreditAmount#</isNotNull>
      <isNotEmpty prepend="," property="GC_PaymentTypeCode">GC_PaymentTypeCode=#GC_PaymentTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="GC_PaymentTypeName">GC_PaymentTypeName=#GC_PaymentTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="GC_BillingTypeCode">GC_BillingTypeCode=#GC_BillingTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="GC_BillingTypeName">GC_BillingTypeName=#GC_BillingTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="GC_DeliveryTypeCode">GC_DeliveryTypeCode=#GC_DeliveryTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="GC_DeliveryTypeName">GC_DeliveryTypeName=#GC_DeliveryTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="GC_DeliveryByID">GC_DeliveryByID=#GC_DeliveryByID#</isNotEmpty>
      <isNotEmpty prepend="," property="GC_DeliveryByName">GC_DeliveryByName=#GC_DeliveryByName#</isNotEmpty>
      <isNotEmpty prepend="," property="GC_DeliveryByPhoneNo">GC_DeliveryByPhoneNo=#GC_DeliveryByPhoneNo#</isNotEmpty>
      <isNotNull prepend="," property="GC_IsEndSales">GC_IsEndSales=#GC_IsEndSales#</isNotNull>
      <isNotEmpty prepend="," property="GC_AutoPartsPriceType">GC_AutoPartsPriceType=#GC_AutoPartsPriceType#</isNotEmpty>
      <isNotEmpty prepend="," property="GC_Remark">GC_Remark=#GC_Remark#</isNotEmpty>
      <isNotNull prepend="," property="GC_IsValid">GC_IsValid=#GC_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="GC_CreatedBy">GC_CreatedBy=#GC_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="GC_CreatedTime">GC_CreatedTime=#GC_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="GC_UpdatedBy">GC_UpdatedBy=#GC_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="GC_TransID">GC_TransID=#GC_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--普通客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_ID">GC_ID=#WHERE_GC_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Org_ID">GC_Org_ID=#WHERE_GC_Org_ID#</isNotEmpty>
        <!--姓名-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Name">GC_Name=#WHERE_GC_Name#</isNotEmpty>
        <!--手机号码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PhoneNo">GC_PhoneNo=#WHERE_GC_PhoneNo#</isNotEmpty>
        <!--地址-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Address">GC_Address=#WHERE_GC_Address#</isNotEmpty>
        <!--信用额度-->
        <isNotNull prepend="AND" property="WHERE_GC_CreditAmount">GC_CreditAmount=#WHERE_GC_CreditAmount#</isNotNull>
        <!--默认支付类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PaymentTypeCode">GC_PaymentTypeCode=#WHERE_GC_PaymentTypeCode#</isNotEmpty>
        <!--默认支付类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_PaymentTypeName">GC_PaymentTypeName=#WHERE_GC_PaymentTypeName#</isNotEmpty>
        <!--默认开票类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_BillingTypeCode">GC_BillingTypeCode=#WHERE_GC_BillingTypeCode#</isNotEmpty>
        <!--默认开票类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_BillingTypeName">GC_BillingTypeName=#WHERE_GC_BillingTypeName#</isNotEmpty>
        <!--默认物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryTypeCode">GC_DeliveryTypeCode=#WHERE_GC_DeliveryTypeCode#</isNotEmpty>
        <!--默认物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryTypeName">GC_DeliveryTypeName=#WHERE_GC_DeliveryTypeName#</isNotEmpty>
        <!--默认物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByID">GC_DeliveryByID=#WHERE_GC_DeliveryByID#</isNotEmpty>
        <!--默认物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByName">GC_DeliveryByName=#WHERE_GC_DeliveryByName#</isNotEmpty>
        <!--默认物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_GC_DeliveryByPhoneNo">GC_DeliveryByPhoneNo=#WHERE_GC_DeliveryByPhoneNo#</isNotEmpty>
        <!--终止销售-->
        <isNotNull prepend="AND" property="WHERE_GC_IsEndSales">GC_IsEndSales=#WHERE_GC_IsEndSales#</isNotNull>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_GC_AutoPartsPriceType">GC_AutoPartsPriceType=#WHERE_GC_AutoPartsPriceType#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_GC_Remark">GC_Remark=#WHERE_GC_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_GC_IsValid">GC_IsValid=#WHERE_GC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_GC_CreatedBy">GC_CreatedBy=#WHERE_GC_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">GC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_GC_UpdatedBy">GC_UpdatedBy=#WHERE_GC_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">GC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_GC_VersionNo">GC_VersionNo=#WHERE_GC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_GC_TransID">GC_TransID=#WHERE_GC_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[普通客户]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_GeneralCustomer" parameterClass="List">
      DELETE FROM PIS_GeneralCustomer
      WHERE GC_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_GC_ID#
      </iterate>
    </delete>

    <!--新增[汽修商客户]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_AutoFactoryCustomer" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_AutoFactoryCustomer
        (
        <!--汽修商客户ID-->
        AFC_ID,
        <!--组织ID-->
        AFC_Org_ID,
        <!--是否平台商户-->
        AFC_IsPlatform,
        <!--汽修商编码-->
        AFC_Code,
        <!--汽修商名称-->
        AFC_Name,
        <!--汽修商联系人-->
        AFC_Contacter,
        <!--汽修商联系方式-->
        AFC_PhoneNo,
        <!--汽修商地址-->
        AFC_Address,
        <!--汽修组织编码-->
        AFC_AROrg_Code,
        <!--汽修组织名称-->
        AFC_AROrg_Name,
        <!--汽修组织联系人-->
        AFC_AROrg_Contacter,
        <!--汽修组织联系方式-->
        AFC_AROrg_Phone,
        <!--汽修组织地址-->
        AFC_AROrg_Address,
        <!--信用额度-->
        AFC_CreditAmount,
        <!--默认支付类型编码-->
        AFC_PaymentTypeCode,
        <!--默认支付类型名称-->
        AFC_PaymentTypeName,
        <!--默认开票类型编码-->
        AFC_BillingTypeCode,
        <!--默认开票类型名称-->
        AFC_BillingTypeName,
        <!--默认物流人员类型编码-->
        AFC_DeliveryTypeCode,
        <!--默认物流人员类型名称-->
        AFC_DeliveryTypeName,
        <!--默认物流人员ID-->
        AFC_DeliveryByID,
        <!--默认物流人员名称-->
        AFC_DeliveryByName,
        <!--默认物流人员手机号-->
        AFC_DeliveryByPhoneNo,
        <!--终止销售-->
        AFC_IsEndSales,
        <!--配件价格类别-->
        AFC_AutoPartsPriceType,
        <!--备注-->
        AFC_Remark,
        <!--有效-->
        AFC_IsValid,
        <!--创建人-->
        AFC_CreatedBy,
        <!--创建时间-->
        AFC_CreatedTime,
        <!--修改人-->
        AFC_UpdatedBy,
        <!--修改时间-->
        AFC_UpdatedTime,
        <!--版本号-->
        AFC_VersionNo,
        <!--事务编号-->
        AFC_TransID
        )
        VALUES
        (
        <!--汽修商客户ID-->
        #[].AFC_ID#,
        <!--组织ID-->
        #[].AFC_Org_ID#,
        <!--是否平台商户-->
        #[].AFC_IsPlatform#,
        <!--汽修商编码-->
        #[].AFC_Code#,
        <!--汽修商名称-->
        #[].AFC_Name#,
        <!--汽修商联系人-->
        #[].AFC_Contacter#,
        <!--汽修商联系方式-->
        #[].AFC_PhoneNo#,
        <!--汽修商地址-->
        #[].AFC_Address#,
        <!--汽修组织编码-->
        #[].AFC_AROrg_Code#,
        <!--汽修组织名称-->
        #[].AFC_AROrg_Name#,
        <!--汽修组织联系人-->
        #[].AFC_AROrg_Contacter#,
        <!--汽修组织联系方式-->
        #[].AFC_AROrg_Phone#,
        <!--汽修组织地址-->
        #[].AFC_AROrg_Address#,
        <!--信用额度-->
        #[].AFC_CreditAmount#,
        <!--默认支付类型编码-->
        #[].AFC_PaymentTypeCode#,
        <!--默认支付类型名称-->
        #[].AFC_PaymentTypeName#,
        <!--默认开票类型编码-->
        #[].AFC_BillingTypeCode#,
        <!--默认开票类型名称-->
        #[].AFC_BillingTypeName#,
        <!--默认物流人员类型编码-->
        #[].AFC_DeliveryTypeCode#,
        <!--默认物流人员类型名称-->
        #[].AFC_DeliveryTypeName#,
        <!--默认物流人员ID-->
        #[].AFC_DeliveryByID#,
        <!--默认物流人员名称-->
        #[].AFC_DeliveryByName#,
        <!--默认物流人员手机号-->
        #[].AFC_DeliveryByPhoneNo#,
        <!--终止销售-->
        #[].AFC_IsEndSales#,
        <!--配件价格类别-->
        #[].AFC_AutoPartsPriceType#,
        <!--备注-->
        #[].AFC_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].AFC_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].AFC_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].AFC_TransID#
        )
      </iterate>
    </insert>

    <!--查询[汽修商客户]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_AutoFactoryCustomer" parameterClass="MDLPIS_AutoFactoryCustomer" resultClass="MDLPIS_AutoFactoryCustomer">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(AFC_ID)
      FROM PIS_AutoFactoryCustomer
      <dynamic prepend="WHERE">
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_ID">AFC_ID=#WHERE_AFC_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Org_ID">AFC_Org_ID=#WHERE_AFC_Org_ID#</isNotEmpty>
        <!--是否平台商户-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsPlatform">AFC_IsPlatform=#WHERE_AFC_IsPlatform#</isNotNull>
        <!--汽修商编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Code">AFC_Code=#WHERE_AFC_Code#</isNotEmpty>
        <!--汽修商名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Name">AFC_Name=#WHERE_AFC_Name#</isNotEmpty>
        <!--汽修商联系人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Contacter">AFC_Contacter=#WHERE_AFC_Contacter#</isNotEmpty>
        <!--汽修商联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PhoneNo">AFC_PhoneNo=#WHERE_AFC_PhoneNo#</isNotEmpty>
        <!--汽修商地址-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Address">AFC_Address=#WHERE_AFC_Address#</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Code">AFC_AROrg_Code=#WHERE_AFC_AROrg_Code#</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Name">AFC_AROrg_Name=#WHERE_AFC_AROrg_Name#</isNotEmpty>
        <!--汽修组织联系人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Contacter">AFC_AROrg_Contacter=#WHERE_AFC_AROrg_Contacter#</isNotEmpty>
        <!--汽修组织联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Phone">AFC_AROrg_Phone=#WHERE_AFC_AROrg_Phone#</isNotEmpty>
        <!--汽修组织地址-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Address">AFC_AROrg_Address=#WHERE_AFC_AROrg_Address#</isNotEmpty>
        <!--信用额度-->
        <isNotNull prepend="AND" property="WHERE_AFC_CreditAmount">AFC_CreditAmount=#WHERE_AFC_CreditAmount#</isNotNull>
        <!--默认支付类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PaymentTypeCode">AFC_PaymentTypeCode=#WHERE_AFC_PaymentTypeCode#</isNotEmpty>
        <!--默认支付类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PaymentTypeName">AFC_PaymentTypeName=#WHERE_AFC_PaymentTypeName#</isNotEmpty>
        <!--默认开票类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_BillingTypeCode">AFC_BillingTypeCode=#WHERE_AFC_BillingTypeCode#</isNotEmpty>
        <!--默认开票类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_BillingTypeName">AFC_BillingTypeName=#WHERE_AFC_BillingTypeName#</isNotEmpty>
        <!--默认物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryTypeCode">AFC_DeliveryTypeCode=#WHERE_AFC_DeliveryTypeCode#</isNotEmpty>
        <!--默认物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryTypeName">AFC_DeliveryTypeName=#WHERE_AFC_DeliveryTypeName#</isNotEmpty>
        <!--默认物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByID">AFC_DeliveryByID=#WHERE_AFC_DeliveryByID#</isNotEmpty>
        <!--默认物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByName">AFC_DeliveryByName=#WHERE_AFC_DeliveryByName#</isNotEmpty>
        <!--默认物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByPhoneNo">AFC_DeliveryByPhoneNo=#WHERE_AFC_DeliveryByPhoneNo#</isNotEmpty>
        <!--终止销售-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsEndSales">AFC_IsEndSales=#WHERE_AFC_IsEndSales#</isNotNull>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AutoPartsPriceType">AFC_AutoPartsPriceType=#WHERE_AFC_AutoPartsPriceType#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Remark">AFC_Remark=#WHERE_AFC_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsValid">AFC_IsValid=#WHERE_AFC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_CreatedBy">AFC_CreatedBy=#WHERE_AFC_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_UpdatedBy">AFC_UpdatedBy=#WHERE_AFC_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_AFC_VersionNo">AFC_VersionNo=#WHERE_AFC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_TransID">AFC_TransID=#WHERE_AFC_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      AFC_ID,
      AFC_Org_ID,
      AFC_IsPlatform,
      AFC_Code,
      AFC_Name,
      AFC_Contacter,
      AFC_PhoneNo,
      AFC_Address,
      AFC_AROrg_Code,
      AFC_AROrg_Name,
      AFC_AROrg_Contacter,
      AFC_AROrg_Phone,
      AFC_AROrg_Address,
      AFC_CreditAmount,
      AFC_PaymentTypeCode,
      AFC_PaymentTypeName,
      AFC_BillingTypeCode,
      AFC_BillingTypeName,
      AFC_DeliveryTypeCode,
      AFC_DeliveryTypeName,
      AFC_DeliveryByID,
      AFC_DeliveryByName,
      AFC_DeliveryByPhoneNo,
      AFC_IsEndSales,
      AFC_AutoPartsPriceType,
      AFC_Remark,
      AFC_IsValid,
      AFC_CreatedBy,
      AFC_CreatedTime,
      AFC_UpdatedBy,
      AFC_UpdatedTime,
      AFC_VersionNo,
      AFC_TransID
      FROM PIS_AutoFactoryCustomer
      <dynamic prepend="WHERE">
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_ID">AFC_ID=#WHERE_AFC_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Org_ID">AFC_Org_ID=#WHERE_AFC_Org_ID#</isNotEmpty>
        <!--是否平台商户-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsPlatform">AFC_IsPlatform=#WHERE_AFC_IsPlatform#</isNotNull>
        <!--汽修商编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Code">AFC_Code=#WHERE_AFC_Code#</isNotEmpty>
        <!--汽修商名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Name">AFC_Name=#WHERE_AFC_Name#</isNotEmpty>
        <!--汽修商联系人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Contacter">AFC_Contacter=#WHERE_AFC_Contacter#</isNotEmpty>
        <!--汽修商联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PhoneNo">AFC_PhoneNo=#WHERE_AFC_PhoneNo#</isNotEmpty>
        <!--汽修商地址-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Address">AFC_Address=#WHERE_AFC_Address#</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Code">AFC_AROrg_Code=#WHERE_AFC_AROrg_Code#</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Name">AFC_AROrg_Name=#WHERE_AFC_AROrg_Name#</isNotEmpty>
        <!--汽修组织联系人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Contacter">AFC_AROrg_Contacter=#WHERE_AFC_AROrg_Contacter#</isNotEmpty>
        <!--汽修组织联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Phone">AFC_AROrg_Phone=#WHERE_AFC_AROrg_Phone#</isNotEmpty>
        <!--汽修组织地址-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Address">AFC_AROrg_Address=#WHERE_AFC_AROrg_Address#</isNotEmpty>
        <!--信用额度-->
        <isNotNull prepend="AND" property="WHERE_AFC_CreditAmount">AFC_CreditAmount=#WHERE_AFC_CreditAmount#</isNotNull>
        <!--默认支付类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PaymentTypeCode">AFC_PaymentTypeCode=#WHERE_AFC_PaymentTypeCode#</isNotEmpty>
        <!--默认支付类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PaymentTypeName">AFC_PaymentTypeName=#WHERE_AFC_PaymentTypeName#</isNotEmpty>
        <!--默认开票类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_BillingTypeCode">AFC_BillingTypeCode=#WHERE_AFC_BillingTypeCode#</isNotEmpty>
        <!--默认开票类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_BillingTypeName">AFC_BillingTypeName=#WHERE_AFC_BillingTypeName#</isNotEmpty>
        <!--默认物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryTypeCode">AFC_DeliveryTypeCode=#WHERE_AFC_DeliveryTypeCode#</isNotEmpty>
        <!--默认物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryTypeName">AFC_DeliveryTypeName=#WHERE_AFC_DeliveryTypeName#</isNotEmpty>
        <!--默认物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByID">AFC_DeliveryByID=#WHERE_AFC_DeliveryByID#</isNotEmpty>
        <!--默认物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByName">AFC_DeliveryByName=#WHERE_AFC_DeliveryByName#</isNotEmpty>
        <!--默认物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByPhoneNo">AFC_DeliveryByPhoneNo=#WHERE_AFC_DeliveryByPhoneNo#</isNotEmpty>
        <!--终止销售-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsEndSales">AFC_IsEndSales=#WHERE_AFC_IsEndSales#</isNotNull>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AutoPartsPriceType">AFC_AutoPartsPriceType=#WHERE_AFC_AutoPartsPriceType#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Remark">AFC_Remark=#WHERE_AFC_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsValid">AFC_IsValid=#WHERE_AFC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_CreatedBy">AFC_CreatedBy=#WHERE_AFC_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_UpdatedBy">AFC_UpdatedBy=#WHERE_AFC_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_AFC_VersionNo">AFC_VersionNo=#WHERE_AFC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_TransID">AFC_TransID=#WHERE_AFC_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY AFC_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[汽修商客户]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_AutoFactoryCustomer" parameterClass="MDLPIS_AutoFactoryCustomer" resultClass="MDLPIS_AutoFactoryCustomer">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(AFC_ID)
      FROM PIS_AutoFactoryCustomer
      <dynamic prepend="WHERE">
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_ID">AFC_ID=#WHERE_AFC_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Org_ID">AFC_Org_ID LIKE '%'+#WHERE_AFC_Org_ID#+'%'</isNotEmpty>
        <!--是否平台商户-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsPlatform">AFC_IsPlatform=#WHERE_AFC_IsPlatform#</isNotNull>
        <!--汽修商编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Code">AFC_Code LIKE '%'+#WHERE_AFC_Code#+'%'</isNotEmpty>
        <!--汽修商名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Name">AFC_Name LIKE '%'+#WHERE_AFC_Name#+'%'</isNotEmpty>
        <!--汽修商联系人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Contacter">AFC_Contacter LIKE '%'+#WHERE_AFC_Contacter#+'%'</isNotEmpty>
        <!--汽修商联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PhoneNo">AFC_PhoneNo LIKE '%'+#WHERE_AFC_PhoneNo#+'%'</isNotEmpty>
        <!--汽修商地址-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Address">AFC_Address LIKE '%'+#WHERE_AFC_Address#+'%'</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Code">AFC_AROrg_Code LIKE '%'+#WHERE_AFC_AROrg_Code#+'%'</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Name">AFC_AROrg_Name LIKE '%'+#WHERE_AFC_AROrg_Name#+'%'</isNotEmpty>
        <!--汽修组织联系人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Contacter">AFC_AROrg_Contacter LIKE '%'+#WHERE_AFC_AROrg_Contacter#+'%'</isNotEmpty>
        <!--汽修组织联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Phone">AFC_AROrg_Phone LIKE '%'+#WHERE_AFC_AROrg_Phone#+'%'</isNotEmpty>
        <!--汽修组织地址-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Address">AFC_AROrg_Address LIKE '%'+#WHERE_AFC_AROrg_Address#+'%'</isNotEmpty>
        <!--信用额度-->
        <isNotNull prepend="AND" property="WHERE_AFC_CreditAmount">AFC_CreditAmount=#WHERE_AFC_CreditAmount#</isNotNull>
        <!--默认支付类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PaymentTypeCode">AFC_PaymentTypeCode LIKE '%'+#WHERE_AFC_PaymentTypeCode#+'%'</isNotEmpty>
        <!--默认支付类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PaymentTypeName">AFC_PaymentTypeName LIKE '%'+#WHERE_AFC_PaymentTypeName#+'%'</isNotEmpty>
        <!--默认开票类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_BillingTypeCode">AFC_BillingTypeCode LIKE '%'+#WHERE_AFC_BillingTypeCode#+'%'</isNotEmpty>
        <!--默认开票类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_BillingTypeName">AFC_BillingTypeName LIKE '%'+#WHERE_AFC_BillingTypeName#+'%'</isNotEmpty>
        <!--默认物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryTypeCode">AFC_DeliveryTypeCode LIKE '%'+#WHERE_AFC_DeliveryTypeCode#+'%'</isNotEmpty>
        <!--默认物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryTypeName">AFC_DeliveryTypeName LIKE '%'+#WHERE_AFC_DeliveryTypeName#+'%'</isNotEmpty>
        <!--默认物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByID">AFC_DeliveryByID LIKE '%'+#WHERE_AFC_DeliveryByID#+'%'</isNotEmpty>
        <!--默认物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByName">AFC_DeliveryByName LIKE '%'+#WHERE_AFC_DeliveryByName#+'%'</isNotEmpty>
        <!--默认物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByPhoneNo">AFC_DeliveryByPhoneNo LIKE '%'+#WHERE_AFC_DeliveryByPhoneNo#+'%'</isNotEmpty>
        <!--终止销售-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsEndSales">AFC_IsEndSales=#WHERE_AFC_IsEndSales#</isNotNull>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AutoPartsPriceType">AFC_AutoPartsPriceType LIKE '%'+#WHERE_AFC_AutoPartsPriceType#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Remark">AFC_Remark LIKE '%'+#WHERE_AFC_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsValid">AFC_IsValid=#WHERE_AFC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_CreatedBy">AFC_CreatedBy LIKE '%'+#WHERE_AFC_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_UpdatedBy">AFC_UpdatedBy LIKE '%'+#WHERE_AFC_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_AFC_VersionNo">AFC_VersionNo=#WHERE_AFC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_TransID">AFC_TransID LIKE '%'+#WHERE_AFC_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      AFC_ID,
      AFC_Org_ID,
      AFC_IsPlatform,
      AFC_Code,
      AFC_Name,
      AFC_Contacter,
      AFC_PhoneNo,
      AFC_Address,
      AFC_AROrg_Code,
      AFC_AROrg_Name,
      AFC_AROrg_Contacter,
      AFC_AROrg_Phone,
      AFC_AROrg_Address,
      AFC_CreditAmount,
      AFC_PaymentTypeCode,
      AFC_PaymentTypeName,
      AFC_BillingTypeCode,
      AFC_BillingTypeName,
      AFC_DeliveryTypeCode,
      AFC_DeliveryTypeName,
      AFC_DeliveryByID,
      AFC_DeliveryByName,
      AFC_DeliveryByPhoneNo,
      AFC_IsEndSales,
      AFC_AutoPartsPriceType,
      AFC_Remark,
      AFC_IsValid,
      AFC_CreatedBy,
      AFC_CreatedTime,
      AFC_UpdatedBy,
      AFC_UpdatedTime,
      AFC_VersionNo,
      AFC_TransID
      FROM PIS_AutoFactoryCustomer
      <dynamic prepend="WHERE">
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_ID">AFC_ID=#WHERE_AFC_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Org_ID">AFC_Org_ID LIKE '%'+#WHERE_AFC_Org_ID#+'%'</isNotEmpty>
        <!--是否平台商户-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsPlatform">AFC_IsPlatform=#WHERE_AFC_IsPlatform#</isNotNull>
        <!--汽修商编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Code">AFC_Code LIKE '%'+#WHERE_AFC_Code#+'%'</isNotEmpty>
        <!--汽修商名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Name">AFC_Name LIKE '%'+#WHERE_AFC_Name#+'%'</isNotEmpty>
        <!--汽修商联系人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Contacter">AFC_Contacter LIKE '%'+#WHERE_AFC_Contacter#+'%'</isNotEmpty>
        <!--汽修商联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PhoneNo">AFC_PhoneNo LIKE '%'+#WHERE_AFC_PhoneNo#+'%'</isNotEmpty>
        <!--汽修商地址-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Address">AFC_Address LIKE '%'+#WHERE_AFC_Address#+'%'</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Code">AFC_AROrg_Code LIKE '%'+#WHERE_AFC_AROrg_Code#+'%'</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Name">AFC_AROrg_Name LIKE '%'+#WHERE_AFC_AROrg_Name#+'%'</isNotEmpty>
        <!--汽修组织联系人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Contacter">AFC_AROrg_Contacter LIKE '%'+#WHERE_AFC_AROrg_Contacter#+'%'</isNotEmpty>
        <!--汽修组织联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Phone">AFC_AROrg_Phone LIKE '%'+#WHERE_AFC_AROrg_Phone#+'%'</isNotEmpty>
        <!--汽修组织地址-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Address">AFC_AROrg_Address LIKE '%'+#WHERE_AFC_AROrg_Address#+'%'</isNotEmpty>
        <!--信用额度-->
        <isNotNull prepend="AND" property="WHERE_AFC_CreditAmount">AFC_CreditAmount=#WHERE_AFC_CreditAmount#</isNotNull>
        <!--默认支付类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PaymentTypeCode">AFC_PaymentTypeCode LIKE '%'+#WHERE_AFC_PaymentTypeCode#+'%'</isNotEmpty>
        <!--默认支付类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PaymentTypeName">AFC_PaymentTypeName LIKE '%'+#WHERE_AFC_PaymentTypeName#+'%'</isNotEmpty>
        <!--默认开票类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_BillingTypeCode">AFC_BillingTypeCode LIKE '%'+#WHERE_AFC_BillingTypeCode#+'%'</isNotEmpty>
        <!--默认开票类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_BillingTypeName">AFC_BillingTypeName LIKE '%'+#WHERE_AFC_BillingTypeName#+'%'</isNotEmpty>
        <!--默认物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryTypeCode">AFC_DeliveryTypeCode LIKE '%'+#WHERE_AFC_DeliveryTypeCode#+'%'</isNotEmpty>
        <!--默认物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryTypeName">AFC_DeliveryTypeName LIKE '%'+#WHERE_AFC_DeliveryTypeName#+'%'</isNotEmpty>
        <!--默认物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByID">AFC_DeliveryByID LIKE '%'+#WHERE_AFC_DeliveryByID#+'%'</isNotEmpty>
        <!--默认物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByName">AFC_DeliveryByName LIKE '%'+#WHERE_AFC_DeliveryByName#+'%'</isNotEmpty>
        <!--默认物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByPhoneNo">AFC_DeliveryByPhoneNo LIKE '%'+#WHERE_AFC_DeliveryByPhoneNo#+'%'</isNotEmpty>
        <!--终止销售-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsEndSales">AFC_IsEndSales=#WHERE_AFC_IsEndSales#</isNotNull>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AutoPartsPriceType">AFC_AutoPartsPriceType LIKE '%'+#WHERE_AFC_AutoPartsPriceType#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Remark">AFC_Remark LIKE '%'+#WHERE_AFC_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsValid">AFC_IsValid=#WHERE_AFC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_CreatedBy">AFC_CreatedBy LIKE '%'+#WHERE_AFC_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_UpdatedBy">AFC_UpdatedBy LIKE '%'+#WHERE_AFC_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_AFC_VersionNo">AFC_VersionNo=#WHERE_AFC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_TransID">AFC_TransID LIKE '%'+#WHERE_AFC_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY AFC_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[汽修商客户]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_AutoFactoryCustomer" parameterClass="MDLPIS_AutoFactoryCustomer" resultClass="int">
      SELECT COUNT(AFC_ID) 'RecordCount'
      FROM PIS_AutoFactoryCustomer
      <dynamic prepend="WHERE">
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_ID">AFC_ID=#WHERE_AFC_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Org_ID">AFC_Org_ID=#WHERE_AFC_Org_ID#</isNotEmpty>
        <!--是否平台商户-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsPlatform">AFC_IsPlatform=#WHERE_AFC_IsPlatform#</isNotNull>
        <!--汽修商编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Code">AFC_Code=#WHERE_AFC_Code#</isNotEmpty>
        <!--汽修商名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Name">AFC_Name=#WHERE_AFC_Name#</isNotEmpty>
        <!--汽修商联系人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Contacter">AFC_Contacter=#WHERE_AFC_Contacter#</isNotEmpty>
        <!--汽修商联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PhoneNo">AFC_PhoneNo=#WHERE_AFC_PhoneNo#</isNotEmpty>
        <!--汽修商地址-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Address">AFC_Address=#WHERE_AFC_Address#</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Code">AFC_AROrg_Code=#WHERE_AFC_AROrg_Code#</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Name">AFC_AROrg_Name=#WHERE_AFC_AROrg_Name#</isNotEmpty>
        <!--汽修组织联系人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Contacter">AFC_AROrg_Contacter=#WHERE_AFC_AROrg_Contacter#</isNotEmpty>
        <!--汽修组织联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Phone">AFC_AROrg_Phone=#WHERE_AFC_AROrg_Phone#</isNotEmpty>
        <!--汽修组织地址-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Address">AFC_AROrg_Address=#WHERE_AFC_AROrg_Address#</isNotEmpty>
        <!--信用额度-->
        <isNotNull prepend="AND" property="WHERE_AFC_CreditAmount">AFC_CreditAmount=#WHERE_AFC_CreditAmount#</isNotNull>
        <!--默认支付类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PaymentTypeCode">AFC_PaymentTypeCode=#WHERE_AFC_PaymentTypeCode#</isNotEmpty>
        <!--默认支付类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PaymentTypeName">AFC_PaymentTypeName=#WHERE_AFC_PaymentTypeName#</isNotEmpty>
        <!--默认开票类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_BillingTypeCode">AFC_BillingTypeCode=#WHERE_AFC_BillingTypeCode#</isNotEmpty>
        <!--默认开票类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_BillingTypeName">AFC_BillingTypeName=#WHERE_AFC_BillingTypeName#</isNotEmpty>
        <!--默认物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryTypeCode">AFC_DeliveryTypeCode=#WHERE_AFC_DeliveryTypeCode#</isNotEmpty>
        <!--默认物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryTypeName">AFC_DeliveryTypeName=#WHERE_AFC_DeliveryTypeName#</isNotEmpty>
        <!--默认物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByID">AFC_DeliveryByID=#WHERE_AFC_DeliveryByID#</isNotEmpty>
        <!--默认物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByName">AFC_DeliveryByName=#WHERE_AFC_DeliveryByName#</isNotEmpty>
        <!--默认物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByPhoneNo">AFC_DeliveryByPhoneNo=#WHERE_AFC_DeliveryByPhoneNo#</isNotEmpty>
        <!--终止销售-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsEndSales">AFC_IsEndSales=#WHERE_AFC_IsEndSales#</isNotNull>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AutoPartsPriceType">AFC_AutoPartsPriceType=#WHERE_AFC_AutoPartsPriceType#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Remark">AFC_Remark=#WHERE_AFC_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsValid">AFC_IsValid=#WHERE_AFC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_CreatedBy">AFC_CreatedBy=#WHERE_AFC_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_UpdatedBy">AFC_UpdatedBy=#WHERE_AFC_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_AFC_VersionNo">AFC_VersionNo=#WHERE_AFC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_TransID">AFC_TransID=#WHERE_AFC_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[汽修商客户]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_AutoFactoryCustomer" parameterClass="MDLPIS_AutoFactoryCustomer" >
      UPDATE PIS_AutoFactoryCustomer
      SET
      AFC_UpdatedTime=GETDATE(),
      AFC_VersionNo=AFC_VersionNo+1
      <isNotEmpty prepend="," property="AFC_Org_ID">AFC_Org_ID=#AFC_Org_ID#</isNotEmpty>
      <isNotNull prepend="," property="AFC_IsPlatform">AFC_IsPlatform=#AFC_IsPlatform#</isNotNull>
      <isNotEmpty prepend="," property="AFC_Code">AFC_Code=#AFC_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_Name">AFC_Name=#AFC_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_Contacter">AFC_Contacter=#AFC_Contacter#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_PhoneNo">AFC_PhoneNo=#AFC_PhoneNo#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_Address">AFC_Address=#AFC_Address#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_AROrg_Code">AFC_AROrg_Code=#AFC_AROrg_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_AROrg_Name">AFC_AROrg_Name=#AFC_AROrg_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_AROrg_Contacter">AFC_AROrg_Contacter=#AFC_AROrg_Contacter#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_AROrg_Phone">AFC_AROrg_Phone=#AFC_AROrg_Phone#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_AROrg_Address">AFC_AROrg_Address=#AFC_AROrg_Address#</isNotEmpty>
      <isNotNull prepend="," property="AFC_CreditAmount">AFC_CreditAmount=#AFC_CreditAmount#</isNotNull>
      <isNotEmpty prepend="," property="AFC_PaymentTypeCode">AFC_PaymentTypeCode=#AFC_PaymentTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_PaymentTypeName">AFC_PaymentTypeName=#AFC_PaymentTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_BillingTypeCode">AFC_BillingTypeCode=#AFC_BillingTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_BillingTypeName">AFC_BillingTypeName=#AFC_BillingTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_DeliveryTypeCode">AFC_DeliveryTypeCode=#AFC_DeliveryTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_DeliveryTypeName">AFC_DeliveryTypeName=#AFC_DeliveryTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_DeliveryByID">AFC_DeliveryByID=#AFC_DeliveryByID#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_DeliveryByName">AFC_DeliveryByName=#AFC_DeliveryByName#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_DeliveryByPhoneNo">AFC_DeliveryByPhoneNo=#AFC_DeliveryByPhoneNo#</isNotEmpty>
      <isNotNull prepend="," property="AFC_IsEndSales">AFC_IsEndSales=#AFC_IsEndSales#</isNotNull>
      <isNotEmpty prepend="," property="AFC_AutoPartsPriceType">AFC_AutoPartsPriceType=#AFC_AutoPartsPriceType#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_Remark">AFC_Remark=#AFC_Remark#</isNotEmpty>
      <isNotNull prepend="," property="AFC_IsValid">AFC_IsValid=#AFC_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="AFC_CreatedBy">AFC_CreatedBy=#AFC_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="AFC_CreatedTime">AFC_CreatedTime=#AFC_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="AFC_UpdatedBy">AFC_UpdatedBy=#AFC_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="AFC_TransID">AFC_TransID=#AFC_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_ID">AFC_ID=#WHERE_AFC_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Org_ID">AFC_Org_ID=#WHERE_AFC_Org_ID#</isNotEmpty>
        <!--是否平台商户-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsPlatform">AFC_IsPlatform=#WHERE_AFC_IsPlatform#</isNotNull>
        <!--汽修商编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Code">AFC_Code=#WHERE_AFC_Code#</isNotEmpty>
        <!--汽修商名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Name">AFC_Name=#WHERE_AFC_Name#</isNotEmpty>
        <!--汽修商联系人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Contacter">AFC_Contacter=#WHERE_AFC_Contacter#</isNotEmpty>
        <!--汽修商联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PhoneNo">AFC_PhoneNo=#WHERE_AFC_PhoneNo#</isNotEmpty>
        <!--汽修商地址-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Address">AFC_Address=#WHERE_AFC_Address#</isNotEmpty>
        <!--汽修组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Code">AFC_AROrg_Code=#WHERE_AFC_AROrg_Code#</isNotEmpty>
        <!--汽修组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Name">AFC_AROrg_Name=#WHERE_AFC_AROrg_Name#</isNotEmpty>
        <!--汽修组织联系人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Contacter">AFC_AROrg_Contacter=#WHERE_AFC_AROrg_Contacter#</isNotEmpty>
        <!--汽修组织联系方式-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Phone">AFC_AROrg_Phone=#WHERE_AFC_AROrg_Phone#</isNotEmpty>
        <!--汽修组织地址-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AROrg_Address">AFC_AROrg_Address=#WHERE_AFC_AROrg_Address#</isNotEmpty>
        <!--信用额度-->
        <isNotNull prepend="AND" property="WHERE_AFC_CreditAmount">AFC_CreditAmount=#WHERE_AFC_CreditAmount#</isNotNull>
        <!--默认支付类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PaymentTypeCode">AFC_PaymentTypeCode=#WHERE_AFC_PaymentTypeCode#</isNotEmpty>
        <!--默认支付类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_PaymentTypeName">AFC_PaymentTypeName=#WHERE_AFC_PaymentTypeName#</isNotEmpty>
        <!--默认开票类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_BillingTypeCode">AFC_BillingTypeCode=#WHERE_AFC_BillingTypeCode#</isNotEmpty>
        <!--默认开票类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_BillingTypeName">AFC_BillingTypeName=#WHERE_AFC_BillingTypeName#</isNotEmpty>
        <!--默认物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryTypeCode">AFC_DeliveryTypeCode=#WHERE_AFC_DeliveryTypeCode#</isNotEmpty>
        <!--默认物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryTypeName">AFC_DeliveryTypeName=#WHERE_AFC_DeliveryTypeName#</isNotEmpty>
        <!--默认物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByID">AFC_DeliveryByID=#WHERE_AFC_DeliveryByID#</isNotEmpty>
        <!--默认物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByName">AFC_DeliveryByName=#WHERE_AFC_DeliveryByName#</isNotEmpty>
        <!--默认物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_DeliveryByPhoneNo">AFC_DeliveryByPhoneNo=#WHERE_AFC_DeliveryByPhoneNo#</isNotEmpty>
        <!--终止销售-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsEndSales">AFC_IsEndSales=#WHERE_AFC_IsEndSales#</isNotNull>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_AutoPartsPriceType">AFC_AutoPartsPriceType=#WHERE_AFC_AutoPartsPriceType#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_Remark">AFC_Remark=#WHERE_AFC_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_AFC_IsValid">AFC_IsValid=#WHERE_AFC_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_CreatedBy">AFC_CreatedBy=#WHERE_AFC_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">AFC_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_UpdatedBy">AFC_UpdatedBy=#WHERE_AFC_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">AFC_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_AFC_VersionNo">AFC_VersionNo=#WHERE_AFC_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_AFC_TransID">AFC_TransID=#WHERE_AFC_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[汽修商客户]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_AutoFactoryCustomer" parameterClass="List">
      DELETE FROM PIS_AutoFactoryCustomer
      WHERE AFC_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_AFC_ID#
      </iterate>
    </delete>

    <!--新增[调拨单]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_TransferBill" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_TransferBill
        (
        <!--调拨单ID-->
        TB_ID,
        <!--单号-->
        TB_No,
        <!--单据类型编码-->
        TB_TypeCode,
        <!--单据类型名称-->
        TB_TypeName,
        <!--调拨类型编码-->
        TB_TransferTypeCode,
        <!--调拨类型名称-->
        TB_TransferTypeName,
        <!--调出组织ID-->
        TB_TransferOutOrgId,
        <!--调出组织名称-->
        TB_TransferOutOrgName,
        <!--调入组织ID-->
        TB_TransferInOrgId,
        <!--调入组织名称-->
        TB_TransferInOrgName,
        <!--单据状态编码-->
        TB_StatusCode,
        <!--单据状态名称-->
        TB_StatusName,
        <!--审核状态编码-->
        TB_ApprovalStatusCode,
        <!--审核状态名称-->
        TB_ApprovalStatusName,
        <!--备注-->
        TB_Remark,
        <!--有效-->
        TB_IsValid,
        <!--创建人-->
        TB_CreatedBy,
        <!--创建时间-->
        TB_CreatedTime,
        <!--修改人-->
        TB_UpdatedBy,
        <!--修改时间-->
        TB_UpdatedTime,
        <!--版本号-->
        TB_VersionNo,
        <!--事务编号-->
        TB_TransID
        )
        VALUES
        (
        <!--调拨单ID-->
        #[].TB_ID#,
        <!--单号-->
        #[].TB_No#,
        <!--单据类型编码-->
        #[].TB_TypeCode#,
        <!--单据类型名称-->
        #[].TB_TypeName#,
        <!--调拨类型编码-->
        #[].TB_TransferTypeCode#,
        <!--调拨类型名称-->
        #[].TB_TransferTypeName#,
        <!--调出组织ID-->
        #[].TB_TransferOutOrgId#,
        <!--调出组织名称-->
        #[].TB_TransferOutOrgName#,
        <!--调入组织ID-->
        #[].TB_TransferInOrgId#,
        <!--调入组织名称-->
        #[].TB_TransferInOrgName#,
        <!--单据状态编码-->
        #[].TB_StatusCode#,
        <!--单据状态名称-->
        #[].TB_StatusName#,
        <!--审核状态编码-->
        #[].TB_ApprovalStatusCode#,
        <!--审核状态名称-->
        #[].TB_ApprovalStatusName#,
        <!--备注-->
        #[].TB_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].TB_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].TB_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].TB_TransID#
        )
      </iterate>
    </insert>

    <!--查询[调拨单]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_TransferBill" parameterClass="MDLPIS_TransferBill" resultClass="MDLPIS_TransferBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(TB_ID)
      FROM PIS_TransferBill
      <dynamic prepend="WHERE">
        <!--调拨单ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ID">TB_ID=#WHERE_TB_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_TB_No">TB_No=#WHERE_TB_No#</isNotEmpty>
        <!--单据类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TypeCode">TB_TypeCode=#WHERE_TB_TypeCode#</isNotEmpty>
        <!--单据类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TypeName">TB_TypeName=#WHERE_TB_TypeName#</isNotEmpty>
        <!--调拨类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferTypeCode">TB_TransferTypeCode=#WHERE_TB_TransferTypeCode#</isNotEmpty>
        <!--调拨类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferTypeName">TB_TransferTypeName=#WHERE_TB_TransferTypeName#</isNotEmpty>
        <!--调出组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferOutOrgId">TB_TransferOutOrgId=#WHERE_TB_TransferOutOrgId#</isNotEmpty>
        <!--调出组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferOutOrgName">TB_TransferOutOrgName=#WHERE_TB_TransferOutOrgName#</isNotEmpty>
        <!--调入组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferInOrgId">TB_TransferInOrgId=#WHERE_TB_TransferInOrgId#</isNotEmpty>
        <!--调入组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferInOrgName">TB_TransferInOrgName=#WHERE_TB_TransferInOrgName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_StatusCode">TB_StatusCode=#WHERE_TB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_StatusName">TB_StatusName=#WHERE_TB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ApprovalStatusCode">TB_ApprovalStatusCode=#WHERE_TB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ApprovalStatusName">TB_ApprovalStatusName=#WHERE_TB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_TB_Remark">TB_Remark=#WHERE_TB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_TB_IsValid">TB_IsValid=#WHERE_TB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_TB_CreatedBy">TB_CreatedBy=#WHERE_TB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_TB_UpdatedBy">TB_UpdatedBy=#WHERE_TB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_TB_VersionNo">TB_VersionNo=#WHERE_TB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransID">TB_TransID=#WHERE_TB_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      TB_ID,
      TB_No,
      TB_TypeCode,
      TB_TypeName,
      TB_TransferTypeCode,
      TB_TransferTypeName,
      TB_TransferOutOrgId,
      TB_TransferOutOrgName,
      TB_TransferInOrgId,
      TB_TransferInOrgName,
      TB_StatusCode,
      TB_StatusName,
      TB_ApprovalStatusCode,
      TB_ApprovalStatusName,
      TB_Remark,
      TB_IsValid,
      TB_CreatedBy,
      TB_CreatedTime,
      TB_UpdatedBy,
      TB_UpdatedTime,
      TB_VersionNo,
      TB_TransID
      FROM PIS_TransferBill
      <dynamic prepend="WHERE">
        <!--调拨单ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ID">TB_ID=#WHERE_TB_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_TB_No">TB_No=#WHERE_TB_No#</isNotEmpty>
        <!--单据类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TypeCode">TB_TypeCode=#WHERE_TB_TypeCode#</isNotEmpty>
        <!--单据类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TypeName">TB_TypeName=#WHERE_TB_TypeName#</isNotEmpty>
        <!--调拨类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferTypeCode">TB_TransferTypeCode=#WHERE_TB_TransferTypeCode#</isNotEmpty>
        <!--调拨类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferTypeName">TB_TransferTypeName=#WHERE_TB_TransferTypeName#</isNotEmpty>
        <!--调出组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferOutOrgId">TB_TransferOutOrgId=#WHERE_TB_TransferOutOrgId#</isNotEmpty>
        <!--调出组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferOutOrgName">TB_TransferOutOrgName=#WHERE_TB_TransferOutOrgName#</isNotEmpty>
        <!--调入组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferInOrgId">TB_TransferInOrgId=#WHERE_TB_TransferInOrgId#</isNotEmpty>
        <!--调入组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferInOrgName">TB_TransferInOrgName=#WHERE_TB_TransferInOrgName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_StatusCode">TB_StatusCode=#WHERE_TB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_StatusName">TB_StatusName=#WHERE_TB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ApprovalStatusCode">TB_ApprovalStatusCode=#WHERE_TB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ApprovalStatusName">TB_ApprovalStatusName=#WHERE_TB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_TB_Remark">TB_Remark=#WHERE_TB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_TB_IsValid">TB_IsValid=#WHERE_TB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_TB_CreatedBy">TB_CreatedBy=#WHERE_TB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_TB_UpdatedBy">TB_UpdatedBy=#WHERE_TB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_TB_VersionNo">TB_VersionNo=#WHERE_TB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransID">TB_TransID=#WHERE_TB_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY TB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[调拨单]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_TransferBill" parameterClass="MDLPIS_TransferBill" resultClass="MDLPIS_TransferBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(TB_ID)
      FROM PIS_TransferBill
      <dynamic prepend="WHERE">
        <!--调拨单ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ID">TB_ID=#WHERE_TB_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_TB_No">TB_No LIKE '%'+#WHERE_TB_No#+'%'</isNotEmpty>
        <!--单据类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TypeCode">TB_TypeCode LIKE '%'+#WHERE_TB_TypeCode#+'%'</isNotEmpty>
        <!--单据类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TypeName">TB_TypeName LIKE '%'+#WHERE_TB_TypeName#+'%'</isNotEmpty>
        <!--调拨类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferTypeCode">TB_TransferTypeCode LIKE '%'+#WHERE_TB_TransferTypeCode#+'%'</isNotEmpty>
        <!--调拨类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferTypeName">TB_TransferTypeName LIKE '%'+#WHERE_TB_TransferTypeName#+'%'</isNotEmpty>
        <!--调出组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferOutOrgId">TB_TransferOutOrgId LIKE '%'+#WHERE_TB_TransferOutOrgId#+'%'</isNotEmpty>
        <!--调出组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferOutOrgName">TB_TransferOutOrgName LIKE '%'+#WHERE_TB_TransferOutOrgName#+'%'</isNotEmpty>
        <!--调入组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferInOrgId">TB_TransferInOrgId LIKE '%'+#WHERE_TB_TransferInOrgId#+'%'</isNotEmpty>
        <!--调入组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferInOrgName">TB_TransferInOrgName LIKE '%'+#WHERE_TB_TransferInOrgName#+'%'</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_StatusCode">TB_StatusCode LIKE '%'+#WHERE_TB_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_StatusName">TB_StatusName LIKE '%'+#WHERE_TB_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ApprovalStatusCode">TB_ApprovalStatusCode LIKE '%'+#WHERE_TB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ApprovalStatusName">TB_ApprovalStatusName LIKE '%'+#WHERE_TB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_TB_Remark">TB_Remark LIKE '%'+#WHERE_TB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_TB_IsValid">TB_IsValid=#WHERE_TB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_TB_CreatedBy">TB_CreatedBy LIKE '%'+#WHERE_TB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_TB_UpdatedBy">TB_UpdatedBy LIKE '%'+#WHERE_TB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_TB_VersionNo">TB_VersionNo=#WHERE_TB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransID">TB_TransID LIKE '%'+#WHERE_TB_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      TB_ID,
      TB_No,
      TB_TypeCode,
      TB_TypeName,
      TB_TransferTypeCode,
      TB_TransferTypeName,
      TB_TransferOutOrgId,
      TB_TransferOutOrgName,
      TB_TransferInOrgId,
      TB_TransferInOrgName,
      TB_StatusCode,
      TB_StatusName,
      TB_ApprovalStatusCode,
      TB_ApprovalStatusName,
      TB_Remark,
      TB_IsValid,
      TB_CreatedBy,
      TB_CreatedTime,
      TB_UpdatedBy,
      TB_UpdatedTime,
      TB_VersionNo,
      TB_TransID
      FROM PIS_TransferBill
      <dynamic prepend="WHERE">
        <!--调拨单ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ID">TB_ID=#WHERE_TB_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_TB_No">TB_No LIKE '%'+#WHERE_TB_No#+'%'</isNotEmpty>
        <!--单据类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TypeCode">TB_TypeCode LIKE '%'+#WHERE_TB_TypeCode#+'%'</isNotEmpty>
        <!--单据类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TypeName">TB_TypeName LIKE '%'+#WHERE_TB_TypeName#+'%'</isNotEmpty>
        <!--调拨类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferTypeCode">TB_TransferTypeCode LIKE '%'+#WHERE_TB_TransferTypeCode#+'%'</isNotEmpty>
        <!--调拨类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferTypeName">TB_TransferTypeName LIKE '%'+#WHERE_TB_TransferTypeName#+'%'</isNotEmpty>
        <!--调出组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferOutOrgId">TB_TransferOutOrgId LIKE '%'+#WHERE_TB_TransferOutOrgId#+'%'</isNotEmpty>
        <!--调出组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferOutOrgName">TB_TransferOutOrgName LIKE '%'+#WHERE_TB_TransferOutOrgName#+'%'</isNotEmpty>
        <!--调入组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferInOrgId">TB_TransferInOrgId LIKE '%'+#WHERE_TB_TransferInOrgId#+'%'</isNotEmpty>
        <!--调入组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferInOrgName">TB_TransferInOrgName LIKE '%'+#WHERE_TB_TransferInOrgName#+'%'</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_StatusCode">TB_StatusCode LIKE '%'+#WHERE_TB_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_StatusName">TB_StatusName LIKE '%'+#WHERE_TB_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ApprovalStatusCode">TB_ApprovalStatusCode LIKE '%'+#WHERE_TB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ApprovalStatusName">TB_ApprovalStatusName LIKE '%'+#WHERE_TB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_TB_Remark">TB_Remark LIKE '%'+#WHERE_TB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_TB_IsValid">TB_IsValid=#WHERE_TB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_TB_CreatedBy">TB_CreatedBy LIKE '%'+#WHERE_TB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_TB_UpdatedBy">TB_UpdatedBy LIKE '%'+#WHERE_TB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_TB_VersionNo">TB_VersionNo=#WHERE_TB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransID">TB_TransID LIKE '%'+#WHERE_TB_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY TB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[调拨单]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_TransferBill" parameterClass="MDLPIS_TransferBill" resultClass="int">
      SELECT COUNT(TB_ID) 'RecordCount'
      FROM PIS_TransferBill
      <dynamic prepend="WHERE">
        <!--调拨单ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ID">TB_ID=#WHERE_TB_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_TB_No">TB_No=#WHERE_TB_No#</isNotEmpty>
        <!--单据类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TypeCode">TB_TypeCode=#WHERE_TB_TypeCode#</isNotEmpty>
        <!--单据类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TypeName">TB_TypeName=#WHERE_TB_TypeName#</isNotEmpty>
        <!--调拨类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferTypeCode">TB_TransferTypeCode=#WHERE_TB_TransferTypeCode#</isNotEmpty>
        <!--调拨类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferTypeName">TB_TransferTypeName=#WHERE_TB_TransferTypeName#</isNotEmpty>
        <!--调出组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferOutOrgId">TB_TransferOutOrgId=#WHERE_TB_TransferOutOrgId#</isNotEmpty>
        <!--调出组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferOutOrgName">TB_TransferOutOrgName=#WHERE_TB_TransferOutOrgName#</isNotEmpty>
        <!--调入组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferInOrgId">TB_TransferInOrgId=#WHERE_TB_TransferInOrgId#</isNotEmpty>
        <!--调入组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferInOrgName">TB_TransferInOrgName=#WHERE_TB_TransferInOrgName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_StatusCode">TB_StatusCode=#WHERE_TB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_StatusName">TB_StatusName=#WHERE_TB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ApprovalStatusCode">TB_ApprovalStatusCode=#WHERE_TB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ApprovalStatusName">TB_ApprovalStatusName=#WHERE_TB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_TB_Remark">TB_Remark=#WHERE_TB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_TB_IsValid">TB_IsValid=#WHERE_TB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_TB_CreatedBy">TB_CreatedBy=#WHERE_TB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_TB_UpdatedBy">TB_UpdatedBy=#WHERE_TB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_TB_VersionNo">TB_VersionNo=#WHERE_TB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransID">TB_TransID=#WHERE_TB_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[调拨单]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_TransferBill" parameterClass="MDLPIS_TransferBill" >
      UPDATE PIS_TransferBill
      SET
      TB_UpdatedTime=GETDATE(),
      TB_VersionNo=TB_VersionNo+1
      <isNotEmpty prepend="," property="TB_No">TB_No=#TB_No#</isNotEmpty>
      <isNotEmpty prepend="," property="TB_TypeCode">TB_TypeCode=#TB_TypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="TB_TypeName">TB_TypeName=#TB_TypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="TB_TransferTypeCode">TB_TransferTypeCode=#TB_TransferTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="TB_TransferTypeName">TB_TransferTypeName=#TB_TransferTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="TB_TransferOutOrgId">TB_TransferOutOrgId=#TB_TransferOutOrgId#</isNotEmpty>
      <isNotEmpty prepend="," property="TB_TransferOutOrgName">TB_TransferOutOrgName=#TB_TransferOutOrgName#</isNotEmpty>
      <isNotEmpty prepend="," property="TB_TransferInOrgId">TB_TransferInOrgId=#TB_TransferInOrgId#</isNotEmpty>
      <isNotEmpty prepend="," property="TB_TransferInOrgName">TB_TransferInOrgName=#TB_TransferInOrgName#</isNotEmpty>
      <isNotEmpty prepend="," property="TB_StatusCode">TB_StatusCode=#TB_StatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="TB_StatusName">TB_StatusName=#TB_StatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="TB_ApprovalStatusCode">TB_ApprovalStatusCode=#TB_ApprovalStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="TB_ApprovalStatusName">TB_ApprovalStatusName=#TB_ApprovalStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="TB_Remark">TB_Remark=#TB_Remark#</isNotEmpty>
      <isNotNull prepend="," property="TB_IsValid">TB_IsValid=#TB_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="TB_CreatedBy">TB_CreatedBy=#TB_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="TB_CreatedTime">TB_CreatedTime=#TB_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="TB_UpdatedBy">TB_UpdatedBy=#TB_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="TB_TransID">TB_TransID=#TB_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--调拨单ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ID">TB_ID=#WHERE_TB_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_TB_No">TB_No=#WHERE_TB_No#</isNotEmpty>
        <!--单据类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TypeCode">TB_TypeCode=#WHERE_TB_TypeCode#</isNotEmpty>
        <!--单据类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TypeName">TB_TypeName=#WHERE_TB_TypeName#</isNotEmpty>
        <!--调拨类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferTypeCode">TB_TransferTypeCode=#WHERE_TB_TransferTypeCode#</isNotEmpty>
        <!--调拨类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferTypeName">TB_TransferTypeName=#WHERE_TB_TransferTypeName#</isNotEmpty>
        <!--调出组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferOutOrgId">TB_TransferOutOrgId=#WHERE_TB_TransferOutOrgId#</isNotEmpty>
        <!--调出组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferOutOrgName">TB_TransferOutOrgName=#WHERE_TB_TransferOutOrgName#</isNotEmpty>
        <!--调入组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferInOrgId">TB_TransferInOrgId=#WHERE_TB_TransferInOrgId#</isNotEmpty>
        <!--调入组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransferInOrgName">TB_TransferInOrgName=#WHERE_TB_TransferInOrgName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_StatusCode">TB_StatusCode=#WHERE_TB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_StatusName">TB_StatusName=#WHERE_TB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ApprovalStatusCode">TB_ApprovalStatusCode=#WHERE_TB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_TB_ApprovalStatusName">TB_ApprovalStatusName=#WHERE_TB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_TB_Remark">TB_Remark=#WHERE_TB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_TB_IsValid">TB_IsValid=#WHERE_TB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_TB_CreatedBy">TB_CreatedBy=#WHERE_TB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_TB_UpdatedBy">TB_UpdatedBy=#WHERE_TB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_TB_VersionNo">TB_VersionNo=#WHERE_TB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_TB_TransID">TB_TransID=#WHERE_TB_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[调拨单]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_TransferBill" parameterClass="List">
      DELETE FROM PIS_TransferBill
      WHERE TB_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_TB_ID#
      </iterate>
    </delete>

    <!--新增[调拨单明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_TransferBillDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_TransferBillDetail
        (
        <!--调拨单明细ID-->
        TBD_ID,
        <!--调拨单ID-->
        TBD_TB_ID,
        <!--调拨单号-->
        TBD_TB_No,
        <!--调出仓库ID-->
        TBD_TransOutWhId,
        <!--调出仓位ID-->
        TBD_TransOutBinId,
        <!--调入仓库ID-->
        TBD_TransInWhId,
        <!--调入仓位ID-->
        TBD_TransInBinId,
        <!--配件条码-->
        TBD_Barcode,
        <!--调出配件批次号-->
        TBD_TransOutBatchNo,
        <!--调入配件批次号-->
        TBD_TransInBatchNo,
        <!--第三方编码-->
        TBD_ThirdNo,
        <!--原厂编码-->
        TBD_OEMNo,
        <!--配件名称-->
        TBD_Name,
        <!--配件规格型号-->
        TBD_Specification,
        <!--供应商ID-->
        TBD_SUPP_ID,
        <!--数量-->
        TBD_Qty,
        <!--单位-->
        TBD_UOM,
        <!--源库存单价-->
        TBD_SourUnitPrice,
        <!--入库单价-->
        TBD_DestUnitPrice,
        <!--已结算标志-->
        TBD_IsSettled,
        <!--有效-->
        TBD_IsValid,
        <!--创建人-->
        TBD_CreatedBy,
        <!--创建时间-->
        TBD_CreatedTime,
        <!--修改人-->
        TBD_UpdatedBy,
        <!--修改时间-->
        TBD_UpdatedTime,
        <!--版本号-->
        TBD_VersionNo,
        <!--事务编号-->
        TBD_TransID
        )
        VALUES
        (
        <!--调拨单明细ID-->
        #[].TBD_ID#,
        <!--调拨单ID-->
        #[].TBD_TB_ID#,
        <!--调拨单号-->
        #[].TBD_TB_No#,
        <!--调出仓库ID-->
        #[].TBD_TransOutWhId#,
        <!--调出仓位ID-->
        #[].TBD_TransOutBinId#,
        <!--调入仓库ID-->
        #[].TBD_TransInWhId#,
        <!--调入仓位ID-->
        #[].TBD_TransInBinId#,
        <!--配件条码-->
        #[].TBD_Barcode#,
        <!--调出配件批次号-->
        #[].TBD_TransOutBatchNo#,
        <!--调入配件批次号-->
        #[].TBD_TransInBatchNo#,
        <!--第三方编码-->
        #[].TBD_ThirdNo#,
        <!--原厂编码-->
        #[].TBD_OEMNo#,
        <!--配件名称-->
        #[].TBD_Name#,
        <!--配件规格型号-->
        #[].TBD_Specification#,
        <!--供应商ID-->
        #[].TBD_SUPP_ID#,
        <!--数量-->
        #[].TBD_Qty#,
        <!--单位-->
        #[].TBD_UOM#,
        <!--源库存单价-->
        #[].TBD_SourUnitPrice#,
        <!--入库单价-->
        #[].TBD_DestUnitPrice#,
        <!--已结算标志-->
        #[].TBD_IsSettled#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].TBD_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].TBD_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].TBD_TransID#
        )
      </iterate>
    </insert>

    <!--查询[调拨单明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_TransferBillDetail" parameterClass="MDLPIS_TransferBillDetail" resultClass="MDLPIS_TransferBillDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(TBD_ID)
      FROM PIS_TransferBillDetail
      <dynamic prepend="WHERE">
        <!--调拨单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_ID">TBD_ID=#WHERE_TBD_ID#</isNotEmpty>
        <!--调拨单ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TB_ID">TBD_TB_ID=#WHERE_TBD_TB_ID#</isNotEmpty>
        <!--调拨单号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TB_No">TBD_TB_No=#WHERE_TBD_TB_No#</isNotEmpty>
        <!--调出仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutWhId">TBD_TransOutWhId=#WHERE_TBD_TransOutWhId#</isNotEmpty>
        <!--调出仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutBinId">TBD_TransOutBinId=#WHERE_TBD_TransOutBinId#</isNotEmpty>
        <!--调入仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInWhId">TBD_TransInWhId=#WHERE_TBD_TransInWhId#</isNotEmpty>
        <!--调入仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInBinId">TBD_TransInBinId=#WHERE_TBD_TransInBinId#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Barcode">TBD_Barcode=#WHERE_TBD_Barcode#</isNotEmpty>
        <!--调出配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutBatchNo">TBD_TransOutBatchNo=#WHERE_TBD_TransOutBatchNo#</isNotEmpty>
        <!--调入配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInBatchNo">TBD_TransInBatchNo=#WHERE_TBD_TransInBatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_ThirdNo">TBD_ThirdNo=#WHERE_TBD_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_OEMNo">TBD_OEMNo=#WHERE_TBD_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Name">TBD_Name=#WHERE_TBD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Specification">TBD_Specification=#WHERE_TBD_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_SUPP_ID">TBD_SUPP_ID=#WHERE_TBD_SUPP_ID#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_TBD_Qty">TBD_Qty=#WHERE_TBD_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_UOM">TBD_UOM=#WHERE_TBD_UOM#</isNotEmpty>
        <!--源库存单价-->
        <isNotNull prepend="AND" property="WHERE_TBD_SourUnitPrice">TBD_SourUnitPrice=#WHERE_TBD_SourUnitPrice#</isNotNull>
        <!--入库单价-->
        <isNotNull prepend="AND" property="WHERE_TBD_DestUnitPrice">TBD_DestUnitPrice=#WHERE_TBD_DestUnitPrice#</isNotNull>
        <!--已结算标志-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_IsSettled">TBD_IsSettled=#WHERE_TBD_IsSettled#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_TBD_IsValid">TBD_IsValid=#WHERE_TBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_CreatedBy">TBD_CreatedBy=#WHERE_TBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_UpdatedBy">TBD_UpdatedBy=#WHERE_TBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_TBD_VersionNo">TBD_VersionNo=#WHERE_TBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransID">TBD_TransID=#WHERE_TBD_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      TBD_ID,
      TBD_TB_ID,
      TBD_TB_No,
      TBD_TransOutWhId,
      TBD_TransOutBinId,
      TBD_TransInWhId,
      TBD_TransInBinId,
      TBD_Barcode,
      TBD_TransOutBatchNo,
      TBD_TransInBatchNo,
      TBD_ThirdNo,
      TBD_OEMNo,
      TBD_Name,
      TBD_Specification,
      TBD_SUPP_ID,
      TBD_Qty,
      TBD_UOM,
      TBD_SourUnitPrice,
      TBD_DestUnitPrice,
      TBD_IsSettled,
      TBD_IsValid,
      TBD_CreatedBy,
      TBD_CreatedTime,
      TBD_UpdatedBy,
      TBD_UpdatedTime,
      TBD_VersionNo,
      TBD_TransID
      FROM PIS_TransferBillDetail
      <dynamic prepend="WHERE">
        <!--调拨单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_ID">TBD_ID=#WHERE_TBD_ID#</isNotEmpty>
        <!--调拨单ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TB_ID">TBD_TB_ID=#WHERE_TBD_TB_ID#</isNotEmpty>
        <!--调拨单号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TB_No">TBD_TB_No=#WHERE_TBD_TB_No#</isNotEmpty>
        <!--调出仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutWhId">TBD_TransOutWhId=#WHERE_TBD_TransOutWhId#</isNotEmpty>
        <!--调出仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutBinId">TBD_TransOutBinId=#WHERE_TBD_TransOutBinId#</isNotEmpty>
        <!--调入仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInWhId">TBD_TransInWhId=#WHERE_TBD_TransInWhId#</isNotEmpty>
        <!--调入仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInBinId">TBD_TransInBinId=#WHERE_TBD_TransInBinId#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Barcode">TBD_Barcode=#WHERE_TBD_Barcode#</isNotEmpty>
        <!--调出配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutBatchNo">TBD_TransOutBatchNo=#WHERE_TBD_TransOutBatchNo#</isNotEmpty>
        <!--调入配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInBatchNo">TBD_TransInBatchNo=#WHERE_TBD_TransInBatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_ThirdNo">TBD_ThirdNo=#WHERE_TBD_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_OEMNo">TBD_OEMNo=#WHERE_TBD_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Name">TBD_Name=#WHERE_TBD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Specification">TBD_Specification=#WHERE_TBD_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_SUPP_ID">TBD_SUPP_ID=#WHERE_TBD_SUPP_ID#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_TBD_Qty">TBD_Qty=#WHERE_TBD_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_UOM">TBD_UOM=#WHERE_TBD_UOM#</isNotEmpty>
        <!--源库存单价-->
        <isNotNull prepend="AND" property="WHERE_TBD_SourUnitPrice">TBD_SourUnitPrice=#WHERE_TBD_SourUnitPrice#</isNotNull>
        <!--入库单价-->
        <isNotNull prepend="AND" property="WHERE_TBD_DestUnitPrice">TBD_DestUnitPrice=#WHERE_TBD_DestUnitPrice#</isNotNull>
        <!--已结算标志-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_IsSettled">TBD_IsSettled=#WHERE_TBD_IsSettled#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_TBD_IsValid">TBD_IsValid=#WHERE_TBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_CreatedBy">TBD_CreatedBy=#WHERE_TBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_UpdatedBy">TBD_UpdatedBy=#WHERE_TBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_TBD_VersionNo">TBD_VersionNo=#WHERE_TBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransID">TBD_TransID=#WHERE_TBD_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY TBD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[调拨单明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_TransferBillDetail" parameterClass="MDLPIS_TransferBillDetail" resultClass="MDLPIS_TransferBillDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(TBD_ID)
      FROM PIS_TransferBillDetail
      <dynamic prepend="WHERE">
        <!--调拨单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_ID">TBD_ID=#WHERE_TBD_ID#</isNotEmpty>
        <!--调拨单ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TB_ID">TBD_TB_ID LIKE '%'+#WHERE_TBD_TB_ID#+'%'</isNotEmpty>
        <!--调拨单号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TB_No">TBD_TB_No LIKE '%'+#WHERE_TBD_TB_No#+'%'</isNotEmpty>
        <!--调出仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutWhId">TBD_TransOutWhId LIKE '%'+#WHERE_TBD_TransOutWhId#+'%'</isNotEmpty>
        <!--调出仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutBinId">TBD_TransOutBinId LIKE '%'+#WHERE_TBD_TransOutBinId#+'%'</isNotEmpty>
        <!--调入仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInWhId">TBD_TransInWhId LIKE '%'+#WHERE_TBD_TransInWhId#+'%'</isNotEmpty>
        <!--调入仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInBinId">TBD_TransInBinId LIKE '%'+#WHERE_TBD_TransInBinId#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Barcode">TBD_Barcode LIKE '%'+#WHERE_TBD_Barcode#+'%'</isNotEmpty>
        <!--调出配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutBatchNo">TBD_TransOutBatchNo LIKE '%'+#WHERE_TBD_TransOutBatchNo#+'%'</isNotEmpty>
        <!--调入配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInBatchNo">TBD_TransInBatchNo LIKE '%'+#WHERE_TBD_TransInBatchNo#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_ThirdNo">TBD_ThirdNo LIKE '%'+#WHERE_TBD_ThirdNo#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_OEMNo">TBD_OEMNo LIKE '%'+#WHERE_TBD_OEMNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Name">TBD_Name LIKE '%'+#WHERE_TBD_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Specification">TBD_Specification LIKE '%'+#WHERE_TBD_Specification#+'%'</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_SUPP_ID">TBD_SUPP_ID LIKE '%'+#WHERE_TBD_SUPP_ID#+'%'</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_TBD_Qty">TBD_Qty=#WHERE_TBD_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_UOM">TBD_UOM LIKE '%'+#WHERE_TBD_UOM#+'%'</isNotEmpty>
        <!--源库存单价-->
        <isNotNull prepend="AND" property="WHERE_TBD_SourUnitPrice">TBD_SourUnitPrice=#WHERE_TBD_SourUnitPrice#</isNotNull>
        <!--入库单价-->
        <isNotNull prepend="AND" property="WHERE_TBD_DestUnitPrice">TBD_DestUnitPrice=#WHERE_TBD_DestUnitPrice#</isNotNull>
        <!--已结算标志-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_IsSettled">TBD_IsSettled LIKE '%'+#WHERE_TBD_IsSettled#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_TBD_IsValid">TBD_IsValid=#WHERE_TBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_CreatedBy">TBD_CreatedBy LIKE '%'+#WHERE_TBD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_UpdatedBy">TBD_UpdatedBy LIKE '%'+#WHERE_TBD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_TBD_VersionNo">TBD_VersionNo=#WHERE_TBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransID">TBD_TransID LIKE '%'+#WHERE_TBD_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      TBD_ID,
      TBD_TB_ID,
      TBD_TB_No,
      TBD_TransOutWhId,
      TBD_TransOutBinId,
      TBD_TransInWhId,
      TBD_TransInBinId,
      TBD_Barcode,
      TBD_TransOutBatchNo,
      TBD_TransInBatchNo,
      TBD_ThirdNo,
      TBD_OEMNo,
      TBD_Name,
      TBD_Specification,
      TBD_SUPP_ID,
      TBD_Qty,
      TBD_UOM,
      TBD_SourUnitPrice,
      TBD_DestUnitPrice,
      TBD_IsSettled,
      TBD_IsValid,
      TBD_CreatedBy,
      TBD_CreatedTime,
      TBD_UpdatedBy,
      TBD_UpdatedTime,
      TBD_VersionNo,
      TBD_TransID
      FROM PIS_TransferBillDetail
      <dynamic prepend="WHERE">
        <!--调拨单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_ID">TBD_ID=#WHERE_TBD_ID#</isNotEmpty>
        <!--调拨单ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TB_ID">TBD_TB_ID LIKE '%'+#WHERE_TBD_TB_ID#+'%'</isNotEmpty>
        <!--调拨单号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TB_No">TBD_TB_No LIKE '%'+#WHERE_TBD_TB_No#+'%'</isNotEmpty>
        <!--调出仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutWhId">TBD_TransOutWhId LIKE '%'+#WHERE_TBD_TransOutWhId#+'%'</isNotEmpty>
        <!--调出仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutBinId">TBD_TransOutBinId LIKE '%'+#WHERE_TBD_TransOutBinId#+'%'</isNotEmpty>
        <!--调入仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInWhId">TBD_TransInWhId LIKE '%'+#WHERE_TBD_TransInWhId#+'%'</isNotEmpty>
        <!--调入仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInBinId">TBD_TransInBinId LIKE '%'+#WHERE_TBD_TransInBinId#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Barcode">TBD_Barcode LIKE '%'+#WHERE_TBD_Barcode#+'%'</isNotEmpty>
        <!--调出配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutBatchNo">TBD_TransOutBatchNo LIKE '%'+#WHERE_TBD_TransOutBatchNo#+'%'</isNotEmpty>
        <!--调入配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInBatchNo">TBD_TransInBatchNo LIKE '%'+#WHERE_TBD_TransInBatchNo#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_ThirdNo">TBD_ThirdNo LIKE '%'+#WHERE_TBD_ThirdNo#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_OEMNo">TBD_OEMNo LIKE '%'+#WHERE_TBD_OEMNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Name">TBD_Name LIKE '%'+#WHERE_TBD_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Specification">TBD_Specification LIKE '%'+#WHERE_TBD_Specification#+'%'</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_SUPP_ID">TBD_SUPP_ID LIKE '%'+#WHERE_TBD_SUPP_ID#+'%'</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_TBD_Qty">TBD_Qty=#WHERE_TBD_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_UOM">TBD_UOM LIKE '%'+#WHERE_TBD_UOM#+'%'</isNotEmpty>
        <!--源库存单价-->
        <isNotNull prepend="AND" property="WHERE_TBD_SourUnitPrice">TBD_SourUnitPrice=#WHERE_TBD_SourUnitPrice#</isNotNull>
        <!--入库单价-->
        <isNotNull prepend="AND" property="WHERE_TBD_DestUnitPrice">TBD_DestUnitPrice=#WHERE_TBD_DestUnitPrice#</isNotNull>
        <!--已结算标志-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_IsSettled">TBD_IsSettled LIKE '%'+#WHERE_TBD_IsSettled#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_TBD_IsValid">TBD_IsValid=#WHERE_TBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_CreatedBy">TBD_CreatedBy LIKE '%'+#WHERE_TBD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_UpdatedBy">TBD_UpdatedBy LIKE '%'+#WHERE_TBD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_TBD_VersionNo">TBD_VersionNo=#WHERE_TBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransID">TBD_TransID LIKE '%'+#WHERE_TBD_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY TBD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[调拨单明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_TransferBillDetail" parameterClass="MDLPIS_TransferBillDetail" resultClass="int">
      SELECT COUNT(TBD_ID) 'RecordCount'
      FROM PIS_TransferBillDetail
      <dynamic prepend="WHERE">
        <!--调拨单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_ID">TBD_ID=#WHERE_TBD_ID#</isNotEmpty>
        <!--调拨单ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TB_ID">TBD_TB_ID=#WHERE_TBD_TB_ID#</isNotEmpty>
        <!--调拨单号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TB_No">TBD_TB_No=#WHERE_TBD_TB_No#</isNotEmpty>
        <!--调出仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutWhId">TBD_TransOutWhId=#WHERE_TBD_TransOutWhId#</isNotEmpty>
        <!--调出仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutBinId">TBD_TransOutBinId=#WHERE_TBD_TransOutBinId#</isNotEmpty>
        <!--调入仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInWhId">TBD_TransInWhId=#WHERE_TBD_TransInWhId#</isNotEmpty>
        <!--调入仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInBinId">TBD_TransInBinId=#WHERE_TBD_TransInBinId#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Barcode">TBD_Barcode=#WHERE_TBD_Barcode#</isNotEmpty>
        <!--调出配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutBatchNo">TBD_TransOutBatchNo=#WHERE_TBD_TransOutBatchNo#</isNotEmpty>
        <!--调入配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInBatchNo">TBD_TransInBatchNo=#WHERE_TBD_TransInBatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_ThirdNo">TBD_ThirdNo=#WHERE_TBD_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_OEMNo">TBD_OEMNo=#WHERE_TBD_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Name">TBD_Name=#WHERE_TBD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Specification">TBD_Specification=#WHERE_TBD_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_SUPP_ID">TBD_SUPP_ID=#WHERE_TBD_SUPP_ID#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_TBD_Qty">TBD_Qty=#WHERE_TBD_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_UOM">TBD_UOM=#WHERE_TBD_UOM#</isNotEmpty>
        <!--源库存单价-->
        <isNotNull prepend="AND" property="WHERE_TBD_SourUnitPrice">TBD_SourUnitPrice=#WHERE_TBD_SourUnitPrice#</isNotNull>
        <!--入库单价-->
        <isNotNull prepend="AND" property="WHERE_TBD_DestUnitPrice">TBD_DestUnitPrice=#WHERE_TBD_DestUnitPrice#</isNotNull>
        <!--已结算标志-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_IsSettled">TBD_IsSettled=#WHERE_TBD_IsSettled#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_TBD_IsValid">TBD_IsValid=#WHERE_TBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_CreatedBy">TBD_CreatedBy=#WHERE_TBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_UpdatedBy">TBD_UpdatedBy=#WHERE_TBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_TBD_VersionNo">TBD_VersionNo=#WHERE_TBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransID">TBD_TransID=#WHERE_TBD_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[调拨单明细]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_TransferBillDetail" parameterClass="MDLPIS_TransferBillDetail" >
      UPDATE PIS_TransferBillDetail
      SET
      TBD_UpdatedTime=GETDATE(),
      TBD_VersionNo=TBD_VersionNo+1
      <isNotEmpty prepend="," property="TBD_TB_ID">TBD_TB_ID=#TBD_TB_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="TBD_TB_No">TBD_TB_No=#TBD_TB_No#</isNotEmpty>
      <isNotEmpty prepend="," property="TBD_TransOutWhId">TBD_TransOutWhId=#TBD_TransOutWhId#</isNotEmpty>
      <isNotEmpty prepend="," property="TBD_TransOutBinId">TBD_TransOutBinId=#TBD_TransOutBinId#</isNotEmpty>
      <isNotEmpty prepend="," property="TBD_TransInWhId">TBD_TransInWhId=#TBD_TransInWhId#</isNotEmpty>
      <isNotEmpty prepend="," property="TBD_TransInBinId">TBD_TransInBinId=#TBD_TransInBinId#</isNotEmpty>
      <isNotEmpty prepend="," property="TBD_Barcode">TBD_Barcode=#TBD_Barcode#</isNotEmpty>
      <isNotEmpty prepend="," property="TBD_TransOutBatchNo">TBD_TransOutBatchNo=#TBD_TransOutBatchNo#</isNotEmpty>
      <isNotEmpty prepend="," property="TBD_TransInBatchNo">TBD_TransInBatchNo=#TBD_TransInBatchNo#</isNotEmpty>
      <isNotEmpty prepend="," property="TBD_ThirdNo">TBD_ThirdNo=#TBD_ThirdNo#</isNotEmpty>
      <isNotEmpty prepend="," property="TBD_OEMNo">TBD_OEMNo=#TBD_OEMNo#</isNotEmpty>
      <isNotEmpty prepend="," property="TBD_Name">TBD_Name=#TBD_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="TBD_Specification">TBD_Specification=#TBD_Specification#</isNotEmpty>
      <isNotEmpty prepend="," property="TBD_SUPP_ID">TBD_SUPP_ID=#TBD_SUPP_ID#</isNotEmpty>
      <isNotNull prepend="," property="TBD_Qty">TBD_Qty=#TBD_Qty#</isNotNull>
      <isNotEmpty prepend="," property="TBD_UOM">TBD_UOM=#TBD_UOM#</isNotEmpty>
      <isNotNull prepend="," property="TBD_SourUnitPrice">TBD_SourUnitPrice=#TBD_SourUnitPrice#</isNotNull>
      <isNotNull prepend="," property="TBD_DestUnitPrice">TBD_DestUnitPrice=#TBD_DestUnitPrice#</isNotNull>
      <isNotEmpty prepend="," property="TBD_IsSettled">TBD_IsSettled=#TBD_IsSettled#</isNotEmpty>
      <isNotNull prepend="," property="TBD_IsValid">TBD_IsValid=#TBD_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="TBD_CreatedBy">TBD_CreatedBy=#TBD_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="TBD_CreatedTime">TBD_CreatedTime=#TBD_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="TBD_UpdatedBy">TBD_UpdatedBy=#TBD_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="TBD_TransID">TBD_TransID=#TBD_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--调拨单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_ID">TBD_ID=#WHERE_TBD_ID#</isNotEmpty>
        <!--调拨单ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TB_ID">TBD_TB_ID=#WHERE_TBD_TB_ID#</isNotEmpty>
        <!--调拨单号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TB_No">TBD_TB_No=#WHERE_TBD_TB_No#</isNotEmpty>
        <!--调出仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutWhId">TBD_TransOutWhId=#WHERE_TBD_TransOutWhId#</isNotEmpty>
        <!--调出仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutBinId">TBD_TransOutBinId=#WHERE_TBD_TransOutBinId#</isNotEmpty>
        <!--调入仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInWhId">TBD_TransInWhId=#WHERE_TBD_TransInWhId#</isNotEmpty>
        <!--调入仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInBinId">TBD_TransInBinId=#WHERE_TBD_TransInBinId#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Barcode">TBD_Barcode=#WHERE_TBD_Barcode#</isNotEmpty>
        <!--调出配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransOutBatchNo">TBD_TransOutBatchNo=#WHERE_TBD_TransOutBatchNo#</isNotEmpty>
        <!--调入配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransInBatchNo">TBD_TransInBatchNo=#WHERE_TBD_TransInBatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_ThirdNo">TBD_ThirdNo=#WHERE_TBD_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_OEMNo">TBD_OEMNo=#WHERE_TBD_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Name">TBD_Name=#WHERE_TBD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_Specification">TBD_Specification=#WHERE_TBD_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_SUPP_ID">TBD_SUPP_ID=#WHERE_TBD_SUPP_ID#</isNotEmpty>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_TBD_Qty">TBD_Qty=#WHERE_TBD_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_UOM">TBD_UOM=#WHERE_TBD_UOM#</isNotEmpty>
        <!--源库存单价-->
        <isNotNull prepend="AND" property="WHERE_TBD_SourUnitPrice">TBD_SourUnitPrice=#WHERE_TBD_SourUnitPrice#</isNotNull>
        <!--入库单价-->
        <isNotNull prepend="AND" property="WHERE_TBD_DestUnitPrice">TBD_DestUnitPrice=#WHERE_TBD_DestUnitPrice#</isNotNull>
        <!--已结算标志-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_IsSettled">TBD_IsSettled=#WHERE_TBD_IsSettled#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_TBD_IsValid">TBD_IsValid=#WHERE_TBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_CreatedBy">TBD_CreatedBy=#WHERE_TBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">TBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_UpdatedBy">TBD_UpdatedBy=#WHERE_TBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">TBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_TBD_VersionNo">TBD_VersionNo=#WHERE_TBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_TBD_TransID">TBD_TransID=#WHERE_TBD_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[调拨单明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_TransferBillDetail" parameterClass="List">
      DELETE FROM PIS_TransferBillDetail
      WHERE TBD_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_TBD_ID#
      </iterate>
    </delete>

    <!--新增[入库单]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_StockInBill" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_StockInBill
        (
        <!--入库单ID-->
        SIB_ID,
        <!--组织ID-->
        SIB_Org_ID,
        <!--单号-->
        SIB_No,
        <!--来源类型编码-->
        SIB_SourceTypeCode,
        <!--来源类型名称-->
        SIB_SourceTypeName,
        <!--来源单号-->
        SIB_SourceNo,
        <!--单据状态编码-->
        SIB_StatusCode,
        <!--单据状态名称-->
        SIB_StatusName,
        <!--审核状态编码-->
        SIB_ApprovalStatusCode,
        <!--审核状态名称-->
        SIB_ApprovalStatusName,
        <!--备注-->
        SIB_Remark,
        <!--有效-->
        SIB_IsValid,
        <!--创建人-->
        SIB_CreatedBy,
        <!--创建时间-->
        SIB_CreatedTime,
        <!--修改人-->
        SIB_UpdatedBy,
        <!--修改时间-->
        SIB_UpdatedTime,
        <!--版本号-->
        SIB_VersionNo,
        <!--事务编号-->
        SIB_TransID
        )
        VALUES
        (
        <!--入库单ID-->
        #[].SIB_ID#,
        <!--组织ID-->
        #[].SIB_Org_ID#,
        <!--单号-->
        #[].SIB_No#,
        <!--来源类型编码-->
        #[].SIB_SourceTypeCode#,
        <!--来源类型名称-->
        #[].SIB_SourceTypeName#,
        <!--来源单号-->
        #[].SIB_SourceNo#,
        <!--单据状态编码-->
        #[].SIB_StatusCode#,
        <!--单据状态名称-->
        #[].SIB_StatusName#,
        <!--审核状态编码-->
        #[].SIB_ApprovalStatusCode#,
        <!--审核状态名称-->
        #[].SIB_ApprovalStatusName#,
        <!--备注-->
        #[].SIB_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].SIB_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].SIB_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].SIB_TransID#
        )
      </iterate>
    </insert>

    <!--查询[入库单]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_StockInBill" parameterClass="MDLPIS_StockInBill" resultClass="MDLPIS_StockInBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SIB_ID)
      FROM PIS_StockInBill
      <dynamic prepend="WHERE">
        <!--入库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ID">SIB_ID=#WHERE_SIB_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_Org_ID">SIB_Org_ID=#WHERE_SIB_Org_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_No">SIB_No=#WHERE_SIB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceTypeCode">SIB_SourceTypeCode=#WHERE_SIB_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceTypeName">SIB_SourceTypeName=#WHERE_SIB_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceNo">SIB_SourceNo=#WHERE_SIB_SourceNo#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_StatusCode">SIB_StatusCode=#WHERE_SIB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_StatusName">SIB_StatusName=#WHERE_SIB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ApprovalStatusCode">SIB_ApprovalStatusCode=#WHERE_SIB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ApprovalStatusName">SIB_ApprovalStatusName=#WHERE_SIB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_Remark">SIB_Remark=#WHERE_SIB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SIB_IsValid">SIB_IsValid=#WHERE_SIB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_CreatedBy">SIB_CreatedBy=#WHERE_SIB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_UpdatedBy">SIB_UpdatedBy=#WHERE_SIB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SIB_VersionNo">SIB_VersionNo=#WHERE_SIB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_TransID">SIB_TransID=#WHERE_SIB_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SIB_ID,
      SIB_Org_ID,
      SIB_No,
      SIB_SourceTypeCode,
      SIB_SourceTypeName,
      SIB_SourceNo,
      SIB_StatusCode,
      SIB_StatusName,
      SIB_ApprovalStatusCode,
      SIB_ApprovalStatusName,
      SIB_Remark,
      SIB_IsValid,
      SIB_CreatedBy,
      SIB_CreatedTime,
      SIB_UpdatedBy,
      SIB_UpdatedTime,
      SIB_VersionNo,
      SIB_TransID
      FROM PIS_StockInBill
      <dynamic prepend="WHERE">
        <!--入库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ID">SIB_ID=#WHERE_SIB_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_Org_ID">SIB_Org_ID=#WHERE_SIB_Org_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_No">SIB_No=#WHERE_SIB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceTypeCode">SIB_SourceTypeCode=#WHERE_SIB_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceTypeName">SIB_SourceTypeName=#WHERE_SIB_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceNo">SIB_SourceNo=#WHERE_SIB_SourceNo#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_StatusCode">SIB_StatusCode=#WHERE_SIB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_StatusName">SIB_StatusName=#WHERE_SIB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ApprovalStatusCode">SIB_ApprovalStatusCode=#WHERE_SIB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ApprovalStatusName">SIB_ApprovalStatusName=#WHERE_SIB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_Remark">SIB_Remark=#WHERE_SIB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SIB_IsValid">SIB_IsValid=#WHERE_SIB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_CreatedBy">SIB_CreatedBy=#WHERE_SIB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_UpdatedBy">SIB_UpdatedBy=#WHERE_SIB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SIB_VersionNo">SIB_VersionNo=#WHERE_SIB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_TransID">SIB_TransID=#WHERE_SIB_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SIB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[入库单]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_StockInBill" parameterClass="MDLPIS_StockInBill" resultClass="MDLPIS_StockInBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SIB_ID)
      FROM PIS_StockInBill
      <dynamic prepend="WHERE">
        <!--入库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ID">SIB_ID=#WHERE_SIB_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_Org_ID">SIB_Org_ID LIKE '%'+#WHERE_SIB_Org_ID#+'%'</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_No">SIB_No LIKE '%'+#WHERE_SIB_No#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceTypeCode">SIB_SourceTypeCode LIKE '%'+#WHERE_SIB_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceTypeName">SIB_SourceTypeName LIKE '%'+#WHERE_SIB_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceNo">SIB_SourceNo LIKE '%'+#WHERE_SIB_SourceNo#+'%'</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_StatusCode">SIB_StatusCode LIKE '%'+#WHERE_SIB_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_StatusName">SIB_StatusName LIKE '%'+#WHERE_SIB_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ApprovalStatusCode">SIB_ApprovalStatusCode LIKE '%'+#WHERE_SIB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ApprovalStatusName">SIB_ApprovalStatusName LIKE '%'+#WHERE_SIB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_Remark">SIB_Remark LIKE '%'+#WHERE_SIB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SIB_IsValid">SIB_IsValid=#WHERE_SIB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_CreatedBy">SIB_CreatedBy LIKE '%'+#WHERE_SIB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_UpdatedBy">SIB_UpdatedBy LIKE '%'+#WHERE_SIB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SIB_VersionNo">SIB_VersionNo=#WHERE_SIB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_TransID">SIB_TransID LIKE '%'+#WHERE_SIB_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SIB_ID,
      SIB_Org_ID,
      SIB_No,
      SIB_SourceTypeCode,
      SIB_SourceTypeName,
      SIB_SourceNo,
      SIB_StatusCode,
      SIB_StatusName,
      SIB_ApprovalStatusCode,
      SIB_ApprovalStatusName,
      SIB_Remark,
      SIB_IsValid,
      SIB_CreatedBy,
      SIB_CreatedTime,
      SIB_UpdatedBy,
      SIB_UpdatedTime,
      SIB_VersionNo,
      SIB_TransID
      FROM PIS_StockInBill
      <dynamic prepend="WHERE">
        <!--入库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ID">SIB_ID=#WHERE_SIB_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_Org_ID">SIB_Org_ID LIKE '%'+#WHERE_SIB_Org_ID#+'%'</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_No">SIB_No LIKE '%'+#WHERE_SIB_No#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceTypeCode">SIB_SourceTypeCode LIKE '%'+#WHERE_SIB_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceTypeName">SIB_SourceTypeName LIKE '%'+#WHERE_SIB_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceNo">SIB_SourceNo LIKE '%'+#WHERE_SIB_SourceNo#+'%'</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_StatusCode">SIB_StatusCode LIKE '%'+#WHERE_SIB_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_StatusName">SIB_StatusName LIKE '%'+#WHERE_SIB_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ApprovalStatusCode">SIB_ApprovalStatusCode LIKE '%'+#WHERE_SIB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ApprovalStatusName">SIB_ApprovalStatusName LIKE '%'+#WHERE_SIB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_Remark">SIB_Remark LIKE '%'+#WHERE_SIB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SIB_IsValid">SIB_IsValid=#WHERE_SIB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_CreatedBy">SIB_CreatedBy LIKE '%'+#WHERE_SIB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_UpdatedBy">SIB_UpdatedBy LIKE '%'+#WHERE_SIB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SIB_VersionNo">SIB_VersionNo=#WHERE_SIB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_TransID">SIB_TransID LIKE '%'+#WHERE_SIB_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SIB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[入库单]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_StockInBill" parameterClass="MDLPIS_StockInBill" resultClass="int">
      SELECT COUNT(SIB_ID) 'RecordCount'
      FROM PIS_StockInBill
      <dynamic prepend="WHERE">
        <!--入库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ID">SIB_ID=#WHERE_SIB_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_Org_ID">SIB_Org_ID=#WHERE_SIB_Org_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_No">SIB_No=#WHERE_SIB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceTypeCode">SIB_SourceTypeCode=#WHERE_SIB_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceTypeName">SIB_SourceTypeName=#WHERE_SIB_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceNo">SIB_SourceNo=#WHERE_SIB_SourceNo#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_StatusCode">SIB_StatusCode=#WHERE_SIB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_StatusName">SIB_StatusName=#WHERE_SIB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ApprovalStatusCode">SIB_ApprovalStatusCode=#WHERE_SIB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ApprovalStatusName">SIB_ApprovalStatusName=#WHERE_SIB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_Remark">SIB_Remark=#WHERE_SIB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SIB_IsValid">SIB_IsValid=#WHERE_SIB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_CreatedBy">SIB_CreatedBy=#WHERE_SIB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_UpdatedBy">SIB_UpdatedBy=#WHERE_SIB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SIB_VersionNo">SIB_VersionNo=#WHERE_SIB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_TransID">SIB_TransID=#WHERE_SIB_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[入库单]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_StockInBill" parameterClass="MDLPIS_StockInBill" >
      UPDATE PIS_StockInBill
      SET
      SIB_UpdatedTime=GETDATE(),
      SIB_VersionNo=SIB_VersionNo+1
      <isNotEmpty prepend="," property="SIB_Org_ID">SIB_Org_ID=#SIB_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="SIB_No">SIB_No=#SIB_No#</isNotEmpty>
      <isNotEmpty prepend="," property="SIB_SourceTypeCode">SIB_SourceTypeCode=#SIB_SourceTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SIB_SourceTypeName">SIB_SourceTypeName=#SIB_SourceTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="SIB_SourceNo">SIB_SourceNo=#SIB_SourceNo#</isNotEmpty>
      <isNotEmpty prepend="," property="SIB_StatusCode">SIB_StatusCode=#SIB_StatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SIB_StatusName">SIB_StatusName=#SIB_StatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="SIB_ApprovalStatusCode">SIB_ApprovalStatusCode=#SIB_ApprovalStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SIB_ApprovalStatusName">SIB_ApprovalStatusName=#SIB_ApprovalStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="SIB_Remark">SIB_Remark=#SIB_Remark#</isNotEmpty>
      <isNotNull prepend="," property="SIB_IsValid">SIB_IsValid=#SIB_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="SIB_CreatedBy">SIB_CreatedBy=#SIB_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="SIB_CreatedTime">SIB_CreatedTime=#SIB_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="SIB_UpdatedBy">SIB_UpdatedBy=#SIB_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="SIB_TransID">SIB_TransID=#SIB_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--入库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ID">SIB_ID=#WHERE_SIB_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_Org_ID">SIB_Org_ID=#WHERE_SIB_Org_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_No">SIB_No=#WHERE_SIB_No#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceTypeCode">SIB_SourceTypeCode=#WHERE_SIB_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceTypeName">SIB_SourceTypeName=#WHERE_SIB_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_SourceNo">SIB_SourceNo=#WHERE_SIB_SourceNo#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_StatusCode">SIB_StatusCode=#WHERE_SIB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_StatusName">SIB_StatusName=#WHERE_SIB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ApprovalStatusCode">SIB_ApprovalStatusCode=#WHERE_SIB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_ApprovalStatusName">SIB_ApprovalStatusName=#WHERE_SIB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_Remark">SIB_Remark=#WHERE_SIB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SIB_IsValid">SIB_IsValid=#WHERE_SIB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_CreatedBy">SIB_CreatedBy=#WHERE_SIB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SIB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_UpdatedBy">SIB_UpdatedBy=#WHERE_SIB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SIB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SIB_VersionNo">SIB_VersionNo=#WHERE_SIB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SIB_TransID">SIB_TransID=#WHERE_SIB_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[入库单]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_StockInBill" parameterClass="List">
      DELETE FROM PIS_StockInBill
      WHERE SIB_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_SIB_ID#
      </iterate>
    </delete>

    <!--新增[入库单明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLPIS_StockInDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        PIS_StockInDetail
        (
        <!--入库单明细ID-->
        SID_ID,
        <!--入库单ID-->
        SID_SIB_ID,
        <!--入库单号-->
        SID_SIB_No,
        <!--来源单明细ID-->
        SID_SourceDetailID,
        <!--配件条码-->
        SID_Barcode,
        <!--配件批次号-->
        SID_BatchNo,
        <!--第三方编码-->
        SID_ThirdNo,
        <!--原厂编码-->
        SID_OEMNo,
        <!--配件名称-->
        SID_Name,
        <!--配件规格型号-->
        SID_Specification,
        <!--供应商ID-->
        SID_SUPP_ID,
        <!--仓库ID-->
        SID_WH_ID,
        <!--仓位ID-->
        SID_WHB_ID,
        <!--入库数量-->
        SID_Qty,
        <!--单位-->
        SID_UOM,
        <!--入库单价-->
        SID_UnitCostPrice,
        <!--入库金额-->
        SID_Amount,
        <!--已结算标志-->
        SID_IsSettled,
        <!--有效-->
        SID_IsValid,
        <!--创建人-->
        SID_CreatedBy,
        <!--创建时间-->
        SID_CreatedTime,
        <!--修改人-->
        SID_UpdatedBy,
        <!--修改时间-->
        SID_UpdatedTime,
        <!--版本号-->
        SID_VersionNo,
        <!--事务编号-->
        SID_TransID
        )
        VALUES
        (
        <!--入库单明细ID-->
        #[].SID_ID#,
        <!--入库单ID-->
        #[].SID_SIB_ID#,
        <!--入库单号-->
        #[].SID_SIB_No#,
        <!--来源单明细ID-->
        #[].SID_SourceDetailID#,
        <!--配件条码-->
        #[].SID_Barcode#,
        <!--配件批次号-->
        #[].SID_BatchNo#,
        <!--第三方编码-->
        #[].SID_ThirdNo#,
        <!--原厂编码-->
        #[].SID_OEMNo#,
        <!--配件名称-->
        #[].SID_Name#,
        <!--配件规格型号-->
        #[].SID_Specification#,
        <!--供应商ID-->
        #[].SID_SUPP_ID#,
        <!--仓库ID-->
        #[].SID_WH_ID#,
        <!--仓位ID-->
        #[].SID_WHB_ID#,
        <!--入库数量-->
        #[].SID_Qty#,
        <!--单位-->
        #[].SID_UOM#,
        <!--入库单价-->
        #[].SID_UnitCostPrice#,
        <!--入库金额-->
        #[].SID_Amount#,
        <!--已结算标志-->
        #[].SID_IsSettled#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].SID_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].SID_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].SID_TransID#
        )
      </iterate>
    </insert>

    <!--查询[入库单明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLPIS_StockInDetail" parameterClass="MDLPIS_StockInDetail" resultClass="MDLPIS_StockInDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SID_ID)
      FROM PIS_StockInDetail
      <dynamic prepend="WHERE">
        <!--入库单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_ID">SID_ID=#WHERE_SID_ID#</isNotEmpty>
        <!--入库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SIB_ID">SID_SIB_ID=#WHERE_SID_SIB_ID#</isNotEmpty>
        <!--入库单号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SIB_No">SID_SIB_No=#WHERE_SID_SIB_No#</isNotEmpty>
        <!--来源单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SourceDetailID">SID_SourceDetailID=#WHERE_SID_SourceDetailID#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Barcode">SID_Barcode=#WHERE_SID_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_BatchNo">SID_BatchNo=#WHERE_SID_BatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_ThirdNo">SID_ThirdNo=#WHERE_SID_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_OEMNo">SID_OEMNo=#WHERE_SID_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Name">SID_Name=#WHERE_SID_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Specification">SID_Specification=#WHERE_SID_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SUPP_ID">SID_SUPP_ID=#WHERE_SID_SUPP_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_WH_ID">SID_WH_ID=#WHERE_SID_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_WHB_ID">SID_WHB_ID=#WHERE_SID_WHB_ID#</isNotEmpty>
        <!--入库数量-->
        <isNotNull prepend="AND" property="WHERE_SID_Qty">SID_Qty=#WHERE_SID_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SID_UOM">SID_UOM=#WHERE_SID_UOM#</isNotEmpty>
        <!--入库单价-->
        <isNotNull prepend="AND" property="WHERE_SID_UnitCostPrice">SID_UnitCostPrice=#WHERE_SID_UnitCostPrice#</isNotNull>
        <!--入库金额-->
        <isNotNull prepend="AND" property="WHERE_SID_Amount">SID_Amount=#WHERE_SID_Amount#</isNotNull>
        <!--已结算标志-->
        <isNotNull prepend="AND" property="WHERE_SID_IsSettled">SID_IsSettled=#WHERE_SID_IsSettled#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SID_IsValid">SID_IsValid=#WHERE_SID_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SID_CreatedBy">SID_CreatedBy=#WHERE_SID_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SID_UpdatedBy">SID_UpdatedBy=#WHERE_SID_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SID_VersionNo">SID_VersionNo=#WHERE_SID_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_TransID">SID_TransID=#WHERE_SID_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SID_ID,
      SID_SIB_ID,
      SID_SIB_No,
      SID_SourceDetailID,
      SID_Barcode,
      SID_BatchNo,
      SID_ThirdNo,
      SID_OEMNo,
      SID_Name,
      SID_Specification,
      SID_SUPP_ID,
      SID_WH_ID,
      SID_WHB_ID,
      SID_Qty,
      SID_UOM,
      SID_UnitCostPrice,
      SID_Amount,
      SID_IsSettled,
      SID_IsValid,
      SID_CreatedBy,
      SID_CreatedTime,
      SID_UpdatedBy,
      SID_UpdatedTime,
      SID_VersionNo,
      SID_TransID
      FROM PIS_StockInDetail
      <dynamic prepend="WHERE">
        <!--入库单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_ID">SID_ID=#WHERE_SID_ID#</isNotEmpty>
        <!--入库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SIB_ID">SID_SIB_ID=#WHERE_SID_SIB_ID#</isNotEmpty>
        <!--入库单号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SIB_No">SID_SIB_No=#WHERE_SID_SIB_No#</isNotEmpty>
        <!--来源单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SourceDetailID">SID_SourceDetailID=#WHERE_SID_SourceDetailID#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Barcode">SID_Barcode=#WHERE_SID_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_BatchNo">SID_BatchNo=#WHERE_SID_BatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_ThirdNo">SID_ThirdNo=#WHERE_SID_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_OEMNo">SID_OEMNo=#WHERE_SID_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Name">SID_Name=#WHERE_SID_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Specification">SID_Specification=#WHERE_SID_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SUPP_ID">SID_SUPP_ID=#WHERE_SID_SUPP_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_WH_ID">SID_WH_ID=#WHERE_SID_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_WHB_ID">SID_WHB_ID=#WHERE_SID_WHB_ID#</isNotEmpty>
        <!--入库数量-->
        <isNotNull prepend="AND" property="WHERE_SID_Qty">SID_Qty=#WHERE_SID_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SID_UOM">SID_UOM=#WHERE_SID_UOM#</isNotEmpty>
        <!--入库单价-->
        <isNotNull prepend="AND" property="WHERE_SID_UnitCostPrice">SID_UnitCostPrice=#WHERE_SID_UnitCostPrice#</isNotNull>
        <!--入库金额-->
        <isNotNull prepend="AND" property="WHERE_SID_Amount">SID_Amount=#WHERE_SID_Amount#</isNotNull>
        <!--已结算标志-->
        <isNotNull prepend="AND" property="WHERE_SID_IsSettled">SID_IsSettled=#WHERE_SID_IsSettled#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SID_IsValid">SID_IsValid=#WHERE_SID_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SID_CreatedBy">SID_CreatedBy=#WHERE_SID_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SID_UpdatedBy">SID_UpdatedBy=#WHERE_SID_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SID_VersionNo">SID_VersionNo=#WHERE_SID_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_TransID">SID_TransID=#WHERE_SID_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SID_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[入库单明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLPIS_StockInDetail" parameterClass="MDLPIS_StockInDetail" resultClass="MDLPIS_StockInDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SID_ID)
      FROM PIS_StockInDetail
      <dynamic prepend="WHERE">
        <!--入库单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_ID">SID_ID=#WHERE_SID_ID#</isNotEmpty>
        <!--入库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SIB_ID">SID_SIB_ID LIKE '%'+#WHERE_SID_SIB_ID#+'%'</isNotEmpty>
        <!--入库单号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SIB_No">SID_SIB_No LIKE '%'+#WHERE_SID_SIB_No#+'%'</isNotEmpty>
        <!--来源单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SourceDetailID">SID_SourceDetailID LIKE '%'+#WHERE_SID_SourceDetailID#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Barcode">SID_Barcode LIKE '%'+#WHERE_SID_Barcode#+'%'</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_BatchNo">SID_BatchNo LIKE '%'+#WHERE_SID_BatchNo#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_ThirdNo">SID_ThirdNo LIKE '%'+#WHERE_SID_ThirdNo#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_OEMNo">SID_OEMNo LIKE '%'+#WHERE_SID_OEMNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Name">SID_Name LIKE '%'+#WHERE_SID_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Specification">SID_Specification LIKE '%'+#WHERE_SID_Specification#+'%'</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SUPP_ID">SID_SUPP_ID LIKE '%'+#WHERE_SID_SUPP_ID#+'%'</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_WH_ID">SID_WH_ID LIKE '%'+#WHERE_SID_WH_ID#+'%'</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_WHB_ID">SID_WHB_ID LIKE '%'+#WHERE_SID_WHB_ID#+'%'</isNotEmpty>
        <!--入库数量-->
        <isNotNull prepend="AND" property="WHERE_SID_Qty">SID_Qty=#WHERE_SID_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SID_UOM">SID_UOM LIKE '%'+#WHERE_SID_UOM#+'%'</isNotEmpty>
        <!--入库单价-->
        <isNotNull prepend="AND" property="WHERE_SID_UnitCostPrice">SID_UnitCostPrice=#WHERE_SID_UnitCostPrice#</isNotNull>
        <!--入库金额-->
        <isNotNull prepend="AND" property="WHERE_SID_Amount">SID_Amount=#WHERE_SID_Amount#</isNotNull>
        <!--已结算标志-->
        <isNotNull prepend="AND" property="WHERE_SID_IsSettled">SID_IsSettled=#WHERE_SID_IsSettled#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SID_IsValid">SID_IsValid=#WHERE_SID_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SID_CreatedBy">SID_CreatedBy LIKE '%'+#WHERE_SID_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SID_UpdatedBy">SID_UpdatedBy LIKE '%'+#WHERE_SID_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SID_VersionNo">SID_VersionNo=#WHERE_SID_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_TransID">SID_TransID LIKE '%'+#WHERE_SID_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SID_ID,
      SID_SIB_ID,
      SID_SIB_No,
      SID_SourceDetailID,
      SID_Barcode,
      SID_BatchNo,
      SID_ThirdNo,
      SID_OEMNo,
      SID_Name,
      SID_Specification,
      SID_SUPP_ID,
      SID_WH_ID,
      SID_WHB_ID,
      SID_Qty,
      SID_UOM,
      SID_UnitCostPrice,
      SID_Amount,
      SID_IsSettled,
      SID_IsValid,
      SID_CreatedBy,
      SID_CreatedTime,
      SID_UpdatedBy,
      SID_UpdatedTime,
      SID_VersionNo,
      SID_TransID
      FROM PIS_StockInDetail
      <dynamic prepend="WHERE">
        <!--入库单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_ID">SID_ID=#WHERE_SID_ID#</isNotEmpty>
        <!--入库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SIB_ID">SID_SIB_ID LIKE '%'+#WHERE_SID_SIB_ID#+'%'</isNotEmpty>
        <!--入库单号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SIB_No">SID_SIB_No LIKE '%'+#WHERE_SID_SIB_No#+'%'</isNotEmpty>
        <!--来源单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SourceDetailID">SID_SourceDetailID LIKE '%'+#WHERE_SID_SourceDetailID#+'%'</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Barcode">SID_Barcode LIKE '%'+#WHERE_SID_Barcode#+'%'</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_BatchNo">SID_BatchNo LIKE '%'+#WHERE_SID_BatchNo#+'%'</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_ThirdNo">SID_ThirdNo LIKE '%'+#WHERE_SID_ThirdNo#+'%'</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_OEMNo">SID_OEMNo LIKE '%'+#WHERE_SID_OEMNo#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Name">SID_Name LIKE '%'+#WHERE_SID_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Specification">SID_Specification LIKE '%'+#WHERE_SID_Specification#+'%'</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SUPP_ID">SID_SUPP_ID LIKE '%'+#WHERE_SID_SUPP_ID#+'%'</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_WH_ID">SID_WH_ID LIKE '%'+#WHERE_SID_WH_ID#+'%'</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_WHB_ID">SID_WHB_ID LIKE '%'+#WHERE_SID_WHB_ID#+'%'</isNotEmpty>
        <!--入库数量-->
        <isNotNull prepend="AND" property="WHERE_SID_Qty">SID_Qty=#WHERE_SID_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SID_UOM">SID_UOM LIKE '%'+#WHERE_SID_UOM#+'%'</isNotEmpty>
        <!--入库单价-->
        <isNotNull prepend="AND" property="WHERE_SID_UnitCostPrice">SID_UnitCostPrice=#WHERE_SID_UnitCostPrice#</isNotNull>
        <!--入库金额-->
        <isNotNull prepend="AND" property="WHERE_SID_Amount">SID_Amount=#WHERE_SID_Amount#</isNotNull>
        <!--已结算标志-->
        <isNotNull prepend="AND" property="WHERE_SID_IsSettled">SID_IsSettled=#WHERE_SID_IsSettled#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SID_IsValid">SID_IsValid=#WHERE_SID_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SID_CreatedBy">SID_CreatedBy LIKE '%'+#WHERE_SID_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SID_UpdatedBy">SID_UpdatedBy LIKE '%'+#WHERE_SID_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SID_VersionNo">SID_VersionNo=#WHERE_SID_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_TransID">SID_TransID LIKE '%'+#WHERE_SID_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SID_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[入库单明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLPIS_StockInDetail" parameterClass="MDLPIS_StockInDetail" resultClass="int">
      SELECT COUNT(SID_ID) 'RecordCount'
      FROM PIS_StockInDetail
      <dynamic prepend="WHERE">
        <!--入库单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_ID">SID_ID=#WHERE_SID_ID#</isNotEmpty>
        <!--入库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SIB_ID">SID_SIB_ID=#WHERE_SID_SIB_ID#</isNotEmpty>
        <!--入库单号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SIB_No">SID_SIB_No=#WHERE_SID_SIB_No#</isNotEmpty>
        <!--来源单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SourceDetailID">SID_SourceDetailID=#WHERE_SID_SourceDetailID#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Barcode">SID_Barcode=#WHERE_SID_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_BatchNo">SID_BatchNo=#WHERE_SID_BatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_ThirdNo">SID_ThirdNo=#WHERE_SID_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_OEMNo">SID_OEMNo=#WHERE_SID_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Name">SID_Name=#WHERE_SID_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Specification">SID_Specification=#WHERE_SID_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SUPP_ID">SID_SUPP_ID=#WHERE_SID_SUPP_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_WH_ID">SID_WH_ID=#WHERE_SID_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_WHB_ID">SID_WHB_ID=#WHERE_SID_WHB_ID#</isNotEmpty>
        <!--入库数量-->
        <isNotNull prepend="AND" property="WHERE_SID_Qty">SID_Qty=#WHERE_SID_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SID_UOM">SID_UOM=#WHERE_SID_UOM#</isNotEmpty>
        <!--入库单价-->
        <isNotNull prepend="AND" property="WHERE_SID_UnitCostPrice">SID_UnitCostPrice=#WHERE_SID_UnitCostPrice#</isNotNull>
        <!--入库金额-->
        <isNotNull prepend="AND" property="WHERE_SID_Amount">SID_Amount=#WHERE_SID_Amount#</isNotNull>
        <!--已结算标志-->
        <isNotNull prepend="AND" property="WHERE_SID_IsSettled">SID_IsSettled=#WHERE_SID_IsSettled#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SID_IsValid">SID_IsValid=#WHERE_SID_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SID_CreatedBy">SID_CreatedBy=#WHERE_SID_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SID_UpdatedBy">SID_UpdatedBy=#WHERE_SID_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SID_VersionNo">SID_VersionNo=#WHERE_SID_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_TransID">SID_TransID=#WHERE_SID_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[入库单明细]信息-->
    <update id="COMM_SQL_UpdateMDLPIS_StockInDetail" parameterClass="MDLPIS_StockInDetail" >
      UPDATE PIS_StockInDetail
      SET
      SID_UpdatedTime=GETDATE(),
      SID_VersionNo=SID_VersionNo+1
      <isNotEmpty prepend="," property="SID_SIB_ID">SID_SIB_ID=#SID_SIB_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="SID_SIB_No">SID_SIB_No=#SID_SIB_No#</isNotEmpty>
      <isNotEmpty prepend="," property="SID_SourceDetailID">SID_SourceDetailID=#SID_SourceDetailID#</isNotEmpty>
      <isNotEmpty prepend="," property="SID_Barcode">SID_Barcode=#SID_Barcode#</isNotEmpty>
      <isNotEmpty prepend="," property="SID_BatchNo">SID_BatchNo=#SID_BatchNo#</isNotEmpty>
      <isNotEmpty prepend="," property="SID_ThirdNo">SID_ThirdNo=#SID_ThirdNo#</isNotEmpty>
      <isNotEmpty prepend="," property="SID_OEMNo">SID_OEMNo=#SID_OEMNo#</isNotEmpty>
      <isNotEmpty prepend="," property="SID_Name">SID_Name=#SID_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="SID_Specification">SID_Specification=#SID_Specification#</isNotEmpty>
      <isNotEmpty prepend="," property="SID_SUPP_ID">SID_SUPP_ID=#SID_SUPP_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="SID_WH_ID">SID_WH_ID=#SID_WH_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="SID_WHB_ID">SID_WHB_ID=#SID_WHB_ID#</isNotEmpty>
      <isNotNull prepend="," property="SID_Qty">SID_Qty=#SID_Qty#</isNotNull>
      <isNotEmpty prepend="," property="SID_UOM">SID_UOM=#SID_UOM#</isNotEmpty>
      <isNotNull prepend="," property="SID_UnitCostPrice">SID_UnitCostPrice=#SID_UnitCostPrice#</isNotNull>
      <isNotNull prepend="," property="SID_Amount">SID_Amount=#SID_Amount#</isNotNull>
      <isNotNull prepend="," property="SID_IsSettled">SID_IsSettled=#SID_IsSettled#</isNotNull>
      <isNotNull prepend="," property="SID_IsValid">SID_IsValid=#SID_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="SID_CreatedBy">SID_CreatedBy=#SID_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="SID_CreatedTime">SID_CreatedTime=#SID_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="SID_UpdatedBy">SID_UpdatedBy=#SID_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="SID_TransID">SID_TransID=#SID_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--入库单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_ID">SID_ID=#WHERE_SID_ID#</isNotEmpty>
        <!--入库单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SIB_ID">SID_SIB_ID=#WHERE_SID_SIB_ID#</isNotEmpty>
        <!--入库单号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SIB_No">SID_SIB_No=#WHERE_SID_SIB_No#</isNotEmpty>
        <!--来源单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SourceDetailID">SID_SourceDetailID=#WHERE_SID_SourceDetailID#</isNotEmpty>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Barcode">SID_Barcode=#WHERE_SID_Barcode#</isNotEmpty>
        <!--配件批次号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_BatchNo">SID_BatchNo=#WHERE_SID_BatchNo#</isNotEmpty>
        <!--第三方编码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_ThirdNo">SID_ThirdNo=#WHERE_SID_ThirdNo#</isNotEmpty>
        <!--原厂编码-->
        <isNotEmpty prepend="AND" property="WHERE_SID_OEMNo">SID_OEMNo=#WHERE_SID_OEMNo#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Name">SID_Name=#WHERE_SID_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_Specification">SID_Specification=#WHERE_SID_Specification#</isNotEmpty>
        <!--供应商ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_SUPP_ID">SID_SUPP_ID=#WHERE_SID_SUPP_ID#</isNotEmpty>
        <!--仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_WH_ID">SID_WH_ID=#WHERE_SID_WH_ID#</isNotEmpty>
        <!--仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SID_WHB_ID">SID_WHB_ID=#WHERE_SID_WHB_ID#</isNotEmpty>
        <!--入库数量-->
        <isNotNull prepend="AND" property="WHERE_SID_Qty">SID_Qty=#WHERE_SID_Qty#</isNotNull>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SID_UOM">SID_UOM=#WHERE_SID_UOM#</isNotEmpty>
        <!--入库单价-->
        <isNotNull prepend="AND" property="WHERE_SID_UnitCostPrice">SID_UnitCostPrice=#WHERE_SID_UnitCostPrice#</isNotNull>
        <!--入库金额-->
        <isNotNull prepend="AND" property="WHERE_SID_Amount">SID_Amount=#WHERE_SID_Amount#</isNotNull>
        <!--已结算标志-->
        <isNotNull prepend="AND" property="WHERE_SID_IsSettled">SID_IsSettled=#WHERE_SID_IsSettled#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SID_IsValid">SID_IsValid=#WHERE_SID_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SID_CreatedBy">SID_CreatedBy=#WHERE_SID_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SID_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SID_UpdatedBy">SID_UpdatedBy=#WHERE_SID_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SID_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SID_VersionNo">SID_VersionNo=#WHERE_SID_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SID_TransID">SID_TransID=#WHERE_SID_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[入库单明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLPIS_StockInDetail" parameterClass="List">
      DELETE FROM PIS_StockInDetail
      WHERE SID_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_SID_ID#
      </iterate>
    </delete>

    <!--新增[微信菜单]信息-->
    <insert id="COMM_SQL_INSERT_MDLWC_Menu" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        WC_Menu
        (
        <!--菜单ID-->
        WM_ID,
        <!--平台编码-->
        WM_PlatformCode,
        <!--父菜单-->
        WM_ParentID,
        <!--是否叶节点-->
        WM_Isleff,
        <!--菜单名称-->
        WM_Name,
        <!--菜单类型-->
        WM_Type,
        <!--菜单Key-->
        WM_Key,
        <!--菜单URL-->
        WM_URL,
        <!--MediaID-->
        WM_MediaID,
        <!--显示顺序-->
        WM_Index,
        <!--有效-->
        WM_IsValid,
        <!--创建人-->
        WM_CreatedBy,
        <!--创建时间-->
        WM_CreatedTime,
        <!--修改人-->
        WM_UpdatedBy,
        <!--修改时间-->
        WM_UpdatedTime,
        <!--版本号-->
        WM_VersionNo,
        <!--事务编号-->
        WM_TransID
        )
        VALUES
        (
        <!--菜单ID-->
        #[].WM_ID#,
        <!--平台编码-->
        #[].WM_PlatformCode#,
        <!--父菜单-->
        #[].WM_ParentID#,
        <!--是否叶节点-->
        #[].WM_Isleff#,
        <!--菜单名称-->
        #[].WM_Name#,
        <!--菜单类型-->
        #[].WM_Type#,
        <!--菜单Key-->
        #[].WM_Key#,
        <!--菜单URL-->
        #[].WM_URL#,
        <!--MediaID-->
        #[].WM_MediaID#,
        <!--显示顺序-->
        #[].WM_Index#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].WM_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].WM_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].WM_TransID#
        )
      </iterate>
    </insert>

    <!--查询[微信菜单]信息（精确条件）-->
    <select id="COMM_SQL_MDLWC_Menu" parameterClass="MDLWC_Menu" resultClass="MDLWC_Menu">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WM_ID)
      FROM WC_Menu
      <dynamic prepend="WHERE">
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_WM_ID">WM_ID=#WHERE_WM_ID#</isNotEmpty>
        <!--平台编码-->
        <isNotEmpty prepend="AND" property="WHERE_WM_PlatformCode">WM_PlatformCode=#WHERE_WM_PlatformCode#</isNotEmpty>
        <!--父菜单-->
        <isNotEmpty prepend="AND" property="WHERE_WM_ParentID">WM_ParentID=#WHERE_WM_ParentID#</isNotEmpty>
        <!--是否叶节点-->
        <isNotNull prepend="AND" property="WHERE_WM_Isleff">WM_Isleff=#WHERE_WM_Isleff#</isNotNull>
        <!--菜单名称-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Name">WM_Name=#WHERE_WM_Name#</isNotEmpty>
        <!--菜单类型-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Type">WM_Type=#WHERE_WM_Type#</isNotEmpty>
        <!--菜单Key-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Key">WM_Key=#WHERE_WM_Key#</isNotEmpty>
        <!--菜单URL-->
        <isNotEmpty prepend="AND" property="WHERE_WM_URL">WM_URL=#WHERE_WM_URL#</isNotEmpty>
        <!--MediaID-->
        <isNotEmpty prepend="AND" property="WHERE_WM_MediaID">WM_MediaID=#WHERE_WM_MediaID#</isNotEmpty>
        <!--显示顺序-->
        <isNotNull prepend="AND" property="WHERE_WM_Index">WM_Index=#WHERE_WM_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WM_IsValid">WM_IsValid=#WHERE_WM_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WM_CreatedBy">WM_CreatedBy=#WHERE_WM_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WM_UpdatedBy">WM_UpdatedBy=#WHERE_WM_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WM_VersionNo">WM_VersionNo=#WHERE_WM_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WM_TransID">WM_TransID=#WHERE_WM_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WM_ID,
      WM_PlatformCode,
      WM_ParentID,
      WM_Isleff,
      WM_Name,
      WM_Type,
      WM_Key,
      WM_URL,
      WM_MediaID,
      WM_Index,
      WM_IsValid,
      WM_CreatedBy,
      WM_CreatedTime,
      WM_UpdatedBy,
      WM_UpdatedTime,
      WM_VersionNo,
      WM_TransID
      FROM WC_Menu
      <dynamic prepend="WHERE">
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_WM_ID">WM_ID=#WHERE_WM_ID#</isNotEmpty>
        <!--平台编码-->
        <isNotEmpty prepend="AND" property="WHERE_WM_PlatformCode">WM_PlatformCode=#WHERE_WM_PlatformCode#</isNotEmpty>
        <!--父菜单-->
        <isNotEmpty prepend="AND" property="WHERE_WM_ParentID">WM_ParentID=#WHERE_WM_ParentID#</isNotEmpty>
        <!--是否叶节点-->
        <isNotNull prepend="AND" property="WHERE_WM_Isleff">WM_Isleff=#WHERE_WM_Isleff#</isNotNull>
        <!--菜单名称-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Name">WM_Name=#WHERE_WM_Name#</isNotEmpty>
        <!--菜单类型-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Type">WM_Type=#WHERE_WM_Type#</isNotEmpty>
        <!--菜单Key-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Key">WM_Key=#WHERE_WM_Key#</isNotEmpty>
        <!--菜单URL-->
        <isNotEmpty prepend="AND" property="WHERE_WM_URL">WM_URL=#WHERE_WM_URL#</isNotEmpty>
        <!--MediaID-->
        <isNotEmpty prepend="AND" property="WHERE_WM_MediaID">WM_MediaID=#WHERE_WM_MediaID#</isNotEmpty>
        <!--显示顺序-->
        <isNotNull prepend="AND" property="WHERE_WM_Index">WM_Index=#WHERE_WM_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WM_IsValid">WM_IsValid=#WHERE_WM_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WM_CreatedBy">WM_CreatedBy=#WHERE_WM_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WM_UpdatedBy">WM_UpdatedBy=#WHERE_WM_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WM_VersionNo">WM_VersionNo=#WHERE_WM_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WM_TransID">WM_TransID=#WHERE_WM_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WM_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[微信菜单]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLWC_Menu" parameterClass="MDLWC_Menu" resultClass="MDLWC_Menu">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WM_ID)
      FROM WC_Menu
      <dynamic prepend="WHERE">
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_WM_ID">WM_ID=#WHERE_WM_ID#</isNotEmpty>
        <!--平台编码-->
        <isNotEmpty prepend="AND" property="WHERE_WM_PlatformCode">WM_PlatformCode LIKE '%'+#WHERE_WM_PlatformCode#+'%'</isNotEmpty>
        <!--父菜单-->
        <isNotEmpty prepend="AND" property="WHERE_WM_ParentID">WM_ParentID LIKE '%'+#WHERE_WM_ParentID#+'%'</isNotEmpty>
        <!--是否叶节点-->
        <isNotNull prepend="AND" property="WHERE_WM_Isleff">WM_Isleff=#WHERE_WM_Isleff#</isNotNull>
        <!--菜单名称-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Name">WM_Name LIKE '%'+#WHERE_WM_Name#+'%'</isNotEmpty>
        <!--菜单类型-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Type">WM_Type LIKE '%'+#WHERE_WM_Type#+'%'</isNotEmpty>
        <!--菜单Key-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Key">WM_Key LIKE '%'+#WHERE_WM_Key#+'%'</isNotEmpty>
        <!--菜单URL-->
        <isNotEmpty prepend="AND" property="WHERE_WM_URL">WM_URL LIKE '%'+#WHERE_WM_URL#+'%'</isNotEmpty>
        <!--MediaID-->
        <isNotEmpty prepend="AND" property="WHERE_WM_MediaID">WM_MediaID LIKE '%'+#WHERE_WM_MediaID#+'%'</isNotEmpty>
        <!--显示顺序-->
        <isNotNull prepend="AND" property="WHERE_WM_Index">WM_Index=#WHERE_WM_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WM_IsValid">WM_IsValid=#WHERE_WM_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WM_CreatedBy">WM_CreatedBy LIKE '%'+#WHERE_WM_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WM_UpdatedBy">WM_UpdatedBy LIKE '%'+#WHERE_WM_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WM_VersionNo">WM_VersionNo=#WHERE_WM_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WM_TransID">WM_TransID LIKE '%'+#WHERE_WM_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WM_ID,
      WM_PlatformCode,
      WM_ParentID,
      WM_Isleff,
      WM_Name,
      WM_Type,
      WM_Key,
      WM_URL,
      WM_MediaID,
      WM_Index,
      WM_IsValid,
      WM_CreatedBy,
      WM_CreatedTime,
      WM_UpdatedBy,
      WM_UpdatedTime,
      WM_VersionNo,
      WM_TransID
      FROM WC_Menu
      <dynamic prepend="WHERE">
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_WM_ID">WM_ID=#WHERE_WM_ID#</isNotEmpty>
        <!--平台编码-->
        <isNotEmpty prepend="AND" property="WHERE_WM_PlatformCode">WM_PlatformCode LIKE '%'+#WHERE_WM_PlatformCode#+'%'</isNotEmpty>
        <!--父菜单-->
        <isNotEmpty prepend="AND" property="WHERE_WM_ParentID">WM_ParentID LIKE '%'+#WHERE_WM_ParentID#+'%'</isNotEmpty>
        <!--是否叶节点-->
        <isNotNull prepend="AND" property="WHERE_WM_Isleff">WM_Isleff=#WHERE_WM_Isleff#</isNotNull>
        <!--菜单名称-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Name">WM_Name LIKE '%'+#WHERE_WM_Name#+'%'</isNotEmpty>
        <!--菜单类型-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Type">WM_Type LIKE '%'+#WHERE_WM_Type#+'%'</isNotEmpty>
        <!--菜单Key-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Key">WM_Key LIKE '%'+#WHERE_WM_Key#+'%'</isNotEmpty>
        <!--菜单URL-->
        <isNotEmpty prepend="AND" property="WHERE_WM_URL">WM_URL LIKE '%'+#WHERE_WM_URL#+'%'</isNotEmpty>
        <!--MediaID-->
        <isNotEmpty prepend="AND" property="WHERE_WM_MediaID">WM_MediaID LIKE '%'+#WHERE_WM_MediaID#+'%'</isNotEmpty>
        <!--显示顺序-->
        <isNotNull prepend="AND" property="WHERE_WM_Index">WM_Index=#WHERE_WM_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WM_IsValid">WM_IsValid=#WHERE_WM_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WM_CreatedBy">WM_CreatedBy LIKE '%'+#WHERE_WM_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WM_UpdatedBy">WM_UpdatedBy LIKE '%'+#WHERE_WM_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WM_VersionNo">WM_VersionNo=#WHERE_WM_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WM_TransID">WM_TransID LIKE '%'+#WHERE_WM_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WM_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[微信菜单]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLWC_Menu" parameterClass="MDLWC_Menu" resultClass="int">
      SELECT COUNT(WM_ID) 'RecordCount'
      FROM WC_Menu
      <dynamic prepend="WHERE">
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_WM_ID">WM_ID=#WHERE_WM_ID#</isNotEmpty>
        <!--平台编码-->
        <isNotEmpty prepend="AND" property="WHERE_WM_PlatformCode">WM_PlatformCode=#WHERE_WM_PlatformCode#</isNotEmpty>
        <!--父菜单-->
        <isNotEmpty prepend="AND" property="WHERE_WM_ParentID">WM_ParentID=#WHERE_WM_ParentID#</isNotEmpty>
        <!--是否叶节点-->
        <isNotNull prepend="AND" property="WHERE_WM_Isleff">WM_Isleff=#WHERE_WM_Isleff#</isNotNull>
        <!--菜单名称-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Name">WM_Name=#WHERE_WM_Name#</isNotEmpty>
        <!--菜单类型-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Type">WM_Type=#WHERE_WM_Type#</isNotEmpty>
        <!--菜单Key-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Key">WM_Key=#WHERE_WM_Key#</isNotEmpty>
        <!--菜单URL-->
        <isNotEmpty prepend="AND" property="WHERE_WM_URL">WM_URL=#WHERE_WM_URL#</isNotEmpty>
        <!--MediaID-->
        <isNotEmpty prepend="AND" property="WHERE_WM_MediaID">WM_MediaID=#WHERE_WM_MediaID#</isNotEmpty>
        <!--显示顺序-->
        <isNotNull prepend="AND" property="WHERE_WM_Index">WM_Index=#WHERE_WM_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WM_IsValid">WM_IsValid=#WHERE_WM_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WM_CreatedBy">WM_CreatedBy=#WHERE_WM_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WM_UpdatedBy">WM_UpdatedBy=#WHERE_WM_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WM_VersionNo">WM_VersionNo=#WHERE_WM_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WM_TransID">WM_TransID=#WHERE_WM_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[微信菜单]信息-->
    <update id="COMM_SQL_UpdateMDLWC_Menu" parameterClass="MDLWC_Menu" >
      UPDATE WC_Menu
      SET
      WM_UpdatedTime=GETDATE(),
      WM_VersionNo=WM_VersionNo+1
      <isNotEmpty prepend="," property="WM_PlatformCode">WM_PlatformCode=#WM_PlatformCode#</isNotEmpty>
      <isNotEmpty prepend="," property="WM_ParentID">WM_ParentID=#WM_ParentID#</isNotEmpty>
      <isNotNull prepend="," property="WM_Isleff">WM_Isleff=#WM_Isleff#</isNotNull>
      <isNotEmpty prepend="," property="WM_Name">WM_Name=#WM_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="WM_Type">WM_Type=#WM_Type#</isNotEmpty>
      <isNotEmpty prepend="," property="WM_Key">WM_Key=#WM_Key#</isNotEmpty>
      <isNotEmpty prepend="," property="WM_URL">WM_URL=#WM_URL#</isNotEmpty>
      <isNotEmpty prepend="," property="WM_MediaID">WM_MediaID=#WM_MediaID#</isNotEmpty>
      <isNotNull prepend="," property="WM_Index">WM_Index=#WM_Index#</isNotNull>
      <isNotNull prepend="," property="WM_IsValid">WM_IsValid=#WM_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="WM_CreatedBy">WM_CreatedBy=#WM_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="WM_CreatedTime">WM_CreatedTime=#WM_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="WM_UpdatedBy">WM_UpdatedBy=#WM_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="WM_TransID">WM_TransID=#WM_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--菜单ID-->
        <isNotEmpty prepend="AND" property="WHERE_WM_ID">WM_ID=#WHERE_WM_ID#</isNotEmpty>
        <!--平台编码-->
        <isNotEmpty prepend="AND" property="WHERE_WM_PlatformCode">WM_PlatformCode=#WHERE_WM_PlatformCode#</isNotEmpty>
        <!--父菜单-->
        <isNotEmpty prepend="AND" property="WHERE_WM_ParentID">WM_ParentID=#WHERE_WM_ParentID#</isNotEmpty>
        <!--是否叶节点-->
        <isNotNull prepend="AND" property="WHERE_WM_Isleff">WM_Isleff=#WHERE_WM_Isleff#</isNotNull>
        <!--菜单名称-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Name">WM_Name=#WHERE_WM_Name#</isNotEmpty>
        <!--菜单类型-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Type">WM_Type=#WHERE_WM_Type#</isNotEmpty>
        <!--菜单Key-->
        <isNotEmpty prepend="AND" property="WHERE_WM_Key">WM_Key=#WHERE_WM_Key#</isNotEmpty>
        <!--菜单URL-->
        <isNotEmpty prepend="AND" property="WHERE_WM_URL">WM_URL=#WHERE_WM_URL#</isNotEmpty>
        <!--MediaID-->
        <isNotEmpty prepend="AND" property="WHERE_WM_MediaID">WM_MediaID=#WHERE_WM_MediaID#</isNotEmpty>
        <!--显示顺序-->
        <isNotNull prepend="AND" property="WHERE_WM_Index">WM_Index=#WHERE_WM_Index#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WM_IsValid">WM_IsValid=#WHERE_WM_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WM_CreatedBy">WM_CreatedBy=#WHERE_WM_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WM_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WM_UpdatedBy">WM_UpdatedBy=#WHERE_WM_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WM_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WM_VersionNo">WM_VersionNo=#WHERE_WM_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WM_TransID">WM_TransID=#WHERE_WM_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[微信菜单]信息-->
    <delete id="COMM_SQL_DELETE_MDLWC_Menu" parameterClass="List">
      DELETE FROM WC_Menu
      WHERE WM_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_WM_ID#
      </iterate>
    </delete>

    <!--新增[微信消息]信息-->
    <insert id="COMM_SQL_INSERT_MDLWC_Message" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        WC_Message
        (
        <!--ID-->
        WMsg_ID,
        <!--开发者微信号-->
        WMsg_ToUserName,
        <!--发送方OpenID-->
        WMsg_FromUserName,
        <!--消息创建时间-->
        WMsg_CreateTime,
        <!--消息体-->
        WMsg_MessageBody,
        <!--消息类型-->
        WMsg_MsgType,
        <!--文本消息内容-->
        WMsg_Content,
        <!--消息ID-->
        WMsg_MsgId,
        <!--图片链接-->
        WMsg_PicUrl,
        <!--图片消息媒体id-->
        WMsg_MediaId,
        <!--语音格式-->
        WMsg_Format,
        <!--视频消息缩略图的媒体id-->
        WMsg_ThumbMediaId,
        <!--地理位置维度-->
        WMsg_Location_X,
        <!--地理位置经度-->
        WMsg_Location_Y,
        <!--地图缩放大小-->
        WMsg_Scale,
        <!--地理位置信息-->
        WMsg_Label,
        <!--消息标题-->
        WMsg_Title,
        <!--消息描述-->
        WMsg_Description,
        <!--消息链接-->
        WMsg_Url,
        <!--事件类型-->
        WMsg_Event,
        <!--事件KEY值-->
        WMsg_EventKey,
        <!--二维码的ticket-->
        WMsg_Ticket,
        <!--地理位置纬度-->
        WMsg_Latitude,
        <!--地理位置经度-->
        WMsg_Longitude,
        <!--地理位置精度-->
        WMsg_Precision,
        <!--有效-->
        WMsg_IsValid,
        <!--创建人-->
        WMsg_CreatedBy,
        <!--创建时间-->
        WMsg_CreatedTime,
        <!--修改人-->
        WMsg_UpdatedBy,
        <!--修改时间-->
        WMsg_UpdatedTime,
        <!--版本号-->
        WMsg_VersionNo,
        <!--事务编号-->
        WMsg_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].WMsg_ID#,
        <!--开发者微信号-->
        #[].WMsg_ToUserName#,
        <!--发送方OpenID-->
        #[].WMsg_FromUserName#,
        <!--消息创建时间-->
        #[].WMsg_CreateTime#,
        <!--消息体-->
        #[].WMsg_MessageBody#,
        <!--消息类型-->
        #[].WMsg_MsgType#,
        <!--文本消息内容-->
        #[].WMsg_Content#,
        <!--消息ID-->
        #[].WMsg_MsgId#,
        <!--图片链接-->
        #[].WMsg_PicUrl#,
        <!--图片消息媒体id-->
        #[].WMsg_MediaId#,
        <!--语音格式-->
        #[].WMsg_Format#,
        <!--视频消息缩略图的媒体id-->
        #[].WMsg_ThumbMediaId#,
        <!--地理位置维度-->
        #[].WMsg_Location_X#,
        <!--地理位置经度-->
        #[].WMsg_Location_Y#,
        <!--地图缩放大小-->
        #[].WMsg_Scale#,
        <!--地理位置信息-->
        #[].WMsg_Label#,
        <!--消息标题-->
        #[].WMsg_Title#,
        <!--消息描述-->
        #[].WMsg_Description#,
        <!--消息链接-->
        #[].WMsg_Url#,
        <!--事件类型-->
        #[].WMsg_Event#,
        <!--事件KEY值-->
        #[].WMsg_EventKey#,
        <!--二维码的ticket-->
        #[].WMsg_Ticket#,
        <!--地理位置纬度-->
        #[].WMsg_Latitude#,
        <!--地理位置经度-->
        #[].WMsg_Longitude#,
        <!--地理位置精度-->
        #[].WMsg_Precision#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].WMsg_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].WMsg_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].WMsg_TransID#
        )
      </iterate>
    </insert>

    <!--查询[微信消息]信息（精确条件）-->
    <select id="COMM_SQL_MDLWC_Message" parameterClass="MDLWC_Message" resultClass="MDLWC_Message">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WMsg_ID)
      FROM WC_Message
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ID">WMsg_ID=#WHERE_WMsg_ID#</isNotEmpty>
        <!--开发者微信号-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ToUserName">WMsg_ToUserName=#WHERE_WMsg_ToUserName#</isNotEmpty>
        <!--发送方OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_FromUserName">WMsg_FromUserName=#WHERE_WMsg_FromUserName#</isNotEmpty>
        <!--消息创建时间-->
        <isNotNull prepend="AND" property="WHERE_WMsg_CreateTime">WMsg_CreateTime=#WHERE_WMsg_CreateTime#</isNotNull>
        <!--消息体-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MessageBody">WMsg_MessageBody=#WHERE_WMsg_MessageBody#</isNotEmpty>
        <!--消息类型-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MsgType">WMsg_MsgType=#WHERE_WMsg_MsgType#</isNotEmpty>
        <!--文本消息内容-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Content">WMsg_Content=#WHERE_WMsg_Content#</isNotEmpty>
        <!--消息ID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MsgId">WMsg_MsgId=#WHERE_WMsg_MsgId#</isNotEmpty>
        <!--图片链接-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_PicUrl">WMsg_PicUrl=#WHERE_WMsg_PicUrl#</isNotEmpty>
        <!--图片消息媒体id-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MediaId">WMsg_MediaId=#WHERE_WMsg_MediaId#</isNotEmpty>
        <!--语音格式-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Format">WMsg_Format=#WHERE_WMsg_Format#</isNotEmpty>
        <!--视频消息缩略图的媒体id-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ThumbMediaId">WMsg_ThumbMediaId=#WHERE_WMsg_ThumbMediaId#</isNotEmpty>
        <!--地理位置维度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Location_X">WMsg_Location_X=#WHERE_WMsg_Location_X#</isNotEmpty>
        <!--地理位置经度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Location_Y">WMsg_Location_Y=#WHERE_WMsg_Location_Y#</isNotEmpty>
        <!--地图缩放大小-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Scale">WMsg_Scale=#WHERE_WMsg_Scale#</isNotEmpty>
        <!--地理位置信息-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Label">WMsg_Label=#WHERE_WMsg_Label#</isNotEmpty>
        <!--消息标题-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Title">WMsg_Title=#WHERE_WMsg_Title#</isNotEmpty>
        <!--消息描述-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Description">WMsg_Description=#WHERE_WMsg_Description#</isNotEmpty>
        <!--消息链接-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Url">WMsg_Url=#WHERE_WMsg_Url#</isNotEmpty>
        <!--事件类型-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Event">WMsg_Event=#WHERE_WMsg_Event#</isNotEmpty>
        <!--事件KEY值-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_EventKey">WMsg_EventKey=#WHERE_WMsg_EventKey#</isNotEmpty>
        <!--二维码的ticket-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Ticket">WMsg_Ticket=#WHERE_WMsg_Ticket#</isNotEmpty>
        <!--地理位置纬度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Latitude">WMsg_Latitude=#WHERE_WMsg_Latitude#</isNotEmpty>
        <!--地理位置经度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Longitude">WMsg_Longitude=#WHERE_WMsg_Longitude#</isNotEmpty>
        <!--地理位置精度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Precision">WMsg_Precision=#WHERE_WMsg_Precision#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WMsg_IsValid">WMsg_IsValid=#WHERE_WMsg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_CreatedBy">WMsg_CreatedBy=#WHERE_WMsg_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_UpdatedBy">WMsg_UpdatedBy=#WHERE_WMsg_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WMsg_VersionNo">WMsg_VersionNo=#WHERE_WMsg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_TransID">WMsg_TransID=#WHERE_WMsg_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WMsg_ID,
      WMsg_ToUserName,
      WMsg_FromUserName,
      WMsg_CreateTime,
      WMsg_MessageBody,
      WMsg_MsgType,
      WMsg_Content,
      WMsg_MsgId,
      WMsg_PicUrl,
      WMsg_MediaId,
      WMsg_Format,
      WMsg_ThumbMediaId,
      WMsg_Location_X,
      WMsg_Location_Y,
      WMsg_Scale,
      WMsg_Label,
      WMsg_Title,
      WMsg_Description,
      WMsg_Url,
      WMsg_Event,
      WMsg_EventKey,
      WMsg_Ticket,
      WMsg_Latitude,
      WMsg_Longitude,
      WMsg_Precision,
      WMsg_IsValid,
      WMsg_CreatedBy,
      WMsg_CreatedTime,
      WMsg_UpdatedBy,
      WMsg_UpdatedTime,
      WMsg_VersionNo,
      WMsg_TransID
      FROM WC_Message
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ID">WMsg_ID=#WHERE_WMsg_ID#</isNotEmpty>
        <!--开发者微信号-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ToUserName">WMsg_ToUserName=#WHERE_WMsg_ToUserName#</isNotEmpty>
        <!--发送方OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_FromUserName">WMsg_FromUserName=#WHERE_WMsg_FromUserName#</isNotEmpty>
        <!--消息创建时间-->
        <isNotNull prepend="AND" property="WHERE_WMsg_CreateTime">WMsg_CreateTime=#WHERE_WMsg_CreateTime#</isNotNull>
        <!--消息体-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MessageBody">WMsg_MessageBody=#WHERE_WMsg_MessageBody#</isNotEmpty>
        <!--消息类型-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MsgType">WMsg_MsgType=#WHERE_WMsg_MsgType#</isNotEmpty>
        <!--文本消息内容-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Content">WMsg_Content=#WHERE_WMsg_Content#</isNotEmpty>
        <!--消息ID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MsgId">WMsg_MsgId=#WHERE_WMsg_MsgId#</isNotEmpty>
        <!--图片链接-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_PicUrl">WMsg_PicUrl=#WHERE_WMsg_PicUrl#</isNotEmpty>
        <!--图片消息媒体id-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MediaId">WMsg_MediaId=#WHERE_WMsg_MediaId#</isNotEmpty>
        <!--语音格式-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Format">WMsg_Format=#WHERE_WMsg_Format#</isNotEmpty>
        <!--视频消息缩略图的媒体id-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ThumbMediaId">WMsg_ThumbMediaId=#WHERE_WMsg_ThumbMediaId#</isNotEmpty>
        <!--地理位置维度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Location_X">WMsg_Location_X=#WHERE_WMsg_Location_X#</isNotEmpty>
        <!--地理位置经度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Location_Y">WMsg_Location_Y=#WHERE_WMsg_Location_Y#</isNotEmpty>
        <!--地图缩放大小-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Scale">WMsg_Scale=#WHERE_WMsg_Scale#</isNotEmpty>
        <!--地理位置信息-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Label">WMsg_Label=#WHERE_WMsg_Label#</isNotEmpty>
        <!--消息标题-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Title">WMsg_Title=#WHERE_WMsg_Title#</isNotEmpty>
        <!--消息描述-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Description">WMsg_Description=#WHERE_WMsg_Description#</isNotEmpty>
        <!--消息链接-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Url">WMsg_Url=#WHERE_WMsg_Url#</isNotEmpty>
        <!--事件类型-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Event">WMsg_Event=#WHERE_WMsg_Event#</isNotEmpty>
        <!--事件KEY值-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_EventKey">WMsg_EventKey=#WHERE_WMsg_EventKey#</isNotEmpty>
        <!--二维码的ticket-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Ticket">WMsg_Ticket=#WHERE_WMsg_Ticket#</isNotEmpty>
        <!--地理位置纬度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Latitude">WMsg_Latitude=#WHERE_WMsg_Latitude#</isNotEmpty>
        <!--地理位置经度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Longitude">WMsg_Longitude=#WHERE_WMsg_Longitude#</isNotEmpty>
        <!--地理位置精度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Precision">WMsg_Precision=#WHERE_WMsg_Precision#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WMsg_IsValid">WMsg_IsValid=#WHERE_WMsg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_CreatedBy">WMsg_CreatedBy=#WHERE_WMsg_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_UpdatedBy">WMsg_UpdatedBy=#WHERE_WMsg_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WMsg_VersionNo">WMsg_VersionNo=#WHERE_WMsg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_TransID">WMsg_TransID=#WHERE_WMsg_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WMsg_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[微信消息]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLWC_Message" parameterClass="MDLWC_Message" resultClass="MDLWC_Message">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WMsg_ID)
      FROM WC_Message
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ID">WMsg_ID=#WHERE_WMsg_ID#</isNotEmpty>
        <!--开发者微信号-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ToUserName">WMsg_ToUserName LIKE '%'+#WHERE_WMsg_ToUserName#+'%'</isNotEmpty>
        <!--发送方OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_FromUserName">WMsg_FromUserName LIKE '%'+#WHERE_WMsg_FromUserName#+'%'</isNotEmpty>
        <!--消息创建时间-->
        <isNotNull prepend="AND" property="WHERE_WMsg_CreateTime">WMsg_CreateTime=#WHERE_WMsg_CreateTime#</isNotNull>
        <!--消息体-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MessageBody">WMsg_MessageBody LIKE '%'+#WHERE_WMsg_MessageBody#+'%'</isNotEmpty>
        <!--消息类型-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MsgType">WMsg_MsgType LIKE '%'+#WHERE_WMsg_MsgType#+'%'</isNotEmpty>
        <!--文本消息内容-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Content">WMsg_Content LIKE '%'+#WHERE_WMsg_Content#+'%'</isNotEmpty>
        <!--消息ID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MsgId">WMsg_MsgId LIKE '%'+#WHERE_WMsg_MsgId#+'%'</isNotEmpty>
        <!--图片链接-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_PicUrl">WMsg_PicUrl LIKE '%'+#WHERE_WMsg_PicUrl#+'%'</isNotEmpty>
        <!--图片消息媒体id-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MediaId">WMsg_MediaId LIKE '%'+#WHERE_WMsg_MediaId#+'%'</isNotEmpty>
        <!--语音格式-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Format">WMsg_Format LIKE '%'+#WHERE_WMsg_Format#+'%'</isNotEmpty>
        <!--视频消息缩略图的媒体id-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ThumbMediaId">WMsg_ThumbMediaId LIKE '%'+#WHERE_WMsg_ThumbMediaId#+'%'</isNotEmpty>
        <!--地理位置维度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Location_X">WMsg_Location_X LIKE '%'+#WHERE_WMsg_Location_X#+'%'</isNotEmpty>
        <!--地理位置经度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Location_Y">WMsg_Location_Y LIKE '%'+#WHERE_WMsg_Location_Y#+'%'</isNotEmpty>
        <!--地图缩放大小-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Scale">WMsg_Scale LIKE '%'+#WHERE_WMsg_Scale#+'%'</isNotEmpty>
        <!--地理位置信息-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Label">WMsg_Label LIKE '%'+#WHERE_WMsg_Label#+'%'</isNotEmpty>
        <!--消息标题-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Title">WMsg_Title LIKE '%'+#WHERE_WMsg_Title#+'%'</isNotEmpty>
        <!--消息描述-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Description">WMsg_Description LIKE '%'+#WHERE_WMsg_Description#+'%'</isNotEmpty>
        <!--消息链接-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Url">WMsg_Url LIKE '%'+#WHERE_WMsg_Url#+'%'</isNotEmpty>
        <!--事件类型-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Event">WMsg_Event LIKE '%'+#WHERE_WMsg_Event#+'%'</isNotEmpty>
        <!--事件KEY值-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_EventKey">WMsg_EventKey LIKE '%'+#WHERE_WMsg_EventKey#+'%'</isNotEmpty>
        <!--二维码的ticket-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Ticket">WMsg_Ticket LIKE '%'+#WHERE_WMsg_Ticket#+'%'</isNotEmpty>
        <!--地理位置纬度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Latitude">WMsg_Latitude LIKE '%'+#WHERE_WMsg_Latitude#+'%'</isNotEmpty>
        <!--地理位置经度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Longitude">WMsg_Longitude LIKE '%'+#WHERE_WMsg_Longitude#+'%'</isNotEmpty>
        <!--地理位置精度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Precision">WMsg_Precision LIKE '%'+#WHERE_WMsg_Precision#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WMsg_IsValid">WMsg_IsValid=#WHERE_WMsg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_CreatedBy">WMsg_CreatedBy LIKE '%'+#WHERE_WMsg_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_UpdatedBy">WMsg_UpdatedBy LIKE '%'+#WHERE_WMsg_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WMsg_VersionNo">WMsg_VersionNo=#WHERE_WMsg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_TransID">WMsg_TransID LIKE '%'+#WHERE_WMsg_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WMsg_ID,
      WMsg_ToUserName,
      WMsg_FromUserName,
      WMsg_CreateTime,
      WMsg_MessageBody,
      WMsg_MsgType,
      WMsg_Content,
      WMsg_MsgId,
      WMsg_PicUrl,
      WMsg_MediaId,
      WMsg_Format,
      WMsg_ThumbMediaId,
      WMsg_Location_X,
      WMsg_Location_Y,
      WMsg_Scale,
      WMsg_Label,
      WMsg_Title,
      WMsg_Description,
      WMsg_Url,
      WMsg_Event,
      WMsg_EventKey,
      WMsg_Ticket,
      WMsg_Latitude,
      WMsg_Longitude,
      WMsg_Precision,
      WMsg_IsValid,
      WMsg_CreatedBy,
      WMsg_CreatedTime,
      WMsg_UpdatedBy,
      WMsg_UpdatedTime,
      WMsg_VersionNo,
      WMsg_TransID
      FROM WC_Message
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ID">WMsg_ID=#WHERE_WMsg_ID#</isNotEmpty>
        <!--开发者微信号-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ToUserName">WMsg_ToUserName LIKE '%'+#WHERE_WMsg_ToUserName#+'%'</isNotEmpty>
        <!--发送方OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_FromUserName">WMsg_FromUserName LIKE '%'+#WHERE_WMsg_FromUserName#+'%'</isNotEmpty>
        <!--消息创建时间-->
        <isNotNull prepend="AND" property="WHERE_WMsg_CreateTime">WMsg_CreateTime=#WHERE_WMsg_CreateTime#</isNotNull>
        <!--消息体-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MessageBody">WMsg_MessageBody LIKE '%'+#WHERE_WMsg_MessageBody#+'%'</isNotEmpty>
        <!--消息类型-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MsgType">WMsg_MsgType LIKE '%'+#WHERE_WMsg_MsgType#+'%'</isNotEmpty>
        <!--文本消息内容-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Content">WMsg_Content LIKE '%'+#WHERE_WMsg_Content#+'%'</isNotEmpty>
        <!--消息ID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MsgId">WMsg_MsgId LIKE '%'+#WHERE_WMsg_MsgId#+'%'</isNotEmpty>
        <!--图片链接-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_PicUrl">WMsg_PicUrl LIKE '%'+#WHERE_WMsg_PicUrl#+'%'</isNotEmpty>
        <!--图片消息媒体id-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MediaId">WMsg_MediaId LIKE '%'+#WHERE_WMsg_MediaId#+'%'</isNotEmpty>
        <!--语音格式-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Format">WMsg_Format LIKE '%'+#WHERE_WMsg_Format#+'%'</isNotEmpty>
        <!--视频消息缩略图的媒体id-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ThumbMediaId">WMsg_ThumbMediaId LIKE '%'+#WHERE_WMsg_ThumbMediaId#+'%'</isNotEmpty>
        <!--地理位置维度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Location_X">WMsg_Location_X LIKE '%'+#WHERE_WMsg_Location_X#+'%'</isNotEmpty>
        <!--地理位置经度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Location_Y">WMsg_Location_Y LIKE '%'+#WHERE_WMsg_Location_Y#+'%'</isNotEmpty>
        <!--地图缩放大小-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Scale">WMsg_Scale LIKE '%'+#WHERE_WMsg_Scale#+'%'</isNotEmpty>
        <!--地理位置信息-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Label">WMsg_Label LIKE '%'+#WHERE_WMsg_Label#+'%'</isNotEmpty>
        <!--消息标题-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Title">WMsg_Title LIKE '%'+#WHERE_WMsg_Title#+'%'</isNotEmpty>
        <!--消息描述-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Description">WMsg_Description LIKE '%'+#WHERE_WMsg_Description#+'%'</isNotEmpty>
        <!--消息链接-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Url">WMsg_Url LIKE '%'+#WHERE_WMsg_Url#+'%'</isNotEmpty>
        <!--事件类型-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Event">WMsg_Event LIKE '%'+#WHERE_WMsg_Event#+'%'</isNotEmpty>
        <!--事件KEY值-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_EventKey">WMsg_EventKey LIKE '%'+#WHERE_WMsg_EventKey#+'%'</isNotEmpty>
        <!--二维码的ticket-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Ticket">WMsg_Ticket LIKE '%'+#WHERE_WMsg_Ticket#+'%'</isNotEmpty>
        <!--地理位置纬度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Latitude">WMsg_Latitude LIKE '%'+#WHERE_WMsg_Latitude#+'%'</isNotEmpty>
        <!--地理位置经度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Longitude">WMsg_Longitude LIKE '%'+#WHERE_WMsg_Longitude#+'%'</isNotEmpty>
        <!--地理位置精度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Precision">WMsg_Precision LIKE '%'+#WHERE_WMsg_Precision#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WMsg_IsValid">WMsg_IsValid=#WHERE_WMsg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_CreatedBy">WMsg_CreatedBy LIKE '%'+#WHERE_WMsg_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_UpdatedBy">WMsg_UpdatedBy LIKE '%'+#WHERE_WMsg_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WMsg_VersionNo">WMsg_VersionNo=#WHERE_WMsg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_TransID">WMsg_TransID LIKE '%'+#WHERE_WMsg_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WMsg_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[微信消息]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLWC_Message" parameterClass="MDLWC_Message" resultClass="int">
      SELECT COUNT(WMsg_ID) 'RecordCount'
      FROM WC_Message
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ID">WMsg_ID=#WHERE_WMsg_ID#</isNotEmpty>
        <!--开发者微信号-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ToUserName">WMsg_ToUserName=#WHERE_WMsg_ToUserName#</isNotEmpty>
        <!--发送方OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_FromUserName">WMsg_FromUserName=#WHERE_WMsg_FromUserName#</isNotEmpty>
        <!--消息创建时间-->
        <isNotNull prepend="AND" property="WHERE_WMsg_CreateTime">WMsg_CreateTime=#WHERE_WMsg_CreateTime#</isNotNull>
        <!--消息体-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MessageBody">WMsg_MessageBody=#WHERE_WMsg_MessageBody#</isNotEmpty>
        <!--消息类型-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MsgType">WMsg_MsgType=#WHERE_WMsg_MsgType#</isNotEmpty>
        <!--文本消息内容-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Content">WMsg_Content=#WHERE_WMsg_Content#</isNotEmpty>
        <!--消息ID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MsgId">WMsg_MsgId=#WHERE_WMsg_MsgId#</isNotEmpty>
        <!--图片链接-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_PicUrl">WMsg_PicUrl=#WHERE_WMsg_PicUrl#</isNotEmpty>
        <!--图片消息媒体id-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MediaId">WMsg_MediaId=#WHERE_WMsg_MediaId#</isNotEmpty>
        <!--语音格式-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Format">WMsg_Format=#WHERE_WMsg_Format#</isNotEmpty>
        <!--视频消息缩略图的媒体id-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ThumbMediaId">WMsg_ThumbMediaId=#WHERE_WMsg_ThumbMediaId#</isNotEmpty>
        <!--地理位置维度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Location_X">WMsg_Location_X=#WHERE_WMsg_Location_X#</isNotEmpty>
        <!--地理位置经度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Location_Y">WMsg_Location_Y=#WHERE_WMsg_Location_Y#</isNotEmpty>
        <!--地图缩放大小-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Scale">WMsg_Scale=#WHERE_WMsg_Scale#</isNotEmpty>
        <!--地理位置信息-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Label">WMsg_Label=#WHERE_WMsg_Label#</isNotEmpty>
        <!--消息标题-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Title">WMsg_Title=#WHERE_WMsg_Title#</isNotEmpty>
        <!--消息描述-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Description">WMsg_Description=#WHERE_WMsg_Description#</isNotEmpty>
        <!--消息链接-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Url">WMsg_Url=#WHERE_WMsg_Url#</isNotEmpty>
        <!--事件类型-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Event">WMsg_Event=#WHERE_WMsg_Event#</isNotEmpty>
        <!--事件KEY值-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_EventKey">WMsg_EventKey=#WHERE_WMsg_EventKey#</isNotEmpty>
        <!--二维码的ticket-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Ticket">WMsg_Ticket=#WHERE_WMsg_Ticket#</isNotEmpty>
        <!--地理位置纬度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Latitude">WMsg_Latitude=#WHERE_WMsg_Latitude#</isNotEmpty>
        <!--地理位置经度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Longitude">WMsg_Longitude=#WHERE_WMsg_Longitude#</isNotEmpty>
        <!--地理位置精度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Precision">WMsg_Precision=#WHERE_WMsg_Precision#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WMsg_IsValid">WMsg_IsValid=#WHERE_WMsg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_CreatedBy">WMsg_CreatedBy=#WHERE_WMsg_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_UpdatedBy">WMsg_UpdatedBy=#WHERE_WMsg_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WMsg_VersionNo">WMsg_VersionNo=#WHERE_WMsg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_TransID">WMsg_TransID=#WHERE_WMsg_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[微信消息]信息-->
    <update id="COMM_SQL_UpdateMDLWC_Message" parameterClass="MDLWC_Message" >
      UPDATE WC_Message
      SET
      WMsg_UpdatedTime=GETDATE(),
      WMsg_VersionNo=WMsg_VersionNo+1
      <isNotEmpty prepend="," property="WMsg_ToUserName">WMsg_ToUserName=#WMsg_ToUserName#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_FromUserName">WMsg_FromUserName=#WMsg_FromUserName#</isNotEmpty>
      <isNotNull prepend="," property="WMsg_CreateTime">WMsg_CreateTime=#WMsg_CreateTime#</isNotNull>
      <isNotEmpty prepend="," property="WMsg_MessageBody">WMsg_MessageBody=#WMsg_MessageBody#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_MsgType">WMsg_MsgType=#WMsg_MsgType#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_Content">WMsg_Content=#WMsg_Content#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_MsgId">WMsg_MsgId=#WMsg_MsgId#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_PicUrl">WMsg_PicUrl=#WMsg_PicUrl#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_MediaId">WMsg_MediaId=#WMsg_MediaId#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_Format">WMsg_Format=#WMsg_Format#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_ThumbMediaId">WMsg_ThumbMediaId=#WMsg_ThumbMediaId#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_Location_X">WMsg_Location_X=#WMsg_Location_X#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_Location_Y">WMsg_Location_Y=#WMsg_Location_Y#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_Scale">WMsg_Scale=#WMsg_Scale#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_Label">WMsg_Label=#WMsg_Label#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_Title">WMsg_Title=#WMsg_Title#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_Description">WMsg_Description=#WMsg_Description#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_Url">WMsg_Url=#WMsg_Url#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_Event">WMsg_Event=#WMsg_Event#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_EventKey">WMsg_EventKey=#WMsg_EventKey#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_Ticket">WMsg_Ticket=#WMsg_Ticket#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_Latitude">WMsg_Latitude=#WMsg_Latitude#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_Longitude">WMsg_Longitude=#WMsg_Longitude#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_Precision">WMsg_Precision=#WMsg_Precision#</isNotEmpty>
      <isNotNull prepend="," property="WMsg_IsValid">WMsg_IsValid=#WMsg_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="WMsg_CreatedBy">WMsg_CreatedBy=#WMsg_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="WMsg_CreatedTime">WMsg_CreatedTime=#WMsg_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="WMsg_UpdatedBy">WMsg_UpdatedBy=#WMsg_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="WMsg_TransID">WMsg_TransID=#WMsg_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ID">WMsg_ID=#WHERE_WMsg_ID#</isNotEmpty>
        <!--开发者微信号-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ToUserName">WMsg_ToUserName=#WHERE_WMsg_ToUserName#</isNotEmpty>
        <!--发送方OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_FromUserName">WMsg_FromUserName=#WHERE_WMsg_FromUserName#</isNotEmpty>
        <!--消息创建时间-->
        <isNotNull prepend="AND" property="WHERE_WMsg_CreateTime">WMsg_CreateTime=#WHERE_WMsg_CreateTime#</isNotNull>
        <!--消息体-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MessageBody">WMsg_MessageBody=#WHERE_WMsg_MessageBody#</isNotEmpty>
        <!--消息类型-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MsgType">WMsg_MsgType=#WHERE_WMsg_MsgType#</isNotEmpty>
        <!--文本消息内容-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Content">WMsg_Content=#WHERE_WMsg_Content#</isNotEmpty>
        <!--消息ID-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MsgId">WMsg_MsgId=#WHERE_WMsg_MsgId#</isNotEmpty>
        <!--图片链接-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_PicUrl">WMsg_PicUrl=#WHERE_WMsg_PicUrl#</isNotEmpty>
        <!--图片消息媒体id-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_MediaId">WMsg_MediaId=#WHERE_WMsg_MediaId#</isNotEmpty>
        <!--语音格式-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Format">WMsg_Format=#WHERE_WMsg_Format#</isNotEmpty>
        <!--视频消息缩略图的媒体id-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_ThumbMediaId">WMsg_ThumbMediaId=#WHERE_WMsg_ThumbMediaId#</isNotEmpty>
        <!--地理位置维度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Location_X">WMsg_Location_X=#WHERE_WMsg_Location_X#</isNotEmpty>
        <!--地理位置经度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Location_Y">WMsg_Location_Y=#WHERE_WMsg_Location_Y#</isNotEmpty>
        <!--地图缩放大小-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Scale">WMsg_Scale=#WHERE_WMsg_Scale#</isNotEmpty>
        <!--地理位置信息-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Label">WMsg_Label=#WHERE_WMsg_Label#</isNotEmpty>
        <!--消息标题-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Title">WMsg_Title=#WHERE_WMsg_Title#</isNotEmpty>
        <!--消息描述-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Description">WMsg_Description=#WHERE_WMsg_Description#</isNotEmpty>
        <!--消息链接-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Url">WMsg_Url=#WHERE_WMsg_Url#</isNotEmpty>
        <!--事件类型-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Event">WMsg_Event=#WHERE_WMsg_Event#</isNotEmpty>
        <!--事件KEY值-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_EventKey">WMsg_EventKey=#WHERE_WMsg_EventKey#</isNotEmpty>
        <!--二维码的ticket-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Ticket">WMsg_Ticket=#WHERE_WMsg_Ticket#</isNotEmpty>
        <!--地理位置纬度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Latitude">WMsg_Latitude=#WHERE_WMsg_Latitude#</isNotEmpty>
        <!--地理位置经度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Longitude">WMsg_Longitude=#WHERE_WMsg_Longitude#</isNotEmpty>
        <!--地理位置精度-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_Precision">WMsg_Precision=#WHERE_WMsg_Precision#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WMsg_IsValid">WMsg_IsValid=#WHERE_WMsg_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_CreatedBy">WMsg_CreatedBy=#WHERE_WMsg_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WMsg_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_UpdatedBy">WMsg_UpdatedBy=#WHERE_WMsg_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WMsg_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WMsg_VersionNo">WMsg_VersionNo=#WHERE_WMsg_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WMsg_TransID">WMsg_TransID=#WHERE_WMsg_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[微信消息]信息-->
    <delete id="COMM_SQL_DELETE_MDLWC_Message" parameterClass="List">
      DELETE FROM WC_Message
      WHERE WMsg_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_WMsg_ID#
      </iterate>
    </delete>

    <!--新增[微信用户]信息-->
    <insert id="COMM_SQL_INSERT_MDLWC_User" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        WC_User
        (
        <!--ID-->
        WU_ID,
        <!--用户的标识-->
        WU_OpenID,
        <!--昵称-->
        WU_NickName,
        <!--性别-->
        WU_Sex,
        <!--用户所在城市-->
        WU_City,
        <!--用户所在国家-->
        WU_Country,
        <!--用户所在省份-->
        WU_Province,
        <!--用户的语言-->
        WU_Language,
        <!--用户头像-->
        WU_HeadImgURL,
        <!--微信用户关注公众号的标识-->
        WU_Subscribe,
        <!--用户关注时间戳-->
        WU_SubscribeTime,
        <!--开放平台ID-->
        WU_UnionID,
        <!--公众号运营者对粉丝的备注-->
        WU_Remark,
        <!--用户所在的分组ID-->
        WU_GroupID,
        <!--用户特权信息-->
        WU_Privilege,
        <!--最近一次关注时间-->
        WU_SubscribeTimeNew,
        <!--最近一次取消关注时间-->
        WU_UnSubscribeTimeNew,
        <!--最近一次关注的来源组织-->
        WU_Org_ID,
        <!--最近一次访问时间-->
        WU_LastVisitTime,
        <!--最近一次经度-->
        WU_Latitude,
        <!--最近一次经度-->
        WU_Longitude,
        <!--最近一次坐标更新时间-->
        WU_LocationUpdTime,
        <!--有效-->
        WU_IsValid,
        <!--创建人-->
        WU_CreatedBy,
        <!--创建时间-->
        WU_CreatedTime,
        <!--修改人-->
        WU_UpdatedBy,
        <!--修改时间-->
        WU_UpdatedTime,
        <!--版本号-->
        WU_VersionNo,
        <!--事务编号-->
        WU_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].WU_ID#,
        <!--用户的标识-->
        #[].WU_OpenID#,
        <!--昵称-->
        #[].WU_NickName#,
        <!--性别-->
        #[].WU_Sex#,
        <!--用户所在城市-->
        #[].WU_City#,
        <!--用户所在国家-->
        #[].WU_Country#,
        <!--用户所在省份-->
        #[].WU_Province#,
        <!--用户的语言-->
        #[].WU_Language#,
        <!--用户头像-->
        #[].WU_HeadImgURL#,
        <!--微信用户关注公众号的标识-->
        #[].WU_Subscribe#,
        <!--用户关注时间戳-->
        #[].WU_SubscribeTime#,
        <!--开放平台ID-->
        #[].WU_UnionID#,
        <!--公众号运营者对粉丝的备注-->
        #[].WU_Remark#,
        <!--用户所在的分组ID-->
        #[].WU_GroupID#,
        <!--用户特权信息-->
        #[].WU_Privilege#,
        <!--最近一次关注时间-->
        #[].WU_SubscribeTimeNew#,
        <!--最近一次取消关注时间-->
        #[].WU_UnSubscribeTimeNew#,
        <!--最近一次关注的来源组织-->
        #[].WU_Org_ID#,
        <!--最近一次访问时间-->
        #[].WU_LastVisitTime#,
        <!--最近一次经度-->
        #[].WU_Latitude#,
        <!--最近一次经度-->
        #[].WU_Longitude#,
        <!--最近一次坐标更新时间-->
        #[].WU_LocationUpdTime#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].WU_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].WU_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].WU_TransID#
        )
      </iterate>
    </insert>

    <!--查询[微信用户]信息（精确条件）-->
    <select id="COMM_SQL_MDLWC_User" parameterClass="MDLWC_User" resultClass="MDLWC_User">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WU_ID)
      FROM WC_User
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_ID">WU_ID=#WHERE_WU_ID#</isNotEmpty>
        <!--用户的标识-->
        <isNotEmpty prepend="AND" property="WHERE_WU_OpenID">WU_OpenID=#WHERE_WU_OpenID#</isNotEmpty>
        <!--昵称-->
        <isNotEmpty prepend="AND" property="WHERE_WU_NickName">WU_NickName=#WHERE_WU_NickName#</isNotEmpty>
        <!--性别-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Sex">WU_Sex=#WHERE_WU_Sex#</isNotEmpty>
        <!--用户所在城市-->
        <isNotEmpty prepend="AND" property="WHERE_WU_City">WU_City=#WHERE_WU_City#</isNotEmpty>
        <!--用户所在国家-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Country">WU_Country=#WHERE_WU_Country#</isNotEmpty>
        <!--用户所在省份-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Province">WU_Province=#WHERE_WU_Province#</isNotEmpty>
        <!--用户的语言-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Language">WU_Language=#WHERE_WU_Language#</isNotEmpty>
        <!--用户头像-->
        <isNotEmpty prepend="AND" property="WHERE_WU_HeadImgURL">WU_HeadImgURL=#WHERE_WU_HeadImgURL#</isNotEmpty>
        <!--微信用户关注公众号的标识-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Subscribe">WU_Subscribe=#WHERE_WU_Subscribe#</isNotEmpty>
        <!--用户关注时间戳-->
        <isNotEmpty prepend="AND" property="WHERE_WU_SubscribeTime">WU_SubscribeTime=#WHERE_WU_SubscribeTime#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_UnionID">WU_UnionID=#WHERE_WU_UnionID#</isNotEmpty>
        <!--公众号运营者对粉丝的备注-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Remark">WU_Remark=#WHERE_WU_Remark#</isNotEmpty>
        <!--用户所在的分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_GroupID">WU_GroupID=#WHERE_WU_GroupID#</isNotEmpty>
        <!--用户特权信息-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Privilege">WU_Privilege=#WHERE_WU_Privilege#</isNotEmpty>
        <!--最近一次关注时间-->
        <isNotNull prepend="" property="_SubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew BETWEEN #_SubscribeTimeNewStart# AND #_SubscribeTimeNewEnd#</isNotNull>
          <isNull  prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew <![CDATA[>=]]> #_SubscribeTimeNewStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew <![CDATA[<=]]> #_SubscribeTimeNewEnd#</isNotNull>
        </isNull>
        <!--最近一次取消关注时间-->
        <isNotNull prepend="" property="_UnSubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew BETWEEN #_UnSubscribeTimeNewStart# AND #_UnSubscribeTimeNewEnd#</isNotNull>
          <isNull  prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew <![CDATA[>=]]> #_UnSubscribeTimeNewStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UnSubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew <![CDATA[<=]]> #_UnSubscribeTimeNewEnd#</isNotNull>
        </isNull>
        <!--最近一次关注的来源组织-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Org_ID">WU_Org_ID=#WHERE_WU_Org_ID#</isNotEmpty>
        <!--最近一次访问时间-->
        <isNotNull prepend="" property="_LastVisitTimeStart">
          <isNotNull prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime BETWEEN #_LastVisitTimeStart# AND #_LastVisitTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime <![CDATA[>=]]> #_LastVisitTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LastVisitTimeStart">
          <isNotNull prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime <![CDATA[<=]]> #_LastVisitTimeEnd#</isNotNull>
        </isNull>
        <!--最近一次经度-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Latitude">WU_Latitude=#WHERE_WU_Latitude#</isNotEmpty>
        <!--最近一次经度-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Longitude">WU_Longitude=#WHERE_WU_Longitude#</isNotEmpty>
        <!--最近一次坐标更新时间-->
        <isNotNull prepend="" property="_LocationUpdTimeStart">
          <isNotNull prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime BETWEEN #_LocationUpdTimeStart# AND #_LocationUpdTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime <![CDATA[>=]]> #_LocationUpdTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LocationUpdTimeStart">
          <isNotNull prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime <![CDATA[<=]]> #_LocationUpdTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WU_IsValid">WU_IsValid=#WHERE_WU_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WU_CreatedBy">WU_CreatedBy=#WHERE_WU_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WU_UpdatedBy">WU_UpdatedBy=#WHERE_WU_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WU_VersionNo">WU_VersionNo=#WHERE_WU_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WU_TransID">WU_TransID=#WHERE_WU_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WU_ID,
      WU_OpenID,
      WU_NickName,
      WU_Sex,
      WU_City,
      WU_Country,
      WU_Province,
      WU_Language,
      WU_HeadImgURL,
      WU_Subscribe,
      WU_SubscribeTime,
      WU_UnionID,
      WU_Remark,
      WU_GroupID,
      WU_Privilege,
      WU_SubscribeTimeNew,
      WU_UnSubscribeTimeNew,
      WU_Org_ID,
      WU_LastVisitTime,
      WU_Latitude,
      WU_Longitude,
      WU_LocationUpdTime,
      WU_IsValid,
      WU_CreatedBy,
      WU_CreatedTime,
      WU_UpdatedBy,
      WU_UpdatedTime,
      WU_VersionNo,
      WU_TransID
      FROM WC_User
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_ID">WU_ID=#WHERE_WU_ID#</isNotEmpty>
        <!--用户的标识-->
        <isNotEmpty prepend="AND" property="WHERE_WU_OpenID">WU_OpenID=#WHERE_WU_OpenID#</isNotEmpty>
        <!--昵称-->
        <isNotEmpty prepend="AND" property="WHERE_WU_NickName">WU_NickName=#WHERE_WU_NickName#</isNotEmpty>
        <!--性别-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Sex">WU_Sex=#WHERE_WU_Sex#</isNotEmpty>
        <!--用户所在城市-->
        <isNotEmpty prepend="AND" property="WHERE_WU_City">WU_City=#WHERE_WU_City#</isNotEmpty>
        <!--用户所在国家-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Country">WU_Country=#WHERE_WU_Country#</isNotEmpty>
        <!--用户所在省份-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Province">WU_Province=#WHERE_WU_Province#</isNotEmpty>
        <!--用户的语言-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Language">WU_Language=#WHERE_WU_Language#</isNotEmpty>
        <!--用户头像-->
        <isNotEmpty prepend="AND" property="WHERE_WU_HeadImgURL">WU_HeadImgURL=#WHERE_WU_HeadImgURL#</isNotEmpty>
        <!--微信用户关注公众号的标识-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Subscribe">WU_Subscribe=#WHERE_WU_Subscribe#</isNotEmpty>
        <!--用户关注时间戳-->
        <isNotEmpty prepend="AND" property="WHERE_WU_SubscribeTime">WU_SubscribeTime=#WHERE_WU_SubscribeTime#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_UnionID">WU_UnionID=#WHERE_WU_UnionID#</isNotEmpty>
        <!--公众号运营者对粉丝的备注-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Remark">WU_Remark=#WHERE_WU_Remark#</isNotEmpty>
        <!--用户所在的分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_GroupID">WU_GroupID=#WHERE_WU_GroupID#</isNotEmpty>
        <!--用户特权信息-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Privilege">WU_Privilege=#WHERE_WU_Privilege#</isNotEmpty>
        <!--最近一次关注时间-->
        <isNotNull prepend="" property="_SubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew BETWEEN #_SubscribeTimeNewStart# AND #_SubscribeTimeNewEnd#</isNotNull>
          <isNull  prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew <![CDATA[>=]]> #_SubscribeTimeNewStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew <![CDATA[<=]]> #_SubscribeTimeNewEnd#</isNotNull>
        </isNull>
        <!--最近一次取消关注时间-->
        <isNotNull prepend="" property="_UnSubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew BETWEEN #_UnSubscribeTimeNewStart# AND #_UnSubscribeTimeNewEnd#</isNotNull>
          <isNull  prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew <![CDATA[>=]]> #_UnSubscribeTimeNewStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UnSubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew <![CDATA[<=]]> #_UnSubscribeTimeNewEnd#</isNotNull>
        </isNull>
        <!--最近一次关注的来源组织-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Org_ID">WU_Org_ID=#WHERE_WU_Org_ID#</isNotEmpty>
        <!--最近一次访问时间-->
        <isNotNull prepend="" property="_LastVisitTimeStart">
          <isNotNull prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime BETWEEN #_LastVisitTimeStart# AND #_LastVisitTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime <![CDATA[>=]]> #_LastVisitTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LastVisitTimeStart">
          <isNotNull prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime <![CDATA[<=]]> #_LastVisitTimeEnd#</isNotNull>
        </isNull>
        <!--最近一次经度-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Latitude">WU_Latitude=#WHERE_WU_Latitude#</isNotEmpty>
        <!--最近一次经度-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Longitude">WU_Longitude=#WHERE_WU_Longitude#</isNotEmpty>
        <!--最近一次坐标更新时间-->
        <isNotNull prepend="" property="_LocationUpdTimeStart">
          <isNotNull prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime BETWEEN #_LocationUpdTimeStart# AND #_LocationUpdTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime <![CDATA[>=]]> #_LocationUpdTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LocationUpdTimeStart">
          <isNotNull prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime <![CDATA[<=]]> #_LocationUpdTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WU_IsValid">WU_IsValid=#WHERE_WU_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WU_CreatedBy">WU_CreatedBy=#WHERE_WU_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WU_UpdatedBy">WU_UpdatedBy=#WHERE_WU_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WU_VersionNo">WU_VersionNo=#WHERE_WU_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WU_TransID">WU_TransID=#WHERE_WU_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WU_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[微信用户]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLWC_User" parameterClass="MDLWC_User" resultClass="MDLWC_User">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WU_ID)
      FROM WC_User
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_ID">WU_ID=#WHERE_WU_ID#</isNotEmpty>
        <!--用户的标识-->
        <isNotEmpty prepend="AND" property="WHERE_WU_OpenID">WU_OpenID LIKE '%'+#WHERE_WU_OpenID#+'%'</isNotEmpty>
        <!--昵称-->
        <isNotEmpty prepend="AND" property="WHERE_WU_NickName">WU_NickName LIKE '%'+#WHERE_WU_NickName#+'%'</isNotEmpty>
        <!--性别-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Sex">WU_Sex LIKE '%'+#WHERE_WU_Sex#+'%'</isNotEmpty>
        <!--用户所在城市-->
        <isNotEmpty prepend="AND" property="WHERE_WU_City">WU_City LIKE '%'+#WHERE_WU_City#+'%'</isNotEmpty>
        <!--用户所在国家-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Country">WU_Country LIKE '%'+#WHERE_WU_Country#+'%'</isNotEmpty>
        <!--用户所在省份-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Province">WU_Province LIKE '%'+#WHERE_WU_Province#+'%'</isNotEmpty>
        <!--用户的语言-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Language">WU_Language LIKE '%'+#WHERE_WU_Language#+'%'</isNotEmpty>
        <!--用户头像-->
        <isNotEmpty prepend="AND" property="WHERE_WU_HeadImgURL">WU_HeadImgURL LIKE '%'+#WHERE_WU_HeadImgURL#+'%'</isNotEmpty>
        <!--微信用户关注公众号的标识-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Subscribe">WU_Subscribe LIKE '%'+#WHERE_WU_Subscribe#+'%'</isNotEmpty>
        <!--用户关注时间戳-->
        <isNotEmpty prepend="AND" property="WHERE_WU_SubscribeTime">WU_SubscribeTime LIKE '%'+#WHERE_WU_SubscribeTime#+'%'</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_UnionID">WU_UnionID LIKE '%'+#WHERE_WU_UnionID#+'%'</isNotEmpty>
        <!--公众号运营者对粉丝的备注-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Remark">WU_Remark LIKE '%'+#WHERE_WU_Remark#+'%'</isNotEmpty>
        <!--用户所在的分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_GroupID">WU_GroupID LIKE '%'+#WHERE_WU_GroupID#+'%'</isNotEmpty>
        <!--用户特权信息-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Privilege">WU_Privilege LIKE '%'+#WHERE_WU_Privilege#+'%'</isNotEmpty>
        <!--最近一次关注时间-->
        <isNotNull prepend="" property="_SubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew BETWEEN #_SubscribeTimeNewStart# AND #_SubscribeTimeNewEnd#</isNotNull>
          <isNull  prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew <![CDATA[>=]]> #_SubscribeTimeNewStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew <![CDATA[<=]]> #_SubscribeTimeNewEnd#</isNotNull>
        </isNull>
        <!--最近一次取消关注时间-->
        <isNotNull prepend="" property="_UnSubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew BETWEEN #_UnSubscribeTimeNewStart# AND #_UnSubscribeTimeNewEnd#</isNotNull>
          <isNull  prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew <![CDATA[>=]]> #_UnSubscribeTimeNewStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UnSubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew <![CDATA[<=]]> #_UnSubscribeTimeNewEnd#</isNotNull>
        </isNull>
        <!--最近一次关注的来源组织-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Org_ID">WU_Org_ID LIKE '%'+#WHERE_WU_Org_ID#+'%'</isNotEmpty>
        <!--最近一次访问时间-->
        <isNotNull prepend="" property="_LastVisitTimeStart">
          <isNotNull prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime BETWEEN #_LastVisitTimeStart# AND #_LastVisitTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime <![CDATA[>=]]> #_LastVisitTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LastVisitTimeStart">
          <isNotNull prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime <![CDATA[<=]]> #_LastVisitTimeEnd#</isNotNull>
        </isNull>
        <!--最近一次经度-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Latitude">WU_Latitude LIKE '%'+#WHERE_WU_Latitude#+'%'</isNotEmpty>
        <!--最近一次经度-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Longitude">WU_Longitude LIKE '%'+#WHERE_WU_Longitude#+'%'</isNotEmpty>
        <!--最近一次坐标更新时间-->
        <isNotNull prepend="" property="_LocationUpdTimeStart">
          <isNotNull prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime BETWEEN #_LocationUpdTimeStart# AND #_LocationUpdTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime <![CDATA[>=]]> #_LocationUpdTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LocationUpdTimeStart">
          <isNotNull prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime <![CDATA[<=]]> #_LocationUpdTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WU_IsValid">WU_IsValid=#WHERE_WU_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WU_CreatedBy">WU_CreatedBy LIKE '%'+#WHERE_WU_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WU_UpdatedBy">WU_UpdatedBy LIKE '%'+#WHERE_WU_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WU_VersionNo">WU_VersionNo=#WHERE_WU_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WU_TransID">WU_TransID LIKE '%'+#WHERE_WU_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WU_ID,
      WU_OpenID,
      WU_NickName,
      WU_Sex,
      WU_City,
      WU_Country,
      WU_Province,
      WU_Language,
      WU_HeadImgURL,
      WU_Subscribe,
      WU_SubscribeTime,
      WU_UnionID,
      WU_Remark,
      WU_GroupID,
      WU_Privilege,
      WU_SubscribeTimeNew,
      WU_UnSubscribeTimeNew,
      WU_Org_ID,
      WU_LastVisitTime,
      WU_Latitude,
      WU_Longitude,
      WU_LocationUpdTime,
      WU_IsValid,
      WU_CreatedBy,
      WU_CreatedTime,
      WU_UpdatedBy,
      WU_UpdatedTime,
      WU_VersionNo,
      WU_TransID
      FROM WC_User
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_ID">WU_ID=#WHERE_WU_ID#</isNotEmpty>
        <!--用户的标识-->
        <isNotEmpty prepend="AND" property="WHERE_WU_OpenID">WU_OpenID LIKE '%'+#WHERE_WU_OpenID#+'%'</isNotEmpty>
        <!--昵称-->
        <isNotEmpty prepend="AND" property="WHERE_WU_NickName">WU_NickName LIKE '%'+#WHERE_WU_NickName#+'%'</isNotEmpty>
        <!--性别-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Sex">WU_Sex LIKE '%'+#WHERE_WU_Sex#+'%'</isNotEmpty>
        <!--用户所在城市-->
        <isNotEmpty prepend="AND" property="WHERE_WU_City">WU_City LIKE '%'+#WHERE_WU_City#+'%'</isNotEmpty>
        <!--用户所在国家-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Country">WU_Country LIKE '%'+#WHERE_WU_Country#+'%'</isNotEmpty>
        <!--用户所在省份-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Province">WU_Province LIKE '%'+#WHERE_WU_Province#+'%'</isNotEmpty>
        <!--用户的语言-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Language">WU_Language LIKE '%'+#WHERE_WU_Language#+'%'</isNotEmpty>
        <!--用户头像-->
        <isNotEmpty prepend="AND" property="WHERE_WU_HeadImgURL">WU_HeadImgURL LIKE '%'+#WHERE_WU_HeadImgURL#+'%'</isNotEmpty>
        <!--微信用户关注公众号的标识-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Subscribe">WU_Subscribe LIKE '%'+#WHERE_WU_Subscribe#+'%'</isNotEmpty>
        <!--用户关注时间戳-->
        <isNotEmpty prepend="AND" property="WHERE_WU_SubscribeTime">WU_SubscribeTime LIKE '%'+#WHERE_WU_SubscribeTime#+'%'</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_UnionID">WU_UnionID LIKE '%'+#WHERE_WU_UnionID#+'%'</isNotEmpty>
        <!--公众号运营者对粉丝的备注-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Remark">WU_Remark LIKE '%'+#WHERE_WU_Remark#+'%'</isNotEmpty>
        <!--用户所在的分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_GroupID">WU_GroupID LIKE '%'+#WHERE_WU_GroupID#+'%'</isNotEmpty>
        <!--用户特权信息-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Privilege">WU_Privilege LIKE '%'+#WHERE_WU_Privilege#+'%'</isNotEmpty>
        <!--最近一次关注时间-->
        <isNotNull prepend="" property="_SubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew BETWEEN #_SubscribeTimeNewStart# AND #_SubscribeTimeNewEnd#</isNotNull>
          <isNull  prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew <![CDATA[>=]]> #_SubscribeTimeNewStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew <![CDATA[<=]]> #_SubscribeTimeNewEnd#</isNotNull>
        </isNull>
        <!--最近一次取消关注时间-->
        <isNotNull prepend="" property="_UnSubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew BETWEEN #_UnSubscribeTimeNewStart# AND #_UnSubscribeTimeNewEnd#</isNotNull>
          <isNull  prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew <![CDATA[>=]]> #_UnSubscribeTimeNewStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UnSubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew <![CDATA[<=]]> #_UnSubscribeTimeNewEnd#</isNotNull>
        </isNull>
        <!--最近一次关注的来源组织-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Org_ID">WU_Org_ID LIKE '%'+#WHERE_WU_Org_ID#+'%'</isNotEmpty>
        <!--最近一次访问时间-->
        <isNotNull prepend="" property="_LastVisitTimeStart">
          <isNotNull prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime BETWEEN #_LastVisitTimeStart# AND #_LastVisitTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime <![CDATA[>=]]> #_LastVisitTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LastVisitTimeStart">
          <isNotNull prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime <![CDATA[<=]]> #_LastVisitTimeEnd#</isNotNull>
        </isNull>
        <!--最近一次经度-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Latitude">WU_Latitude LIKE '%'+#WHERE_WU_Latitude#+'%'</isNotEmpty>
        <!--最近一次经度-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Longitude">WU_Longitude LIKE '%'+#WHERE_WU_Longitude#+'%'</isNotEmpty>
        <!--最近一次坐标更新时间-->
        <isNotNull prepend="" property="_LocationUpdTimeStart">
          <isNotNull prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime BETWEEN #_LocationUpdTimeStart# AND #_LocationUpdTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime <![CDATA[>=]]> #_LocationUpdTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LocationUpdTimeStart">
          <isNotNull prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime <![CDATA[<=]]> #_LocationUpdTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WU_IsValid">WU_IsValid=#WHERE_WU_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WU_CreatedBy">WU_CreatedBy LIKE '%'+#WHERE_WU_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WU_UpdatedBy">WU_UpdatedBy LIKE '%'+#WHERE_WU_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WU_VersionNo">WU_VersionNo=#WHERE_WU_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WU_TransID">WU_TransID LIKE '%'+#WHERE_WU_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WU_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[微信用户]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLWC_User" parameterClass="MDLWC_User" resultClass="int">
      SELECT COUNT(WU_ID) 'RecordCount'
      FROM WC_User
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_ID">WU_ID=#WHERE_WU_ID#</isNotEmpty>
        <!--用户的标识-->
        <isNotEmpty prepend="AND" property="WHERE_WU_OpenID">WU_OpenID=#WHERE_WU_OpenID#</isNotEmpty>
        <!--昵称-->
        <isNotEmpty prepend="AND" property="WHERE_WU_NickName">WU_NickName=#WHERE_WU_NickName#</isNotEmpty>
        <!--性别-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Sex">WU_Sex=#WHERE_WU_Sex#</isNotEmpty>
        <!--用户所在城市-->
        <isNotEmpty prepend="AND" property="WHERE_WU_City">WU_City=#WHERE_WU_City#</isNotEmpty>
        <!--用户所在国家-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Country">WU_Country=#WHERE_WU_Country#</isNotEmpty>
        <!--用户所在省份-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Province">WU_Province=#WHERE_WU_Province#</isNotEmpty>
        <!--用户的语言-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Language">WU_Language=#WHERE_WU_Language#</isNotEmpty>
        <!--用户头像-->
        <isNotEmpty prepend="AND" property="WHERE_WU_HeadImgURL">WU_HeadImgURL=#WHERE_WU_HeadImgURL#</isNotEmpty>
        <!--微信用户关注公众号的标识-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Subscribe">WU_Subscribe=#WHERE_WU_Subscribe#</isNotEmpty>
        <!--用户关注时间戳-->
        <isNotEmpty prepend="AND" property="WHERE_WU_SubscribeTime">WU_SubscribeTime=#WHERE_WU_SubscribeTime#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_UnionID">WU_UnionID=#WHERE_WU_UnionID#</isNotEmpty>
        <!--公众号运营者对粉丝的备注-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Remark">WU_Remark=#WHERE_WU_Remark#</isNotEmpty>
        <!--用户所在的分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_GroupID">WU_GroupID=#WHERE_WU_GroupID#</isNotEmpty>
        <!--用户特权信息-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Privilege">WU_Privilege=#WHERE_WU_Privilege#</isNotEmpty>
        <!--最近一次关注时间-->
        <isNotNull prepend="" property="_SubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew BETWEEN #_SubscribeTimeNewStart# AND #_SubscribeTimeNewEnd#</isNotNull>
          <isNull  prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew <![CDATA[>=]]> #_SubscribeTimeNewStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew <![CDATA[<=]]> #_SubscribeTimeNewEnd#</isNotNull>
        </isNull>
        <!--最近一次取消关注时间-->
        <isNotNull prepend="" property="_UnSubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew BETWEEN #_UnSubscribeTimeNewStart# AND #_UnSubscribeTimeNewEnd#</isNotNull>
          <isNull  prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew <![CDATA[>=]]> #_UnSubscribeTimeNewStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UnSubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew <![CDATA[<=]]> #_UnSubscribeTimeNewEnd#</isNotNull>
        </isNull>
        <!--最近一次关注的来源组织-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Org_ID">WU_Org_ID=#WHERE_WU_Org_ID#</isNotEmpty>
        <!--最近一次访问时间-->
        <isNotNull prepend="" property="_LastVisitTimeStart">
          <isNotNull prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime BETWEEN #_LastVisitTimeStart# AND #_LastVisitTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime <![CDATA[>=]]> #_LastVisitTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LastVisitTimeStart">
          <isNotNull prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime <![CDATA[<=]]> #_LastVisitTimeEnd#</isNotNull>
        </isNull>
        <!--最近一次经度-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Latitude">WU_Latitude=#WHERE_WU_Latitude#</isNotEmpty>
        <!--最近一次经度-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Longitude">WU_Longitude=#WHERE_WU_Longitude#</isNotEmpty>
        <!--最近一次坐标更新时间-->
        <isNotNull prepend="" property="_LocationUpdTimeStart">
          <isNotNull prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime BETWEEN #_LocationUpdTimeStart# AND #_LocationUpdTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime <![CDATA[>=]]> #_LocationUpdTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LocationUpdTimeStart">
          <isNotNull prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime <![CDATA[<=]]> #_LocationUpdTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WU_IsValid">WU_IsValid=#WHERE_WU_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WU_CreatedBy">WU_CreatedBy=#WHERE_WU_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WU_UpdatedBy">WU_UpdatedBy=#WHERE_WU_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WU_VersionNo">WU_VersionNo=#WHERE_WU_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WU_TransID">WU_TransID=#WHERE_WU_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[微信用户]信息-->
    <update id="COMM_SQL_UpdateMDLWC_User" parameterClass="MDLWC_User" >
      UPDATE WC_User
      SET
      WU_UpdatedTime=GETDATE(),
      WU_VersionNo=WU_VersionNo+1
      <isNotEmpty prepend="," property="WU_OpenID">WU_OpenID=#WU_OpenID#</isNotEmpty>
      <isNotEmpty prepend="," property="WU_NickName">WU_NickName=#WU_NickName#</isNotEmpty>
      <isNotEmpty prepend="," property="WU_Sex">WU_Sex=#WU_Sex#</isNotEmpty>
      <isNotEmpty prepend="," property="WU_City">WU_City=#WU_City#</isNotEmpty>
      <isNotEmpty prepend="," property="WU_Country">WU_Country=#WU_Country#</isNotEmpty>
      <isNotEmpty prepend="," property="WU_Province">WU_Province=#WU_Province#</isNotEmpty>
      <isNotEmpty prepend="," property="WU_Language">WU_Language=#WU_Language#</isNotEmpty>
      <isNotEmpty prepend="," property="WU_HeadImgURL">WU_HeadImgURL=#WU_HeadImgURL#</isNotEmpty>
      <isNotEmpty prepend="," property="WU_Subscribe">WU_Subscribe=#WU_Subscribe#</isNotEmpty>
      <isNotEmpty prepend="," property="WU_SubscribeTime">WU_SubscribeTime=#WU_SubscribeTime#</isNotEmpty>
      <isNotEmpty prepend="," property="WU_UnionID">WU_UnionID=#WU_UnionID#</isNotEmpty>
      <isNotEmpty prepend="," property="WU_Remark">WU_Remark=#WU_Remark#</isNotEmpty>
      <isNotEmpty prepend="," property="WU_GroupID">WU_GroupID=#WU_GroupID#</isNotEmpty>
      <isNotEmpty prepend="," property="WU_Privilege">WU_Privilege=#WU_Privilege#</isNotEmpty>
      <isNotNull prepend="," property="WU_SubscribeTimeNew">WU_SubscribeTimeNew=#WU_SubscribeTimeNew#</isNotNull>
      <isNotNull prepend="," property="WU_UnSubscribeTimeNew">WU_UnSubscribeTimeNew=#WU_UnSubscribeTimeNew#</isNotNull>
      <isNotEmpty prepend="," property="WU_Org_ID">WU_Org_ID=#WU_Org_ID#</isNotEmpty>
      <isNotNull prepend="," property="WU_LastVisitTime">WU_LastVisitTime=#WU_LastVisitTime#</isNotNull>
      <isNotEmpty prepend="," property="WU_Latitude">WU_Latitude=#WU_Latitude#</isNotEmpty>
      <isNotEmpty prepend="," property="WU_Longitude">WU_Longitude=#WU_Longitude#</isNotEmpty>
      <isNotNull prepend="," property="WU_LocationUpdTime">WU_LocationUpdTime=#WU_LocationUpdTime#</isNotNull>
      <isNotNull prepend="," property="WU_IsValid">WU_IsValid=#WU_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="WU_CreatedBy">WU_CreatedBy=#WU_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="WU_CreatedTime">WU_CreatedTime=#WU_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="WU_UpdatedBy">WU_UpdatedBy=#WU_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="WU_TransID">WU_TransID=#WU_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_ID">WU_ID=#WHERE_WU_ID#</isNotEmpty>
        <!--用户的标识-->
        <isNotEmpty prepend="AND" property="WHERE_WU_OpenID">WU_OpenID=#WHERE_WU_OpenID#</isNotEmpty>
        <!--昵称-->
        <isNotEmpty prepend="AND" property="WHERE_WU_NickName">WU_NickName=#WHERE_WU_NickName#</isNotEmpty>
        <!--性别-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Sex">WU_Sex=#WHERE_WU_Sex#</isNotEmpty>
        <!--用户所在城市-->
        <isNotEmpty prepend="AND" property="WHERE_WU_City">WU_City=#WHERE_WU_City#</isNotEmpty>
        <!--用户所在国家-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Country">WU_Country=#WHERE_WU_Country#</isNotEmpty>
        <!--用户所在省份-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Province">WU_Province=#WHERE_WU_Province#</isNotEmpty>
        <!--用户的语言-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Language">WU_Language=#WHERE_WU_Language#</isNotEmpty>
        <!--用户头像-->
        <isNotEmpty prepend="AND" property="WHERE_WU_HeadImgURL">WU_HeadImgURL=#WHERE_WU_HeadImgURL#</isNotEmpty>
        <!--微信用户关注公众号的标识-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Subscribe">WU_Subscribe=#WHERE_WU_Subscribe#</isNotEmpty>
        <!--用户关注时间戳-->
        <isNotEmpty prepend="AND" property="WHERE_WU_SubscribeTime">WU_SubscribeTime=#WHERE_WU_SubscribeTime#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_UnionID">WU_UnionID=#WHERE_WU_UnionID#</isNotEmpty>
        <!--公众号运营者对粉丝的备注-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Remark">WU_Remark=#WHERE_WU_Remark#</isNotEmpty>
        <!--用户所在的分组ID-->
        <isNotEmpty prepend="AND" property="WHERE_WU_GroupID">WU_GroupID=#WHERE_WU_GroupID#</isNotEmpty>
        <!--用户特权信息-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Privilege">WU_Privilege=#WHERE_WU_Privilege#</isNotEmpty>
        <!--最近一次关注时间-->
        <isNotNull prepend="" property="_SubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew BETWEEN #_SubscribeTimeNewStart# AND #_SubscribeTimeNewEnd#</isNotNull>
          <isNull  prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew <![CDATA[>=]]> #_SubscribeTimeNewStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_SubscribeTimeNewEnd">WU_SubscribeTimeNew <![CDATA[<=]]> #_SubscribeTimeNewEnd#</isNotNull>
        </isNull>
        <!--最近一次取消关注时间-->
        <isNotNull prepend="" property="_UnSubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew BETWEEN #_UnSubscribeTimeNewStart# AND #_UnSubscribeTimeNewEnd#</isNotNull>
          <isNull  prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew <![CDATA[>=]]> #_UnSubscribeTimeNewStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UnSubscribeTimeNewStart">
          <isNotNull prepend="AND" property="_UnSubscribeTimeNewEnd">WU_UnSubscribeTimeNew <![CDATA[<=]]> #_UnSubscribeTimeNewEnd#</isNotNull>
        </isNull>
        <!--最近一次关注的来源组织-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Org_ID">WU_Org_ID=#WHERE_WU_Org_ID#</isNotEmpty>
        <!--最近一次访问时间-->
        <isNotNull prepend="" property="_LastVisitTimeStart">
          <isNotNull prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime BETWEEN #_LastVisitTimeStart# AND #_LastVisitTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime <![CDATA[>=]]> #_LastVisitTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LastVisitTimeStart">
          <isNotNull prepend="AND" property="_LastVisitTimeEnd">WU_LastVisitTime <![CDATA[<=]]> #_LastVisitTimeEnd#</isNotNull>
        </isNull>
        <!--最近一次经度-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Latitude">WU_Latitude=#WHERE_WU_Latitude#</isNotEmpty>
        <!--最近一次经度-->
        <isNotEmpty prepend="AND" property="WHERE_WU_Longitude">WU_Longitude=#WHERE_WU_Longitude#</isNotEmpty>
        <!--最近一次坐标更新时间-->
        <isNotNull prepend="" property="_LocationUpdTimeStart">
          <isNotNull prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime BETWEEN #_LocationUpdTimeStart# AND #_LocationUpdTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime <![CDATA[>=]]> #_LocationUpdTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_LocationUpdTimeStart">
          <isNotNull prepend="AND" property="_LocationUpdTimeEnd">WU_LocationUpdTime <![CDATA[<=]]> #_LocationUpdTimeEnd#</isNotNull>
        </isNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WU_IsValid">WU_IsValid=#WHERE_WU_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WU_CreatedBy">WU_CreatedBy=#WHERE_WU_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WU_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WU_UpdatedBy">WU_UpdatedBy=#WHERE_WU_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WU_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WU_VersionNo">WU_VersionNo=#WHERE_WU_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WU_TransID">WU_TransID=#WHERE_WU_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[微信用户]信息-->
    <delete id="COMM_SQL_DELETE_MDLWC_User" parameterClass="List">
      DELETE FROM WC_User
      WHERE WU_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_WU_ID#
      </iterate>
    </delete>

    <!--新增[微信用户明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLWC_UserDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        WC_UserDetail
        (
        <!--微信用户明细ID-->
        WUD_ID,
        <!--开放平台ID-->
        WUD_UnionID,
        <!--OpenID-->
        WUD_OpenID,
        <!--用户类型-->
        WUD_Type,
        <!--认证时间-->
        WUD_CertificationTime,
        <!--认证标识-->
        WUD_Mark,
        <!--用户名称-->
        WUD_Name,
        <!--用户ID-->
        WUD_UserID,
        <!--是否商户管理者-->
        WUD_IsManager,
        <!--是否允许当前商户被多次认证-->
        WUD_AllowMultipleCertificate,
        <!--有效-->
        WUD_IsValid,
        <!--创建人-->
        WUD_CreatedBy,
        <!--创建时间-->
        WUD_CreatedTime,
        <!--修改人-->
        WUD_UpdatedBy,
        <!--修改时间-->
        WUD_UpdatedTime,
        <!--版本号-->
        WUD_VersionNo,
        <!--事务编号-->
        WUD_TransID
        )
        VALUES
        (
        <!--微信用户明细ID-->
        #[].WUD_ID#,
        <!--开放平台ID-->
        #[].WUD_UnionID#,
        <!--OpenID-->
        #[].WUD_OpenID#,
        <!--用户类型-->
        #[].WUD_Type#,
        <!--认证时间-->
        #[].WUD_CertificationTime#,
        <!--认证标识-->
        #[].WUD_Mark#,
        <!--用户名称-->
        #[].WUD_Name#,
        <!--用户ID-->
        #[].WUD_UserID#,
        <!--是否商户管理者-->
        #[].WUD_IsManager#,
        <!--是否允许当前商户被多次认证-->
        #[].WUD_AllowMultipleCertificate#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].WUD_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].WUD_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].WUD_TransID#
        )
      </iterate>
    </insert>

    <!--查询[微信用户明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLWC_UserDetail" parameterClass="MDLWC_UserDetail" resultClass="MDLWC_UserDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WUD_ID)
      FROM WC_UserDetail
      <dynamic prepend="WHERE">
        <!--微信用户明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_ID">WUD_ID=#WHERE_WUD_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UnionID">WUD_UnionID=#WHERE_WUD_UnionID#</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_OpenID">WUD_OpenID=#WHERE_WUD_OpenID#</isNotEmpty>
        <!--用户类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Type">WUD_Type=#WHERE_WUD_Type#</isNotEmpty>
        <!--认证时间-->
        <isNotNull prepend="" property="_CertificationTimeStart">
          <isNotNull prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime BETWEEN #_CertificationTimeStart# AND #_CertificationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime <![CDATA[>=]]> #_CertificationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CertificationTimeStart">
          <isNotNull prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime <![CDATA[<=]]> #_CertificationTimeEnd#</isNotNull>
        </isNull>
        <!--认证标识-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Mark">WUD_Mark=#WHERE_WUD_Mark#</isNotEmpty>
        <!--用户名称-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Name">WUD_Name=#WHERE_WUD_Name#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UserID">WUD_UserID=#WHERE_WUD_UserID#</isNotEmpty>
        <!--是否商户管理者-->
        <isNotNull prepend="AND" property="WHERE_WUD_IsManager">WUD_IsManager=#WHERE_WUD_IsManager#</isNotNull>
        <!--是否允许当前商户被多次认证-->
        <isNotNull prepend="AND" property="WHERE_WUD_AllowMultipleCertificate">WUD_AllowMultipleCertificate=#WHERE_WUD_AllowMultipleCertificate#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUD_IsValid">WUD_IsValid=#WHERE_WUD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_CreatedBy">WUD_CreatedBy=#WHERE_WUD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UpdatedBy">WUD_UpdatedBy=#WHERE_WUD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUD_VersionNo">WUD_VersionNo=#WHERE_WUD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_TransID">WUD_TransID=#WHERE_WUD_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WUD_ID,
      WUD_UnionID,
      WUD_OpenID,
      WUD_Type,
      WUD_CertificationTime,
      WUD_Mark,
      WUD_Name,
      WUD_UserID,
      WUD_IsManager,
      WUD_AllowMultipleCertificate,
      WUD_IsValid,
      WUD_CreatedBy,
      WUD_CreatedTime,
      WUD_UpdatedBy,
      WUD_UpdatedTime,
      WUD_VersionNo,
      WUD_TransID
      FROM WC_UserDetail
      <dynamic prepend="WHERE">
        <!--微信用户明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_ID">WUD_ID=#WHERE_WUD_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UnionID">WUD_UnionID=#WHERE_WUD_UnionID#</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_OpenID">WUD_OpenID=#WHERE_WUD_OpenID#</isNotEmpty>
        <!--用户类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Type">WUD_Type=#WHERE_WUD_Type#</isNotEmpty>
        <!--认证时间-->
        <isNotNull prepend="" property="_CertificationTimeStart">
          <isNotNull prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime BETWEEN #_CertificationTimeStart# AND #_CertificationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime <![CDATA[>=]]> #_CertificationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CertificationTimeStart">
          <isNotNull prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime <![CDATA[<=]]> #_CertificationTimeEnd#</isNotNull>
        </isNull>
        <!--认证标识-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Mark">WUD_Mark=#WHERE_WUD_Mark#</isNotEmpty>
        <!--用户名称-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Name">WUD_Name=#WHERE_WUD_Name#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UserID">WUD_UserID=#WHERE_WUD_UserID#</isNotEmpty>
        <!--是否商户管理者-->
        <isNotNull prepend="AND" property="WHERE_WUD_IsManager">WUD_IsManager=#WHERE_WUD_IsManager#</isNotNull>
        <!--是否允许当前商户被多次认证-->
        <isNotNull prepend="AND" property="WHERE_WUD_AllowMultipleCertificate">WUD_AllowMultipleCertificate=#WHERE_WUD_AllowMultipleCertificate#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUD_IsValid">WUD_IsValid=#WHERE_WUD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_CreatedBy">WUD_CreatedBy=#WHERE_WUD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UpdatedBy">WUD_UpdatedBy=#WHERE_WUD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUD_VersionNo">WUD_VersionNo=#WHERE_WUD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_TransID">WUD_TransID=#WHERE_WUD_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WUD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[微信用户明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLWC_UserDetail" parameterClass="MDLWC_UserDetail" resultClass="MDLWC_UserDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WUD_ID)
      FROM WC_UserDetail
      <dynamic prepend="WHERE">
        <!--微信用户明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_ID">WUD_ID=#WHERE_WUD_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UnionID">WUD_UnionID LIKE '%'+#WHERE_WUD_UnionID#+'%'</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_OpenID">WUD_OpenID LIKE '%'+#WHERE_WUD_OpenID#+'%'</isNotEmpty>
        <!--用户类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Type">WUD_Type LIKE '%'+#WHERE_WUD_Type#+'%'</isNotEmpty>
        <!--认证时间-->
        <isNotNull prepend="" property="_CertificationTimeStart">
          <isNotNull prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime BETWEEN #_CertificationTimeStart# AND #_CertificationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime <![CDATA[>=]]> #_CertificationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CertificationTimeStart">
          <isNotNull prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime <![CDATA[<=]]> #_CertificationTimeEnd#</isNotNull>
        </isNull>
        <!--认证标识-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Mark">WUD_Mark LIKE '%'+#WHERE_WUD_Mark#+'%'</isNotEmpty>
        <!--用户名称-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Name">WUD_Name LIKE '%'+#WHERE_WUD_Name#+'%'</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UserID">WUD_UserID LIKE '%'+#WHERE_WUD_UserID#+'%'</isNotEmpty>
        <!--是否商户管理者-->
        <isNotNull prepend="AND" property="WHERE_WUD_IsManager">WUD_IsManager=#WHERE_WUD_IsManager#</isNotNull>
        <!--是否允许当前商户被多次认证-->
        <isNotNull prepend="AND" property="WHERE_WUD_AllowMultipleCertificate">WUD_AllowMultipleCertificate=#WHERE_WUD_AllowMultipleCertificate#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUD_IsValid">WUD_IsValid=#WHERE_WUD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_CreatedBy">WUD_CreatedBy LIKE '%'+#WHERE_WUD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UpdatedBy">WUD_UpdatedBy LIKE '%'+#WHERE_WUD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUD_VersionNo">WUD_VersionNo=#WHERE_WUD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_TransID">WUD_TransID LIKE '%'+#WHERE_WUD_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WUD_ID,
      WUD_UnionID,
      WUD_OpenID,
      WUD_Type,
      WUD_CertificationTime,
      WUD_Mark,
      WUD_Name,
      WUD_UserID,
      WUD_IsManager,
      WUD_AllowMultipleCertificate,
      WUD_IsValid,
      WUD_CreatedBy,
      WUD_CreatedTime,
      WUD_UpdatedBy,
      WUD_UpdatedTime,
      WUD_VersionNo,
      WUD_TransID
      FROM WC_UserDetail
      <dynamic prepend="WHERE">
        <!--微信用户明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_ID">WUD_ID=#WHERE_WUD_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UnionID">WUD_UnionID LIKE '%'+#WHERE_WUD_UnionID#+'%'</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_OpenID">WUD_OpenID LIKE '%'+#WHERE_WUD_OpenID#+'%'</isNotEmpty>
        <!--用户类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Type">WUD_Type LIKE '%'+#WHERE_WUD_Type#+'%'</isNotEmpty>
        <!--认证时间-->
        <isNotNull prepend="" property="_CertificationTimeStart">
          <isNotNull prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime BETWEEN #_CertificationTimeStart# AND #_CertificationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime <![CDATA[>=]]> #_CertificationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CertificationTimeStart">
          <isNotNull prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime <![CDATA[<=]]> #_CertificationTimeEnd#</isNotNull>
        </isNull>
        <!--认证标识-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Mark">WUD_Mark LIKE '%'+#WHERE_WUD_Mark#+'%'</isNotEmpty>
        <!--用户名称-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Name">WUD_Name LIKE '%'+#WHERE_WUD_Name#+'%'</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UserID">WUD_UserID LIKE '%'+#WHERE_WUD_UserID#+'%'</isNotEmpty>
        <!--是否商户管理者-->
        <isNotNull prepend="AND" property="WHERE_WUD_IsManager">WUD_IsManager=#WHERE_WUD_IsManager#</isNotNull>
        <!--是否允许当前商户被多次认证-->
        <isNotNull prepend="AND" property="WHERE_WUD_AllowMultipleCertificate">WUD_AllowMultipleCertificate=#WHERE_WUD_AllowMultipleCertificate#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUD_IsValid">WUD_IsValid=#WHERE_WUD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_CreatedBy">WUD_CreatedBy LIKE '%'+#WHERE_WUD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UpdatedBy">WUD_UpdatedBy LIKE '%'+#WHERE_WUD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUD_VersionNo">WUD_VersionNo=#WHERE_WUD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_TransID">WUD_TransID LIKE '%'+#WHERE_WUD_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WUD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[微信用户明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLWC_UserDetail" parameterClass="MDLWC_UserDetail" resultClass="int">
      SELECT COUNT(WUD_ID) 'RecordCount'
      FROM WC_UserDetail
      <dynamic prepend="WHERE">
        <!--微信用户明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_ID">WUD_ID=#WHERE_WUD_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UnionID">WUD_UnionID=#WHERE_WUD_UnionID#</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_OpenID">WUD_OpenID=#WHERE_WUD_OpenID#</isNotEmpty>
        <!--用户类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Type">WUD_Type=#WHERE_WUD_Type#</isNotEmpty>
        <!--认证时间-->
        <isNotNull prepend="" property="_CertificationTimeStart">
          <isNotNull prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime BETWEEN #_CertificationTimeStart# AND #_CertificationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime <![CDATA[>=]]> #_CertificationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CertificationTimeStart">
          <isNotNull prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime <![CDATA[<=]]> #_CertificationTimeEnd#</isNotNull>
        </isNull>
        <!--认证标识-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Mark">WUD_Mark=#WHERE_WUD_Mark#</isNotEmpty>
        <!--用户名称-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Name">WUD_Name=#WHERE_WUD_Name#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UserID">WUD_UserID=#WHERE_WUD_UserID#</isNotEmpty>
        <!--是否商户管理者-->
        <isNotNull prepend="AND" property="WHERE_WUD_IsManager">WUD_IsManager=#WHERE_WUD_IsManager#</isNotNull>
        <!--是否允许当前商户被多次认证-->
        <isNotNull prepend="AND" property="WHERE_WUD_AllowMultipleCertificate">WUD_AllowMultipleCertificate=#WHERE_WUD_AllowMultipleCertificate#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUD_IsValid">WUD_IsValid=#WHERE_WUD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_CreatedBy">WUD_CreatedBy=#WHERE_WUD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UpdatedBy">WUD_UpdatedBy=#WHERE_WUD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUD_VersionNo">WUD_VersionNo=#WHERE_WUD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_TransID">WUD_TransID=#WHERE_WUD_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[微信用户明细]信息-->
    <update id="COMM_SQL_UpdateMDLWC_UserDetail" parameterClass="MDLWC_UserDetail" >
      UPDATE WC_UserDetail
      SET
      WUD_UpdatedTime=GETDATE(),
      WUD_VersionNo=WUD_VersionNo+1
      <isNotEmpty prepend="," property="WUD_UnionID">WUD_UnionID=#WUD_UnionID#</isNotEmpty>
      <isNotEmpty prepend="," property="WUD_OpenID">WUD_OpenID=#WUD_OpenID#</isNotEmpty>
      <isNotEmpty prepend="," property="WUD_Type">WUD_Type=#WUD_Type#</isNotEmpty>
      <isNotNull prepend="," property="WUD_CertificationTime">WUD_CertificationTime=#WUD_CertificationTime#</isNotNull>
      <isNotEmpty prepend="," property="WUD_Mark">WUD_Mark=#WUD_Mark#</isNotEmpty>
      <isNotEmpty prepend="," property="WUD_Name">WUD_Name=#WUD_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="WUD_UserID">WUD_UserID=#WUD_UserID#</isNotEmpty>
      <isNotNull prepend="," property="WUD_IsManager">WUD_IsManager=#WUD_IsManager#</isNotNull>
      <isNotNull prepend="," property="WUD_AllowMultipleCertificate">WUD_AllowMultipleCertificate=#WUD_AllowMultipleCertificate#</isNotNull>
      <isNotNull prepend="," property="WUD_IsValid">WUD_IsValid=#WUD_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="WUD_CreatedBy">WUD_CreatedBy=#WUD_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="WUD_CreatedTime">WUD_CreatedTime=#WUD_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="WUD_UpdatedBy">WUD_UpdatedBy=#WUD_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="WUD_TransID">WUD_TransID=#WUD_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--微信用户明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_ID">WUD_ID=#WHERE_WUD_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UnionID">WUD_UnionID=#WHERE_WUD_UnionID#</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_OpenID">WUD_OpenID=#WHERE_WUD_OpenID#</isNotEmpty>
        <!--用户类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Type">WUD_Type=#WHERE_WUD_Type#</isNotEmpty>
        <!--认证时间-->
        <isNotNull prepend="" property="_CertificationTimeStart">
          <isNotNull prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime BETWEEN #_CertificationTimeStart# AND #_CertificationTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime <![CDATA[>=]]> #_CertificationTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CertificationTimeStart">
          <isNotNull prepend="AND" property="_CertificationTimeEnd">WUD_CertificationTime <![CDATA[<=]]> #_CertificationTimeEnd#</isNotNull>
        </isNull>
        <!--认证标识-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Mark">WUD_Mark=#WHERE_WUD_Mark#</isNotEmpty>
        <!--用户名称-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_Name">WUD_Name=#WHERE_WUD_Name#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UserID">WUD_UserID=#WHERE_WUD_UserID#</isNotEmpty>
        <!--是否商户管理者-->
        <isNotNull prepend="AND" property="WHERE_WUD_IsManager">WUD_IsManager=#WHERE_WUD_IsManager#</isNotNull>
        <!--是否允许当前商户被多次认证-->
        <isNotNull prepend="AND" property="WHERE_WUD_AllowMultipleCertificate">WUD_AllowMultipleCertificate=#WHERE_WUD_AllowMultipleCertificate#</isNotNull>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUD_IsValid">WUD_IsValid=#WHERE_WUD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_CreatedBy">WUD_CreatedBy=#WHERE_WUD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_UpdatedBy">WUD_UpdatedBy=#WHERE_WUD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUD_VersionNo">WUD_VersionNo=#WHERE_WUD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUD_TransID">WUD_TransID=#WHERE_WUD_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[微信用户明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLWC_UserDetail" parameterClass="List">
      DELETE FROM WC_UserDetail
      WHERE WUD_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_WUD_ID#
      </iterate>
    </delete>

    <!--新增[微信用户明细异动]信息-->
    <insert id="COMM_SQL_INSERT_MDLWC_UserDetailTrans" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        WC_UserDetailTrans
        (
        <!--明细异动ID-->
        WUDT_ID,
        <!--开放平台ID-->
        WUDT_UnionID,
        <!--OpenID-->
        WUDT_OpenID,
        <!--认证标识-->
        WUDT_Mark,
        <!--用户名称-->
        WUDT_Name,
        <!--用户ID-->
        WUDT_UserID,
        <!--异动类型-->
        WUDT_Type,
        <!--认证类型-->
        WUDT_CertificationType,
        <!--异动时间-->
        WUDT_Time,
        <!--备注-->
        WUDT_Remark,
        <!--有效-->
        WUDT_IsValid,
        <!--创建人-->
        WUDT_CreatedBy,
        <!--创建时间-->
        WUDT_CreatedTime,
        <!--修改人-->
        WUDT_UpdatedBy,
        <!--修改时间-->
        WUDT_UpdatedTime,
        <!--版本号-->
        WUDT_VersionNo,
        <!--事务编号-->
        WUDT_TransID
        )
        VALUES
        (
        <!--明细异动ID-->
        #[].WUDT_ID#,
        <!--开放平台ID-->
        #[].WUDT_UnionID#,
        <!--OpenID-->
        #[].WUDT_OpenID#,
        <!--认证标识-->
        #[].WUDT_Mark#,
        <!--用户名称-->
        #[].WUDT_Name#,
        <!--用户ID-->
        #[].WUDT_UserID#,
        <!--异动类型-->
        #[].WUDT_Type#,
        <!--认证类型-->
        #[].WUDT_CertificationType#,
        <!--异动时间-->
        #[].WUDT_Time#,
        <!--备注-->
        #[].WUDT_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].WUDT_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].WUDT_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].WUDT_TransID#
        )
      </iterate>
    </insert>

    <!--查询[微信用户明细异动]信息（精确条件）-->
    <select id="COMM_SQL_MDLWC_UserDetailTrans" parameterClass="MDLWC_UserDetailTrans" resultClass="MDLWC_UserDetailTrans">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WUDT_ID)
      FROM WC_UserDetailTrans
      <dynamic prepend="WHERE">
        <!--明细异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_ID">WUDT_ID=#WHERE_WUDT_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UnionID">WUDT_UnionID=#WHERE_WUDT_UnionID#</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_OpenID">WUDT_OpenID=#WHERE_WUDT_OpenID#</isNotEmpty>
        <!--认证标识-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Mark">WUDT_Mark=#WHERE_WUDT_Mark#</isNotEmpty>
        <!--用户名称-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Name">WUDT_Name=#WHERE_WUDT_Name#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UserID">WUDT_UserID=#WHERE_WUDT_UserID#</isNotEmpty>
        <!--异动类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Type">WUDT_Type=#WHERE_WUDT_Type#</isNotEmpty>
        <!--认证类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_CertificationType">WUDT_CertificationType=#WHERE_WUDT_CertificationType#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUDT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WUDT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUDT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Remark">WUDT_Remark=#WHERE_WUDT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUDT_IsValid">WUDT_IsValid=#WHERE_WUDT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_CreatedBy">WUDT_CreatedBy=#WHERE_WUDT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UpdatedBy">WUDT_UpdatedBy=#WHERE_WUDT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUDT_VersionNo">WUDT_VersionNo=#WHERE_WUDT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_TransID">WUDT_TransID=#WHERE_WUDT_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WUDT_ID,
      WUDT_UnionID,
      WUDT_OpenID,
      WUDT_Mark,
      WUDT_Name,
      WUDT_UserID,
      WUDT_Type,
      WUDT_CertificationType,
      WUDT_Time,
      WUDT_Remark,
      WUDT_IsValid,
      WUDT_CreatedBy,
      WUDT_CreatedTime,
      WUDT_UpdatedBy,
      WUDT_UpdatedTime,
      WUDT_VersionNo,
      WUDT_TransID
      FROM WC_UserDetailTrans
      <dynamic prepend="WHERE">
        <!--明细异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_ID">WUDT_ID=#WHERE_WUDT_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UnionID">WUDT_UnionID=#WHERE_WUDT_UnionID#</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_OpenID">WUDT_OpenID=#WHERE_WUDT_OpenID#</isNotEmpty>
        <!--认证标识-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Mark">WUDT_Mark=#WHERE_WUDT_Mark#</isNotEmpty>
        <!--用户名称-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Name">WUDT_Name=#WHERE_WUDT_Name#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UserID">WUDT_UserID=#WHERE_WUDT_UserID#</isNotEmpty>
        <!--异动类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Type">WUDT_Type=#WHERE_WUDT_Type#</isNotEmpty>
        <!--认证类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_CertificationType">WUDT_CertificationType=#WHERE_WUDT_CertificationType#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUDT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WUDT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUDT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Remark">WUDT_Remark=#WHERE_WUDT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUDT_IsValid">WUDT_IsValid=#WHERE_WUDT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_CreatedBy">WUDT_CreatedBy=#WHERE_WUDT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UpdatedBy">WUDT_UpdatedBy=#WHERE_WUDT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUDT_VersionNo">WUDT_VersionNo=#WHERE_WUDT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_TransID">WUDT_TransID=#WHERE_WUDT_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WUDT_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[微信用户明细异动]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLWC_UserDetailTrans" parameterClass="MDLWC_UserDetailTrans" resultClass="MDLWC_UserDetailTrans">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WUDT_ID)
      FROM WC_UserDetailTrans
      <dynamic prepend="WHERE">
        <!--明细异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_ID">WUDT_ID=#WHERE_WUDT_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UnionID">WUDT_UnionID LIKE '%'+#WHERE_WUDT_UnionID#+'%'</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_OpenID">WUDT_OpenID LIKE '%'+#WHERE_WUDT_OpenID#+'%'</isNotEmpty>
        <!--认证标识-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Mark">WUDT_Mark LIKE '%'+#WHERE_WUDT_Mark#+'%'</isNotEmpty>
        <!--用户名称-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Name">WUDT_Name LIKE '%'+#WHERE_WUDT_Name#+'%'</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UserID">WUDT_UserID LIKE '%'+#WHERE_WUDT_UserID#+'%'</isNotEmpty>
        <!--异动类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Type">WUDT_Type LIKE '%'+#WHERE_WUDT_Type#+'%'</isNotEmpty>
        <!--认证类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_CertificationType">WUDT_CertificationType LIKE '%'+#WHERE_WUDT_CertificationType#+'%'</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUDT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WUDT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUDT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Remark">WUDT_Remark LIKE '%'+#WHERE_WUDT_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUDT_IsValid">WUDT_IsValid=#WHERE_WUDT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_CreatedBy">WUDT_CreatedBy LIKE '%'+#WHERE_WUDT_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UpdatedBy">WUDT_UpdatedBy LIKE '%'+#WHERE_WUDT_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUDT_VersionNo">WUDT_VersionNo=#WHERE_WUDT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_TransID">WUDT_TransID LIKE '%'+#WHERE_WUDT_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WUDT_ID,
      WUDT_UnionID,
      WUDT_OpenID,
      WUDT_Mark,
      WUDT_Name,
      WUDT_UserID,
      WUDT_Type,
      WUDT_CertificationType,
      WUDT_Time,
      WUDT_Remark,
      WUDT_IsValid,
      WUDT_CreatedBy,
      WUDT_CreatedTime,
      WUDT_UpdatedBy,
      WUDT_UpdatedTime,
      WUDT_VersionNo,
      WUDT_TransID
      FROM WC_UserDetailTrans
      <dynamic prepend="WHERE">
        <!--明细异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_ID">WUDT_ID=#WHERE_WUDT_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UnionID">WUDT_UnionID LIKE '%'+#WHERE_WUDT_UnionID#+'%'</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_OpenID">WUDT_OpenID LIKE '%'+#WHERE_WUDT_OpenID#+'%'</isNotEmpty>
        <!--认证标识-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Mark">WUDT_Mark LIKE '%'+#WHERE_WUDT_Mark#+'%'</isNotEmpty>
        <!--用户名称-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Name">WUDT_Name LIKE '%'+#WHERE_WUDT_Name#+'%'</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UserID">WUDT_UserID LIKE '%'+#WHERE_WUDT_UserID#+'%'</isNotEmpty>
        <!--异动类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Type">WUDT_Type LIKE '%'+#WHERE_WUDT_Type#+'%'</isNotEmpty>
        <!--认证类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_CertificationType">WUDT_CertificationType LIKE '%'+#WHERE_WUDT_CertificationType#+'%'</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUDT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WUDT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUDT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Remark">WUDT_Remark LIKE '%'+#WHERE_WUDT_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUDT_IsValid">WUDT_IsValid=#WHERE_WUDT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_CreatedBy">WUDT_CreatedBy LIKE '%'+#WHERE_WUDT_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UpdatedBy">WUDT_UpdatedBy LIKE '%'+#WHERE_WUDT_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUDT_VersionNo">WUDT_VersionNo=#WHERE_WUDT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_TransID">WUDT_TransID LIKE '%'+#WHERE_WUDT_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WUDT_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[微信用户明细异动]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLWC_UserDetailTrans" parameterClass="MDLWC_UserDetailTrans" resultClass="int">
      SELECT COUNT(WUDT_ID) 'RecordCount'
      FROM WC_UserDetailTrans
      <dynamic prepend="WHERE">
        <!--明细异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_ID">WUDT_ID=#WHERE_WUDT_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UnionID">WUDT_UnionID=#WHERE_WUDT_UnionID#</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_OpenID">WUDT_OpenID=#WHERE_WUDT_OpenID#</isNotEmpty>
        <!--认证标识-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Mark">WUDT_Mark=#WHERE_WUDT_Mark#</isNotEmpty>
        <!--用户名称-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Name">WUDT_Name=#WHERE_WUDT_Name#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UserID">WUDT_UserID=#WHERE_WUDT_UserID#</isNotEmpty>
        <!--异动类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Type">WUDT_Type=#WHERE_WUDT_Type#</isNotEmpty>
        <!--认证类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_CertificationType">WUDT_CertificationType=#WHERE_WUDT_CertificationType#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUDT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WUDT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUDT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Remark">WUDT_Remark=#WHERE_WUDT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUDT_IsValid">WUDT_IsValid=#WHERE_WUDT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_CreatedBy">WUDT_CreatedBy=#WHERE_WUDT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UpdatedBy">WUDT_UpdatedBy=#WHERE_WUDT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUDT_VersionNo">WUDT_VersionNo=#WHERE_WUDT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_TransID">WUDT_TransID=#WHERE_WUDT_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[微信用户明细异动]信息-->
    <update id="COMM_SQL_UpdateMDLWC_UserDetailTrans" parameterClass="MDLWC_UserDetailTrans" >
      UPDATE WC_UserDetailTrans
      SET
      WUDT_UpdatedTime=GETDATE(),
      WUDT_VersionNo=WUDT_VersionNo+1
      <isNotEmpty prepend="," property="WUDT_UnionID">WUDT_UnionID=#WUDT_UnionID#</isNotEmpty>
      <isNotEmpty prepend="," property="WUDT_OpenID">WUDT_OpenID=#WUDT_OpenID#</isNotEmpty>
      <isNotEmpty prepend="," property="WUDT_Mark">WUDT_Mark=#WUDT_Mark#</isNotEmpty>
      <isNotEmpty prepend="," property="WUDT_Name">WUDT_Name=#WUDT_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="WUDT_UserID">WUDT_UserID=#WUDT_UserID#</isNotEmpty>
      <isNotEmpty prepend="," property="WUDT_Type">WUDT_Type=#WUDT_Type#</isNotEmpty>
      <isNotEmpty prepend="," property="WUDT_CertificationType">WUDT_CertificationType=#WUDT_CertificationType#</isNotEmpty>
      <isNotNull prepend="," property="WUDT_Time">WUDT_Time=#WUDT_Time#</isNotNull>
      <isNotEmpty prepend="," property="WUDT_Remark">WUDT_Remark=#WUDT_Remark#</isNotEmpty>
      <isNotNull prepend="," property="WUDT_IsValid">WUDT_IsValid=#WUDT_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="WUDT_CreatedBy">WUDT_CreatedBy=#WUDT_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="WUDT_CreatedTime">WUDT_CreatedTime=#WUDT_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="WUDT_UpdatedBy">WUDT_UpdatedBy=#WUDT_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="WUDT_TransID">WUDT_TransID=#WUDT_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--明细异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_ID">WUDT_ID=#WHERE_WUDT_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UnionID">WUDT_UnionID=#WHERE_WUDT_UnionID#</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_OpenID">WUDT_OpenID=#WHERE_WUDT_OpenID#</isNotEmpty>
        <!--认证标识-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Mark">WUDT_Mark=#WHERE_WUDT_Mark#</isNotEmpty>
        <!--用户名称-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Name">WUDT_Name=#WHERE_WUDT_Name#</isNotEmpty>
        <!--用户ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UserID">WUDT_UserID=#WHERE_WUDT_UserID#</isNotEmpty>
        <!--异动类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Type">WUDT_Type=#WHERE_WUDT_Type#</isNotEmpty>
        <!--认证类型-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_CertificationType">WUDT_CertificationType=#WHERE_WUDT_CertificationType#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUDT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WUDT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUDT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_Remark">WUDT_Remark=#WHERE_WUDT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUDT_IsValid">WUDT_IsValid=#WHERE_WUDT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_CreatedBy">WUDT_CreatedBy=#WHERE_WUDT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUDT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_UpdatedBy">WUDT_UpdatedBy=#WHERE_WUDT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUDT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUDT_VersionNo">WUDT_VersionNo=#WHERE_WUDT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUDT_TransID">WUDT_TransID=#WHERE_WUDT_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[微信用户明细异动]信息-->
    <delete id="COMM_SQL_DELETE_MDLWC_UserDetailTrans" parameterClass="List">
      DELETE FROM WC_UserDetailTrans
      WHERE WUDT_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_WUDT_ID#
      </iterate>
    </delete>

    <!--新增[微信用户关注明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLWC_UserSubscribeTrans" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        WC_UserSubscribeTrans
        (
        <!--微信用户关注明细ID-->
        WUST_ID,
        <!--开放平台ID-->
        WUST_UnionID,
        <!--OpenID-->
        WUST_OpenID,
        <!--事件-->
        WUST_Event,
        <!--异动时间-->
        WUST_Time,
        <!--备注-->
        WUST_Remark,
        <!--有效-->
        WUST_IsValid,
        <!--创建人-->
        WUST_CreatedBy,
        <!--创建时间-->
        WUST_CreatedTime,
        <!--修改人-->
        WUST_UpdatedBy,
        <!--修改时间-->
        WUST_UpdatedTime,
        <!--版本号-->
        WUST_VersionNo,
        <!--事务编号-->
        WUST_TransID
        )
        VALUES
        (
        <!--微信用户关注明细ID-->
        #[].WUST_ID#,
        <!--开放平台ID-->
        #[].WUST_UnionID#,
        <!--OpenID-->
        #[].WUST_OpenID#,
        <!--事件-->
        #[].WUST_Event#,
        <!--异动时间-->
        #[].WUST_Time#,
        <!--备注-->
        #[].WUST_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].WUST_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].WUST_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].WUST_TransID#
        )
      </iterate>
    </insert>

    <!--查询[微信用户关注明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLWC_UserSubscribeTrans" parameterClass="MDLWC_UserSubscribeTrans" resultClass="MDLWC_UserSubscribeTrans">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WUST_ID)
      FROM WC_UserSubscribeTrans
      <dynamic prepend="WHERE">
        <!--微信用户关注明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_ID">WUST_ID=#WHERE_WUST_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_UnionID">WUST_UnionID=#WHERE_WUST_UnionID#</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_OpenID">WUST_OpenID=#WHERE_WUST_OpenID#</isNotEmpty>
        <!--事件-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_Event">WUST_Event=#WHERE_WUST_Event#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUST_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WUST_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUST_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_Remark">WUST_Remark=#WHERE_WUST_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUST_IsValid">WUST_IsValid=#WHERE_WUST_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_CreatedBy">WUST_CreatedBy=#WHERE_WUST_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_UpdatedBy">WUST_UpdatedBy=#WHERE_WUST_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUST_VersionNo">WUST_VersionNo=#WHERE_WUST_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_TransID">WUST_TransID=#WHERE_WUST_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WUST_ID,
      WUST_UnionID,
      WUST_OpenID,
      WUST_Event,
      WUST_Time,
      WUST_Remark,
      WUST_IsValid,
      WUST_CreatedBy,
      WUST_CreatedTime,
      WUST_UpdatedBy,
      WUST_UpdatedTime,
      WUST_VersionNo,
      WUST_TransID
      FROM WC_UserSubscribeTrans
      <dynamic prepend="WHERE">
        <!--微信用户关注明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_ID">WUST_ID=#WHERE_WUST_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_UnionID">WUST_UnionID=#WHERE_WUST_UnionID#</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_OpenID">WUST_OpenID=#WHERE_WUST_OpenID#</isNotEmpty>
        <!--事件-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_Event">WUST_Event=#WHERE_WUST_Event#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUST_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WUST_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUST_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_Remark">WUST_Remark=#WHERE_WUST_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUST_IsValid">WUST_IsValid=#WHERE_WUST_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_CreatedBy">WUST_CreatedBy=#WHERE_WUST_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_UpdatedBy">WUST_UpdatedBy=#WHERE_WUST_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUST_VersionNo">WUST_VersionNo=#WHERE_WUST_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_TransID">WUST_TransID=#WHERE_WUST_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WUST_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[微信用户关注明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLWC_UserSubscribeTrans" parameterClass="MDLWC_UserSubscribeTrans" resultClass="MDLWC_UserSubscribeTrans">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WUST_ID)
      FROM WC_UserSubscribeTrans
      <dynamic prepend="WHERE">
        <!--微信用户关注明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_ID">WUST_ID=#WHERE_WUST_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_UnionID">WUST_UnionID LIKE '%'+#WHERE_WUST_UnionID#+'%'</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_OpenID">WUST_OpenID LIKE '%'+#WHERE_WUST_OpenID#+'%'</isNotEmpty>
        <!--事件-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_Event">WUST_Event LIKE '%'+#WHERE_WUST_Event#+'%'</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUST_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WUST_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUST_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_Remark">WUST_Remark LIKE '%'+#WHERE_WUST_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUST_IsValid">WUST_IsValid=#WHERE_WUST_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_CreatedBy">WUST_CreatedBy LIKE '%'+#WHERE_WUST_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_UpdatedBy">WUST_UpdatedBy LIKE '%'+#WHERE_WUST_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUST_VersionNo">WUST_VersionNo=#WHERE_WUST_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_TransID">WUST_TransID LIKE '%'+#WHERE_WUST_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WUST_ID,
      WUST_UnionID,
      WUST_OpenID,
      WUST_Event,
      WUST_Time,
      WUST_Remark,
      WUST_IsValid,
      WUST_CreatedBy,
      WUST_CreatedTime,
      WUST_UpdatedBy,
      WUST_UpdatedTime,
      WUST_VersionNo,
      WUST_TransID
      FROM WC_UserSubscribeTrans
      <dynamic prepend="WHERE">
        <!--微信用户关注明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_ID">WUST_ID=#WHERE_WUST_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_UnionID">WUST_UnionID LIKE '%'+#WHERE_WUST_UnionID#+'%'</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_OpenID">WUST_OpenID LIKE '%'+#WHERE_WUST_OpenID#+'%'</isNotEmpty>
        <!--事件-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_Event">WUST_Event LIKE '%'+#WHERE_WUST_Event#+'%'</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUST_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WUST_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUST_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_Remark">WUST_Remark LIKE '%'+#WHERE_WUST_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUST_IsValid">WUST_IsValid=#WHERE_WUST_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_CreatedBy">WUST_CreatedBy LIKE '%'+#WHERE_WUST_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_UpdatedBy">WUST_UpdatedBy LIKE '%'+#WHERE_WUST_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUST_VersionNo">WUST_VersionNo=#WHERE_WUST_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_TransID">WUST_TransID LIKE '%'+#WHERE_WUST_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WUST_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[微信用户关注明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLWC_UserSubscribeTrans" parameterClass="MDLWC_UserSubscribeTrans" resultClass="int">
      SELECT COUNT(WUST_ID) 'RecordCount'
      FROM WC_UserSubscribeTrans
      <dynamic prepend="WHERE">
        <!--微信用户关注明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_ID">WUST_ID=#WHERE_WUST_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_UnionID">WUST_UnionID=#WHERE_WUST_UnionID#</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_OpenID">WUST_OpenID=#WHERE_WUST_OpenID#</isNotEmpty>
        <!--事件-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_Event">WUST_Event=#WHERE_WUST_Event#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUST_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WUST_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUST_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_Remark">WUST_Remark=#WHERE_WUST_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUST_IsValid">WUST_IsValid=#WHERE_WUST_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_CreatedBy">WUST_CreatedBy=#WHERE_WUST_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_UpdatedBy">WUST_UpdatedBy=#WHERE_WUST_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUST_VersionNo">WUST_VersionNo=#WHERE_WUST_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_TransID">WUST_TransID=#WHERE_WUST_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[微信用户关注明细]信息-->
    <update id="COMM_SQL_UpdateMDLWC_UserSubscribeTrans" parameterClass="MDLWC_UserSubscribeTrans" >
      UPDATE WC_UserSubscribeTrans
      SET
      WUST_UpdatedTime=GETDATE(),
      WUST_VersionNo=WUST_VersionNo+1
      <isNotEmpty prepend="," property="WUST_UnionID">WUST_UnionID=#WUST_UnionID#</isNotEmpty>
      <isNotEmpty prepend="," property="WUST_OpenID">WUST_OpenID=#WUST_OpenID#</isNotEmpty>
      <isNotEmpty prepend="," property="WUST_Event">WUST_Event=#WUST_Event#</isNotEmpty>
      <isNotNull prepend="," property="WUST_Time">WUST_Time=#WUST_Time#</isNotNull>
      <isNotEmpty prepend="," property="WUST_Remark">WUST_Remark=#WUST_Remark#</isNotEmpty>
      <isNotNull prepend="," property="WUST_IsValid">WUST_IsValid=#WUST_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="WUST_CreatedBy">WUST_CreatedBy=#WUST_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="WUST_CreatedTime">WUST_CreatedTime=#WUST_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="WUST_UpdatedBy">WUST_UpdatedBy=#WUST_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="WUST_TransID">WUST_TransID=#WUST_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--微信用户关注明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_ID">WUST_ID=#WHERE_WUST_ID#</isNotEmpty>
        <!--开放平台ID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_UnionID">WUST_UnionID=#WHERE_WUST_UnionID#</isNotEmpty>
        <!--OpenID-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_OpenID">WUST_OpenID=#WHERE_WUST_OpenID#</isNotEmpty>
        <!--事件-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_Event">WUST_Event=#WHERE_WUST_Event#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUST_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WUST_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WUST_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_Remark">WUST_Remark=#WHERE_WUST_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WUST_IsValid">WUST_IsValid=#WHERE_WUST_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_CreatedBy">WUST_CreatedBy=#WHERE_WUST_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WUST_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_UpdatedBy">WUST_UpdatedBy=#WHERE_WUST_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WUST_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WUST_VersionNo">WUST_VersionNo=#WHERE_WUST_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WUST_TransID">WUST_TransID=#WHERE_WUST_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[微信用户关注明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLWC_UserSubscribeTrans" parameterClass="List">
      DELETE FROM WC_UserSubscribeTrans
      WHERE WUST_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_WUST_ID#
      </iterate>
    </delete>

    <!--新增[物流订单]信息-->
    <insert id="COMM_SQL_INSERT_MDLSD_LogisticsBill" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SD_LogisticsBill
        (
        <!--物流订单ID-->
        LB_ID,
        <!--物流单号-->
        LB_No,
        <!--组织ID-->
        LB_Org_ID,
        <!--组织名称-->
        LB_Org_Name,
        <!--来源类型编码-->
        LB_SourceTypeCode,
        <!--来源类型名称-->
        LB_SourceTypeName,
        <!--物流单来源单号-->
        LB_SourceNo,
        <!--物流人员类型编码-->
        LB_SourceCode,
        <!--物流人员类型名称-->
        LB_SourceName,
        <!--物流人员ID-->
        LB_DeliveryByID,
        <!--物流人员名称-->
        LB_DeliveryBy,
        <!--物流人员手机号-->
        LB_PhoneNo,
        <!--物流人员接单时间-->
        LB_AcceptTime,
        <!--物流人员接单图片路径1-->
        LB_AcceptPicPath1,
        <!--物流人员接单图片路径2-->
        LB_AcceptPicPath2,
        <!--收件人姓名-->
        LB_Receiver,
        <!--收件人地址-->
        LB_ReceiverAddress,
        <!--收件人邮编-->
        LB_ReceiverPostcode,
        <!--收件人手机号-->
        LB_ReceiverPhoneNo,
        <!--签收人-->
        LB_ReceivedBy,
        <!--签收时间-->
        LB_ReceivedTime,
        <!--签收拍照图片路径1-->
        LB_ReceivedPicPath1,
        <!--签收拍照图片路径2-->
        LB_ReceivedPicPath2,
        <!--物流费-->
        LB_Fee,
        <!--赔偿金-->
        LB_Indemnification,
        <!--应收金额-->
        LB_AccountReceivableAmount,
        <!--物流费付款状态编码-->
        LB_PayStautsCode,
        <!--物流费付款状态名称-->
        LB_PayStautsName,
        <!--单据状态编码-->
        LB_StatusCode,
        <!--单据状态名称-->
        LB_StatusName,
        <!--审核状态编码-->
        LB_ApprovalStatusCode,
        <!--审核状态名称-->
        LB_ApprovalStatusName,
        <!--备注-->
        LB_Remark,
        <!--有效-->
        LB_IsValid,
        <!--创建人-->
        LB_CreatedBy,
        <!--创建时间-->
        LB_CreatedTime,
        <!--修改人-->
        LB_UpdatedBy,
        <!--修改时间-->
        LB_UpdatedTime,
        <!--版本号-->
        LB_VersionNo,
        <!--事务编号-->
        LB_TransID
        )
        VALUES
        (
        <!--物流订单ID-->
        #[].LB_ID#,
        <!--物流单号-->
        #[].LB_No#,
        <!--组织ID-->
        #[].LB_Org_ID#,
        <!--组织名称-->
        #[].LB_Org_Name#,
        <!--来源类型编码-->
        #[].LB_SourceTypeCode#,
        <!--来源类型名称-->
        #[].LB_SourceTypeName#,
        <!--物流单来源单号-->
        #[].LB_SourceNo#,
        <!--物流人员类型编码-->
        #[].LB_SourceCode#,
        <!--物流人员类型名称-->
        #[].LB_SourceName#,
        <!--物流人员ID-->
        #[].LB_DeliveryByID#,
        <!--物流人员名称-->
        #[].LB_DeliveryBy#,
        <!--物流人员手机号-->
        #[].LB_PhoneNo#,
        <!--物流人员接单时间-->
        #[].LB_AcceptTime#,
        <!--物流人员接单图片路径1-->
        #[].LB_AcceptPicPath1#,
        <!--物流人员接单图片路径2-->
        #[].LB_AcceptPicPath2#,
        <!--收件人姓名-->
        #[].LB_Receiver#,
        <!--收件人地址-->
        #[].LB_ReceiverAddress#,
        <!--收件人邮编-->
        #[].LB_ReceiverPostcode#,
        <!--收件人手机号-->
        #[].LB_ReceiverPhoneNo#,
        <!--签收人-->
        #[].LB_ReceivedBy#,
        <!--签收时间-->
        #[].LB_ReceivedTime#,
        <!--签收拍照图片路径1-->
        #[].LB_ReceivedPicPath1#,
        <!--签收拍照图片路径2-->
        #[].LB_ReceivedPicPath2#,
        <!--物流费-->
        #[].LB_Fee#,
        <!--赔偿金-->
        #[].LB_Indemnification#,
        <!--应收金额-->
        #[].LB_AccountReceivableAmount#,
        <!--物流费付款状态编码-->
        #[].LB_PayStautsCode#,
        <!--物流费付款状态名称-->
        #[].LB_PayStautsName#,
        <!--单据状态编码-->
        #[].LB_StatusCode#,
        <!--单据状态名称-->
        #[].LB_StatusName#,
        <!--审核状态编码-->
        #[].LB_ApprovalStatusCode#,
        <!--审核状态名称-->
        #[].LB_ApprovalStatusName#,
        <!--备注-->
        #[].LB_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].LB_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].LB_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].LB_TransID#
        )
      </iterate>
    </insert>

    <!--查询[物流订单]信息（精确条件）-->
    <select id="COMM_SQL_MDLSD_LogisticsBill" parameterClass="MDLSD_LogisticsBill" resultClass="MDLSD_LogisticsBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(LB_ID)
      FROM SD_LogisticsBill
      <dynamic prepend="WHERE">
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ID">LB_ID=#WHERE_LB_ID#</isNotEmpty>
        <!--物流单号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_No">LB_No=#WHERE_LB_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Org_ID">LB_Org_ID=#WHERE_LB_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Org_Name">LB_Org_Name=#WHERE_LB_Org_Name#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceTypeCode">LB_SourceTypeCode=#WHERE_LB_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceTypeName">LB_SourceTypeName=#WHERE_LB_SourceTypeName#</isNotEmpty>
        <!--物流单来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceNo">LB_SourceNo=#WHERE_LB_SourceNo#</isNotEmpty>
        <!--物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceCode">LB_SourceCode=#WHERE_LB_SourceCode#</isNotEmpty>
        <!--物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceName">LB_SourceName=#WHERE_LB_SourceName#</isNotEmpty>
        <!--物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_DeliveryByID">LB_DeliveryByID=#WHERE_LB_DeliveryByID#</isNotEmpty>
        <!--物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_DeliveryBy">LB_DeliveryBy=#WHERE_LB_DeliveryBy#</isNotEmpty>
        <!--物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PhoneNo">LB_PhoneNo=#WHERE_LB_PhoneNo#</isNotEmpty>
        <!--物流人员接单时间-->
        <isNotNull prepend="" property="_AcceptTimeStart">
          <isNotNull prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime BETWEEN #_AcceptTimeStart# AND #_AcceptTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime <![CDATA[>=]]> #_AcceptTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_AcceptTimeStart">
          <isNotNull prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime <![CDATA[<=]]> #_AcceptTimeEnd#</isNotNull>
        </isNull>
        <!--物流人员接单图片路径1-->
        <isNotEmpty prepend="AND" property="WHERE_LB_AcceptPicPath1">LB_AcceptPicPath1=#WHERE_LB_AcceptPicPath1#</isNotEmpty>
        <!--物流人员接单图片路径2-->
        <isNotEmpty prepend="AND" property="WHERE_LB_AcceptPicPath2">LB_AcceptPicPath2=#WHERE_LB_AcceptPicPath2#</isNotEmpty>
        <!--收件人姓名-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Receiver">LB_Receiver=#WHERE_LB_Receiver#</isNotEmpty>
        <!--收件人地址-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverAddress">LB_ReceiverAddress=#WHERE_LB_ReceiverAddress#</isNotEmpty>
        <!--收件人邮编-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverPostcode">LB_ReceiverPostcode=#WHERE_LB_ReceiverPostcode#</isNotEmpty>
        <!--收件人手机号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverPhoneNo">LB_ReceiverPhoneNo=#WHERE_LB_ReceiverPhoneNo#</isNotEmpty>
        <!--签收人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedBy">LB_ReceivedBy=#WHERE_LB_ReceivedBy#</isNotEmpty>
        <!--签收时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--签收拍照图片路径1-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedPicPath1">LB_ReceivedPicPath1=#WHERE_LB_ReceivedPicPath1#</isNotEmpty>
        <!--签收拍照图片路径2-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedPicPath2">LB_ReceivedPicPath2=#WHERE_LB_ReceivedPicPath2#</isNotEmpty>
        <!--物流费-->
        <isNotNull prepend="AND" property="WHERE_LB_Fee">LB_Fee=#WHERE_LB_Fee#</isNotNull>
        <!--赔偿金-->
        <isNotNull prepend="AND" property="WHERE_LB_Indemnification">LB_Indemnification=#WHERE_LB_Indemnification#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_LB_AccountReceivableAmount">LB_AccountReceivableAmount=#WHERE_LB_AccountReceivableAmount#</isNotNull>
        <!--物流费付款状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PayStautsCode">LB_PayStautsCode=#WHERE_LB_PayStautsCode#</isNotEmpty>
        <!--物流费付款状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PayStautsName">LB_PayStautsName=#WHERE_LB_PayStautsName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_StatusCode">LB_StatusCode=#WHERE_LB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_StatusName">LB_StatusName=#WHERE_LB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ApprovalStatusCode">LB_ApprovalStatusCode=#WHERE_LB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ApprovalStatusName">LB_ApprovalStatusName=#WHERE_LB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Remark">LB_Remark=#WHERE_LB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LB_IsValid">LB_IsValid=#WHERE_LB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_CreatedBy">LB_CreatedBy=#WHERE_LB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_UpdatedBy">LB_UpdatedBy=#WHERE_LB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LB_VersionNo">LB_VersionNo=#WHERE_LB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_TransID">LB_TransID=#WHERE_LB_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      LB_ID,
      LB_No,
      LB_Org_ID,
      LB_Org_Name,
      LB_SourceTypeCode,
      LB_SourceTypeName,
      LB_SourceNo,
      LB_SourceCode,
      LB_SourceName,
      LB_DeliveryByID,
      LB_DeliveryBy,
      LB_PhoneNo,
      LB_AcceptTime,
      LB_AcceptPicPath1,
      LB_AcceptPicPath2,
      LB_Receiver,
      LB_ReceiverAddress,
      LB_ReceiverPostcode,
      LB_ReceiverPhoneNo,
      LB_ReceivedBy,
      LB_ReceivedTime,
      LB_ReceivedPicPath1,
      LB_ReceivedPicPath2,
      LB_Fee,
      LB_Indemnification,
      LB_AccountReceivableAmount,
      LB_PayStautsCode,
      LB_PayStautsName,
      LB_StatusCode,
      LB_StatusName,
      LB_ApprovalStatusCode,
      LB_ApprovalStatusName,
      LB_Remark,
      LB_IsValid,
      LB_CreatedBy,
      LB_CreatedTime,
      LB_UpdatedBy,
      LB_UpdatedTime,
      LB_VersionNo,
      LB_TransID
      FROM SD_LogisticsBill
      <dynamic prepend="WHERE">
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ID">LB_ID=#WHERE_LB_ID#</isNotEmpty>
        <!--物流单号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_No">LB_No=#WHERE_LB_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Org_ID">LB_Org_ID=#WHERE_LB_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Org_Name">LB_Org_Name=#WHERE_LB_Org_Name#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceTypeCode">LB_SourceTypeCode=#WHERE_LB_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceTypeName">LB_SourceTypeName=#WHERE_LB_SourceTypeName#</isNotEmpty>
        <!--物流单来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceNo">LB_SourceNo=#WHERE_LB_SourceNo#</isNotEmpty>
        <!--物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceCode">LB_SourceCode=#WHERE_LB_SourceCode#</isNotEmpty>
        <!--物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceName">LB_SourceName=#WHERE_LB_SourceName#</isNotEmpty>
        <!--物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_DeliveryByID">LB_DeliveryByID=#WHERE_LB_DeliveryByID#</isNotEmpty>
        <!--物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_DeliveryBy">LB_DeliveryBy=#WHERE_LB_DeliveryBy#</isNotEmpty>
        <!--物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PhoneNo">LB_PhoneNo=#WHERE_LB_PhoneNo#</isNotEmpty>
        <!--物流人员接单时间-->
        <isNotNull prepend="" property="_AcceptTimeStart">
          <isNotNull prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime BETWEEN #_AcceptTimeStart# AND #_AcceptTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime <![CDATA[>=]]> #_AcceptTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_AcceptTimeStart">
          <isNotNull prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime <![CDATA[<=]]> #_AcceptTimeEnd#</isNotNull>
        </isNull>
        <!--物流人员接单图片路径1-->
        <isNotEmpty prepend="AND" property="WHERE_LB_AcceptPicPath1">LB_AcceptPicPath1=#WHERE_LB_AcceptPicPath1#</isNotEmpty>
        <!--物流人员接单图片路径2-->
        <isNotEmpty prepend="AND" property="WHERE_LB_AcceptPicPath2">LB_AcceptPicPath2=#WHERE_LB_AcceptPicPath2#</isNotEmpty>
        <!--收件人姓名-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Receiver">LB_Receiver=#WHERE_LB_Receiver#</isNotEmpty>
        <!--收件人地址-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverAddress">LB_ReceiverAddress=#WHERE_LB_ReceiverAddress#</isNotEmpty>
        <!--收件人邮编-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverPostcode">LB_ReceiverPostcode=#WHERE_LB_ReceiverPostcode#</isNotEmpty>
        <!--收件人手机号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverPhoneNo">LB_ReceiverPhoneNo=#WHERE_LB_ReceiverPhoneNo#</isNotEmpty>
        <!--签收人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedBy">LB_ReceivedBy=#WHERE_LB_ReceivedBy#</isNotEmpty>
        <!--签收时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--签收拍照图片路径1-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedPicPath1">LB_ReceivedPicPath1=#WHERE_LB_ReceivedPicPath1#</isNotEmpty>
        <!--签收拍照图片路径2-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedPicPath2">LB_ReceivedPicPath2=#WHERE_LB_ReceivedPicPath2#</isNotEmpty>
        <!--物流费-->
        <isNotNull prepend="AND" property="WHERE_LB_Fee">LB_Fee=#WHERE_LB_Fee#</isNotNull>
        <!--赔偿金-->
        <isNotNull prepend="AND" property="WHERE_LB_Indemnification">LB_Indemnification=#WHERE_LB_Indemnification#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_LB_AccountReceivableAmount">LB_AccountReceivableAmount=#WHERE_LB_AccountReceivableAmount#</isNotNull>
        <!--物流费付款状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PayStautsCode">LB_PayStautsCode=#WHERE_LB_PayStautsCode#</isNotEmpty>
        <!--物流费付款状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PayStautsName">LB_PayStautsName=#WHERE_LB_PayStautsName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_StatusCode">LB_StatusCode=#WHERE_LB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_StatusName">LB_StatusName=#WHERE_LB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ApprovalStatusCode">LB_ApprovalStatusCode=#WHERE_LB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ApprovalStatusName">LB_ApprovalStatusName=#WHERE_LB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Remark">LB_Remark=#WHERE_LB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LB_IsValid">LB_IsValid=#WHERE_LB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_CreatedBy">LB_CreatedBy=#WHERE_LB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_UpdatedBy">LB_UpdatedBy=#WHERE_LB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LB_VersionNo">LB_VersionNo=#WHERE_LB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_TransID">LB_TransID=#WHERE_LB_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY LB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[物流订单]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSD_LogisticsBill" parameterClass="MDLSD_LogisticsBill" resultClass="MDLSD_LogisticsBill">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(LB_ID)
      FROM SD_LogisticsBill
      <dynamic prepend="WHERE">
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ID">LB_ID=#WHERE_LB_ID#</isNotEmpty>
        <!--物流单号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_No">LB_No LIKE '%'+#WHERE_LB_No#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Org_ID">LB_Org_ID LIKE '%'+#WHERE_LB_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Org_Name">LB_Org_Name LIKE '%'+#WHERE_LB_Org_Name#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceTypeCode">LB_SourceTypeCode LIKE '%'+#WHERE_LB_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceTypeName">LB_SourceTypeName LIKE '%'+#WHERE_LB_SourceTypeName#+'%'</isNotEmpty>
        <!--物流单来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceNo">LB_SourceNo LIKE '%'+#WHERE_LB_SourceNo#+'%'</isNotEmpty>
        <!--物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceCode">LB_SourceCode LIKE '%'+#WHERE_LB_SourceCode#+'%'</isNotEmpty>
        <!--物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceName">LB_SourceName LIKE '%'+#WHERE_LB_SourceName#+'%'</isNotEmpty>
        <!--物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_DeliveryByID">LB_DeliveryByID LIKE '%'+#WHERE_LB_DeliveryByID#+'%'</isNotEmpty>
        <!--物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_DeliveryBy">LB_DeliveryBy LIKE '%'+#WHERE_LB_DeliveryBy#+'%'</isNotEmpty>
        <!--物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PhoneNo">LB_PhoneNo LIKE '%'+#WHERE_LB_PhoneNo#+'%'</isNotEmpty>
        <!--物流人员接单时间-->
        <isNotNull prepend="" property="_AcceptTimeStart">
          <isNotNull prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime BETWEEN #_AcceptTimeStart# AND #_AcceptTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime <![CDATA[>=]]> #_AcceptTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_AcceptTimeStart">
          <isNotNull prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime <![CDATA[<=]]> #_AcceptTimeEnd#</isNotNull>
        </isNull>
        <!--物流人员接单图片路径1-->
        <isNotEmpty prepend="AND" property="WHERE_LB_AcceptPicPath1">LB_AcceptPicPath1 LIKE '%'+#WHERE_LB_AcceptPicPath1#+'%'</isNotEmpty>
        <!--物流人员接单图片路径2-->
        <isNotEmpty prepend="AND" property="WHERE_LB_AcceptPicPath2">LB_AcceptPicPath2 LIKE '%'+#WHERE_LB_AcceptPicPath2#+'%'</isNotEmpty>
        <!--收件人姓名-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Receiver">LB_Receiver LIKE '%'+#WHERE_LB_Receiver#+'%'</isNotEmpty>
        <!--收件人地址-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverAddress">LB_ReceiverAddress LIKE '%'+#WHERE_LB_ReceiverAddress#+'%'</isNotEmpty>
        <!--收件人邮编-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverPostcode">LB_ReceiverPostcode LIKE '%'+#WHERE_LB_ReceiverPostcode#+'%'</isNotEmpty>
        <!--收件人手机号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverPhoneNo">LB_ReceiverPhoneNo LIKE '%'+#WHERE_LB_ReceiverPhoneNo#+'%'</isNotEmpty>
        <!--签收人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedBy">LB_ReceivedBy LIKE '%'+#WHERE_LB_ReceivedBy#+'%'</isNotEmpty>
        <!--签收时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--签收拍照图片路径1-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedPicPath1">LB_ReceivedPicPath1 LIKE '%'+#WHERE_LB_ReceivedPicPath1#+'%'</isNotEmpty>
        <!--签收拍照图片路径2-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedPicPath2">LB_ReceivedPicPath2 LIKE '%'+#WHERE_LB_ReceivedPicPath2#+'%'</isNotEmpty>
        <!--物流费-->
        <isNotNull prepend="AND" property="WHERE_LB_Fee">LB_Fee=#WHERE_LB_Fee#</isNotNull>
        <!--赔偿金-->
        <isNotNull prepend="AND" property="WHERE_LB_Indemnification">LB_Indemnification=#WHERE_LB_Indemnification#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_LB_AccountReceivableAmount">LB_AccountReceivableAmount=#WHERE_LB_AccountReceivableAmount#</isNotNull>
        <!--物流费付款状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PayStautsCode">LB_PayStautsCode LIKE '%'+#WHERE_LB_PayStautsCode#+'%'</isNotEmpty>
        <!--物流费付款状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PayStautsName">LB_PayStautsName LIKE '%'+#WHERE_LB_PayStautsName#+'%'</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_StatusCode">LB_StatusCode LIKE '%'+#WHERE_LB_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_StatusName">LB_StatusName LIKE '%'+#WHERE_LB_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ApprovalStatusCode">LB_ApprovalStatusCode LIKE '%'+#WHERE_LB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ApprovalStatusName">LB_ApprovalStatusName LIKE '%'+#WHERE_LB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Remark">LB_Remark LIKE '%'+#WHERE_LB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LB_IsValid">LB_IsValid=#WHERE_LB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_CreatedBy">LB_CreatedBy LIKE '%'+#WHERE_LB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_UpdatedBy">LB_UpdatedBy LIKE '%'+#WHERE_LB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LB_VersionNo">LB_VersionNo=#WHERE_LB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_TransID">LB_TransID LIKE '%'+#WHERE_LB_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      LB_ID,
      LB_No,
      LB_Org_ID,
      LB_Org_Name,
      LB_SourceTypeCode,
      LB_SourceTypeName,
      LB_SourceNo,
      LB_SourceCode,
      LB_SourceName,
      LB_DeliveryByID,
      LB_DeliveryBy,
      LB_PhoneNo,
      LB_AcceptTime,
      LB_AcceptPicPath1,
      LB_AcceptPicPath2,
      LB_Receiver,
      LB_ReceiverAddress,
      LB_ReceiverPostcode,
      LB_ReceiverPhoneNo,
      LB_ReceivedBy,
      LB_ReceivedTime,
      LB_ReceivedPicPath1,
      LB_ReceivedPicPath2,
      LB_Fee,
      LB_Indemnification,
      LB_AccountReceivableAmount,
      LB_PayStautsCode,
      LB_PayStautsName,
      LB_StatusCode,
      LB_StatusName,
      LB_ApprovalStatusCode,
      LB_ApprovalStatusName,
      LB_Remark,
      LB_IsValid,
      LB_CreatedBy,
      LB_CreatedTime,
      LB_UpdatedBy,
      LB_UpdatedTime,
      LB_VersionNo,
      LB_TransID
      FROM SD_LogisticsBill
      <dynamic prepend="WHERE">
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ID">LB_ID=#WHERE_LB_ID#</isNotEmpty>
        <!--物流单号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_No">LB_No LIKE '%'+#WHERE_LB_No#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Org_ID">LB_Org_ID LIKE '%'+#WHERE_LB_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Org_Name">LB_Org_Name LIKE '%'+#WHERE_LB_Org_Name#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceTypeCode">LB_SourceTypeCode LIKE '%'+#WHERE_LB_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceTypeName">LB_SourceTypeName LIKE '%'+#WHERE_LB_SourceTypeName#+'%'</isNotEmpty>
        <!--物流单来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceNo">LB_SourceNo LIKE '%'+#WHERE_LB_SourceNo#+'%'</isNotEmpty>
        <!--物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceCode">LB_SourceCode LIKE '%'+#WHERE_LB_SourceCode#+'%'</isNotEmpty>
        <!--物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceName">LB_SourceName LIKE '%'+#WHERE_LB_SourceName#+'%'</isNotEmpty>
        <!--物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_DeliveryByID">LB_DeliveryByID LIKE '%'+#WHERE_LB_DeliveryByID#+'%'</isNotEmpty>
        <!--物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_DeliveryBy">LB_DeliveryBy LIKE '%'+#WHERE_LB_DeliveryBy#+'%'</isNotEmpty>
        <!--物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PhoneNo">LB_PhoneNo LIKE '%'+#WHERE_LB_PhoneNo#+'%'</isNotEmpty>
        <!--物流人员接单时间-->
        <isNotNull prepend="" property="_AcceptTimeStart">
          <isNotNull prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime BETWEEN #_AcceptTimeStart# AND #_AcceptTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime <![CDATA[>=]]> #_AcceptTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_AcceptTimeStart">
          <isNotNull prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime <![CDATA[<=]]> #_AcceptTimeEnd#</isNotNull>
        </isNull>
        <!--物流人员接单图片路径1-->
        <isNotEmpty prepend="AND" property="WHERE_LB_AcceptPicPath1">LB_AcceptPicPath1 LIKE '%'+#WHERE_LB_AcceptPicPath1#+'%'</isNotEmpty>
        <!--物流人员接单图片路径2-->
        <isNotEmpty prepend="AND" property="WHERE_LB_AcceptPicPath2">LB_AcceptPicPath2 LIKE '%'+#WHERE_LB_AcceptPicPath2#+'%'</isNotEmpty>
        <!--收件人姓名-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Receiver">LB_Receiver LIKE '%'+#WHERE_LB_Receiver#+'%'</isNotEmpty>
        <!--收件人地址-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverAddress">LB_ReceiverAddress LIKE '%'+#WHERE_LB_ReceiverAddress#+'%'</isNotEmpty>
        <!--收件人邮编-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverPostcode">LB_ReceiverPostcode LIKE '%'+#WHERE_LB_ReceiverPostcode#+'%'</isNotEmpty>
        <!--收件人手机号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverPhoneNo">LB_ReceiverPhoneNo LIKE '%'+#WHERE_LB_ReceiverPhoneNo#+'%'</isNotEmpty>
        <!--签收人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedBy">LB_ReceivedBy LIKE '%'+#WHERE_LB_ReceivedBy#+'%'</isNotEmpty>
        <!--签收时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--签收拍照图片路径1-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedPicPath1">LB_ReceivedPicPath1 LIKE '%'+#WHERE_LB_ReceivedPicPath1#+'%'</isNotEmpty>
        <!--签收拍照图片路径2-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedPicPath2">LB_ReceivedPicPath2 LIKE '%'+#WHERE_LB_ReceivedPicPath2#+'%'</isNotEmpty>
        <!--物流费-->
        <isNotNull prepend="AND" property="WHERE_LB_Fee">LB_Fee=#WHERE_LB_Fee#</isNotNull>
        <!--赔偿金-->
        <isNotNull prepend="AND" property="WHERE_LB_Indemnification">LB_Indemnification=#WHERE_LB_Indemnification#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_LB_AccountReceivableAmount">LB_AccountReceivableAmount=#WHERE_LB_AccountReceivableAmount#</isNotNull>
        <!--物流费付款状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PayStautsCode">LB_PayStautsCode LIKE '%'+#WHERE_LB_PayStautsCode#+'%'</isNotEmpty>
        <!--物流费付款状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PayStautsName">LB_PayStautsName LIKE '%'+#WHERE_LB_PayStautsName#+'%'</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_StatusCode">LB_StatusCode LIKE '%'+#WHERE_LB_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_StatusName">LB_StatusName LIKE '%'+#WHERE_LB_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ApprovalStatusCode">LB_ApprovalStatusCode LIKE '%'+#WHERE_LB_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ApprovalStatusName">LB_ApprovalStatusName LIKE '%'+#WHERE_LB_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Remark">LB_Remark LIKE '%'+#WHERE_LB_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LB_IsValid">LB_IsValid=#WHERE_LB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_CreatedBy">LB_CreatedBy LIKE '%'+#WHERE_LB_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_UpdatedBy">LB_UpdatedBy LIKE '%'+#WHERE_LB_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LB_VersionNo">LB_VersionNo=#WHERE_LB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_TransID">LB_TransID LIKE '%'+#WHERE_LB_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY LB_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[物流订单]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSD_LogisticsBill" parameterClass="MDLSD_LogisticsBill" resultClass="int">
      SELECT COUNT(LB_ID) 'RecordCount'
      FROM SD_LogisticsBill
      <dynamic prepend="WHERE">
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ID">LB_ID=#WHERE_LB_ID#</isNotEmpty>
        <!--物流单号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_No">LB_No=#WHERE_LB_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Org_ID">LB_Org_ID=#WHERE_LB_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Org_Name">LB_Org_Name=#WHERE_LB_Org_Name#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceTypeCode">LB_SourceTypeCode=#WHERE_LB_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceTypeName">LB_SourceTypeName=#WHERE_LB_SourceTypeName#</isNotEmpty>
        <!--物流单来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceNo">LB_SourceNo=#WHERE_LB_SourceNo#</isNotEmpty>
        <!--物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceCode">LB_SourceCode=#WHERE_LB_SourceCode#</isNotEmpty>
        <!--物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceName">LB_SourceName=#WHERE_LB_SourceName#</isNotEmpty>
        <!--物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_DeliveryByID">LB_DeliveryByID=#WHERE_LB_DeliveryByID#</isNotEmpty>
        <!--物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_DeliveryBy">LB_DeliveryBy=#WHERE_LB_DeliveryBy#</isNotEmpty>
        <!--物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PhoneNo">LB_PhoneNo=#WHERE_LB_PhoneNo#</isNotEmpty>
        <!--物流人员接单时间-->
        <isNotNull prepend="" property="_AcceptTimeStart">
          <isNotNull prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime BETWEEN #_AcceptTimeStart# AND #_AcceptTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime <![CDATA[>=]]> #_AcceptTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_AcceptTimeStart">
          <isNotNull prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime <![CDATA[<=]]> #_AcceptTimeEnd#</isNotNull>
        </isNull>
        <!--物流人员接单图片路径1-->
        <isNotEmpty prepend="AND" property="WHERE_LB_AcceptPicPath1">LB_AcceptPicPath1=#WHERE_LB_AcceptPicPath1#</isNotEmpty>
        <!--物流人员接单图片路径2-->
        <isNotEmpty prepend="AND" property="WHERE_LB_AcceptPicPath2">LB_AcceptPicPath2=#WHERE_LB_AcceptPicPath2#</isNotEmpty>
        <!--收件人姓名-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Receiver">LB_Receiver=#WHERE_LB_Receiver#</isNotEmpty>
        <!--收件人地址-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverAddress">LB_ReceiverAddress=#WHERE_LB_ReceiverAddress#</isNotEmpty>
        <!--收件人邮编-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverPostcode">LB_ReceiverPostcode=#WHERE_LB_ReceiverPostcode#</isNotEmpty>
        <!--收件人手机号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverPhoneNo">LB_ReceiverPhoneNo=#WHERE_LB_ReceiverPhoneNo#</isNotEmpty>
        <!--签收人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedBy">LB_ReceivedBy=#WHERE_LB_ReceivedBy#</isNotEmpty>
        <!--签收时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--签收拍照图片路径1-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedPicPath1">LB_ReceivedPicPath1=#WHERE_LB_ReceivedPicPath1#</isNotEmpty>
        <!--签收拍照图片路径2-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedPicPath2">LB_ReceivedPicPath2=#WHERE_LB_ReceivedPicPath2#</isNotEmpty>
        <!--物流费-->
        <isNotNull prepend="AND" property="WHERE_LB_Fee">LB_Fee=#WHERE_LB_Fee#</isNotNull>
        <!--赔偿金-->
        <isNotNull prepend="AND" property="WHERE_LB_Indemnification">LB_Indemnification=#WHERE_LB_Indemnification#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_LB_AccountReceivableAmount">LB_AccountReceivableAmount=#WHERE_LB_AccountReceivableAmount#</isNotNull>
        <!--物流费付款状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PayStautsCode">LB_PayStautsCode=#WHERE_LB_PayStautsCode#</isNotEmpty>
        <!--物流费付款状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PayStautsName">LB_PayStautsName=#WHERE_LB_PayStautsName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_StatusCode">LB_StatusCode=#WHERE_LB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_StatusName">LB_StatusName=#WHERE_LB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ApprovalStatusCode">LB_ApprovalStatusCode=#WHERE_LB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ApprovalStatusName">LB_ApprovalStatusName=#WHERE_LB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Remark">LB_Remark=#WHERE_LB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LB_IsValid">LB_IsValid=#WHERE_LB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_CreatedBy">LB_CreatedBy=#WHERE_LB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_UpdatedBy">LB_UpdatedBy=#WHERE_LB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LB_VersionNo">LB_VersionNo=#WHERE_LB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_TransID">LB_TransID=#WHERE_LB_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[物流订单]信息-->
    <update id="COMM_SQL_UpdateMDLSD_LogisticsBill" parameterClass="MDLSD_LogisticsBill" >
      UPDATE SD_LogisticsBill
      SET
      LB_UpdatedTime=GETDATE(),
      LB_VersionNo=LB_VersionNo+1
      <isNotEmpty prepend="," property="LB_No">LB_No=#LB_No#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_Org_ID">LB_Org_ID=#LB_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_Org_Name">LB_Org_Name=#LB_Org_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_SourceTypeCode">LB_SourceTypeCode=#LB_SourceTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_SourceTypeName">LB_SourceTypeName=#LB_SourceTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_SourceNo">LB_SourceNo=#LB_SourceNo#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_SourceCode">LB_SourceCode=#LB_SourceCode#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_SourceName">LB_SourceName=#LB_SourceName#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_DeliveryByID">LB_DeliveryByID=#LB_DeliveryByID#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_DeliveryBy">LB_DeliveryBy=#LB_DeliveryBy#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_PhoneNo">LB_PhoneNo=#LB_PhoneNo#</isNotEmpty>
      <isNotNull prepend="," property="LB_AcceptTime">LB_AcceptTime=#LB_AcceptTime#</isNotNull>
      <isNotEmpty prepend="," property="LB_AcceptPicPath1">LB_AcceptPicPath1=#LB_AcceptPicPath1#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_AcceptPicPath2">LB_AcceptPicPath2=#LB_AcceptPicPath2#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_Receiver">LB_Receiver=#LB_Receiver#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_ReceiverAddress">LB_ReceiverAddress=#LB_ReceiverAddress#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_ReceiverPostcode">LB_ReceiverPostcode=#LB_ReceiverPostcode#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_ReceiverPhoneNo">LB_ReceiverPhoneNo=#LB_ReceiverPhoneNo#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_ReceivedBy">LB_ReceivedBy=#LB_ReceivedBy#</isNotEmpty>
      <isNotNull prepend="," property="LB_ReceivedTime">LB_ReceivedTime=#LB_ReceivedTime#</isNotNull>
      <isNotEmpty prepend="," property="LB_ReceivedPicPath1">LB_ReceivedPicPath1=#LB_ReceivedPicPath1#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_ReceivedPicPath2">LB_ReceivedPicPath2=#LB_ReceivedPicPath2#</isNotEmpty>
      <isNotNull prepend="," property="LB_Fee">LB_Fee=#LB_Fee#</isNotNull>
      <isNotNull prepend="," property="LB_Indemnification">LB_Indemnification=#LB_Indemnification#</isNotNull>
      <isNotNull prepend="," property="LB_AccountReceivableAmount">LB_AccountReceivableAmount=#LB_AccountReceivableAmount#</isNotNull>
      <isNotEmpty prepend="," property="LB_PayStautsCode">LB_PayStautsCode=#LB_PayStautsCode#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_PayStautsName">LB_PayStautsName=#LB_PayStautsName#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_StatusCode">LB_StatusCode=#LB_StatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_StatusName">LB_StatusName=#LB_StatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_ApprovalStatusCode">LB_ApprovalStatusCode=#LB_ApprovalStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_ApprovalStatusName">LB_ApprovalStatusName=#LB_ApprovalStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_Remark">LB_Remark=#LB_Remark#</isNotEmpty>
      <isNotNull prepend="," property="LB_IsValid">LB_IsValid=#LB_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="LB_CreatedBy">LB_CreatedBy=#LB_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="LB_CreatedTime">LB_CreatedTime=#LB_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="LB_UpdatedBy">LB_UpdatedBy=#LB_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="LB_TransID">LB_TransID=#LB_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ID">LB_ID=#WHERE_LB_ID#</isNotEmpty>
        <!--物流单号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_No">LB_No=#WHERE_LB_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Org_ID">LB_Org_ID=#WHERE_LB_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Org_Name">LB_Org_Name=#WHERE_LB_Org_Name#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceTypeCode">LB_SourceTypeCode=#WHERE_LB_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceTypeName">LB_SourceTypeName=#WHERE_LB_SourceTypeName#</isNotEmpty>
        <!--物流单来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceNo">LB_SourceNo=#WHERE_LB_SourceNo#</isNotEmpty>
        <!--物流人员类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceCode">LB_SourceCode=#WHERE_LB_SourceCode#</isNotEmpty>
        <!--物流人员类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_SourceName">LB_SourceName=#WHERE_LB_SourceName#</isNotEmpty>
        <!--物流人员ID-->
        <isNotEmpty prepend="AND" property="WHERE_LB_DeliveryByID">LB_DeliveryByID=#WHERE_LB_DeliveryByID#</isNotEmpty>
        <!--物流人员名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_DeliveryBy">LB_DeliveryBy=#WHERE_LB_DeliveryBy#</isNotEmpty>
        <!--物流人员手机号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PhoneNo">LB_PhoneNo=#WHERE_LB_PhoneNo#</isNotEmpty>
        <!--物流人员接单时间-->
        <isNotNull prepend="" property="_AcceptTimeStart">
          <isNotNull prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime BETWEEN #_AcceptTimeStart# AND #_AcceptTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime <![CDATA[>=]]> #_AcceptTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_AcceptTimeStart">
          <isNotNull prepend="AND" property="_AcceptTimeEnd">LB_AcceptTime <![CDATA[<=]]> #_AcceptTimeEnd#</isNotNull>
        </isNull>
        <!--物流人员接单图片路径1-->
        <isNotEmpty prepend="AND" property="WHERE_LB_AcceptPicPath1">LB_AcceptPicPath1=#WHERE_LB_AcceptPicPath1#</isNotEmpty>
        <!--物流人员接单图片路径2-->
        <isNotEmpty prepend="AND" property="WHERE_LB_AcceptPicPath2">LB_AcceptPicPath2=#WHERE_LB_AcceptPicPath2#</isNotEmpty>
        <!--收件人姓名-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Receiver">LB_Receiver=#WHERE_LB_Receiver#</isNotEmpty>
        <!--收件人地址-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverAddress">LB_ReceiverAddress=#WHERE_LB_ReceiverAddress#</isNotEmpty>
        <!--收件人邮编-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverPostcode">LB_ReceiverPostcode=#WHERE_LB_ReceiverPostcode#</isNotEmpty>
        <!--收件人手机号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceiverPhoneNo">LB_ReceiverPhoneNo=#WHERE_LB_ReceiverPhoneNo#</isNotEmpty>
        <!--签收人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedBy">LB_ReceivedBy=#WHERE_LB_ReceivedBy#</isNotEmpty>
        <!--签收时间-->
        <isNotNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime BETWEEN #_ReceivedTimeStart# AND #_ReceivedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime <![CDATA[>=]]> #_ReceivedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceivedTimeStart">
          <isNotNull prepend="AND" property="_ReceivedTimeEnd">LB_ReceivedTime <![CDATA[<=]]> #_ReceivedTimeEnd#</isNotNull>
        </isNull>
        <!--签收拍照图片路径1-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedPicPath1">LB_ReceivedPicPath1=#WHERE_LB_ReceivedPicPath1#</isNotEmpty>
        <!--签收拍照图片路径2-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ReceivedPicPath2">LB_ReceivedPicPath2=#WHERE_LB_ReceivedPicPath2#</isNotEmpty>
        <!--物流费-->
        <isNotNull prepend="AND" property="WHERE_LB_Fee">LB_Fee=#WHERE_LB_Fee#</isNotNull>
        <!--赔偿金-->
        <isNotNull prepend="AND" property="WHERE_LB_Indemnification">LB_Indemnification=#WHERE_LB_Indemnification#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_LB_AccountReceivableAmount">LB_AccountReceivableAmount=#WHERE_LB_AccountReceivableAmount#</isNotNull>
        <!--物流费付款状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PayStautsCode">LB_PayStautsCode=#WHERE_LB_PayStautsCode#</isNotEmpty>
        <!--物流费付款状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_PayStautsName">LB_PayStautsName=#WHERE_LB_PayStautsName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_StatusCode">LB_StatusCode=#WHERE_LB_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_StatusName">LB_StatusName=#WHERE_LB_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ApprovalStatusCode">LB_ApprovalStatusCode=#WHERE_LB_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LB_ApprovalStatusName">LB_ApprovalStatusName=#WHERE_LB_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LB_Remark">LB_Remark=#WHERE_LB_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LB_IsValid">LB_IsValid=#WHERE_LB_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_CreatedBy">LB_CreatedBy=#WHERE_LB_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LB_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LB_UpdatedBy">LB_UpdatedBy=#WHERE_LB_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LB_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LB_VersionNo">LB_VersionNo=#WHERE_LB_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LB_TransID">LB_TransID=#WHERE_LB_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[物流订单]信息-->
    <delete id="COMM_SQL_DELETE_MDLSD_LogisticsBill" parameterClass="List">
      DELETE FROM SD_LogisticsBill
      WHERE LB_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_LB_ID#
      </iterate>
    </delete>

    <!--新增[物流订单明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLSD_LogisticsBillDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SD_LogisticsBillDetail
        (
        <!--物流订单明细ID-->
        LBD_ID,
        <!--物流订单ID-->
        LBD_LB_ID,
        <!--物流单号-->
        LBD_LB_No,
        <!--条码-->
        LBD_Barcode,
        <!--配件批次号（原库存批次）-->
        LBD_BatchNo,
        <!--配件批次号（汽修厂用）-->
        LBD_BatchNoNew,
        <!--名称-->
        LBD_Name,
        <!--规格型号-->
        LBD_Specification,
        <!--单位-->
        LBD_UOM,
        <!--配送数量-->
        LBD_DeliveryQty,
        <!--签收数量-->
        LBD_SignQty,
        <!--拒收数量-->
        LBD_RejectQty,
        <!--丢失数量-->
        LBD_LoseQty,
        <!--赔偿金-->
        LBD_Indemnification,
        <!--应收金额-->
        LBD_AccountReceivableAmount,
        <!--状态编码-->
        LBD_StatusCode,
        <!--状态名称-->
        LBD_StatusName,
        <!--备注-->
        LBD_Remark,
        <!--有效-->
        LBD_IsValid,
        <!--创建人-->
        LBD_CreatedBy,
        <!--创建时间-->
        LBD_CreatedTime,
        <!--修改人-->
        LBD_UpdatedBy,
        <!--修改时间-->
        LBD_UpdatedTime,
        <!--版本号-->
        LBD_VersionNo,
        <!--事务编号-->
        LBD_TransID
        )
        VALUES
        (
        <!--物流订单明细ID-->
        #[].LBD_ID#,
        <!--物流订单ID-->
        #[].LBD_LB_ID#,
        <!--物流单号-->
        #[].LBD_LB_No#,
        <!--条码-->
        #[].LBD_Barcode#,
        <!--配件批次号（原库存批次）-->
        #[].LBD_BatchNo#,
        <!--配件批次号（汽修厂用）-->
        #[].LBD_BatchNoNew#,
        <!--名称-->
        #[].LBD_Name#,
        <!--规格型号-->
        #[].LBD_Specification#,
        <!--单位-->
        #[].LBD_UOM#,
        <!--配送数量-->
        #[].LBD_DeliveryQty#,
        <!--签收数量-->
        #[].LBD_SignQty#,
        <!--拒收数量-->
        #[].LBD_RejectQty#,
        <!--丢失数量-->
        #[].LBD_LoseQty#,
        <!--赔偿金-->
        #[].LBD_Indemnification#,
        <!--应收金额-->
        #[].LBD_AccountReceivableAmount#,
        <!--状态编码-->
        #[].LBD_StatusCode#,
        <!--状态名称-->
        #[].LBD_StatusName#,
        <!--备注-->
        #[].LBD_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].LBD_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].LBD_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].LBD_TransID#
        )
      </iterate>
    </insert>

    <!--查询[物流订单明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLSD_LogisticsBillDetail" parameterClass="MDLSD_LogisticsBillDetail" resultClass="MDLSD_LogisticsBillDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(LBD_ID)
      FROM SD_LogisticsBillDetail
      <dynamic prepend="WHERE">
        <!--物流订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_ID">LBD_ID=#WHERE_LBD_ID#</isNotEmpty>
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_LB_ID">LBD_LB_ID=#WHERE_LBD_LB_ID#</isNotEmpty>
        <!--物流单号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_LB_No">LBD_LB_No=#WHERE_LBD_LB_No#</isNotEmpty>
        <!--条码-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Barcode">LBD_Barcode=#WHERE_LBD_Barcode#</isNotEmpty>
        <!--配件批次号（原库存批次）-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_BatchNo">LBD_BatchNo=#WHERE_LBD_BatchNo#</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_BatchNoNew">LBD_BatchNoNew=#WHERE_LBD_BatchNoNew#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Name">LBD_Name=#WHERE_LBD_Name#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Specification">LBD_Specification=#WHERE_LBD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_UOM">LBD_UOM=#WHERE_LBD_UOM#</isNotEmpty>
        <!--配送数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_DeliveryQty">LBD_DeliveryQty=#WHERE_LBD_DeliveryQty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_SignQty">LBD_SignQty=#WHERE_LBD_SignQty#</isNotNull>
        <!--拒收数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_RejectQty">LBD_RejectQty=#WHERE_LBD_RejectQty#</isNotNull>
        <!--丢失数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_LoseQty">LBD_LoseQty=#WHERE_LBD_LoseQty#</isNotNull>
        <!--赔偿金-->
        <isNotNull prepend="AND" property="WHERE_LBD_Indemnification">LBD_Indemnification=#WHERE_LBD_Indemnification#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_LBD_AccountReceivableAmount">LBD_AccountReceivableAmount=#WHERE_LBD_AccountReceivableAmount#</isNotNull>
        <!--状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_StatusCode">LBD_StatusCode=#WHERE_LBD_StatusCode#</isNotEmpty>
        <!--状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_StatusName">LBD_StatusName=#WHERE_LBD_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Remark">LBD_Remark=#WHERE_LBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LBD_IsValid">LBD_IsValid=#WHERE_LBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_CreatedBy">LBD_CreatedBy=#WHERE_LBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_UpdatedBy">LBD_UpdatedBy=#WHERE_LBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LBD_VersionNo">LBD_VersionNo=#WHERE_LBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_TransID">LBD_TransID=#WHERE_LBD_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      LBD_ID,
      LBD_LB_ID,
      LBD_LB_No,
      LBD_Barcode,
      LBD_BatchNo,
      LBD_BatchNoNew,
      LBD_Name,
      LBD_Specification,
      LBD_UOM,
      LBD_DeliveryQty,
      LBD_SignQty,
      LBD_RejectQty,
      LBD_LoseQty,
      LBD_Indemnification,
      LBD_AccountReceivableAmount,
      LBD_StatusCode,
      LBD_StatusName,
      LBD_Remark,
      LBD_IsValid,
      LBD_CreatedBy,
      LBD_CreatedTime,
      LBD_UpdatedBy,
      LBD_UpdatedTime,
      LBD_VersionNo,
      LBD_TransID
      FROM SD_LogisticsBillDetail
      <dynamic prepend="WHERE">
        <!--物流订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_ID">LBD_ID=#WHERE_LBD_ID#</isNotEmpty>
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_LB_ID">LBD_LB_ID=#WHERE_LBD_LB_ID#</isNotEmpty>
        <!--物流单号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_LB_No">LBD_LB_No=#WHERE_LBD_LB_No#</isNotEmpty>
        <!--条码-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Barcode">LBD_Barcode=#WHERE_LBD_Barcode#</isNotEmpty>
        <!--配件批次号（原库存批次）-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_BatchNo">LBD_BatchNo=#WHERE_LBD_BatchNo#</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_BatchNoNew">LBD_BatchNoNew=#WHERE_LBD_BatchNoNew#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Name">LBD_Name=#WHERE_LBD_Name#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Specification">LBD_Specification=#WHERE_LBD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_UOM">LBD_UOM=#WHERE_LBD_UOM#</isNotEmpty>
        <!--配送数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_DeliveryQty">LBD_DeliveryQty=#WHERE_LBD_DeliveryQty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_SignQty">LBD_SignQty=#WHERE_LBD_SignQty#</isNotNull>
        <!--拒收数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_RejectQty">LBD_RejectQty=#WHERE_LBD_RejectQty#</isNotNull>
        <!--丢失数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_LoseQty">LBD_LoseQty=#WHERE_LBD_LoseQty#</isNotNull>
        <!--赔偿金-->
        <isNotNull prepend="AND" property="WHERE_LBD_Indemnification">LBD_Indemnification=#WHERE_LBD_Indemnification#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_LBD_AccountReceivableAmount">LBD_AccountReceivableAmount=#WHERE_LBD_AccountReceivableAmount#</isNotNull>
        <!--状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_StatusCode">LBD_StatusCode=#WHERE_LBD_StatusCode#</isNotEmpty>
        <!--状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_StatusName">LBD_StatusName=#WHERE_LBD_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Remark">LBD_Remark=#WHERE_LBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LBD_IsValid">LBD_IsValid=#WHERE_LBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_CreatedBy">LBD_CreatedBy=#WHERE_LBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_UpdatedBy">LBD_UpdatedBy=#WHERE_LBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LBD_VersionNo">LBD_VersionNo=#WHERE_LBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_TransID">LBD_TransID=#WHERE_LBD_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY LBD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[物流订单明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSD_LogisticsBillDetail" parameterClass="MDLSD_LogisticsBillDetail" resultClass="MDLSD_LogisticsBillDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(LBD_ID)
      FROM SD_LogisticsBillDetail
      <dynamic prepend="WHERE">
        <!--物流订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_ID">LBD_ID=#WHERE_LBD_ID#</isNotEmpty>
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_LB_ID">LBD_LB_ID LIKE '%'+#WHERE_LBD_LB_ID#+'%'</isNotEmpty>
        <!--物流单号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_LB_No">LBD_LB_No LIKE '%'+#WHERE_LBD_LB_No#+'%'</isNotEmpty>
        <!--条码-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Barcode">LBD_Barcode LIKE '%'+#WHERE_LBD_Barcode#+'%'</isNotEmpty>
        <!--配件批次号（原库存批次）-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_BatchNo">LBD_BatchNo LIKE '%'+#WHERE_LBD_BatchNo#+'%'</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_BatchNoNew">LBD_BatchNoNew LIKE '%'+#WHERE_LBD_BatchNoNew#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Name">LBD_Name LIKE '%'+#WHERE_LBD_Name#+'%'</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Specification">LBD_Specification LIKE '%'+#WHERE_LBD_Specification#+'%'</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_UOM">LBD_UOM LIKE '%'+#WHERE_LBD_UOM#+'%'</isNotEmpty>
        <!--配送数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_DeliveryQty">LBD_DeliveryQty=#WHERE_LBD_DeliveryQty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_SignQty">LBD_SignQty=#WHERE_LBD_SignQty#</isNotNull>
        <!--拒收数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_RejectQty">LBD_RejectQty=#WHERE_LBD_RejectQty#</isNotNull>
        <!--丢失数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_LoseQty">LBD_LoseQty=#WHERE_LBD_LoseQty#</isNotNull>
        <!--赔偿金-->
        <isNotNull prepend="AND" property="WHERE_LBD_Indemnification">LBD_Indemnification=#WHERE_LBD_Indemnification#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_LBD_AccountReceivableAmount">LBD_AccountReceivableAmount=#WHERE_LBD_AccountReceivableAmount#</isNotNull>
        <!--状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_StatusCode">LBD_StatusCode LIKE '%'+#WHERE_LBD_StatusCode#+'%'</isNotEmpty>
        <!--状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_StatusName">LBD_StatusName LIKE '%'+#WHERE_LBD_StatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Remark">LBD_Remark LIKE '%'+#WHERE_LBD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LBD_IsValid">LBD_IsValid=#WHERE_LBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_CreatedBy">LBD_CreatedBy LIKE '%'+#WHERE_LBD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_UpdatedBy">LBD_UpdatedBy LIKE '%'+#WHERE_LBD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LBD_VersionNo">LBD_VersionNo=#WHERE_LBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_TransID">LBD_TransID LIKE '%'+#WHERE_LBD_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      LBD_ID,
      LBD_LB_ID,
      LBD_LB_No,
      LBD_Barcode,
      LBD_BatchNo,
      LBD_BatchNoNew,
      LBD_Name,
      LBD_Specification,
      LBD_UOM,
      LBD_DeliveryQty,
      LBD_SignQty,
      LBD_RejectQty,
      LBD_LoseQty,
      LBD_Indemnification,
      LBD_AccountReceivableAmount,
      LBD_StatusCode,
      LBD_StatusName,
      LBD_Remark,
      LBD_IsValid,
      LBD_CreatedBy,
      LBD_CreatedTime,
      LBD_UpdatedBy,
      LBD_UpdatedTime,
      LBD_VersionNo,
      LBD_TransID
      FROM SD_LogisticsBillDetail
      <dynamic prepend="WHERE">
        <!--物流订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_ID">LBD_ID=#WHERE_LBD_ID#</isNotEmpty>
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_LB_ID">LBD_LB_ID LIKE '%'+#WHERE_LBD_LB_ID#+'%'</isNotEmpty>
        <!--物流单号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_LB_No">LBD_LB_No LIKE '%'+#WHERE_LBD_LB_No#+'%'</isNotEmpty>
        <!--条码-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Barcode">LBD_Barcode LIKE '%'+#WHERE_LBD_Barcode#+'%'</isNotEmpty>
        <!--配件批次号（原库存批次）-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_BatchNo">LBD_BatchNo LIKE '%'+#WHERE_LBD_BatchNo#+'%'</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_BatchNoNew">LBD_BatchNoNew LIKE '%'+#WHERE_LBD_BatchNoNew#+'%'</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Name">LBD_Name LIKE '%'+#WHERE_LBD_Name#+'%'</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Specification">LBD_Specification LIKE '%'+#WHERE_LBD_Specification#+'%'</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_UOM">LBD_UOM LIKE '%'+#WHERE_LBD_UOM#+'%'</isNotEmpty>
        <!--配送数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_DeliveryQty">LBD_DeliveryQty=#WHERE_LBD_DeliveryQty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_SignQty">LBD_SignQty=#WHERE_LBD_SignQty#</isNotNull>
        <!--拒收数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_RejectQty">LBD_RejectQty=#WHERE_LBD_RejectQty#</isNotNull>
        <!--丢失数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_LoseQty">LBD_LoseQty=#WHERE_LBD_LoseQty#</isNotNull>
        <!--赔偿金-->
        <isNotNull prepend="AND" property="WHERE_LBD_Indemnification">LBD_Indemnification=#WHERE_LBD_Indemnification#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_LBD_AccountReceivableAmount">LBD_AccountReceivableAmount=#WHERE_LBD_AccountReceivableAmount#</isNotNull>
        <!--状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_StatusCode">LBD_StatusCode LIKE '%'+#WHERE_LBD_StatusCode#+'%'</isNotEmpty>
        <!--状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_StatusName">LBD_StatusName LIKE '%'+#WHERE_LBD_StatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Remark">LBD_Remark LIKE '%'+#WHERE_LBD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LBD_IsValid">LBD_IsValid=#WHERE_LBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_CreatedBy">LBD_CreatedBy LIKE '%'+#WHERE_LBD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_UpdatedBy">LBD_UpdatedBy LIKE '%'+#WHERE_LBD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LBD_VersionNo">LBD_VersionNo=#WHERE_LBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_TransID">LBD_TransID LIKE '%'+#WHERE_LBD_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY LBD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[物流订单明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSD_LogisticsBillDetail" parameterClass="MDLSD_LogisticsBillDetail" resultClass="int">
      SELECT COUNT(LBD_ID) 'RecordCount'
      FROM SD_LogisticsBillDetail
      <dynamic prepend="WHERE">
        <!--物流订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_ID">LBD_ID=#WHERE_LBD_ID#</isNotEmpty>
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_LB_ID">LBD_LB_ID=#WHERE_LBD_LB_ID#</isNotEmpty>
        <!--物流单号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_LB_No">LBD_LB_No=#WHERE_LBD_LB_No#</isNotEmpty>
        <!--条码-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Barcode">LBD_Barcode=#WHERE_LBD_Barcode#</isNotEmpty>
        <!--配件批次号（原库存批次）-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_BatchNo">LBD_BatchNo=#WHERE_LBD_BatchNo#</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_BatchNoNew">LBD_BatchNoNew=#WHERE_LBD_BatchNoNew#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Name">LBD_Name=#WHERE_LBD_Name#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Specification">LBD_Specification=#WHERE_LBD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_UOM">LBD_UOM=#WHERE_LBD_UOM#</isNotEmpty>
        <!--配送数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_DeliveryQty">LBD_DeliveryQty=#WHERE_LBD_DeliveryQty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_SignQty">LBD_SignQty=#WHERE_LBD_SignQty#</isNotNull>
        <!--拒收数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_RejectQty">LBD_RejectQty=#WHERE_LBD_RejectQty#</isNotNull>
        <!--丢失数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_LoseQty">LBD_LoseQty=#WHERE_LBD_LoseQty#</isNotNull>
        <!--赔偿金-->
        <isNotNull prepend="AND" property="WHERE_LBD_Indemnification">LBD_Indemnification=#WHERE_LBD_Indemnification#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_LBD_AccountReceivableAmount">LBD_AccountReceivableAmount=#WHERE_LBD_AccountReceivableAmount#</isNotNull>
        <!--状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_StatusCode">LBD_StatusCode=#WHERE_LBD_StatusCode#</isNotEmpty>
        <!--状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_StatusName">LBD_StatusName=#WHERE_LBD_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Remark">LBD_Remark=#WHERE_LBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LBD_IsValid">LBD_IsValid=#WHERE_LBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_CreatedBy">LBD_CreatedBy=#WHERE_LBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_UpdatedBy">LBD_UpdatedBy=#WHERE_LBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LBD_VersionNo">LBD_VersionNo=#WHERE_LBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_TransID">LBD_TransID=#WHERE_LBD_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[物流订单明细]信息-->
    <update id="COMM_SQL_UpdateMDLSD_LogisticsBillDetail" parameterClass="MDLSD_LogisticsBillDetail" >
      UPDATE SD_LogisticsBillDetail
      SET
      LBD_UpdatedTime=GETDATE(),
      LBD_VersionNo=LBD_VersionNo+1
      <isNotEmpty prepend="," property="LBD_LB_ID">LBD_LB_ID=#LBD_LB_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="LBD_LB_No">LBD_LB_No=#LBD_LB_No#</isNotEmpty>
      <isNotEmpty prepend="," property="LBD_Barcode">LBD_Barcode=#LBD_Barcode#</isNotEmpty>
      <isNotEmpty prepend="," property="LBD_BatchNo">LBD_BatchNo=#LBD_BatchNo#</isNotEmpty>
      <isNotEmpty prepend="," property="LBD_BatchNoNew">LBD_BatchNoNew=#LBD_BatchNoNew#</isNotEmpty>
      <isNotEmpty prepend="," property="LBD_Name">LBD_Name=#LBD_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="LBD_Specification">LBD_Specification=#LBD_Specification#</isNotEmpty>
      <isNotEmpty prepend="," property="LBD_UOM">LBD_UOM=#LBD_UOM#</isNotEmpty>
      <isNotNull prepend="," property="LBD_DeliveryQty">LBD_DeliveryQty=#LBD_DeliveryQty#</isNotNull>
      <isNotNull prepend="," property="LBD_SignQty">LBD_SignQty=#LBD_SignQty#</isNotNull>
      <isNotNull prepend="," property="LBD_RejectQty">LBD_RejectQty=#LBD_RejectQty#</isNotNull>
      <isNotNull prepend="," property="LBD_LoseQty">LBD_LoseQty=#LBD_LoseQty#</isNotNull>
      <isNotNull prepend="," property="LBD_Indemnification">LBD_Indemnification=#LBD_Indemnification#</isNotNull>
      <isNotNull prepend="," property="LBD_AccountReceivableAmount">LBD_AccountReceivableAmount=#LBD_AccountReceivableAmount#</isNotNull>
      <isNotEmpty prepend="," property="LBD_StatusCode">LBD_StatusCode=#LBD_StatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="LBD_StatusName">LBD_StatusName=#LBD_StatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="LBD_Remark">LBD_Remark=#LBD_Remark#</isNotEmpty>
      <isNotNull prepend="," property="LBD_IsValid">LBD_IsValid=#LBD_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="LBD_CreatedBy">LBD_CreatedBy=#LBD_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="LBD_CreatedTime">LBD_CreatedTime=#LBD_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="LBD_UpdatedBy">LBD_UpdatedBy=#LBD_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="LBD_TransID">LBD_TransID=#LBD_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--物流订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_ID">LBD_ID=#WHERE_LBD_ID#</isNotEmpty>
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_LB_ID">LBD_LB_ID=#WHERE_LBD_LB_ID#</isNotEmpty>
        <!--物流单号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_LB_No">LBD_LB_No=#WHERE_LBD_LB_No#</isNotEmpty>
        <!--条码-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Barcode">LBD_Barcode=#WHERE_LBD_Barcode#</isNotEmpty>
        <!--配件批次号（原库存批次）-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_BatchNo">LBD_BatchNo=#WHERE_LBD_BatchNo#</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_BatchNoNew">LBD_BatchNoNew=#WHERE_LBD_BatchNoNew#</isNotEmpty>
        <!--名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Name">LBD_Name=#WHERE_LBD_Name#</isNotEmpty>
        <!--规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Specification">LBD_Specification=#WHERE_LBD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_UOM">LBD_UOM=#WHERE_LBD_UOM#</isNotEmpty>
        <!--配送数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_DeliveryQty">LBD_DeliveryQty=#WHERE_LBD_DeliveryQty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_SignQty">LBD_SignQty=#WHERE_LBD_SignQty#</isNotNull>
        <!--拒收数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_RejectQty">LBD_RejectQty=#WHERE_LBD_RejectQty#</isNotNull>
        <!--丢失数量-->
        <isNotNull prepend="AND" property="WHERE_LBD_LoseQty">LBD_LoseQty=#WHERE_LBD_LoseQty#</isNotNull>
        <!--赔偿金-->
        <isNotNull prepend="AND" property="WHERE_LBD_Indemnification">LBD_Indemnification=#WHERE_LBD_Indemnification#</isNotNull>
        <!--应收金额-->
        <isNotNull prepend="AND" property="WHERE_LBD_AccountReceivableAmount">LBD_AccountReceivableAmount=#WHERE_LBD_AccountReceivableAmount#</isNotNull>
        <!--状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_StatusCode">LBD_StatusCode=#WHERE_LBD_StatusCode#</isNotEmpty>
        <!--状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_StatusName">LBD_StatusName=#WHERE_LBD_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_Remark">LBD_Remark=#WHERE_LBD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LBD_IsValid">LBD_IsValid=#WHERE_LBD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_CreatedBy">LBD_CreatedBy=#WHERE_LBD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_UpdatedBy">LBD_UpdatedBy=#WHERE_LBD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LBD_VersionNo">LBD_VersionNo=#WHERE_LBD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LBD_TransID">LBD_TransID=#WHERE_LBD_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[物流订单明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLSD_LogisticsBillDetail" parameterClass="List">
      DELETE FROM SD_LogisticsBillDetail
      WHERE LBD_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_LBD_ID#
      </iterate>
    </delete>

    <!--新增[物流订单异动]信息-->
    <insert id="COMM_SQL_INSERT_MDLSD_LogisticsBillTrans" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SD_LogisticsBillTrans
        (
        <!--物流订单异动ID-->
        LBT_ID,
        <!--组织ID-->
        LBT_Org_ID,
        <!--组织名称-->
        LBT_Org_Name,
        <!--物流订单ID-->
        LBT_LB_ID,
        <!--单号-->
        LBT_LB_NO,
        <!--异动时间-->
        LBT_Time,
        <!--异动状态-->
        LBT_Status,
        <!--备注-->
        LBT_Remark,
        <!--有效-->
        LBT_IsValid,
        <!--创建人-->
        LBT_CreatedBy,
        <!--创建时间-->
        LBT_CreatedTime,
        <!--修改人-->
        LBT_UpdatedBy,
        <!--修改时间-->
        LBT_UpdatedTime,
        <!--版本号-->
        LBT_VersionNo,
        <!--事务编号-->
        LBT_TransID
        )
        VALUES
        (
        <!--物流订单异动ID-->
        #[].LBT_ID#,
        <!--组织ID-->
        #[].LBT_Org_ID#,
        <!--组织名称-->
        #[].LBT_Org_Name#,
        <!--物流订单ID-->
        #[].LBT_LB_ID#,
        <!--单号-->
        #[].LBT_LB_NO#,
        <!--异动时间-->
        #[].LBT_Time#,
        <!--异动状态-->
        #[].LBT_Status#,
        <!--备注-->
        #[].LBT_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].LBT_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].LBT_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].LBT_TransID#
        )
      </iterate>
    </insert>

    <!--查询[物流订单异动]信息（精确条件）-->
    <select id="COMM_SQL_MDLSD_LogisticsBillTrans" parameterClass="MDLSD_LogisticsBillTrans" resultClass="MDLSD_LogisticsBillTrans">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(LBT_ID)
      FROM SD_LogisticsBillTrans
      <dynamic prepend="WHERE">
        <!--物流订单异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_ID">LBT_ID=#WHERE_LBT_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Org_ID">LBT_Org_ID=#WHERE_LBT_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Org_Name">LBT_Org_Name=#WHERE_LBT_Org_Name#</isNotEmpty>
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_LB_ID">LBT_LB_ID=#WHERE_LBT_LB_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_LB_NO">LBT_LB_NO=#WHERE_LBT_LB_NO#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">LBT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">LBT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">LBT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--异动状态-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Status">LBT_Status=#WHERE_LBT_Status#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Remark">LBT_Remark=#WHERE_LBT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LBT_IsValid">LBT_IsValid=#WHERE_LBT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_CreatedBy">LBT_CreatedBy=#WHERE_LBT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_UpdatedBy">LBT_UpdatedBy=#WHERE_LBT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LBT_VersionNo">LBT_VersionNo=#WHERE_LBT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_TransID">LBT_TransID=#WHERE_LBT_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      LBT_ID,
      LBT_Org_ID,
      LBT_Org_Name,
      LBT_LB_ID,
      LBT_LB_NO,
      LBT_Time,
      LBT_Status,
      LBT_Remark,
      LBT_IsValid,
      LBT_CreatedBy,
      LBT_CreatedTime,
      LBT_UpdatedBy,
      LBT_UpdatedTime,
      LBT_VersionNo,
      LBT_TransID
      FROM SD_LogisticsBillTrans
      <dynamic prepend="WHERE">
        <!--物流订单异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_ID">LBT_ID=#WHERE_LBT_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Org_ID">LBT_Org_ID=#WHERE_LBT_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Org_Name">LBT_Org_Name=#WHERE_LBT_Org_Name#</isNotEmpty>
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_LB_ID">LBT_LB_ID=#WHERE_LBT_LB_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_LB_NO">LBT_LB_NO=#WHERE_LBT_LB_NO#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">LBT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">LBT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">LBT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--异动状态-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Status">LBT_Status=#WHERE_LBT_Status#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Remark">LBT_Remark=#WHERE_LBT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LBT_IsValid">LBT_IsValid=#WHERE_LBT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_CreatedBy">LBT_CreatedBy=#WHERE_LBT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_UpdatedBy">LBT_UpdatedBy=#WHERE_LBT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LBT_VersionNo">LBT_VersionNo=#WHERE_LBT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_TransID">LBT_TransID=#WHERE_LBT_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY LBT_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[物流订单异动]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSD_LogisticsBillTrans" parameterClass="MDLSD_LogisticsBillTrans" resultClass="MDLSD_LogisticsBillTrans">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(LBT_ID)
      FROM SD_LogisticsBillTrans
      <dynamic prepend="WHERE">
        <!--物流订单异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_ID">LBT_ID=#WHERE_LBT_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Org_ID">LBT_Org_ID LIKE '%'+#WHERE_LBT_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Org_Name">LBT_Org_Name LIKE '%'+#WHERE_LBT_Org_Name#+'%'</isNotEmpty>
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_LB_ID">LBT_LB_ID LIKE '%'+#WHERE_LBT_LB_ID#+'%'</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_LB_NO">LBT_LB_NO LIKE '%'+#WHERE_LBT_LB_NO#+'%'</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">LBT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">LBT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">LBT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--异动状态-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Status">LBT_Status LIKE '%'+#WHERE_LBT_Status#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Remark">LBT_Remark LIKE '%'+#WHERE_LBT_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LBT_IsValid">LBT_IsValid=#WHERE_LBT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_CreatedBy">LBT_CreatedBy LIKE '%'+#WHERE_LBT_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_UpdatedBy">LBT_UpdatedBy LIKE '%'+#WHERE_LBT_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LBT_VersionNo">LBT_VersionNo=#WHERE_LBT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_TransID">LBT_TransID LIKE '%'+#WHERE_LBT_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      LBT_ID,
      LBT_Org_ID,
      LBT_Org_Name,
      LBT_LB_ID,
      LBT_LB_NO,
      LBT_Time,
      LBT_Status,
      LBT_Remark,
      LBT_IsValid,
      LBT_CreatedBy,
      LBT_CreatedTime,
      LBT_UpdatedBy,
      LBT_UpdatedTime,
      LBT_VersionNo,
      LBT_TransID
      FROM SD_LogisticsBillTrans
      <dynamic prepend="WHERE">
        <!--物流订单异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_ID">LBT_ID=#WHERE_LBT_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Org_ID">LBT_Org_ID LIKE '%'+#WHERE_LBT_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Org_Name">LBT_Org_Name LIKE '%'+#WHERE_LBT_Org_Name#+'%'</isNotEmpty>
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_LB_ID">LBT_LB_ID LIKE '%'+#WHERE_LBT_LB_ID#+'%'</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_LB_NO">LBT_LB_NO LIKE '%'+#WHERE_LBT_LB_NO#+'%'</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">LBT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">LBT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">LBT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--异动状态-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Status">LBT_Status LIKE '%'+#WHERE_LBT_Status#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Remark">LBT_Remark LIKE '%'+#WHERE_LBT_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LBT_IsValid">LBT_IsValid=#WHERE_LBT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_CreatedBy">LBT_CreatedBy LIKE '%'+#WHERE_LBT_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_UpdatedBy">LBT_UpdatedBy LIKE '%'+#WHERE_LBT_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LBT_VersionNo">LBT_VersionNo=#WHERE_LBT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_TransID">LBT_TransID LIKE '%'+#WHERE_LBT_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY LBT_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[物流订单异动]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSD_LogisticsBillTrans" parameterClass="MDLSD_LogisticsBillTrans" resultClass="int">
      SELECT COUNT(LBT_ID) 'RecordCount'
      FROM SD_LogisticsBillTrans
      <dynamic prepend="WHERE">
        <!--物流订单异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_ID">LBT_ID=#WHERE_LBT_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Org_ID">LBT_Org_ID=#WHERE_LBT_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Org_Name">LBT_Org_Name=#WHERE_LBT_Org_Name#</isNotEmpty>
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_LB_ID">LBT_LB_ID=#WHERE_LBT_LB_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_LB_NO">LBT_LB_NO=#WHERE_LBT_LB_NO#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">LBT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">LBT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">LBT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--异动状态-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Status">LBT_Status=#WHERE_LBT_Status#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Remark">LBT_Remark=#WHERE_LBT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LBT_IsValid">LBT_IsValid=#WHERE_LBT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_CreatedBy">LBT_CreatedBy=#WHERE_LBT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_UpdatedBy">LBT_UpdatedBy=#WHERE_LBT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LBT_VersionNo">LBT_VersionNo=#WHERE_LBT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_TransID">LBT_TransID=#WHERE_LBT_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[物流订单异动]信息-->
    <update id="COMM_SQL_UpdateMDLSD_LogisticsBillTrans" parameterClass="MDLSD_LogisticsBillTrans" >
      UPDATE SD_LogisticsBillTrans
      SET
      LBT_UpdatedTime=GETDATE(),
      LBT_VersionNo=LBT_VersionNo+1
      <isNotEmpty prepend="," property="LBT_Org_ID">LBT_Org_ID=#LBT_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="LBT_Org_Name">LBT_Org_Name=#LBT_Org_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="LBT_LB_ID">LBT_LB_ID=#LBT_LB_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="LBT_LB_NO">LBT_LB_NO=#LBT_LB_NO#</isNotEmpty>
      <isNotNull prepend="," property="LBT_Time">LBT_Time=#LBT_Time#</isNotNull>
      <isNotEmpty prepend="," property="LBT_Status">LBT_Status=#LBT_Status#</isNotEmpty>
      <isNotEmpty prepend="," property="LBT_Remark">LBT_Remark=#LBT_Remark#</isNotEmpty>
      <isNotNull prepend="," property="LBT_IsValid">LBT_IsValid=#LBT_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="LBT_CreatedBy">LBT_CreatedBy=#LBT_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="LBT_CreatedTime">LBT_CreatedTime=#LBT_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="LBT_UpdatedBy">LBT_UpdatedBy=#LBT_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="LBT_TransID">LBT_TransID=#LBT_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--物流订单异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_ID">LBT_ID=#WHERE_LBT_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Org_ID">LBT_Org_ID=#WHERE_LBT_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Org_Name">LBT_Org_Name=#WHERE_LBT_Org_Name#</isNotEmpty>
        <!--物流订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_LB_ID">LBT_LB_ID=#WHERE_LBT_LB_ID#</isNotEmpty>
        <!--单号-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_LB_NO">LBT_LB_NO=#WHERE_LBT_LB_NO#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">LBT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">LBT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">LBT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--异动状态-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Status">LBT_Status=#WHERE_LBT_Status#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_Remark">LBT_Remark=#WHERE_LBT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_LBT_IsValid">LBT_IsValid=#WHERE_LBT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_CreatedBy">LBT_CreatedBy=#WHERE_LBT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">LBT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_UpdatedBy">LBT_UpdatedBy=#WHERE_LBT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">LBT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_LBT_VersionNo">LBT_VersionNo=#WHERE_LBT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_LBT_TransID">LBT_TransID=#WHERE_LBT_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[物流订单异动]信息-->
    <delete id="COMM_SQL_DELETE_MDLSD_LogisticsBillTrans" parameterClass="List">
      DELETE FROM SD_LogisticsBillTrans
      WHERE LBT_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_LBT_ID#
      </iterate>
    </delete>

    <!--新增[销售订单]信息-->
    <insert id="COMM_SQL_INSERT_MDLSD_SalesOrder" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SD_SalesOrder
        (
        <!--销售订单ID-->
        SO_ID,
        <!--单据编号-->
        SO_No,
        <!--组织ID-->
        SO_Org_ID,
        <!--来源类型编码-->
        SO_SourceTypeCode,
        <!--来源类型名称-->
        SO_SourceTypeName,
        <!--来源单号-->
        SO_SourceNo,
        <!--客户类型编码-->
        SO_CustomerTypeCode,
        <!--客户类型名称-->
        SO_CustomerTypeName,
        <!--客户ID-->
        SO_CustomerID,
        <!--客户名称-->
        SO_CustomerName,
        <!--是否价格含税-->
        SO_IsPriceIncludeTax,
        <!--税率-->
        SO_TaxRate,
        <!--税额-->
        SO_TotalTax,
        <!--总金额-->
        SO_TotalAmount,
        <!--未税总金额-->
        SO_TotalNetAmount,
        <!--单据状态编码-->
        SO_StatusCode,
        <!--单据状态名称-->
        SO_StatusName,
        <!--审核状态编码-->
        SO_ApprovalStatusCode,
        <!--审核状态名称-->
        SO_ApprovalStatusName,
        <!--配件价格类别-->
        SO_AutoPartsPriceType,
        <!--业务员ID-->
        SO_SalesByID,
        <!--业务员名称-->
        SO_SalesByName,
        <!--备注-->
        SO_Remark,
        <!--有效-->
        SO_IsValid,
        <!--创建人-->
        SO_CreatedBy,
        <!--创建时间-->
        SO_CreatedTime,
        <!--修改人-->
        SO_UpdatedBy,
        <!--修改时间-->
        SO_UpdatedTime,
        <!--版本号-->
        SO_VersionNo,
        <!--事务编号-->
        SO_TransID
        )
        VALUES
        (
        <!--销售订单ID-->
        #[].SO_ID#,
        <!--单据编号-->
        #[].SO_No#,
        <!--组织ID-->
        #[].SO_Org_ID#,
        <!--来源类型编码-->
        #[].SO_SourceTypeCode#,
        <!--来源类型名称-->
        #[].SO_SourceTypeName#,
        <!--来源单号-->
        #[].SO_SourceNo#,
        <!--客户类型编码-->
        #[].SO_CustomerTypeCode#,
        <!--客户类型名称-->
        #[].SO_CustomerTypeName#,
        <!--客户ID-->
        #[].SO_CustomerID#,
        <!--客户名称-->
        #[].SO_CustomerName#,
        <!--是否价格含税-->
        #[].SO_IsPriceIncludeTax#,
        <!--税率-->
        #[].SO_TaxRate#,
        <!--税额-->
        #[].SO_TotalTax#,
        <!--总金额-->
        #[].SO_TotalAmount#,
        <!--未税总金额-->
        #[].SO_TotalNetAmount#,
        <!--单据状态编码-->
        #[].SO_StatusCode#,
        <!--单据状态名称-->
        #[].SO_StatusName#,
        <!--审核状态编码-->
        #[].SO_ApprovalStatusCode#,
        <!--审核状态名称-->
        #[].SO_ApprovalStatusName#,
        <!--配件价格类别-->
        #[].SO_AutoPartsPriceType#,
        <!--业务员ID-->
        #[].SO_SalesByID#,
        <!--业务员名称-->
        #[].SO_SalesByName#,
        <!--备注-->
        #[].SO_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].SO_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].SO_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].SO_TransID#
        )
      </iterate>
    </insert>

    <!--查询[销售订单]信息（精确条件）-->
    <select id="COMM_SQL_MDLSD_SalesOrder" parameterClass="MDLSD_SalesOrder" resultClass="MDLSD_SalesOrder">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SO_ID)
      FROM SD_SalesOrder
      <dynamic prepend="WHERE">
        <!--销售订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ID">SO_ID=#WHERE_SO_ID#</isNotEmpty>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_No">SO_No=#WHERE_SO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_Org_ID">SO_Org_ID=#WHERE_SO_Org_ID#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceTypeCode">SO_SourceTypeCode=#WHERE_SO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceTypeName">SO_SourceTypeName=#WHERE_SO_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceNo">SO_SourceNo=#WHERE_SO_SourceNo#</isNotEmpty>
        <!--客户类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerTypeCode">SO_CustomerTypeCode=#WHERE_SO_CustomerTypeCode#</isNotEmpty>
        <!--客户类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerTypeName">SO_CustomerTypeName=#WHERE_SO_CustomerTypeName#</isNotEmpty>
        <!--客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerID">SO_CustomerID=#WHERE_SO_CustomerID#</isNotEmpty>
        <!--客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerName">SO_CustomerName=#WHERE_SO_CustomerName#</isNotEmpty>
        <!--是否价格含税-->
        <isNotNull prepend="AND" property="WHERE_SO_IsPriceIncludeTax">SO_IsPriceIncludeTax=#WHERE_SO_IsPriceIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SO_TaxRate">SO_TaxRate=#WHERE_SO_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalTax">SO_TotalTax=#WHERE_SO_TotalTax#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalAmount">SO_TotalAmount=#WHERE_SO_TotalAmount#</isNotNull>
        <!--未税总金额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalNetAmount">SO_TotalNetAmount=#WHERE_SO_TotalNetAmount#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_StatusCode">SO_StatusCode=#WHERE_SO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_StatusName">SO_StatusName=#WHERE_SO_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ApprovalStatusCode">SO_ApprovalStatusCode=#WHERE_SO_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ApprovalStatusName">SO_ApprovalStatusName=#WHERE_SO_ApprovalStatusName#</isNotEmpty>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_SO_AutoPartsPriceType">SO_AutoPartsPriceType=#WHERE_SO_AutoPartsPriceType#</isNotEmpty>
        <!--业务员ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SalesByID">SO_SalesByID=#WHERE_SO_SalesByID#</isNotEmpty>
        <!--业务员名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SalesByName">SO_SalesByName=#WHERE_SO_SalesByName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SO_Remark">SO_Remark=#WHERE_SO_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SO_IsValid">SO_IsValid=#WHERE_SO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CreatedBy">SO_CreatedBy=#WHERE_SO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SO_UpdatedBy">SO_UpdatedBy=#WHERE_SO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SO_VersionNo">SO_VersionNo=#WHERE_SO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_TransID">SO_TransID=#WHERE_SO_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SO_ID,
      SO_No,
      SO_Org_ID,
      SO_SourceTypeCode,
      SO_SourceTypeName,
      SO_SourceNo,
      SO_CustomerTypeCode,
      SO_CustomerTypeName,
      SO_CustomerID,
      SO_CustomerName,
      SO_IsPriceIncludeTax,
      SO_TaxRate,
      SO_TotalTax,
      SO_TotalAmount,
      SO_TotalNetAmount,
      SO_StatusCode,
      SO_StatusName,
      SO_ApprovalStatusCode,
      SO_ApprovalStatusName,
      SO_AutoPartsPriceType,
      SO_SalesByID,
      SO_SalesByName,
      SO_Remark,
      SO_IsValid,
      SO_CreatedBy,
      SO_CreatedTime,
      SO_UpdatedBy,
      SO_UpdatedTime,
      SO_VersionNo,
      SO_TransID
      FROM SD_SalesOrder
      <dynamic prepend="WHERE">
        <!--销售订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ID">SO_ID=#WHERE_SO_ID#</isNotEmpty>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_No">SO_No=#WHERE_SO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_Org_ID">SO_Org_ID=#WHERE_SO_Org_ID#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceTypeCode">SO_SourceTypeCode=#WHERE_SO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceTypeName">SO_SourceTypeName=#WHERE_SO_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceNo">SO_SourceNo=#WHERE_SO_SourceNo#</isNotEmpty>
        <!--客户类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerTypeCode">SO_CustomerTypeCode=#WHERE_SO_CustomerTypeCode#</isNotEmpty>
        <!--客户类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerTypeName">SO_CustomerTypeName=#WHERE_SO_CustomerTypeName#</isNotEmpty>
        <!--客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerID">SO_CustomerID=#WHERE_SO_CustomerID#</isNotEmpty>
        <!--客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerName">SO_CustomerName=#WHERE_SO_CustomerName#</isNotEmpty>
        <!--是否价格含税-->
        <isNotNull prepend="AND" property="WHERE_SO_IsPriceIncludeTax">SO_IsPriceIncludeTax=#WHERE_SO_IsPriceIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SO_TaxRate">SO_TaxRate=#WHERE_SO_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalTax">SO_TotalTax=#WHERE_SO_TotalTax#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalAmount">SO_TotalAmount=#WHERE_SO_TotalAmount#</isNotNull>
        <!--未税总金额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalNetAmount">SO_TotalNetAmount=#WHERE_SO_TotalNetAmount#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_StatusCode">SO_StatusCode=#WHERE_SO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_StatusName">SO_StatusName=#WHERE_SO_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ApprovalStatusCode">SO_ApprovalStatusCode=#WHERE_SO_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ApprovalStatusName">SO_ApprovalStatusName=#WHERE_SO_ApprovalStatusName#</isNotEmpty>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_SO_AutoPartsPriceType">SO_AutoPartsPriceType=#WHERE_SO_AutoPartsPriceType#</isNotEmpty>
        <!--业务员ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SalesByID">SO_SalesByID=#WHERE_SO_SalesByID#</isNotEmpty>
        <!--业务员名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SalesByName">SO_SalesByName=#WHERE_SO_SalesByName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SO_Remark">SO_Remark=#WHERE_SO_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SO_IsValid">SO_IsValid=#WHERE_SO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CreatedBy">SO_CreatedBy=#WHERE_SO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SO_UpdatedBy">SO_UpdatedBy=#WHERE_SO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SO_VersionNo">SO_VersionNo=#WHERE_SO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_TransID">SO_TransID=#WHERE_SO_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SO_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[销售订单]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSD_SalesOrder" parameterClass="MDLSD_SalesOrder" resultClass="MDLSD_SalesOrder">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SO_ID)
      FROM SD_SalesOrder
      <dynamic prepend="WHERE">
        <!--销售订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ID">SO_ID=#WHERE_SO_ID#</isNotEmpty>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_No">SO_No LIKE '%'+#WHERE_SO_No#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_Org_ID">SO_Org_ID LIKE '%'+#WHERE_SO_Org_ID#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceTypeCode">SO_SourceTypeCode LIKE '%'+#WHERE_SO_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceTypeName">SO_SourceTypeName LIKE '%'+#WHERE_SO_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceNo">SO_SourceNo LIKE '%'+#WHERE_SO_SourceNo#+'%'</isNotEmpty>
        <!--客户类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerTypeCode">SO_CustomerTypeCode LIKE '%'+#WHERE_SO_CustomerTypeCode#+'%'</isNotEmpty>
        <!--客户类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerTypeName">SO_CustomerTypeName LIKE '%'+#WHERE_SO_CustomerTypeName#+'%'</isNotEmpty>
        <!--客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerID">SO_CustomerID LIKE '%'+#WHERE_SO_CustomerID#+'%'</isNotEmpty>
        <!--客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerName">SO_CustomerName LIKE '%'+#WHERE_SO_CustomerName#+'%'</isNotEmpty>
        <!--是否价格含税-->
        <isNotNull prepend="AND" property="WHERE_SO_IsPriceIncludeTax">SO_IsPriceIncludeTax=#WHERE_SO_IsPriceIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SO_TaxRate">SO_TaxRate=#WHERE_SO_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalTax">SO_TotalTax=#WHERE_SO_TotalTax#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalAmount">SO_TotalAmount=#WHERE_SO_TotalAmount#</isNotNull>
        <!--未税总金额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalNetAmount">SO_TotalNetAmount=#WHERE_SO_TotalNetAmount#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_StatusCode">SO_StatusCode LIKE '%'+#WHERE_SO_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_StatusName">SO_StatusName LIKE '%'+#WHERE_SO_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ApprovalStatusCode">SO_ApprovalStatusCode LIKE '%'+#WHERE_SO_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ApprovalStatusName">SO_ApprovalStatusName LIKE '%'+#WHERE_SO_ApprovalStatusName#+'%'</isNotEmpty>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_SO_AutoPartsPriceType">SO_AutoPartsPriceType LIKE '%'+#WHERE_SO_AutoPartsPriceType#+'%'</isNotEmpty>
        <!--业务员ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SalesByID">SO_SalesByID LIKE '%'+#WHERE_SO_SalesByID#+'%'</isNotEmpty>
        <!--业务员名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SalesByName">SO_SalesByName LIKE '%'+#WHERE_SO_SalesByName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SO_Remark">SO_Remark LIKE '%'+#WHERE_SO_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SO_IsValid">SO_IsValid=#WHERE_SO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CreatedBy">SO_CreatedBy LIKE '%'+#WHERE_SO_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SO_UpdatedBy">SO_UpdatedBy LIKE '%'+#WHERE_SO_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SO_VersionNo">SO_VersionNo=#WHERE_SO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_TransID">SO_TransID LIKE '%'+#WHERE_SO_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SO_ID,
      SO_No,
      SO_Org_ID,
      SO_SourceTypeCode,
      SO_SourceTypeName,
      SO_SourceNo,
      SO_CustomerTypeCode,
      SO_CustomerTypeName,
      SO_CustomerID,
      SO_CustomerName,
      SO_IsPriceIncludeTax,
      SO_TaxRate,
      SO_TotalTax,
      SO_TotalAmount,
      SO_TotalNetAmount,
      SO_StatusCode,
      SO_StatusName,
      SO_ApprovalStatusCode,
      SO_ApprovalStatusName,
      SO_AutoPartsPriceType,
      SO_SalesByID,
      SO_SalesByName,
      SO_Remark,
      SO_IsValid,
      SO_CreatedBy,
      SO_CreatedTime,
      SO_UpdatedBy,
      SO_UpdatedTime,
      SO_VersionNo,
      SO_TransID
      FROM SD_SalesOrder
      <dynamic prepend="WHERE">
        <!--销售订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ID">SO_ID=#WHERE_SO_ID#</isNotEmpty>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_No">SO_No LIKE '%'+#WHERE_SO_No#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_Org_ID">SO_Org_ID LIKE '%'+#WHERE_SO_Org_ID#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceTypeCode">SO_SourceTypeCode LIKE '%'+#WHERE_SO_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceTypeName">SO_SourceTypeName LIKE '%'+#WHERE_SO_SourceTypeName#+'%'</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceNo">SO_SourceNo LIKE '%'+#WHERE_SO_SourceNo#+'%'</isNotEmpty>
        <!--客户类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerTypeCode">SO_CustomerTypeCode LIKE '%'+#WHERE_SO_CustomerTypeCode#+'%'</isNotEmpty>
        <!--客户类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerTypeName">SO_CustomerTypeName LIKE '%'+#WHERE_SO_CustomerTypeName#+'%'</isNotEmpty>
        <!--客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerID">SO_CustomerID LIKE '%'+#WHERE_SO_CustomerID#+'%'</isNotEmpty>
        <!--客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerName">SO_CustomerName LIKE '%'+#WHERE_SO_CustomerName#+'%'</isNotEmpty>
        <!--是否价格含税-->
        <isNotNull prepend="AND" property="WHERE_SO_IsPriceIncludeTax">SO_IsPriceIncludeTax=#WHERE_SO_IsPriceIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SO_TaxRate">SO_TaxRate=#WHERE_SO_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalTax">SO_TotalTax=#WHERE_SO_TotalTax#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalAmount">SO_TotalAmount=#WHERE_SO_TotalAmount#</isNotNull>
        <!--未税总金额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalNetAmount">SO_TotalNetAmount=#WHERE_SO_TotalNetAmount#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_StatusCode">SO_StatusCode LIKE '%'+#WHERE_SO_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_StatusName">SO_StatusName LIKE '%'+#WHERE_SO_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ApprovalStatusCode">SO_ApprovalStatusCode LIKE '%'+#WHERE_SO_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ApprovalStatusName">SO_ApprovalStatusName LIKE '%'+#WHERE_SO_ApprovalStatusName#+'%'</isNotEmpty>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_SO_AutoPartsPriceType">SO_AutoPartsPriceType LIKE '%'+#WHERE_SO_AutoPartsPriceType#+'%'</isNotEmpty>
        <!--业务员ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SalesByID">SO_SalesByID LIKE '%'+#WHERE_SO_SalesByID#+'%'</isNotEmpty>
        <!--业务员名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SalesByName">SO_SalesByName LIKE '%'+#WHERE_SO_SalesByName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SO_Remark">SO_Remark LIKE '%'+#WHERE_SO_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SO_IsValid">SO_IsValid=#WHERE_SO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CreatedBy">SO_CreatedBy LIKE '%'+#WHERE_SO_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SO_UpdatedBy">SO_UpdatedBy LIKE '%'+#WHERE_SO_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SO_VersionNo">SO_VersionNo=#WHERE_SO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_TransID">SO_TransID LIKE '%'+#WHERE_SO_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SO_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[销售订单]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSD_SalesOrder" parameterClass="MDLSD_SalesOrder" resultClass="int">
      SELECT COUNT(SO_ID) 'RecordCount'
      FROM SD_SalesOrder
      <dynamic prepend="WHERE">
        <!--销售订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ID">SO_ID=#WHERE_SO_ID#</isNotEmpty>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_No">SO_No=#WHERE_SO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_Org_ID">SO_Org_ID=#WHERE_SO_Org_ID#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceTypeCode">SO_SourceTypeCode=#WHERE_SO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceTypeName">SO_SourceTypeName=#WHERE_SO_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceNo">SO_SourceNo=#WHERE_SO_SourceNo#</isNotEmpty>
        <!--客户类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerTypeCode">SO_CustomerTypeCode=#WHERE_SO_CustomerTypeCode#</isNotEmpty>
        <!--客户类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerTypeName">SO_CustomerTypeName=#WHERE_SO_CustomerTypeName#</isNotEmpty>
        <!--客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerID">SO_CustomerID=#WHERE_SO_CustomerID#</isNotEmpty>
        <!--客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerName">SO_CustomerName=#WHERE_SO_CustomerName#</isNotEmpty>
        <!--是否价格含税-->
        <isNotNull prepend="AND" property="WHERE_SO_IsPriceIncludeTax">SO_IsPriceIncludeTax=#WHERE_SO_IsPriceIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SO_TaxRate">SO_TaxRate=#WHERE_SO_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalTax">SO_TotalTax=#WHERE_SO_TotalTax#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalAmount">SO_TotalAmount=#WHERE_SO_TotalAmount#</isNotNull>
        <!--未税总金额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalNetAmount">SO_TotalNetAmount=#WHERE_SO_TotalNetAmount#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_StatusCode">SO_StatusCode=#WHERE_SO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_StatusName">SO_StatusName=#WHERE_SO_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ApprovalStatusCode">SO_ApprovalStatusCode=#WHERE_SO_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ApprovalStatusName">SO_ApprovalStatusName=#WHERE_SO_ApprovalStatusName#</isNotEmpty>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_SO_AutoPartsPriceType">SO_AutoPartsPriceType=#WHERE_SO_AutoPartsPriceType#</isNotEmpty>
        <!--业务员ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SalesByID">SO_SalesByID=#WHERE_SO_SalesByID#</isNotEmpty>
        <!--业务员名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SalesByName">SO_SalesByName=#WHERE_SO_SalesByName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SO_Remark">SO_Remark=#WHERE_SO_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SO_IsValid">SO_IsValid=#WHERE_SO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CreatedBy">SO_CreatedBy=#WHERE_SO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SO_UpdatedBy">SO_UpdatedBy=#WHERE_SO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SO_VersionNo">SO_VersionNo=#WHERE_SO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_TransID">SO_TransID=#WHERE_SO_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[销售订单]信息-->
    <update id="COMM_SQL_UpdateMDLSD_SalesOrder" parameterClass="MDLSD_SalesOrder" >
      UPDATE SD_SalesOrder
      SET
      SO_UpdatedTime=GETDATE(),
      SO_VersionNo=SO_VersionNo+1
      <isNotEmpty prepend="," property="SO_No">SO_No=#SO_No#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_Org_ID">SO_Org_ID=#SO_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_SourceTypeCode">SO_SourceTypeCode=#SO_SourceTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_SourceTypeName">SO_SourceTypeName=#SO_SourceTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_SourceNo">SO_SourceNo=#SO_SourceNo#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_CustomerTypeCode">SO_CustomerTypeCode=#SO_CustomerTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_CustomerTypeName">SO_CustomerTypeName=#SO_CustomerTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_CustomerID">SO_CustomerID=#SO_CustomerID#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_CustomerName">SO_CustomerName=#SO_CustomerName#</isNotEmpty>
      <isNotNull prepend="," property="SO_IsPriceIncludeTax">SO_IsPriceIncludeTax=#SO_IsPriceIncludeTax#</isNotNull>
      <isNotNull prepend="," property="SO_TaxRate">SO_TaxRate=#SO_TaxRate#</isNotNull>
      <isNotNull prepend="," property="SO_TotalTax">SO_TotalTax=#SO_TotalTax#</isNotNull>
      <isNotNull prepend="," property="SO_TotalAmount">SO_TotalAmount=#SO_TotalAmount#</isNotNull>
      <isNotNull prepend="," property="SO_TotalNetAmount">SO_TotalNetAmount=#SO_TotalNetAmount#</isNotNull>
      <isNotEmpty prepend="," property="SO_StatusCode">SO_StatusCode=#SO_StatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_StatusName">SO_StatusName=#SO_StatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_ApprovalStatusCode">SO_ApprovalStatusCode=#SO_ApprovalStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_ApprovalStatusName">SO_ApprovalStatusName=#SO_ApprovalStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_AutoPartsPriceType">SO_AutoPartsPriceType=#SO_AutoPartsPriceType#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_SalesByID">SO_SalesByID=#SO_SalesByID#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_SalesByName">SO_SalesByName=#SO_SalesByName#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_Remark">SO_Remark=#SO_Remark#</isNotEmpty>
      <isNotNull prepend="," property="SO_IsValid">SO_IsValid=#SO_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="SO_CreatedBy">SO_CreatedBy=#SO_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="SO_CreatedTime">SO_CreatedTime=#SO_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="SO_UpdatedBy">SO_UpdatedBy=#SO_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="SO_TransID">SO_TransID=#SO_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--销售订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ID">SO_ID=#WHERE_SO_ID#</isNotEmpty>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_No">SO_No=#WHERE_SO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_Org_ID">SO_Org_ID=#WHERE_SO_Org_ID#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceTypeCode">SO_SourceTypeCode=#WHERE_SO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceTypeName">SO_SourceTypeName=#WHERE_SO_SourceTypeName#</isNotEmpty>
        <!--来源单号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SourceNo">SO_SourceNo=#WHERE_SO_SourceNo#</isNotEmpty>
        <!--客户类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerTypeCode">SO_CustomerTypeCode=#WHERE_SO_CustomerTypeCode#</isNotEmpty>
        <!--客户类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerTypeName">SO_CustomerTypeName=#WHERE_SO_CustomerTypeName#</isNotEmpty>
        <!--客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerID">SO_CustomerID=#WHERE_SO_CustomerID#</isNotEmpty>
        <!--客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CustomerName">SO_CustomerName=#WHERE_SO_CustomerName#</isNotEmpty>
        <!--是否价格含税-->
        <isNotNull prepend="AND" property="WHERE_SO_IsPriceIncludeTax">SO_IsPriceIncludeTax=#WHERE_SO_IsPriceIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SO_TaxRate">SO_TaxRate=#WHERE_SO_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalTax">SO_TotalTax=#WHERE_SO_TotalTax#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalAmount">SO_TotalAmount=#WHERE_SO_TotalAmount#</isNotNull>
        <!--未税总金额-->
        <isNotNull prepend="AND" property="WHERE_SO_TotalNetAmount">SO_TotalNetAmount=#WHERE_SO_TotalNetAmount#</isNotNull>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_StatusCode">SO_StatusCode=#WHERE_SO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_StatusName">SO_StatusName=#WHERE_SO_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ApprovalStatusCode">SO_ApprovalStatusCode=#WHERE_SO_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_ApprovalStatusName">SO_ApprovalStatusName=#WHERE_SO_ApprovalStatusName#</isNotEmpty>
        <!--配件价格类别-->
        <isNotEmpty prepend="AND" property="WHERE_SO_AutoPartsPriceType">SO_AutoPartsPriceType=#WHERE_SO_AutoPartsPriceType#</isNotEmpty>
        <!--业务员ID-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SalesByID">SO_SalesByID=#WHERE_SO_SalesByID#</isNotEmpty>
        <!--业务员名称-->
        <isNotEmpty prepend="AND" property="WHERE_SO_SalesByName">SO_SalesByName=#WHERE_SO_SalesByName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SO_Remark">SO_Remark=#WHERE_SO_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SO_IsValid">SO_IsValid=#WHERE_SO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SO_CreatedBy">SO_CreatedBy=#WHERE_SO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SO_UpdatedBy">SO_UpdatedBy=#WHERE_SO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SO_VersionNo">SO_VersionNo=#WHERE_SO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SO_TransID">SO_TransID=#WHERE_SO_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[销售订单]信息-->
    <delete id="COMM_SQL_DELETE_MDLSD_SalesOrder" parameterClass="List">
      DELETE FROM SD_SalesOrder
      WHERE SO_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_SO_ID#
      </iterate>
    </delete>

    <!--新增[销售订单明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLSD_SalesOrderDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SD_SalesOrderDetail
        (
        <!--销售订单明细ID-->
        SOD_ID,
        <!--销售订单ID-->
        SOD_SO_ID,
        <!--计价基准-->
        SOD_SalePriceRate,
        <!--计价基准可改-->
        SOD_SalePriceRateIsChangeable,
        <!--价格是否含税-->
        SOD_PriceIsIncludeTax,
        <!--税率-->
        SOD_TaxRate,
        <!--税额-->
        SOD_TotalTax,
        <!--销售数量-->
        SOD_Qty,
        <!--签收数量-->
        SOD_SignQty,
        <!--拒收数量-->
        SOD_RejectQty,
        <!--丢失数量-->
        SOD_LoseQty,
        <!--单价-->
        SOD_UnitPrice,
        <!--总金额-->
        SOD_TotalAmount,
        <!--配件条码-->
        SOD_Barcode,
        <!--配件批次号（原库存批次）-->
        SOD_BatchNo,
        <!--配件批次号（汽修厂用）-->
        SOD_BatchNoNew,
        <!--配件名称-->
        SOD_Name,
        <!--配件规格型号-->
        SOD_Specification,
        <!--单位-->
        SOD_UOM,
        <!--入库组织ID-->
        SOD_StockInOrgID,
        <!--入库组织编码-->
        SOD_StockInOrgCode,
        <!--入库组织名称-->
        SOD_StockInOrgName,
        <!--入库仓库ID-->
        SOD_StockInWarehouseID,
        <!--入库仓库名称-->
        SOD_StockInWarehouseName,
        <!--入库仓位ID-->
        SOD_StockInBinID,
        <!--入库仓位名称-->
        SOD_StockInBinName,
        <!--单据状态编码-->
        SOD_StatusCode,
        <!--单据状态名称-->
        SOD_StatusName,
        <!--审核状态编码-->
        SOD_ApprovalStatusCode,
        <!--审核状态名称-->
        SOD_ApprovalStatusName,
        <!--备注-->
        SOD_Remark,
        <!--有效-->
        SOD_IsValid,
        <!--创建人-->
        SOD_CreatedBy,
        <!--创建时间-->
        SOD_CreatedTime,
        <!--修改人-->
        SOD_UpdatedBy,
        <!--修改时间-->
        SOD_UpdatedTime,
        <!--版本号-->
        SOD_VersionNo,
        <!--事务编号-->
        SOD_TransID
        )
        VALUES
        (
        <!--销售订单明细ID-->
        #[].SOD_ID#,
        <!--销售订单ID-->
        #[].SOD_SO_ID#,
        <!--计价基准-->
        #[].SOD_SalePriceRate#,
        <!--计价基准可改-->
        #[].SOD_SalePriceRateIsChangeable#,
        <!--价格是否含税-->
        #[].SOD_PriceIsIncludeTax#,
        <!--税率-->
        #[].SOD_TaxRate#,
        <!--税额-->
        #[].SOD_TotalTax#,
        <!--销售数量-->
        #[].SOD_Qty#,
        <!--签收数量-->
        #[].SOD_SignQty#,
        <!--拒收数量-->
        #[].SOD_RejectQty#,
        <!--丢失数量-->
        #[].SOD_LoseQty#,
        <!--单价-->
        #[].SOD_UnitPrice#,
        <!--总金额-->
        #[].SOD_TotalAmount#,
        <!--配件条码-->
        #[].SOD_Barcode#,
        <!--配件批次号（原库存批次）-->
        #[].SOD_BatchNo#,
        <!--配件批次号（汽修厂用）-->
        #[].SOD_BatchNoNew#,
        <!--配件名称-->
        #[].SOD_Name#,
        <!--配件规格型号-->
        #[].SOD_Specification#,
        <!--单位-->
        #[].SOD_UOM#,
        <!--入库组织ID-->
        #[].SOD_StockInOrgID#,
        <!--入库组织编码-->
        #[].SOD_StockInOrgCode#,
        <!--入库组织名称-->
        #[].SOD_StockInOrgName#,
        <!--入库仓库ID-->
        #[].SOD_StockInWarehouseID#,
        <!--入库仓库名称-->
        #[].SOD_StockInWarehouseName#,
        <!--入库仓位ID-->
        #[].SOD_StockInBinID#,
        <!--入库仓位名称-->
        #[].SOD_StockInBinName#,
        <!--单据状态编码-->
        #[].SOD_StatusCode#,
        <!--单据状态名称-->
        #[].SOD_StatusName#,
        <!--审核状态编码-->
        #[].SOD_ApprovalStatusCode#,
        <!--审核状态名称-->
        #[].SOD_ApprovalStatusName#,
        <!--备注-->
        #[].SOD_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].SOD_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].SOD_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].SOD_TransID#
        )
      </iterate>
    </insert>

    <!--查询[销售订单明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLSD_SalesOrderDetail" parameterClass="MDLSD_SalesOrderDetail" resultClass="MDLSD_SalesOrderDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SOD_ID)
      FROM SD_SalesOrderDetail
      <dynamic prepend="WHERE">
        <!--销售订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ID">SOD_ID=#WHERE_SOD_ID#</isNotEmpty>
        <!--销售订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_SO_ID">SOD_SO_ID=#WHERE_SOD_SO_ID#</isNotEmpty>
        <!--计价基准-->
        <isNotNull prepend="AND" property="WHERE_SOD_SalePriceRate">SOD_SalePriceRate=#WHERE_SOD_SalePriceRate#</isNotNull>
        <!--计价基准可改-->
        <isNotNull prepend="AND" property="WHERE_SOD_SalePriceRateIsChangeable">SOD_SalePriceRateIsChangeable=#WHERE_SOD_SalePriceRateIsChangeable#</isNotNull>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SOD_PriceIsIncludeTax">SOD_PriceIsIncludeTax=#WHERE_SOD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SOD_TaxRate">SOD_TaxRate=#WHERE_SOD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SOD_TotalTax">SOD_TotalTax=#WHERE_SOD_TotalTax#</isNotNull>
        <!--销售数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_Qty">SOD_Qty=#WHERE_SOD_Qty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_SignQty">SOD_SignQty=#WHERE_SOD_SignQty#</isNotNull>
        <!--拒收数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_RejectQty">SOD_RejectQty=#WHERE_SOD_RejectQty#</isNotNull>
        <!--丢失数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_LoseQty">SOD_LoseQty=#WHERE_SOD_LoseQty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SOD_UnitPrice">SOD_UnitPrice=#WHERE_SOD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SOD_TotalAmount">SOD_TotalAmount=#WHERE_SOD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Barcode">SOD_Barcode=#WHERE_SOD_Barcode#</isNotEmpty>
        <!--配件批次号（原库存批次）-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_BatchNo">SOD_BatchNo=#WHERE_SOD_BatchNo#</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_BatchNoNew">SOD_BatchNoNew=#WHERE_SOD_BatchNoNew#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Name">SOD_Name=#WHERE_SOD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Specification">SOD_Specification=#WHERE_SOD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_UOM">SOD_UOM=#WHERE_SOD_UOM#</isNotEmpty>
        <!--入库组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgID">SOD_StockInOrgID=#WHERE_SOD_StockInOrgID#</isNotEmpty>
        <!--入库组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgCode">SOD_StockInOrgCode=#WHERE_SOD_StockInOrgCode#</isNotEmpty>
        <!--入库组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgName">SOD_StockInOrgName=#WHERE_SOD_StockInOrgName#</isNotEmpty>
        <!--入库仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInWarehouseID">SOD_StockInWarehouseID=#WHERE_SOD_StockInWarehouseID#</isNotEmpty>
        <!--入库仓库名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInWarehouseName">SOD_StockInWarehouseName=#WHERE_SOD_StockInWarehouseName#</isNotEmpty>
        <!--入库仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInBinID">SOD_StockInBinID=#WHERE_SOD_StockInBinID#</isNotEmpty>
        <!--入库仓位名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInBinName">SOD_StockInBinName=#WHERE_SOD_StockInBinName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StatusCode">SOD_StatusCode=#WHERE_SOD_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StatusName">SOD_StatusName=#WHERE_SOD_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ApprovalStatusCode">SOD_ApprovalStatusCode=#WHERE_SOD_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ApprovalStatusName">SOD_ApprovalStatusName=#WHERE_SOD_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Remark">SOD_Remark=#WHERE_SOD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOD_IsValid">SOD_IsValid=#WHERE_SOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_CreatedBy">SOD_CreatedBy=#WHERE_SOD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_UpdatedBy">SOD_UpdatedBy=#WHERE_SOD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOD_VersionNo">SOD_VersionNo=#WHERE_SOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_TransID">SOD_TransID=#WHERE_SOD_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SOD_ID,
      SOD_SO_ID,
      SOD_SalePriceRate,
      SOD_SalePriceRateIsChangeable,
      SOD_PriceIsIncludeTax,
      SOD_TaxRate,
      SOD_TotalTax,
      SOD_Qty,
      SOD_SignQty,
      SOD_RejectQty,
      SOD_LoseQty,
      SOD_UnitPrice,
      SOD_TotalAmount,
      SOD_Barcode,
      SOD_BatchNo,
      SOD_BatchNoNew,
      SOD_Name,
      SOD_Specification,
      SOD_UOM,
      SOD_StockInOrgID,
      SOD_StockInOrgCode,
      SOD_StockInOrgName,
      SOD_StockInWarehouseID,
      SOD_StockInWarehouseName,
      SOD_StockInBinID,
      SOD_StockInBinName,
      SOD_StatusCode,
      SOD_StatusName,
      SOD_ApprovalStatusCode,
      SOD_ApprovalStatusName,
      SOD_Remark,
      SOD_IsValid,
      SOD_CreatedBy,
      SOD_CreatedTime,
      SOD_UpdatedBy,
      SOD_UpdatedTime,
      SOD_VersionNo,
      SOD_TransID
      FROM SD_SalesOrderDetail
      <dynamic prepend="WHERE">
        <!--销售订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ID">SOD_ID=#WHERE_SOD_ID#</isNotEmpty>
        <!--销售订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_SO_ID">SOD_SO_ID=#WHERE_SOD_SO_ID#</isNotEmpty>
        <!--计价基准-->
        <isNotNull prepend="AND" property="WHERE_SOD_SalePriceRate">SOD_SalePriceRate=#WHERE_SOD_SalePriceRate#</isNotNull>
        <!--计价基准可改-->
        <isNotNull prepend="AND" property="WHERE_SOD_SalePriceRateIsChangeable">SOD_SalePriceRateIsChangeable=#WHERE_SOD_SalePriceRateIsChangeable#</isNotNull>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SOD_PriceIsIncludeTax">SOD_PriceIsIncludeTax=#WHERE_SOD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SOD_TaxRate">SOD_TaxRate=#WHERE_SOD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SOD_TotalTax">SOD_TotalTax=#WHERE_SOD_TotalTax#</isNotNull>
        <!--销售数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_Qty">SOD_Qty=#WHERE_SOD_Qty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_SignQty">SOD_SignQty=#WHERE_SOD_SignQty#</isNotNull>
        <!--拒收数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_RejectQty">SOD_RejectQty=#WHERE_SOD_RejectQty#</isNotNull>
        <!--丢失数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_LoseQty">SOD_LoseQty=#WHERE_SOD_LoseQty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SOD_UnitPrice">SOD_UnitPrice=#WHERE_SOD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SOD_TotalAmount">SOD_TotalAmount=#WHERE_SOD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Barcode">SOD_Barcode=#WHERE_SOD_Barcode#</isNotEmpty>
        <!--配件批次号（原库存批次）-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_BatchNo">SOD_BatchNo=#WHERE_SOD_BatchNo#</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_BatchNoNew">SOD_BatchNoNew=#WHERE_SOD_BatchNoNew#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Name">SOD_Name=#WHERE_SOD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Specification">SOD_Specification=#WHERE_SOD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_UOM">SOD_UOM=#WHERE_SOD_UOM#</isNotEmpty>
        <!--入库组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgID">SOD_StockInOrgID=#WHERE_SOD_StockInOrgID#</isNotEmpty>
        <!--入库组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgCode">SOD_StockInOrgCode=#WHERE_SOD_StockInOrgCode#</isNotEmpty>
        <!--入库组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgName">SOD_StockInOrgName=#WHERE_SOD_StockInOrgName#</isNotEmpty>
        <!--入库仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInWarehouseID">SOD_StockInWarehouseID=#WHERE_SOD_StockInWarehouseID#</isNotEmpty>
        <!--入库仓库名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInWarehouseName">SOD_StockInWarehouseName=#WHERE_SOD_StockInWarehouseName#</isNotEmpty>
        <!--入库仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInBinID">SOD_StockInBinID=#WHERE_SOD_StockInBinID#</isNotEmpty>
        <!--入库仓位名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInBinName">SOD_StockInBinName=#WHERE_SOD_StockInBinName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StatusCode">SOD_StatusCode=#WHERE_SOD_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StatusName">SOD_StatusName=#WHERE_SOD_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ApprovalStatusCode">SOD_ApprovalStatusCode=#WHERE_SOD_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ApprovalStatusName">SOD_ApprovalStatusName=#WHERE_SOD_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Remark">SOD_Remark=#WHERE_SOD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOD_IsValid">SOD_IsValid=#WHERE_SOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_CreatedBy">SOD_CreatedBy=#WHERE_SOD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_UpdatedBy">SOD_UpdatedBy=#WHERE_SOD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOD_VersionNo">SOD_VersionNo=#WHERE_SOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_TransID">SOD_TransID=#WHERE_SOD_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SOD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[销售订单明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSD_SalesOrderDetail" parameterClass="MDLSD_SalesOrderDetail" resultClass="MDLSD_SalesOrderDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SOD_ID)
      FROM SD_SalesOrderDetail
      <dynamic prepend="WHERE">
        <!--销售订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ID">SOD_ID=#WHERE_SOD_ID#</isNotEmpty>
        <!--销售订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_SO_ID">SOD_SO_ID LIKE '%'+#WHERE_SOD_SO_ID#+'%'</isNotEmpty>
        <!--计价基准-->
        <isNotNull prepend="AND" property="WHERE_SOD_SalePriceRate">SOD_SalePriceRate=#WHERE_SOD_SalePriceRate#</isNotNull>
        <!--计价基准可改-->
        <isNotNull prepend="AND" property="WHERE_SOD_SalePriceRateIsChangeable">SOD_SalePriceRateIsChangeable=#WHERE_SOD_SalePriceRateIsChangeable#</isNotNull>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SOD_PriceIsIncludeTax">SOD_PriceIsIncludeTax=#WHERE_SOD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SOD_TaxRate">SOD_TaxRate=#WHERE_SOD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SOD_TotalTax">SOD_TotalTax=#WHERE_SOD_TotalTax#</isNotNull>
        <!--销售数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_Qty">SOD_Qty=#WHERE_SOD_Qty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_SignQty">SOD_SignQty=#WHERE_SOD_SignQty#</isNotNull>
        <!--拒收数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_RejectQty">SOD_RejectQty=#WHERE_SOD_RejectQty#</isNotNull>
        <!--丢失数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_LoseQty">SOD_LoseQty=#WHERE_SOD_LoseQty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SOD_UnitPrice">SOD_UnitPrice=#WHERE_SOD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SOD_TotalAmount">SOD_TotalAmount=#WHERE_SOD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Barcode">SOD_Barcode LIKE '%'+#WHERE_SOD_Barcode#+'%'</isNotEmpty>
        <!--配件批次号（原库存批次）-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_BatchNo">SOD_BatchNo LIKE '%'+#WHERE_SOD_BatchNo#+'%'</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_BatchNoNew">SOD_BatchNoNew LIKE '%'+#WHERE_SOD_BatchNoNew#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Name">SOD_Name LIKE '%'+#WHERE_SOD_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Specification">SOD_Specification LIKE '%'+#WHERE_SOD_Specification#+'%'</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_UOM">SOD_UOM LIKE '%'+#WHERE_SOD_UOM#+'%'</isNotEmpty>
        <!--入库组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgID">SOD_StockInOrgID LIKE '%'+#WHERE_SOD_StockInOrgID#+'%'</isNotEmpty>
        <!--入库组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgCode">SOD_StockInOrgCode LIKE '%'+#WHERE_SOD_StockInOrgCode#+'%'</isNotEmpty>
        <!--入库组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgName">SOD_StockInOrgName LIKE '%'+#WHERE_SOD_StockInOrgName#+'%'</isNotEmpty>
        <!--入库仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInWarehouseID">SOD_StockInWarehouseID LIKE '%'+#WHERE_SOD_StockInWarehouseID#+'%'</isNotEmpty>
        <!--入库仓库名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInWarehouseName">SOD_StockInWarehouseName LIKE '%'+#WHERE_SOD_StockInWarehouseName#+'%'</isNotEmpty>
        <!--入库仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInBinID">SOD_StockInBinID LIKE '%'+#WHERE_SOD_StockInBinID#+'%'</isNotEmpty>
        <!--入库仓位名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInBinName">SOD_StockInBinName LIKE '%'+#WHERE_SOD_StockInBinName#+'%'</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StatusCode">SOD_StatusCode LIKE '%'+#WHERE_SOD_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StatusName">SOD_StatusName LIKE '%'+#WHERE_SOD_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ApprovalStatusCode">SOD_ApprovalStatusCode LIKE '%'+#WHERE_SOD_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ApprovalStatusName">SOD_ApprovalStatusName LIKE '%'+#WHERE_SOD_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Remark">SOD_Remark LIKE '%'+#WHERE_SOD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOD_IsValid">SOD_IsValid=#WHERE_SOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_CreatedBy">SOD_CreatedBy LIKE '%'+#WHERE_SOD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_UpdatedBy">SOD_UpdatedBy LIKE '%'+#WHERE_SOD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOD_VersionNo">SOD_VersionNo=#WHERE_SOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_TransID">SOD_TransID LIKE '%'+#WHERE_SOD_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SOD_ID,
      SOD_SO_ID,
      SOD_SalePriceRate,
      SOD_SalePriceRateIsChangeable,
      SOD_PriceIsIncludeTax,
      SOD_TaxRate,
      SOD_TotalTax,
      SOD_Qty,
      SOD_SignQty,
      SOD_RejectQty,
      SOD_LoseQty,
      SOD_UnitPrice,
      SOD_TotalAmount,
      SOD_Barcode,
      SOD_BatchNo,
      SOD_BatchNoNew,
      SOD_Name,
      SOD_Specification,
      SOD_UOM,
      SOD_StockInOrgID,
      SOD_StockInOrgCode,
      SOD_StockInOrgName,
      SOD_StockInWarehouseID,
      SOD_StockInWarehouseName,
      SOD_StockInBinID,
      SOD_StockInBinName,
      SOD_StatusCode,
      SOD_StatusName,
      SOD_ApprovalStatusCode,
      SOD_ApprovalStatusName,
      SOD_Remark,
      SOD_IsValid,
      SOD_CreatedBy,
      SOD_CreatedTime,
      SOD_UpdatedBy,
      SOD_UpdatedTime,
      SOD_VersionNo,
      SOD_TransID
      FROM SD_SalesOrderDetail
      <dynamic prepend="WHERE">
        <!--销售订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ID">SOD_ID=#WHERE_SOD_ID#</isNotEmpty>
        <!--销售订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_SO_ID">SOD_SO_ID LIKE '%'+#WHERE_SOD_SO_ID#+'%'</isNotEmpty>
        <!--计价基准-->
        <isNotNull prepend="AND" property="WHERE_SOD_SalePriceRate">SOD_SalePriceRate=#WHERE_SOD_SalePriceRate#</isNotNull>
        <!--计价基准可改-->
        <isNotNull prepend="AND" property="WHERE_SOD_SalePriceRateIsChangeable">SOD_SalePriceRateIsChangeable=#WHERE_SOD_SalePriceRateIsChangeable#</isNotNull>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SOD_PriceIsIncludeTax">SOD_PriceIsIncludeTax=#WHERE_SOD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SOD_TaxRate">SOD_TaxRate=#WHERE_SOD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SOD_TotalTax">SOD_TotalTax=#WHERE_SOD_TotalTax#</isNotNull>
        <!--销售数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_Qty">SOD_Qty=#WHERE_SOD_Qty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_SignQty">SOD_SignQty=#WHERE_SOD_SignQty#</isNotNull>
        <!--拒收数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_RejectQty">SOD_RejectQty=#WHERE_SOD_RejectQty#</isNotNull>
        <!--丢失数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_LoseQty">SOD_LoseQty=#WHERE_SOD_LoseQty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SOD_UnitPrice">SOD_UnitPrice=#WHERE_SOD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SOD_TotalAmount">SOD_TotalAmount=#WHERE_SOD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Barcode">SOD_Barcode LIKE '%'+#WHERE_SOD_Barcode#+'%'</isNotEmpty>
        <!--配件批次号（原库存批次）-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_BatchNo">SOD_BatchNo LIKE '%'+#WHERE_SOD_BatchNo#+'%'</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_BatchNoNew">SOD_BatchNoNew LIKE '%'+#WHERE_SOD_BatchNoNew#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Name">SOD_Name LIKE '%'+#WHERE_SOD_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Specification">SOD_Specification LIKE '%'+#WHERE_SOD_Specification#+'%'</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_UOM">SOD_UOM LIKE '%'+#WHERE_SOD_UOM#+'%'</isNotEmpty>
        <!--入库组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgID">SOD_StockInOrgID LIKE '%'+#WHERE_SOD_StockInOrgID#+'%'</isNotEmpty>
        <!--入库组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgCode">SOD_StockInOrgCode LIKE '%'+#WHERE_SOD_StockInOrgCode#+'%'</isNotEmpty>
        <!--入库组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgName">SOD_StockInOrgName LIKE '%'+#WHERE_SOD_StockInOrgName#+'%'</isNotEmpty>
        <!--入库仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInWarehouseID">SOD_StockInWarehouseID LIKE '%'+#WHERE_SOD_StockInWarehouseID#+'%'</isNotEmpty>
        <!--入库仓库名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInWarehouseName">SOD_StockInWarehouseName LIKE '%'+#WHERE_SOD_StockInWarehouseName#+'%'</isNotEmpty>
        <!--入库仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInBinID">SOD_StockInBinID LIKE '%'+#WHERE_SOD_StockInBinID#+'%'</isNotEmpty>
        <!--入库仓位名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInBinName">SOD_StockInBinName LIKE '%'+#WHERE_SOD_StockInBinName#+'%'</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StatusCode">SOD_StatusCode LIKE '%'+#WHERE_SOD_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StatusName">SOD_StatusName LIKE '%'+#WHERE_SOD_StatusName#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ApprovalStatusCode">SOD_ApprovalStatusCode LIKE '%'+#WHERE_SOD_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ApprovalStatusName">SOD_ApprovalStatusName LIKE '%'+#WHERE_SOD_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Remark">SOD_Remark LIKE '%'+#WHERE_SOD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOD_IsValid">SOD_IsValid=#WHERE_SOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_CreatedBy">SOD_CreatedBy LIKE '%'+#WHERE_SOD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_UpdatedBy">SOD_UpdatedBy LIKE '%'+#WHERE_SOD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOD_VersionNo">SOD_VersionNo=#WHERE_SOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_TransID">SOD_TransID LIKE '%'+#WHERE_SOD_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SOD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[销售订单明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSD_SalesOrderDetail" parameterClass="MDLSD_SalesOrderDetail" resultClass="int">
      SELECT COUNT(SOD_ID) 'RecordCount'
      FROM SD_SalesOrderDetail
      <dynamic prepend="WHERE">
        <!--销售订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ID">SOD_ID=#WHERE_SOD_ID#</isNotEmpty>
        <!--销售订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_SO_ID">SOD_SO_ID=#WHERE_SOD_SO_ID#</isNotEmpty>
        <!--计价基准-->
        <isNotNull prepend="AND" property="WHERE_SOD_SalePriceRate">SOD_SalePriceRate=#WHERE_SOD_SalePriceRate#</isNotNull>
        <!--计价基准可改-->
        <isNotNull prepend="AND" property="WHERE_SOD_SalePriceRateIsChangeable">SOD_SalePriceRateIsChangeable=#WHERE_SOD_SalePriceRateIsChangeable#</isNotNull>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SOD_PriceIsIncludeTax">SOD_PriceIsIncludeTax=#WHERE_SOD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SOD_TaxRate">SOD_TaxRate=#WHERE_SOD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SOD_TotalTax">SOD_TotalTax=#WHERE_SOD_TotalTax#</isNotNull>
        <!--销售数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_Qty">SOD_Qty=#WHERE_SOD_Qty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_SignQty">SOD_SignQty=#WHERE_SOD_SignQty#</isNotNull>
        <!--拒收数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_RejectQty">SOD_RejectQty=#WHERE_SOD_RejectQty#</isNotNull>
        <!--丢失数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_LoseQty">SOD_LoseQty=#WHERE_SOD_LoseQty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SOD_UnitPrice">SOD_UnitPrice=#WHERE_SOD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SOD_TotalAmount">SOD_TotalAmount=#WHERE_SOD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Barcode">SOD_Barcode=#WHERE_SOD_Barcode#</isNotEmpty>
        <!--配件批次号（原库存批次）-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_BatchNo">SOD_BatchNo=#WHERE_SOD_BatchNo#</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_BatchNoNew">SOD_BatchNoNew=#WHERE_SOD_BatchNoNew#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Name">SOD_Name=#WHERE_SOD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Specification">SOD_Specification=#WHERE_SOD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_UOM">SOD_UOM=#WHERE_SOD_UOM#</isNotEmpty>
        <!--入库组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgID">SOD_StockInOrgID=#WHERE_SOD_StockInOrgID#</isNotEmpty>
        <!--入库组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgCode">SOD_StockInOrgCode=#WHERE_SOD_StockInOrgCode#</isNotEmpty>
        <!--入库组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgName">SOD_StockInOrgName=#WHERE_SOD_StockInOrgName#</isNotEmpty>
        <!--入库仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInWarehouseID">SOD_StockInWarehouseID=#WHERE_SOD_StockInWarehouseID#</isNotEmpty>
        <!--入库仓库名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInWarehouseName">SOD_StockInWarehouseName=#WHERE_SOD_StockInWarehouseName#</isNotEmpty>
        <!--入库仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInBinID">SOD_StockInBinID=#WHERE_SOD_StockInBinID#</isNotEmpty>
        <!--入库仓位名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInBinName">SOD_StockInBinName=#WHERE_SOD_StockInBinName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StatusCode">SOD_StatusCode=#WHERE_SOD_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StatusName">SOD_StatusName=#WHERE_SOD_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ApprovalStatusCode">SOD_ApprovalStatusCode=#WHERE_SOD_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ApprovalStatusName">SOD_ApprovalStatusName=#WHERE_SOD_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Remark">SOD_Remark=#WHERE_SOD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOD_IsValid">SOD_IsValid=#WHERE_SOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_CreatedBy">SOD_CreatedBy=#WHERE_SOD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_UpdatedBy">SOD_UpdatedBy=#WHERE_SOD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOD_VersionNo">SOD_VersionNo=#WHERE_SOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_TransID">SOD_TransID=#WHERE_SOD_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[销售订单明细]信息-->
    <update id="COMM_SQL_UpdateMDLSD_SalesOrderDetail" parameterClass="MDLSD_SalesOrderDetail" >
      UPDATE SD_SalesOrderDetail
      SET
      SOD_UpdatedTime=GETDATE(),
      SOD_VersionNo=SOD_VersionNo+1
      <isNotEmpty prepend="," property="SOD_SO_ID">SOD_SO_ID=#SOD_SO_ID#</isNotEmpty>
      <isNotNull prepend="," property="SOD_SalePriceRate">SOD_SalePriceRate=#SOD_SalePriceRate#</isNotNull>
      <isNotNull prepend="," property="SOD_SalePriceRateIsChangeable">SOD_SalePriceRateIsChangeable=#SOD_SalePriceRateIsChangeable#</isNotNull>
      <isNotNull prepend="," property="SOD_PriceIsIncludeTax">SOD_PriceIsIncludeTax=#SOD_PriceIsIncludeTax#</isNotNull>
      <isNotNull prepend="," property="SOD_TaxRate">SOD_TaxRate=#SOD_TaxRate#</isNotNull>
      <isNotNull prepend="," property="SOD_TotalTax">SOD_TotalTax=#SOD_TotalTax#</isNotNull>
      <isNotNull prepend="," property="SOD_Qty">SOD_Qty=#SOD_Qty#</isNotNull>
      <isNotNull prepend="," property="SOD_SignQty">SOD_SignQty=#SOD_SignQty#</isNotNull>
      <isNotNull prepend="," property="SOD_RejectQty">SOD_RejectQty=#SOD_RejectQty#</isNotNull>
      <isNotNull prepend="," property="SOD_LoseQty">SOD_LoseQty=#SOD_LoseQty#</isNotNull>
      <isNotNull prepend="," property="SOD_UnitPrice">SOD_UnitPrice=#SOD_UnitPrice#</isNotNull>
      <isNotNull prepend="," property="SOD_TotalAmount">SOD_TotalAmount=#SOD_TotalAmount#</isNotNull>
      <isNotEmpty prepend="," property="SOD_Barcode">SOD_Barcode=#SOD_Barcode#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_BatchNo">SOD_BatchNo=#SOD_BatchNo#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_BatchNoNew">SOD_BatchNoNew=#SOD_BatchNoNew#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_Name">SOD_Name=#SOD_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_Specification">SOD_Specification=#SOD_Specification#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_UOM">SOD_UOM=#SOD_UOM#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_StockInOrgID">SOD_StockInOrgID=#SOD_StockInOrgID#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_StockInOrgCode">SOD_StockInOrgCode=#SOD_StockInOrgCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_StockInOrgName">SOD_StockInOrgName=#SOD_StockInOrgName#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_StockInWarehouseID">SOD_StockInWarehouseID=#SOD_StockInWarehouseID#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_StockInWarehouseName">SOD_StockInWarehouseName=#SOD_StockInWarehouseName#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_StockInBinID">SOD_StockInBinID=#SOD_StockInBinID#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_StockInBinName">SOD_StockInBinName=#SOD_StockInBinName#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_StatusCode">SOD_StatusCode=#SOD_StatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_StatusName">SOD_StatusName=#SOD_StatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_ApprovalStatusCode">SOD_ApprovalStatusCode=#SOD_ApprovalStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_ApprovalStatusName">SOD_ApprovalStatusName=#SOD_ApprovalStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_Remark">SOD_Remark=#SOD_Remark#</isNotEmpty>
      <isNotNull prepend="," property="SOD_IsValid">SOD_IsValid=#SOD_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="SOD_CreatedBy">SOD_CreatedBy=#SOD_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="SOD_CreatedTime">SOD_CreatedTime=#SOD_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="SOD_UpdatedBy">SOD_UpdatedBy=#SOD_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="SOD_TransID">SOD_TransID=#SOD_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--销售订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ID">SOD_ID=#WHERE_SOD_ID#</isNotEmpty>
        <!--销售订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_SO_ID">SOD_SO_ID=#WHERE_SOD_SO_ID#</isNotEmpty>
        <!--计价基准-->
        <isNotNull prepend="AND" property="WHERE_SOD_SalePriceRate">SOD_SalePriceRate=#WHERE_SOD_SalePriceRate#</isNotNull>
        <!--计价基准可改-->
        <isNotNull prepend="AND" property="WHERE_SOD_SalePriceRateIsChangeable">SOD_SalePriceRateIsChangeable=#WHERE_SOD_SalePriceRateIsChangeable#</isNotNull>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SOD_PriceIsIncludeTax">SOD_PriceIsIncludeTax=#WHERE_SOD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SOD_TaxRate">SOD_TaxRate=#WHERE_SOD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SOD_TotalTax">SOD_TotalTax=#WHERE_SOD_TotalTax#</isNotNull>
        <!--销售数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_Qty">SOD_Qty=#WHERE_SOD_Qty#</isNotNull>
        <!--签收数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_SignQty">SOD_SignQty=#WHERE_SOD_SignQty#</isNotNull>
        <!--拒收数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_RejectQty">SOD_RejectQty=#WHERE_SOD_RejectQty#</isNotNull>
        <!--丢失数量-->
        <isNotNull prepend="AND" property="WHERE_SOD_LoseQty">SOD_LoseQty=#WHERE_SOD_LoseQty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SOD_UnitPrice">SOD_UnitPrice=#WHERE_SOD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SOD_TotalAmount">SOD_TotalAmount=#WHERE_SOD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Barcode">SOD_Barcode=#WHERE_SOD_Barcode#</isNotEmpty>
        <!--配件批次号（原库存批次）-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_BatchNo">SOD_BatchNo=#WHERE_SOD_BatchNo#</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_BatchNoNew">SOD_BatchNoNew=#WHERE_SOD_BatchNoNew#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Name">SOD_Name=#WHERE_SOD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Specification">SOD_Specification=#WHERE_SOD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_UOM">SOD_UOM=#WHERE_SOD_UOM#</isNotEmpty>
        <!--入库组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgID">SOD_StockInOrgID=#WHERE_SOD_StockInOrgID#</isNotEmpty>
        <!--入库组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgCode">SOD_StockInOrgCode=#WHERE_SOD_StockInOrgCode#</isNotEmpty>
        <!--入库组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInOrgName">SOD_StockInOrgName=#WHERE_SOD_StockInOrgName#</isNotEmpty>
        <!--入库仓库ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInWarehouseID">SOD_StockInWarehouseID=#WHERE_SOD_StockInWarehouseID#</isNotEmpty>
        <!--入库仓库名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInWarehouseName">SOD_StockInWarehouseName=#WHERE_SOD_StockInWarehouseName#</isNotEmpty>
        <!--入库仓位ID-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInBinID">SOD_StockInBinID=#WHERE_SOD_StockInBinID#</isNotEmpty>
        <!--入库仓位名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StockInBinName">SOD_StockInBinName=#WHERE_SOD_StockInBinName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StatusCode">SOD_StatusCode=#WHERE_SOD_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_StatusName">SOD_StatusName=#WHERE_SOD_StatusName#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ApprovalStatusCode">SOD_ApprovalStatusCode=#WHERE_SOD_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_ApprovalStatusName">SOD_ApprovalStatusName=#WHERE_SOD_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_Remark">SOD_Remark=#WHERE_SOD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SOD_IsValid">SOD_IsValid=#WHERE_SOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_CreatedBy">SOD_CreatedBy=#WHERE_SOD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_UpdatedBy">SOD_UpdatedBy=#WHERE_SOD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SOD_VersionNo">SOD_VersionNo=#WHERE_SOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SOD_TransID">SOD_TransID=#WHERE_SOD_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[销售订单明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLSD_SalesOrderDetail" parameterClass="List">
      DELETE FROM SD_SalesOrderDetail
      WHERE SOD_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_SOD_ID#
      </iterate>
    </delete>

    <!--新增[下发路径]信息-->
    <insert id="COMM_SQL_INSERT_MDLSD_DistributePath" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SD_DistributePath
        (
        <!--下发路径ID-->
        DP_ID,
        <!--来源组织-->
        DP_Org_ID_From,
        <!--目标组织-->
        DP_Org_ID_To,
        <!--下发人-->
        DP_SendPerson,
        <!--下发数据ID-->
        DP_SendDataID,
        <!--下发数据类型编码-->
        DP_SendDataTypeCode,
        <!--下发数据类型名称-->
        DP_SendDataTypeName,
        <!--备注-->
        DP_Remark,
        <!--有效-->
        DP_IsValid,
        <!--创建人-->
        DP_CreatedBy,
        <!--创建时间-->
        DP_CreatedTime,
        <!--修改人-->
        DP_UpdatedBy,
        <!--修改时间-->
        DP_UpdatedTime,
        <!--版本号-->
        DP_VersionNo,
        <!--事务编号-->
        DP_TransID
        )
        VALUES
        (
        <!--下发路径ID-->
        #[].DP_ID#,
        <!--来源组织-->
        #[].DP_Org_ID_From#,
        <!--目标组织-->
        #[].DP_Org_ID_To#,
        <!--下发人-->
        #[].DP_SendPerson#,
        <!--下发数据ID-->
        #[].DP_SendDataID#,
        <!--下发数据类型编码-->
        #[].DP_SendDataTypeCode#,
        <!--下发数据类型名称-->
        #[].DP_SendDataTypeName#,
        <!--备注-->
        #[].DP_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].DP_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].DP_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].DP_TransID#
        )
      </iterate>
    </insert>

    <!--查询[下发路径]信息（精确条件）-->
    <select id="COMM_SQL_MDLSD_DistributePath" parameterClass="MDLSD_DistributePath" resultClass="MDLSD_DistributePath">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(DP_ID)
      FROM SD_DistributePath
      <dynamic prepend="WHERE">
        <!--下发路径ID-->
        <isNotEmpty prepend="AND" property="WHERE_DP_ID">DP_ID=#WHERE_DP_ID#</isNotEmpty>
        <!--来源组织-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Org_ID_From">DP_Org_ID_From=#WHERE_DP_Org_ID_From#</isNotEmpty>
        <!--目标组织-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Org_ID_To">DP_Org_ID_To=#WHERE_DP_Org_ID_To#</isNotEmpty>
        <!--下发人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendPerson">DP_SendPerson=#WHERE_DP_SendPerson#</isNotEmpty>
        <!--下发数据ID-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataID">DP_SendDataID=#WHERE_DP_SendDataID#</isNotEmpty>
        <!--下发数据类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataTypeCode">DP_SendDataTypeCode=#WHERE_DP_SendDataTypeCode#</isNotEmpty>
        <!--下发数据类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataTypeName">DP_SendDataTypeName=#WHERE_DP_SendDataTypeName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Remark">DP_Remark=#WHERE_DP_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_DP_IsValid">DP_IsValid=#WHERE_DP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_CreatedBy">DP_CreatedBy=#WHERE_DP_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_UpdatedBy">DP_UpdatedBy=#WHERE_DP_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_DP_VersionNo">DP_VersionNo=#WHERE_DP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_DP_TransID">DP_TransID=#WHERE_DP_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      DP_ID,
      DP_Org_ID_From,
      DP_Org_ID_To,
      DP_SendPerson,
      DP_SendDataID,
      DP_SendDataTypeCode,
      DP_SendDataTypeName,
      DP_Remark,
      DP_IsValid,
      DP_CreatedBy,
      DP_CreatedTime,
      DP_UpdatedBy,
      DP_UpdatedTime,
      DP_VersionNo,
      DP_TransID
      FROM SD_DistributePath
      <dynamic prepend="WHERE">
        <!--下发路径ID-->
        <isNotEmpty prepend="AND" property="WHERE_DP_ID">DP_ID=#WHERE_DP_ID#</isNotEmpty>
        <!--来源组织-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Org_ID_From">DP_Org_ID_From=#WHERE_DP_Org_ID_From#</isNotEmpty>
        <!--目标组织-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Org_ID_To">DP_Org_ID_To=#WHERE_DP_Org_ID_To#</isNotEmpty>
        <!--下发人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendPerson">DP_SendPerson=#WHERE_DP_SendPerson#</isNotEmpty>
        <!--下发数据ID-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataID">DP_SendDataID=#WHERE_DP_SendDataID#</isNotEmpty>
        <!--下发数据类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataTypeCode">DP_SendDataTypeCode=#WHERE_DP_SendDataTypeCode#</isNotEmpty>
        <!--下发数据类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataTypeName">DP_SendDataTypeName=#WHERE_DP_SendDataTypeName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Remark">DP_Remark=#WHERE_DP_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_DP_IsValid">DP_IsValid=#WHERE_DP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_CreatedBy">DP_CreatedBy=#WHERE_DP_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_UpdatedBy">DP_UpdatedBy=#WHERE_DP_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_DP_VersionNo">DP_VersionNo=#WHERE_DP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_DP_TransID">DP_TransID=#WHERE_DP_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY DP_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[下发路径]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSD_DistributePath" parameterClass="MDLSD_DistributePath" resultClass="MDLSD_DistributePath">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(DP_ID)
      FROM SD_DistributePath
      <dynamic prepend="WHERE">
        <!--下发路径ID-->
        <isNotEmpty prepend="AND" property="WHERE_DP_ID">DP_ID=#WHERE_DP_ID#</isNotEmpty>
        <!--来源组织-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Org_ID_From">DP_Org_ID_From LIKE '%'+#WHERE_DP_Org_ID_From#+'%'</isNotEmpty>
        <!--目标组织-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Org_ID_To">DP_Org_ID_To LIKE '%'+#WHERE_DP_Org_ID_To#+'%'</isNotEmpty>
        <!--下发人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendPerson">DP_SendPerson LIKE '%'+#WHERE_DP_SendPerson#+'%'</isNotEmpty>
        <!--下发数据ID-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataID">DP_SendDataID LIKE '%'+#WHERE_DP_SendDataID#+'%'</isNotEmpty>
        <!--下发数据类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataTypeCode">DP_SendDataTypeCode LIKE '%'+#WHERE_DP_SendDataTypeCode#+'%'</isNotEmpty>
        <!--下发数据类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataTypeName">DP_SendDataTypeName LIKE '%'+#WHERE_DP_SendDataTypeName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Remark">DP_Remark LIKE '%'+#WHERE_DP_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_DP_IsValid">DP_IsValid=#WHERE_DP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_CreatedBy">DP_CreatedBy LIKE '%'+#WHERE_DP_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_UpdatedBy">DP_UpdatedBy LIKE '%'+#WHERE_DP_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_DP_VersionNo">DP_VersionNo=#WHERE_DP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_DP_TransID">DP_TransID LIKE '%'+#WHERE_DP_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      DP_ID,
      DP_Org_ID_From,
      DP_Org_ID_To,
      DP_SendPerson,
      DP_SendDataID,
      DP_SendDataTypeCode,
      DP_SendDataTypeName,
      DP_Remark,
      DP_IsValid,
      DP_CreatedBy,
      DP_CreatedTime,
      DP_UpdatedBy,
      DP_UpdatedTime,
      DP_VersionNo,
      DP_TransID
      FROM SD_DistributePath
      <dynamic prepend="WHERE">
        <!--下发路径ID-->
        <isNotEmpty prepend="AND" property="WHERE_DP_ID">DP_ID=#WHERE_DP_ID#</isNotEmpty>
        <!--来源组织-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Org_ID_From">DP_Org_ID_From LIKE '%'+#WHERE_DP_Org_ID_From#+'%'</isNotEmpty>
        <!--目标组织-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Org_ID_To">DP_Org_ID_To LIKE '%'+#WHERE_DP_Org_ID_To#+'%'</isNotEmpty>
        <!--下发人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendPerson">DP_SendPerson LIKE '%'+#WHERE_DP_SendPerson#+'%'</isNotEmpty>
        <!--下发数据ID-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataID">DP_SendDataID LIKE '%'+#WHERE_DP_SendDataID#+'%'</isNotEmpty>
        <!--下发数据类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataTypeCode">DP_SendDataTypeCode LIKE '%'+#WHERE_DP_SendDataTypeCode#+'%'</isNotEmpty>
        <!--下发数据类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataTypeName">DP_SendDataTypeName LIKE '%'+#WHERE_DP_SendDataTypeName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Remark">DP_Remark LIKE '%'+#WHERE_DP_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_DP_IsValid">DP_IsValid=#WHERE_DP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_CreatedBy">DP_CreatedBy LIKE '%'+#WHERE_DP_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_UpdatedBy">DP_UpdatedBy LIKE '%'+#WHERE_DP_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_DP_VersionNo">DP_VersionNo=#WHERE_DP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_DP_TransID">DP_TransID LIKE '%'+#WHERE_DP_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY DP_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[下发路径]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSD_DistributePath" parameterClass="MDLSD_DistributePath" resultClass="int">
      SELECT COUNT(DP_ID) 'RecordCount'
      FROM SD_DistributePath
      <dynamic prepend="WHERE">
        <!--下发路径ID-->
        <isNotEmpty prepend="AND" property="WHERE_DP_ID">DP_ID=#WHERE_DP_ID#</isNotEmpty>
        <!--来源组织-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Org_ID_From">DP_Org_ID_From=#WHERE_DP_Org_ID_From#</isNotEmpty>
        <!--目标组织-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Org_ID_To">DP_Org_ID_To=#WHERE_DP_Org_ID_To#</isNotEmpty>
        <!--下发人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendPerson">DP_SendPerson=#WHERE_DP_SendPerson#</isNotEmpty>
        <!--下发数据ID-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataID">DP_SendDataID=#WHERE_DP_SendDataID#</isNotEmpty>
        <!--下发数据类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataTypeCode">DP_SendDataTypeCode=#WHERE_DP_SendDataTypeCode#</isNotEmpty>
        <!--下发数据类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataTypeName">DP_SendDataTypeName=#WHERE_DP_SendDataTypeName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Remark">DP_Remark=#WHERE_DP_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_DP_IsValid">DP_IsValid=#WHERE_DP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_CreatedBy">DP_CreatedBy=#WHERE_DP_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_UpdatedBy">DP_UpdatedBy=#WHERE_DP_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_DP_VersionNo">DP_VersionNo=#WHERE_DP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_DP_TransID">DP_TransID=#WHERE_DP_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[下发路径]信息-->
    <update id="COMM_SQL_UpdateMDLSD_DistributePath" parameterClass="MDLSD_DistributePath" >
      UPDATE SD_DistributePath
      SET
      DP_UpdatedTime=GETDATE(),
      DP_VersionNo=DP_VersionNo+1
      <isNotEmpty prepend="," property="DP_Org_ID_From">DP_Org_ID_From=#DP_Org_ID_From#</isNotEmpty>
      <isNotEmpty prepend="," property="DP_Org_ID_To">DP_Org_ID_To=#DP_Org_ID_To#</isNotEmpty>
      <isNotEmpty prepend="," property="DP_SendPerson">DP_SendPerson=#DP_SendPerson#</isNotEmpty>
      <isNotEmpty prepend="," property="DP_SendDataID">DP_SendDataID=#DP_SendDataID#</isNotEmpty>
      <isNotEmpty prepend="," property="DP_SendDataTypeCode">DP_SendDataTypeCode=#DP_SendDataTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="DP_SendDataTypeName">DP_SendDataTypeName=#DP_SendDataTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="DP_Remark">DP_Remark=#DP_Remark#</isNotEmpty>
      <isNotNull prepend="," property="DP_IsValid">DP_IsValid=#DP_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="DP_CreatedBy">DP_CreatedBy=#DP_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="DP_CreatedTime">DP_CreatedTime=#DP_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="DP_UpdatedBy">DP_UpdatedBy=#DP_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="DP_TransID">DP_TransID=#DP_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--下发路径ID-->
        <isNotEmpty prepend="AND" property="WHERE_DP_ID">DP_ID=#WHERE_DP_ID#</isNotEmpty>
        <!--来源组织-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Org_ID_From">DP_Org_ID_From=#WHERE_DP_Org_ID_From#</isNotEmpty>
        <!--目标组织-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Org_ID_To">DP_Org_ID_To=#WHERE_DP_Org_ID_To#</isNotEmpty>
        <!--下发人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendPerson">DP_SendPerson=#WHERE_DP_SendPerson#</isNotEmpty>
        <!--下发数据ID-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataID">DP_SendDataID=#WHERE_DP_SendDataID#</isNotEmpty>
        <!--下发数据类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataTypeCode">DP_SendDataTypeCode=#WHERE_DP_SendDataTypeCode#</isNotEmpty>
        <!--下发数据类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_DP_SendDataTypeName">DP_SendDataTypeName=#WHERE_DP_SendDataTypeName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_DP_Remark">DP_Remark=#WHERE_DP_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_DP_IsValid">DP_IsValid=#WHERE_DP_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_CreatedBy">DP_CreatedBy=#WHERE_DP_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">DP_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_DP_UpdatedBy">DP_UpdatedBy=#WHERE_DP_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">DP_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_DP_VersionNo">DP_VersionNo=#WHERE_DP_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_DP_TransID">DP_TransID=#WHERE_DP_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[下发路径]信息-->
    <delete id="COMM_SQL_DELETE_MDLSD_DistributePath" parameterClass="List">
      DELETE FROM SD_DistributePath
      WHERE DP_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_DP_ID#
      </iterate>
    </delete>

    <!--新增[销售模板]信息-->
    <insert id="COMM_SQL_INSERT_MDLSD_SalesTemplate" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SD_SalesTemplate
        (
        <!--销售模板ID-->
        SasT_ID,
        <!--销售模板名称-->
        SasT_Name,
        <!--组织ID-->
        SasT_Org_ID,
        <!--汽修商户编码-->
        SasT_AutoFactoryCode,
        <!--汽修商户名称-->
        SasT_AutoFactoryName,
        <!--汽修商客户ID-->
        SasT_CustomerID,
        <!--汽修商客户名称-->
        SasT_CustomerName,
        <!--汽修商组织编码-->
        SasT_AutoFactoryOrgCode,
        <!--审核状态编码-->
        SasT_ApprovalStatusCode,
        <!--审核状态名称-->
        SasT_ApprovalStatusName,
        <!--备注-->
        SasT_Remark,
        <!--有效-->
        SasT_IsValid,
        <!--创建人-->
        SasT_CreatedBy,
        <!--创建时间-->
        SasT_CreatedTime,
        <!--修改人-->
        SasT_UpdatedBy,
        <!--修改时间-->
        SasT_UpdatedTime,
        <!--版本号-->
        SasT_VersionNo,
        <!--事务编号-->
        SasT_TransID
        )
        VALUES
        (
        <!--销售模板ID-->
        #[].SasT_ID#,
        <!--销售模板名称-->
        #[].SasT_Name#,
        <!--组织ID-->
        #[].SasT_Org_ID#,
        <!--汽修商户编码-->
        #[].SasT_AutoFactoryCode#,
        <!--汽修商户名称-->
        #[].SasT_AutoFactoryName#,
        <!--汽修商客户ID-->
        #[].SasT_CustomerID#,
        <!--汽修商客户名称-->
        #[].SasT_CustomerName#,
        <!--汽修商组织编码-->
        #[].SasT_AutoFactoryOrgCode#,
        <!--审核状态编码-->
        #[].SasT_ApprovalStatusCode#,
        <!--审核状态名称-->
        #[].SasT_ApprovalStatusName#,
        <!--备注-->
        #[].SasT_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].SasT_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].SasT_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].SasT_TransID#
        )
      </iterate>
    </insert>

    <!--查询[销售模板]信息（精确条件）-->
    <select id="COMM_SQL_MDLSD_SalesTemplate" parameterClass="MDLSD_SalesTemplate" resultClass="MDLSD_SalesTemplate">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SasT_ID)
      FROM SD_SalesTemplate
      <dynamic prepend="WHERE">
        <!--销售模板ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ID">SasT_ID=#WHERE_SasT_ID#</isNotEmpty>
        <!--销售模板名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Name">SasT_Name=#WHERE_SasT_Name#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Org_ID">SasT_Org_ID=#WHERE_SasT_Org_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryCode">SasT_AutoFactoryCode=#WHERE_SasT_AutoFactoryCode#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryName">SasT_AutoFactoryName=#WHERE_SasT_AutoFactoryName#</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CustomerID">SasT_CustomerID=#WHERE_SasT_CustomerID#</isNotEmpty>
        <!--汽修商客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CustomerName">SasT_CustomerName=#WHERE_SasT_CustomerName#</isNotEmpty>
        <!--汽修商组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryOrgCode">SasT_AutoFactoryOrgCode=#WHERE_SasT_AutoFactoryOrgCode#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ApprovalStatusCode">SasT_ApprovalStatusCode=#WHERE_SasT_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ApprovalStatusName">SasT_ApprovalStatusName=#WHERE_SasT_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Remark">SasT_Remark=#WHERE_SasT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SasT_IsValid">SasT_IsValid=#WHERE_SasT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CreatedBy">SasT_CreatedBy=#WHERE_SasT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_UpdatedBy">SasT_UpdatedBy=#WHERE_SasT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SasT_VersionNo">SasT_VersionNo=#WHERE_SasT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_TransID">SasT_TransID=#WHERE_SasT_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SasT_ID,
      SasT_Name,
      SasT_Org_ID,
      SasT_AutoFactoryCode,
      SasT_AutoFactoryName,
      SasT_CustomerID,
      SasT_CustomerName,
      SasT_AutoFactoryOrgCode,
      SasT_ApprovalStatusCode,
      SasT_ApprovalStatusName,
      SasT_Remark,
      SasT_IsValid,
      SasT_CreatedBy,
      SasT_CreatedTime,
      SasT_UpdatedBy,
      SasT_UpdatedTime,
      SasT_VersionNo,
      SasT_TransID
      FROM SD_SalesTemplate
      <dynamic prepend="WHERE">
        <!--销售模板ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ID">SasT_ID=#WHERE_SasT_ID#</isNotEmpty>
        <!--销售模板名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Name">SasT_Name=#WHERE_SasT_Name#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Org_ID">SasT_Org_ID=#WHERE_SasT_Org_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryCode">SasT_AutoFactoryCode=#WHERE_SasT_AutoFactoryCode#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryName">SasT_AutoFactoryName=#WHERE_SasT_AutoFactoryName#</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CustomerID">SasT_CustomerID=#WHERE_SasT_CustomerID#</isNotEmpty>
        <!--汽修商客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CustomerName">SasT_CustomerName=#WHERE_SasT_CustomerName#</isNotEmpty>
        <!--汽修商组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryOrgCode">SasT_AutoFactoryOrgCode=#WHERE_SasT_AutoFactoryOrgCode#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ApprovalStatusCode">SasT_ApprovalStatusCode=#WHERE_SasT_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ApprovalStatusName">SasT_ApprovalStatusName=#WHERE_SasT_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Remark">SasT_Remark=#WHERE_SasT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SasT_IsValid">SasT_IsValid=#WHERE_SasT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CreatedBy">SasT_CreatedBy=#WHERE_SasT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_UpdatedBy">SasT_UpdatedBy=#WHERE_SasT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SasT_VersionNo">SasT_VersionNo=#WHERE_SasT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_TransID">SasT_TransID=#WHERE_SasT_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SasT_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[销售模板]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSD_SalesTemplate" parameterClass="MDLSD_SalesTemplate" resultClass="MDLSD_SalesTemplate">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SasT_ID)
      FROM SD_SalesTemplate
      <dynamic prepend="WHERE">
        <!--销售模板ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ID">SasT_ID=#WHERE_SasT_ID#</isNotEmpty>
        <!--销售模板名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Name">SasT_Name LIKE '%'+#WHERE_SasT_Name#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Org_ID">SasT_Org_ID LIKE '%'+#WHERE_SasT_Org_ID#+'%'</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryCode">SasT_AutoFactoryCode LIKE '%'+#WHERE_SasT_AutoFactoryCode#+'%'</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryName">SasT_AutoFactoryName LIKE '%'+#WHERE_SasT_AutoFactoryName#+'%'</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CustomerID">SasT_CustomerID LIKE '%'+#WHERE_SasT_CustomerID#+'%'</isNotEmpty>
        <!--汽修商客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CustomerName">SasT_CustomerName LIKE '%'+#WHERE_SasT_CustomerName#+'%'</isNotEmpty>
        <!--汽修商组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryOrgCode">SasT_AutoFactoryOrgCode LIKE '%'+#WHERE_SasT_AutoFactoryOrgCode#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ApprovalStatusCode">SasT_ApprovalStatusCode LIKE '%'+#WHERE_SasT_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ApprovalStatusName">SasT_ApprovalStatusName LIKE '%'+#WHERE_SasT_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Remark">SasT_Remark LIKE '%'+#WHERE_SasT_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SasT_IsValid">SasT_IsValid=#WHERE_SasT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CreatedBy">SasT_CreatedBy LIKE '%'+#WHERE_SasT_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_UpdatedBy">SasT_UpdatedBy LIKE '%'+#WHERE_SasT_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SasT_VersionNo">SasT_VersionNo=#WHERE_SasT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_TransID">SasT_TransID LIKE '%'+#WHERE_SasT_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SasT_ID,
      SasT_Name,
      SasT_Org_ID,
      SasT_AutoFactoryCode,
      SasT_AutoFactoryName,
      SasT_CustomerID,
      SasT_CustomerName,
      SasT_AutoFactoryOrgCode,
      SasT_ApprovalStatusCode,
      SasT_ApprovalStatusName,
      SasT_Remark,
      SasT_IsValid,
      SasT_CreatedBy,
      SasT_CreatedTime,
      SasT_UpdatedBy,
      SasT_UpdatedTime,
      SasT_VersionNo,
      SasT_TransID
      FROM SD_SalesTemplate
      <dynamic prepend="WHERE">
        <!--销售模板ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ID">SasT_ID=#WHERE_SasT_ID#</isNotEmpty>
        <!--销售模板名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Name">SasT_Name LIKE '%'+#WHERE_SasT_Name#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Org_ID">SasT_Org_ID LIKE '%'+#WHERE_SasT_Org_ID#+'%'</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryCode">SasT_AutoFactoryCode LIKE '%'+#WHERE_SasT_AutoFactoryCode#+'%'</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryName">SasT_AutoFactoryName LIKE '%'+#WHERE_SasT_AutoFactoryName#+'%'</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CustomerID">SasT_CustomerID LIKE '%'+#WHERE_SasT_CustomerID#+'%'</isNotEmpty>
        <!--汽修商客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CustomerName">SasT_CustomerName LIKE '%'+#WHERE_SasT_CustomerName#+'%'</isNotEmpty>
        <!--汽修商组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryOrgCode">SasT_AutoFactoryOrgCode LIKE '%'+#WHERE_SasT_AutoFactoryOrgCode#+'%'</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ApprovalStatusCode">SasT_ApprovalStatusCode LIKE '%'+#WHERE_SasT_ApprovalStatusCode#+'%'</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ApprovalStatusName">SasT_ApprovalStatusName LIKE '%'+#WHERE_SasT_ApprovalStatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Remark">SasT_Remark LIKE '%'+#WHERE_SasT_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SasT_IsValid">SasT_IsValid=#WHERE_SasT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CreatedBy">SasT_CreatedBy LIKE '%'+#WHERE_SasT_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_UpdatedBy">SasT_UpdatedBy LIKE '%'+#WHERE_SasT_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SasT_VersionNo">SasT_VersionNo=#WHERE_SasT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_TransID">SasT_TransID LIKE '%'+#WHERE_SasT_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SasT_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[销售模板]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSD_SalesTemplate" parameterClass="MDLSD_SalesTemplate" resultClass="int">
      SELECT COUNT(SasT_ID) 'RecordCount'
      FROM SD_SalesTemplate
      <dynamic prepend="WHERE">
        <!--销售模板ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ID">SasT_ID=#WHERE_SasT_ID#</isNotEmpty>
        <!--销售模板名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Name">SasT_Name=#WHERE_SasT_Name#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Org_ID">SasT_Org_ID=#WHERE_SasT_Org_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryCode">SasT_AutoFactoryCode=#WHERE_SasT_AutoFactoryCode#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryName">SasT_AutoFactoryName=#WHERE_SasT_AutoFactoryName#</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CustomerID">SasT_CustomerID=#WHERE_SasT_CustomerID#</isNotEmpty>
        <!--汽修商客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CustomerName">SasT_CustomerName=#WHERE_SasT_CustomerName#</isNotEmpty>
        <!--汽修商组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryOrgCode">SasT_AutoFactoryOrgCode=#WHERE_SasT_AutoFactoryOrgCode#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ApprovalStatusCode">SasT_ApprovalStatusCode=#WHERE_SasT_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ApprovalStatusName">SasT_ApprovalStatusName=#WHERE_SasT_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Remark">SasT_Remark=#WHERE_SasT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SasT_IsValid">SasT_IsValid=#WHERE_SasT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CreatedBy">SasT_CreatedBy=#WHERE_SasT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_UpdatedBy">SasT_UpdatedBy=#WHERE_SasT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SasT_VersionNo">SasT_VersionNo=#WHERE_SasT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_TransID">SasT_TransID=#WHERE_SasT_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[销售模板]信息-->
    <update id="COMM_SQL_UpdateMDLSD_SalesTemplate" parameterClass="MDLSD_SalesTemplate" >
      UPDATE SD_SalesTemplate
      SET
      SasT_UpdatedTime=GETDATE(),
      SasT_VersionNo=SasT_VersionNo+1
      <isNotEmpty prepend="," property="SasT_Name">SasT_Name=#SasT_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="SasT_Org_ID">SasT_Org_ID=#SasT_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="SasT_AutoFactoryCode">SasT_AutoFactoryCode=#SasT_AutoFactoryCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SasT_AutoFactoryName">SasT_AutoFactoryName=#SasT_AutoFactoryName#</isNotEmpty>
      <isNotEmpty prepend="," property="SasT_CustomerID">SasT_CustomerID=#SasT_CustomerID#</isNotEmpty>
      <isNotEmpty prepend="," property="SasT_CustomerName">SasT_CustomerName=#SasT_CustomerName#</isNotEmpty>
      <isNotEmpty prepend="," property="SasT_AutoFactoryOrgCode">SasT_AutoFactoryOrgCode=#SasT_AutoFactoryOrgCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SasT_ApprovalStatusCode">SasT_ApprovalStatusCode=#SasT_ApprovalStatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SasT_ApprovalStatusName">SasT_ApprovalStatusName=#SasT_ApprovalStatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="SasT_Remark">SasT_Remark=#SasT_Remark#</isNotEmpty>
      <isNotNull prepend="," property="SasT_IsValid">SasT_IsValid=#SasT_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="SasT_CreatedBy">SasT_CreatedBy=#SasT_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="SasT_CreatedTime">SasT_CreatedTime=#SasT_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="SasT_UpdatedBy">SasT_UpdatedBy=#SasT_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="SasT_TransID">SasT_TransID=#SasT_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--销售模板ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ID">SasT_ID=#WHERE_SasT_ID#</isNotEmpty>
        <!--销售模板名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Name">SasT_Name=#WHERE_SasT_Name#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Org_ID">SasT_Org_ID=#WHERE_SasT_Org_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryCode">SasT_AutoFactoryCode=#WHERE_SasT_AutoFactoryCode#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryName">SasT_AutoFactoryName=#WHERE_SasT_AutoFactoryName#</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CustomerID">SasT_CustomerID=#WHERE_SasT_CustomerID#</isNotEmpty>
        <!--汽修商客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CustomerName">SasT_CustomerName=#WHERE_SasT_CustomerName#</isNotEmpty>
        <!--汽修商组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_AutoFactoryOrgCode">SasT_AutoFactoryOrgCode=#WHERE_SasT_AutoFactoryOrgCode#</isNotEmpty>
        <!--审核状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ApprovalStatusCode">SasT_ApprovalStatusCode=#WHERE_SasT_ApprovalStatusCode#</isNotEmpty>
        <!--审核状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_ApprovalStatusName">SasT_ApprovalStatusName=#WHERE_SasT_ApprovalStatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_Remark">SasT_Remark=#WHERE_SasT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SasT_IsValid">SasT_IsValid=#WHERE_SasT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_CreatedBy">SasT_CreatedBy=#WHERE_SasT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_UpdatedBy">SasT_UpdatedBy=#WHERE_SasT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SasT_VersionNo">SasT_VersionNo=#WHERE_SasT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SasT_TransID">SasT_TransID=#WHERE_SasT_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[销售模板]信息-->
    <delete id="COMM_SQL_DELETE_MDLSD_SalesTemplate" parameterClass="List">
      DELETE FROM SD_SalesTemplate
      WHERE SasT_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_SasT_ID#
      </iterate>
    </delete>

    <!--新增[销售模板明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLSD_SalesTemplateDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SD_SalesTemplateDetail
        (
        <!--销售模板明细ID-->
        SasTD_ID,
        <!--销售模板ID-->
        SasTD_SasT_ID,
        <!--价格是否含税-->
        SasTD_PriceIsIncludeTax,
        <!--税率-->
        SasTD_TaxRate,
        <!--税额-->
        SasTD_TotalTax,
        <!--数量-->
        SasTD_Qty,
        <!--单价-->
        SasTD_UnitPrice,
        <!--总金额-->
        SasTD_TotalAmount,
        <!--配件条码-->
        SasTD_Barcode,
        <!--配件名称-->
        SasTD_Name,
        <!--配件规格型号-->
        SasTD_Specification,
        <!--单位-->
        SasTD_UOM,
        <!--汽修商组织ID-->
        SasTD_AutoFactoryOrgID,
        <!--汽修商组织名称-->
        SasTD_AutoFactoryOrgName,
        <!--备注-->
        SasTD_Remark,
        <!--有效-->
        SasTD_IsValid,
        <!--创建人-->
        SasTD_CreatedBy,
        <!--创建时间-->
        SasTD_CreatedTime,
        <!--修改人-->
        SasTD_UpdatedBy,
        <!--修改时间-->
        SasTD_UpdatedTime,
        <!--版本号-->
        SasTD_VersionNo,
        <!--事务编号-->
        SasTD_TransID
        )
        VALUES
        (
        <!--销售模板明细ID-->
        #[].SasTD_ID#,
        <!--销售模板ID-->
        #[].SasTD_SasT_ID#,
        <!--价格是否含税-->
        #[].SasTD_PriceIsIncludeTax#,
        <!--税率-->
        #[].SasTD_TaxRate#,
        <!--税额-->
        #[].SasTD_TotalTax#,
        <!--数量-->
        #[].SasTD_Qty#,
        <!--单价-->
        #[].SasTD_UnitPrice#,
        <!--总金额-->
        #[].SasTD_TotalAmount#,
        <!--配件条码-->
        #[].SasTD_Barcode#,
        <!--配件名称-->
        #[].SasTD_Name#,
        <!--配件规格型号-->
        #[].SasTD_Specification#,
        <!--单位-->
        #[].SasTD_UOM#,
        <!--汽修商组织ID-->
        #[].SasTD_AutoFactoryOrgID#,
        <!--汽修商组织名称-->
        #[].SasTD_AutoFactoryOrgName#,
        <!--备注-->
        #[].SasTD_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].SasTD_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].SasTD_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].SasTD_TransID#
        )
      </iterate>
    </insert>

    <!--查询[销售模板明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLSD_SalesTemplateDetail" parameterClass="MDLSD_SalesTemplateDetail" resultClass="MDLSD_SalesTemplateDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SasTD_ID)
      FROM SD_SalesTemplateDetail
      <dynamic prepend="WHERE">
        <!--销售模板明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_ID">SasTD_ID=#WHERE_SasTD_ID#</isNotEmpty>
        <!--销售模板ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_SasT_ID">SasTD_SasT_ID=#WHERE_SasTD_SasT_ID#</isNotEmpty>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SasTD_PriceIsIncludeTax">SasTD_PriceIsIncludeTax=#WHERE_SasTD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TaxRate">SasTD_TaxRate=#WHERE_SasTD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TotalTax">SasTD_TotalTax=#WHERE_SasTD_TotalTax#</isNotNull>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SasTD_Qty">SasTD_Qty=#WHERE_SasTD_Qty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SasTD_UnitPrice">SasTD_UnitPrice=#WHERE_SasTD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TotalAmount">SasTD_TotalAmount=#WHERE_SasTD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Barcode">SasTD_Barcode=#WHERE_SasTD_Barcode#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Name">SasTD_Name=#WHERE_SasTD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Specification">SasTD_Specification=#WHERE_SasTD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_UOM">SasTD_UOM=#WHERE_SasTD_UOM#</isNotEmpty>
        <!--汽修商组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_AutoFactoryOrgID">SasTD_AutoFactoryOrgID=#WHERE_SasTD_AutoFactoryOrgID#</isNotEmpty>
        <!--汽修商组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_AutoFactoryOrgName">SasTD_AutoFactoryOrgName=#WHERE_SasTD_AutoFactoryOrgName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Remark">SasTD_Remark=#WHERE_SasTD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SasTD_IsValid">SasTD_IsValid=#WHERE_SasTD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_CreatedBy">SasTD_CreatedBy=#WHERE_SasTD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_UpdatedBy">SasTD_UpdatedBy=#WHERE_SasTD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SasTD_VersionNo">SasTD_VersionNo=#WHERE_SasTD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_TransID">SasTD_TransID=#WHERE_SasTD_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SasTD_ID,
      SasTD_SasT_ID,
      SasTD_PriceIsIncludeTax,
      SasTD_TaxRate,
      SasTD_TotalTax,
      SasTD_Qty,
      SasTD_UnitPrice,
      SasTD_TotalAmount,
      SasTD_Barcode,
      SasTD_Name,
      SasTD_Specification,
      SasTD_UOM,
      SasTD_AutoFactoryOrgID,
      SasTD_AutoFactoryOrgName,
      SasTD_Remark,
      SasTD_IsValid,
      SasTD_CreatedBy,
      SasTD_CreatedTime,
      SasTD_UpdatedBy,
      SasTD_UpdatedTime,
      SasTD_VersionNo,
      SasTD_TransID
      FROM SD_SalesTemplateDetail
      <dynamic prepend="WHERE">
        <!--销售模板明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_ID">SasTD_ID=#WHERE_SasTD_ID#</isNotEmpty>
        <!--销售模板ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_SasT_ID">SasTD_SasT_ID=#WHERE_SasTD_SasT_ID#</isNotEmpty>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SasTD_PriceIsIncludeTax">SasTD_PriceIsIncludeTax=#WHERE_SasTD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TaxRate">SasTD_TaxRate=#WHERE_SasTD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TotalTax">SasTD_TotalTax=#WHERE_SasTD_TotalTax#</isNotNull>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SasTD_Qty">SasTD_Qty=#WHERE_SasTD_Qty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SasTD_UnitPrice">SasTD_UnitPrice=#WHERE_SasTD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TotalAmount">SasTD_TotalAmount=#WHERE_SasTD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Barcode">SasTD_Barcode=#WHERE_SasTD_Barcode#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Name">SasTD_Name=#WHERE_SasTD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Specification">SasTD_Specification=#WHERE_SasTD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_UOM">SasTD_UOM=#WHERE_SasTD_UOM#</isNotEmpty>
        <!--汽修商组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_AutoFactoryOrgID">SasTD_AutoFactoryOrgID=#WHERE_SasTD_AutoFactoryOrgID#</isNotEmpty>
        <!--汽修商组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_AutoFactoryOrgName">SasTD_AutoFactoryOrgName=#WHERE_SasTD_AutoFactoryOrgName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Remark">SasTD_Remark=#WHERE_SasTD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SasTD_IsValid">SasTD_IsValid=#WHERE_SasTD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_CreatedBy">SasTD_CreatedBy=#WHERE_SasTD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_UpdatedBy">SasTD_UpdatedBy=#WHERE_SasTD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SasTD_VersionNo">SasTD_VersionNo=#WHERE_SasTD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_TransID">SasTD_TransID=#WHERE_SasTD_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SasTD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[销售模板明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSD_SalesTemplateDetail" parameterClass="MDLSD_SalesTemplateDetail" resultClass="MDLSD_SalesTemplateDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SasTD_ID)
      FROM SD_SalesTemplateDetail
      <dynamic prepend="WHERE">
        <!--销售模板明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_ID">SasTD_ID=#WHERE_SasTD_ID#</isNotEmpty>
        <!--销售模板ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_SasT_ID">SasTD_SasT_ID LIKE '%'+#WHERE_SasTD_SasT_ID#+'%'</isNotEmpty>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SasTD_PriceIsIncludeTax">SasTD_PriceIsIncludeTax=#WHERE_SasTD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TaxRate">SasTD_TaxRate=#WHERE_SasTD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TotalTax">SasTD_TotalTax=#WHERE_SasTD_TotalTax#</isNotNull>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SasTD_Qty">SasTD_Qty=#WHERE_SasTD_Qty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SasTD_UnitPrice">SasTD_UnitPrice=#WHERE_SasTD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TotalAmount">SasTD_TotalAmount=#WHERE_SasTD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Barcode">SasTD_Barcode LIKE '%'+#WHERE_SasTD_Barcode#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Name">SasTD_Name LIKE '%'+#WHERE_SasTD_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Specification">SasTD_Specification LIKE '%'+#WHERE_SasTD_Specification#+'%'</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_UOM">SasTD_UOM LIKE '%'+#WHERE_SasTD_UOM#+'%'</isNotEmpty>
        <!--汽修商组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_AutoFactoryOrgID">SasTD_AutoFactoryOrgID LIKE '%'+#WHERE_SasTD_AutoFactoryOrgID#+'%'</isNotEmpty>
        <!--汽修商组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_AutoFactoryOrgName">SasTD_AutoFactoryOrgName LIKE '%'+#WHERE_SasTD_AutoFactoryOrgName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Remark">SasTD_Remark LIKE '%'+#WHERE_SasTD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SasTD_IsValid">SasTD_IsValid=#WHERE_SasTD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_CreatedBy">SasTD_CreatedBy LIKE '%'+#WHERE_SasTD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_UpdatedBy">SasTD_UpdatedBy LIKE '%'+#WHERE_SasTD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SasTD_VersionNo">SasTD_VersionNo=#WHERE_SasTD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_TransID">SasTD_TransID LIKE '%'+#WHERE_SasTD_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SasTD_ID,
      SasTD_SasT_ID,
      SasTD_PriceIsIncludeTax,
      SasTD_TaxRate,
      SasTD_TotalTax,
      SasTD_Qty,
      SasTD_UnitPrice,
      SasTD_TotalAmount,
      SasTD_Barcode,
      SasTD_Name,
      SasTD_Specification,
      SasTD_UOM,
      SasTD_AutoFactoryOrgID,
      SasTD_AutoFactoryOrgName,
      SasTD_Remark,
      SasTD_IsValid,
      SasTD_CreatedBy,
      SasTD_CreatedTime,
      SasTD_UpdatedBy,
      SasTD_UpdatedTime,
      SasTD_VersionNo,
      SasTD_TransID
      FROM SD_SalesTemplateDetail
      <dynamic prepend="WHERE">
        <!--销售模板明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_ID">SasTD_ID=#WHERE_SasTD_ID#</isNotEmpty>
        <!--销售模板ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_SasT_ID">SasTD_SasT_ID LIKE '%'+#WHERE_SasTD_SasT_ID#+'%'</isNotEmpty>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SasTD_PriceIsIncludeTax">SasTD_PriceIsIncludeTax=#WHERE_SasTD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TaxRate">SasTD_TaxRate=#WHERE_SasTD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TotalTax">SasTD_TotalTax=#WHERE_SasTD_TotalTax#</isNotNull>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SasTD_Qty">SasTD_Qty=#WHERE_SasTD_Qty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SasTD_UnitPrice">SasTD_UnitPrice=#WHERE_SasTD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TotalAmount">SasTD_TotalAmount=#WHERE_SasTD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Barcode">SasTD_Barcode LIKE '%'+#WHERE_SasTD_Barcode#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Name">SasTD_Name LIKE '%'+#WHERE_SasTD_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Specification">SasTD_Specification LIKE '%'+#WHERE_SasTD_Specification#+'%'</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_UOM">SasTD_UOM LIKE '%'+#WHERE_SasTD_UOM#+'%'</isNotEmpty>
        <!--汽修商组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_AutoFactoryOrgID">SasTD_AutoFactoryOrgID LIKE '%'+#WHERE_SasTD_AutoFactoryOrgID#+'%'</isNotEmpty>
        <!--汽修商组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_AutoFactoryOrgName">SasTD_AutoFactoryOrgName LIKE '%'+#WHERE_SasTD_AutoFactoryOrgName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Remark">SasTD_Remark LIKE '%'+#WHERE_SasTD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SasTD_IsValid">SasTD_IsValid=#WHERE_SasTD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_CreatedBy">SasTD_CreatedBy LIKE '%'+#WHERE_SasTD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_UpdatedBy">SasTD_UpdatedBy LIKE '%'+#WHERE_SasTD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SasTD_VersionNo">SasTD_VersionNo=#WHERE_SasTD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_TransID">SasTD_TransID LIKE '%'+#WHERE_SasTD_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SasTD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[销售模板明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSD_SalesTemplateDetail" parameterClass="MDLSD_SalesTemplateDetail" resultClass="int">
      SELECT COUNT(SasTD_ID) 'RecordCount'
      FROM SD_SalesTemplateDetail
      <dynamic prepend="WHERE">
        <!--销售模板明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_ID">SasTD_ID=#WHERE_SasTD_ID#</isNotEmpty>
        <!--销售模板ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_SasT_ID">SasTD_SasT_ID=#WHERE_SasTD_SasT_ID#</isNotEmpty>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SasTD_PriceIsIncludeTax">SasTD_PriceIsIncludeTax=#WHERE_SasTD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TaxRate">SasTD_TaxRate=#WHERE_SasTD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TotalTax">SasTD_TotalTax=#WHERE_SasTD_TotalTax#</isNotNull>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SasTD_Qty">SasTD_Qty=#WHERE_SasTD_Qty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SasTD_UnitPrice">SasTD_UnitPrice=#WHERE_SasTD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TotalAmount">SasTD_TotalAmount=#WHERE_SasTD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Barcode">SasTD_Barcode=#WHERE_SasTD_Barcode#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Name">SasTD_Name=#WHERE_SasTD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Specification">SasTD_Specification=#WHERE_SasTD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_UOM">SasTD_UOM=#WHERE_SasTD_UOM#</isNotEmpty>
        <!--汽修商组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_AutoFactoryOrgID">SasTD_AutoFactoryOrgID=#WHERE_SasTD_AutoFactoryOrgID#</isNotEmpty>
        <!--汽修商组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_AutoFactoryOrgName">SasTD_AutoFactoryOrgName=#WHERE_SasTD_AutoFactoryOrgName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Remark">SasTD_Remark=#WHERE_SasTD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SasTD_IsValid">SasTD_IsValid=#WHERE_SasTD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_CreatedBy">SasTD_CreatedBy=#WHERE_SasTD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_UpdatedBy">SasTD_UpdatedBy=#WHERE_SasTD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SasTD_VersionNo">SasTD_VersionNo=#WHERE_SasTD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_TransID">SasTD_TransID=#WHERE_SasTD_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[销售模板明细]信息-->
    <update id="COMM_SQL_UpdateMDLSD_SalesTemplateDetail" parameterClass="MDLSD_SalesTemplateDetail" >
      UPDATE SD_SalesTemplateDetail
      SET
      SasTD_UpdatedTime=GETDATE(),
      SasTD_VersionNo=SasTD_VersionNo+1
      <isNotEmpty prepend="," property="SasTD_SasT_ID">SasTD_SasT_ID=#SasTD_SasT_ID#</isNotEmpty>
      <isNotNull prepend="," property="SasTD_PriceIsIncludeTax">SasTD_PriceIsIncludeTax=#SasTD_PriceIsIncludeTax#</isNotNull>
      <isNotNull prepend="," property="SasTD_TaxRate">SasTD_TaxRate=#SasTD_TaxRate#</isNotNull>
      <isNotNull prepend="," property="SasTD_TotalTax">SasTD_TotalTax=#SasTD_TotalTax#</isNotNull>
      <isNotNull prepend="," property="SasTD_Qty">SasTD_Qty=#SasTD_Qty#</isNotNull>
      <isNotNull prepend="," property="SasTD_UnitPrice">SasTD_UnitPrice=#SasTD_UnitPrice#</isNotNull>
      <isNotNull prepend="," property="SasTD_TotalAmount">SasTD_TotalAmount=#SasTD_TotalAmount#</isNotNull>
      <isNotEmpty prepend="," property="SasTD_Barcode">SasTD_Barcode=#SasTD_Barcode#</isNotEmpty>
      <isNotEmpty prepend="," property="SasTD_Name">SasTD_Name=#SasTD_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="SasTD_Specification">SasTD_Specification=#SasTD_Specification#</isNotEmpty>
      <isNotEmpty prepend="," property="SasTD_UOM">SasTD_UOM=#SasTD_UOM#</isNotEmpty>
      <isNotEmpty prepend="," property="SasTD_AutoFactoryOrgID">SasTD_AutoFactoryOrgID=#SasTD_AutoFactoryOrgID#</isNotEmpty>
      <isNotEmpty prepend="," property="SasTD_AutoFactoryOrgName">SasTD_AutoFactoryOrgName=#SasTD_AutoFactoryOrgName#</isNotEmpty>
      <isNotEmpty prepend="," property="SasTD_Remark">SasTD_Remark=#SasTD_Remark#</isNotEmpty>
      <isNotNull prepend="," property="SasTD_IsValid">SasTD_IsValid=#SasTD_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="SasTD_CreatedBy">SasTD_CreatedBy=#SasTD_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="SasTD_CreatedTime">SasTD_CreatedTime=#SasTD_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="SasTD_UpdatedBy">SasTD_UpdatedBy=#SasTD_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="SasTD_TransID">SasTD_TransID=#SasTD_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--销售模板明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_ID">SasTD_ID=#WHERE_SasTD_ID#</isNotEmpty>
        <!--销售模板ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_SasT_ID">SasTD_SasT_ID=#WHERE_SasTD_SasT_ID#</isNotEmpty>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SasTD_PriceIsIncludeTax">SasTD_PriceIsIncludeTax=#WHERE_SasTD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TaxRate">SasTD_TaxRate=#WHERE_SasTD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TotalTax">SasTD_TotalTax=#WHERE_SasTD_TotalTax#</isNotNull>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SasTD_Qty">SasTD_Qty=#WHERE_SasTD_Qty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SasTD_UnitPrice">SasTD_UnitPrice=#WHERE_SasTD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SasTD_TotalAmount">SasTD_TotalAmount=#WHERE_SasTD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Barcode">SasTD_Barcode=#WHERE_SasTD_Barcode#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Name">SasTD_Name=#WHERE_SasTD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Specification">SasTD_Specification=#WHERE_SasTD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_UOM">SasTD_UOM=#WHERE_SasTD_UOM#</isNotEmpty>
        <!--汽修商组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_AutoFactoryOrgID">SasTD_AutoFactoryOrgID=#WHERE_SasTD_AutoFactoryOrgID#</isNotEmpty>
        <!--汽修商组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_AutoFactoryOrgName">SasTD_AutoFactoryOrgName=#WHERE_SasTD_AutoFactoryOrgName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_Remark">SasTD_Remark=#WHERE_SasTD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SasTD_IsValid">SasTD_IsValid=#WHERE_SasTD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_CreatedBy">SasTD_CreatedBy=#WHERE_SasTD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SasTD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_UpdatedBy">SasTD_UpdatedBy=#WHERE_SasTD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SasTD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SasTD_VersionNo">SasTD_VersionNo=#WHERE_SasTD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SasTD_TransID">SasTD_TransID=#WHERE_SasTD_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[销售模板明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLSD_SalesTemplateDetail" parameterClass="List">
      DELETE FROM SD_SalesTemplateDetail
      WHERE SasTD_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_SasTD_ID#
      </iterate>
    </delete>

    <!--新增[销售预测订单]信息-->
    <insert id="COMM_SQL_INSERT_MDLSD_SalesForecastOrder" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SD_SalesForecastOrder
        (
        <!--销售预测订单ID-->
        SFO_ID,
        <!--单据编号-->
        SFO_No,
        <!--组织ID-->
        SFO_Org_ID,
        <!--汽修商户编码-->
        SFO_AutoFactoryCode,
        <!--汽修商户名称-->
        SFO_AutoFactoryName,
        <!--汽修商客户ID-->
        SFO_CustomerID,
        <!--汽修商客户名称-->
        SFO_CustomerName,
        <!--汽修商组织编码-->
        SFO_AutoFactoryOrgCode,
        <!--来源类型编码-->
        SFO_SourceTypeCode,
        <!--来源类型名称-->
        SFO_SourceTypeName,
        <!--单据状态编码-->
        SFO_StatusCode,
        <!--单据状态名称-->
        SFO_StatusName,
        <!--备注-->
        SFO_Remark,
        <!--有效-->
        SFO_IsValid,
        <!--创建人-->
        SFO_CreatedBy,
        <!--创建时间-->
        SFO_CreatedTime,
        <!--修改人-->
        SFO_UpdatedBy,
        <!--修改时间-->
        SFO_UpdatedTime,
        <!--版本号-->
        SFO_VersionNo,
        <!--事务编号-->
        SFO_TransID
        )
        VALUES
        (
        <!--销售预测订单ID-->
        #[].SFO_ID#,
        <!--单据编号-->
        #[].SFO_No#,
        <!--组织ID-->
        #[].SFO_Org_ID#,
        <!--汽修商户编码-->
        #[].SFO_AutoFactoryCode#,
        <!--汽修商户名称-->
        #[].SFO_AutoFactoryName#,
        <!--汽修商客户ID-->
        #[].SFO_CustomerID#,
        <!--汽修商客户名称-->
        #[].SFO_CustomerName#,
        <!--汽修商组织编码-->
        #[].SFO_AutoFactoryOrgCode#,
        <!--来源类型编码-->
        #[].SFO_SourceTypeCode#,
        <!--来源类型名称-->
        #[].SFO_SourceTypeName#,
        <!--单据状态编码-->
        #[].SFO_StatusCode#,
        <!--单据状态名称-->
        #[].SFO_StatusName#,
        <!--备注-->
        #[].SFO_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].SFO_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].SFO_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].SFO_TransID#
        )
      </iterate>
    </insert>

    <!--查询[销售预测订单]信息（精确条件）-->
    <select id="COMM_SQL_MDLSD_SalesForecastOrder" parameterClass="MDLSD_SalesForecastOrder" resultClass="MDLSD_SalesForecastOrder">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SFO_ID)
      FROM SD_SalesForecastOrder
      <dynamic prepend="WHERE">
        <!--销售预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_ID">SFO_ID=#WHERE_SFO_ID#</isNotEmpty>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_No">SFO_No=#WHERE_SFO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_Org_ID">SFO_Org_ID=#WHERE_SFO_Org_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryCode">SFO_AutoFactoryCode=#WHERE_SFO_AutoFactoryCode#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryName">SFO_AutoFactoryName=#WHERE_SFO_AutoFactoryName#</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CustomerID">SFO_CustomerID=#WHERE_SFO_CustomerID#</isNotEmpty>
        <!--汽修商客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CustomerName">SFO_CustomerName=#WHERE_SFO_CustomerName#</isNotEmpty>
        <!--汽修商组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryOrgCode">SFO_AutoFactoryOrgCode=#WHERE_SFO_AutoFactoryOrgCode#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_SourceTypeCode">SFO_SourceTypeCode=#WHERE_SFO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_SourceTypeName">SFO_SourceTypeName=#WHERE_SFO_SourceTypeName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_StatusCode">SFO_StatusCode=#WHERE_SFO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_StatusName">SFO_StatusName=#WHERE_SFO_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_Remark">SFO_Remark=#WHERE_SFO_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SFO_IsValid">SFO_IsValid=#WHERE_SFO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CreatedBy">SFO_CreatedBy=#WHERE_SFO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_UpdatedBy">SFO_UpdatedBy=#WHERE_SFO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SFO_VersionNo">SFO_VersionNo=#WHERE_SFO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_TransID">SFO_TransID=#WHERE_SFO_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SFO_ID,
      SFO_No,
      SFO_Org_ID,
      SFO_AutoFactoryCode,
      SFO_AutoFactoryName,
      SFO_CustomerID,
      SFO_CustomerName,
      SFO_AutoFactoryOrgCode,
      SFO_SourceTypeCode,
      SFO_SourceTypeName,
      SFO_StatusCode,
      SFO_StatusName,
      SFO_Remark,
      SFO_IsValid,
      SFO_CreatedBy,
      SFO_CreatedTime,
      SFO_UpdatedBy,
      SFO_UpdatedTime,
      SFO_VersionNo,
      SFO_TransID
      FROM SD_SalesForecastOrder
      <dynamic prepend="WHERE">
        <!--销售预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_ID">SFO_ID=#WHERE_SFO_ID#</isNotEmpty>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_No">SFO_No=#WHERE_SFO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_Org_ID">SFO_Org_ID=#WHERE_SFO_Org_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryCode">SFO_AutoFactoryCode=#WHERE_SFO_AutoFactoryCode#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryName">SFO_AutoFactoryName=#WHERE_SFO_AutoFactoryName#</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CustomerID">SFO_CustomerID=#WHERE_SFO_CustomerID#</isNotEmpty>
        <!--汽修商客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CustomerName">SFO_CustomerName=#WHERE_SFO_CustomerName#</isNotEmpty>
        <!--汽修商组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryOrgCode">SFO_AutoFactoryOrgCode=#WHERE_SFO_AutoFactoryOrgCode#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_SourceTypeCode">SFO_SourceTypeCode=#WHERE_SFO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_SourceTypeName">SFO_SourceTypeName=#WHERE_SFO_SourceTypeName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_StatusCode">SFO_StatusCode=#WHERE_SFO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_StatusName">SFO_StatusName=#WHERE_SFO_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_Remark">SFO_Remark=#WHERE_SFO_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SFO_IsValid">SFO_IsValid=#WHERE_SFO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CreatedBy">SFO_CreatedBy=#WHERE_SFO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_UpdatedBy">SFO_UpdatedBy=#WHERE_SFO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SFO_VersionNo">SFO_VersionNo=#WHERE_SFO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_TransID">SFO_TransID=#WHERE_SFO_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SFO_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[销售预测订单]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSD_SalesForecastOrder" parameterClass="MDLSD_SalesForecastOrder" resultClass="MDLSD_SalesForecastOrder">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SFO_ID)
      FROM SD_SalesForecastOrder
      <dynamic prepend="WHERE">
        <!--销售预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_ID">SFO_ID=#WHERE_SFO_ID#</isNotEmpty>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_No">SFO_No LIKE '%'+#WHERE_SFO_No#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_Org_ID">SFO_Org_ID LIKE '%'+#WHERE_SFO_Org_ID#+'%'</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryCode">SFO_AutoFactoryCode LIKE '%'+#WHERE_SFO_AutoFactoryCode#+'%'</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryName">SFO_AutoFactoryName LIKE '%'+#WHERE_SFO_AutoFactoryName#+'%'</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CustomerID">SFO_CustomerID LIKE '%'+#WHERE_SFO_CustomerID#+'%'</isNotEmpty>
        <!--汽修商客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CustomerName">SFO_CustomerName LIKE '%'+#WHERE_SFO_CustomerName#+'%'</isNotEmpty>
        <!--汽修商组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryOrgCode">SFO_AutoFactoryOrgCode LIKE '%'+#WHERE_SFO_AutoFactoryOrgCode#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_SourceTypeCode">SFO_SourceTypeCode LIKE '%'+#WHERE_SFO_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_SourceTypeName">SFO_SourceTypeName LIKE '%'+#WHERE_SFO_SourceTypeName#+'%'</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_StatusCode">SFO_StatusCode LIKE '%'+#WHERE_SFO_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_StatusName">SFO_StatusName LIKE '%'+#WHERE_SFO_StatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_Remark">SFO_Remark LIKE '%'+#WHERE_SFO_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SFO_IsValid">SFO_IsValid=#WHERE_SFO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CreatedBy">SFO_CreatedBy LIKE '%'+#WHERE_SFO_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_UpdatedBy">SFO_UpdatedBy LIKE '%'+#WHERE_SFO_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SFO_VersionNo">SFO_VersionNo=#WHERE_SFO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_TransID">SFO_TransID LIKE '%'+#WHERE_SFO_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SFO_ID,
      SFO_No,
      SFO_Org_ID,
      SFO_AutoFactoryCode,
      SFO_AutoFactoryName,
      SFO_CustomerID,
      SFO_CustomerName,
      SFO_AutoFactoryOrgCode,
      SFO_SourceTypeCode,
      SFO_SourceTypeName,
      SFO_StatusCode,
      SFO_StatusName,
      SFO_Remark,
      SFO_IsValid,
      SFO_CreatedBy,
      SFO_CreatedTime,
      SFO_UpdatedBy,
      SFO_UpdatedTime,
      SFO_VersionNo,
      SFO_TransID
      FROM SD_SalesForecastOrder
      <dynamic prepend="WHERE">
        <!--销售预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_ID">SFO_ID=#WHERE_SFO_ID#</isNotEmpty>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_No">SFO_No LIKE '%'+#WHERE_SFO_No#+'%'</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_Org_ID">SFO_Org_ID LIKE '%'+#WHERE_SFO_Org_ID#+'%'</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryCode">SFO_AutoFactoryCode LIKE '%'+#WHERE_SFO_AutoFactoryCode#+'%'</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryName">SFO_AutoFactoryName LIKE '%'+#WHERE_SFO_AutoFactoryName#+'%'</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CustomerID">SFO_CustomerID LIKE '%'+#WHERE_SFO_CustomerID#+'%'</isNotEmpty>
        <!--汽修商客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CustomerName">SFO_CustomerName LIKE '%'+#WHERE_SFO_CustomerName#+'%'</isNotEmpty>
        <!--汽修商组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryOrgCode">SFO_AutoFactoryOrgCode LIKE '%'+#WHERE_SFO_AutoFactoryOrgCode#+'%'</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_SourceTypeCode">SFO_SourceTypeCode LIKE '%'+#WHERE_SFO_SourceTypeCode#+'%'</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_SourceTypeName">SFO_SourceTypeName LIKE '%'+#WHERE_SFO_SourceTypeName#+'%'</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_StatusCode">SFO_StatusCode LIKE '%'+#WHERE_SFO_StatusCode#+'%'</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_StatusName">SFO_StatusName LIKE '%'+#WHERE_SFO_StatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_Remark">SFO_Remark LIKE '%'+#WHERE_SFO_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SFO_IsValid">SFO_IsValid=#WHERE_SFO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CreatedBy">SFO_CreatedBy LIKE '%'+#WHERE_SFO_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_UpdatedBy">SFO_UpdatedBy LIKE '%'+#WHERE_SFO_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SFO_VersionNo">SFO_VersionNo=#WHERE_SFO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_TransID">SFO_TransID LIKE '%'+#WHERE_SFO_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SFO_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[销售预测订单]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSD_SalesForecastOrder" parameterClass="MDLSD_SalesForecastOrder" resultClass="int">
      SELECT COUNT(SFO_ID) 'RecordCount'
      FROM SD_SalesForecastOrder
      <dynamic prepend="WHERE">
        <!--销售预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_ID">SFO_ID=#WHERE_SFO_ID#</isNotEmpty>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_No">SFO_No=#WHERE_SFO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_Org_ID">SFO_Org_ID=#WHERE_SFO_Org_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryCode">SFO_AutoFactoryCode=#WHERE_SFO_AutoFactoryCode#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryName">SFO_AutoFactoryName=#WHERE_SFO_AutoFactoryName#</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CustomerID">SFO_CustomerID=#WHERE_SFO_CustomerID#</isNotEmpty>
        <!--汽修商客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CustomerName">SFO_CustomerName=#WHERE_SFO_CustomerName#</isNotEmpty>
        <!--汽修商组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryOrgCode">SFO_AutoFactoryOrgCode=#WHERE_SFO_AutoFactoryOrgCode#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_SourceTypeCode">SFO_SourceTypeCode=#WHERE_SFO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_SourceTypeName">SFO_SourceTypeName=#WHERE_SFO_SourceTypeName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_StatusCode">SFO_StatusCode=#WHERE_SFO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_StatusName">SFO_StatusName=#WHERE_SFO_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_Remark">SFO_Remark=#WHERE_SFO_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SFO_IsValid">SFO_IsValid=#WHERE_SFO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CreatedBy">SFO_CreatedBy=#WHERE_SFO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_UpdatedBy">SFO_UpdatedBy=#WHERE_SFO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SFO_VersionNo">SFO_VersionNo=#WHERE_SFO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_TransID">SFO_TransID=#WHERE_SFO_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[销售预测订单]信息-->
    <update id="COMM_SQL_UpdateMDLSD_SalesForecastOrder" parameterClass="MDLSD_SalesForecastOrder" >
      UPDATE SD_SalesForecastOrder
      SET
      SFO_UpdatedTime=GETDATE(),
      SFO_VersionNo=SFO_VersionNo+1
      <isNotEmpty prepend="," property="SFO_No">SFO_No=#SFO_No#</isNotEmpty>
      <isNotEmpty prepend="," property="SFO_Org_ID">SFO_Org_ID=#SFO_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="SFO_AutoFactoryCode">SFO_AutoFactoryCode=#SFO_AutoFactoryCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SFO_AutoFactoryName">SFO_AutoFactoryName=#SFO_AutoFactoryName#</isNotEmpty>
      <isNotEmpty prepend="," property="SFO_CustomerID">SFO_CustomerID=#SFO_CustomerID#</isNotEmpty>
      <isNotEmpty prepend="," property="SFO_CustomerName">SFO_CustomerName=#SFO_CustomerName#</isNotEmpty>
      <isNotEmpty prepend="," property="SFO_AutoFactoryOrgCode">SFO_AutoFactoryOrgCode=#SFO_AutoFactoryOrgCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SFO_SourceTypeCode">SFO_SourceTypeCode=#SFO_SourceTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SFO_SourceTypeName">SFO_SourceTypeName=#SFO_SourceTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="SFO_StatusCode">SFO_StatusCode=#SFO_StatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="SFO_StatusName">SFO_StatusName=#SFO_StatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="SFO_Remark">SFO_Remark=#SFO_Remark#</isNotEmpty>
      <isNotNull prepend="," property="SFO_IsValid">SFO_IsValid=#SFO_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="SFO_CreatedBy">SFO_CreatedBy=#SFO_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="SFO_CreatedTime">SFO_CreatedTime=#SFO_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="SFO_UpdatedBy">SFO_UpdatedBy=#SFO_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="SFO_TransID">SFO_TransID=#SFO_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--销售预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_ID">SFO_ID=#WHERE_SFO_ID#</isNotEmpty>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_No">SFO_No=#WHERE_SFO_No#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_Org_ID">SFO_Org_ID=#WHERE_SFO_Org_ID#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryCode">SFO_AutoFactoryCode=#WHERE_SFO_AutoFactoryCode#</isNotEmpty>
        <!--汽修商户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryName">SFO_AutoFactoryName=#WHERE_SFO_AutoFactoryName#</isNotEmpty>
        <!--汽修商客户ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CustomerID">SFO_CustomerID=#WHERE_SFO_CustomerID#</isNotEmpty>
        <!--汽修商客户名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CustomerName">SFO_CustomerName=#WHERE_SFO_CustomerName#</isNotEmpty>
        <!--汽修商组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_AutoFactoryOrgCode">SFO_AutoFactoryOrgCode=#WHERE_SFO_AutoFactoryOrgCode#</isNotEmpty>
        <!--来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_SourceTypeCode">SFO_SourceTypeCode=#WHERE_SFO_SourceTypeCode#</isNotEmpty>
        <!--来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_SourceTypeName">SFO_SourceTypeName=#WHERE_SFO_SourceTypeName#</isNotEmpty>
        <!--单据状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_StatusCode">SFO_StatusCode=#WHERE_SFO_StatusCode#</isNotEmpty>
        <!--单据状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_StatusName">SFO_StatusName=#WHERE_SFO_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_Remark">SFO_Remark=#WHERE_SFO_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SFO_IsValid">SFO_IsValid=#WHERE_SFO_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_CreatedBy">SFO_CreatedBy=#WHERE_SFO_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFO_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_UpdatedBy">SFO_UpdatedBy=#WHERE_SFO_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFO_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SFO_VersionNo">SFO_VersionNo=#WHERE_SFO_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFO_TransID">SFO_TransID=#WHERE_SFO_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[销售预测订单]信息-->
    <delete id="COMM_SQL_DELETE_MDLSD_SalesForecastOrder" parameterClass="List">
      DELETE FROM SD_SalesForecastOrder
      WHERE SFO_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_SFO_ID#
      </iterate>
    </delete>

    <!--新增[销售预测订单明细]信息-->
    <insert id="COMM_SQL_INSERT_MDLSD_SalesForecastOrderDetail" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        SD_SalesForecastOrderDetail
        (
        <!--销售预测订单明细ID-->
        SFOD_ID,
        <!--销售预测订单ID-->
        SFOD_ST_ID,
        <!--价格是否含税-->
        SFOD_PriceIsIncludeTax,
        <!--税率-->
        SFOD_TaxRate,
        <!--税额-->
        SFOD_TotalTax,
        <!--数量-->
        SFOD_Qty,
        <!--单价-->
        SFOD_UnitPrice,
        <!--总金额-->
        SFOD_TotalAmount,
        <!--配件条码-->
        SFOD_Barcode,
        <!--配件批次号（汽修厂用）-->
        SFOD_BatchNoNew,
        <!--配件名称-->
        SFOD_Name,
        <!--配件规格型号-->
        SFOD_Specification,
        <!--单位-->
        SFOD_UOM,
        <!--汽修商组织ID-->
        SFOD_AutoFactoryOrgID,
        <!--汽修商组织名称-->
        SFOD_AutoFactoryOrgName,
        <!--备注-->
        SFOD_Remark,
        <!--有效-->
        SFOD_IsValid,
        <!--创建人-->
        SFOD_CreatedBy,
        <!--创建时间-->
        SFOD_CreatedTime,
        <!--修改人-->
        SFOD_UpdatedBy,
        <!--修改时间-->
        SFOD_UpdatedTime,
        <!--版本号-->
        SFOD_VersionNo,
        <!--事务编号-->
        SFOD_TransID
        )
        VALUES
        (
        <!--销售预测订单明细ID-->
        #[].SFOD_ID#,
        <!--销售预测订单ID-->
        #[].SFOD_ST_ID#,
        <!--价格是否含税-->
        #[].SFOD_PriceIsIncludeTax#,
        <!--税率-->
        #[].SFOD_TaxRate#,
        <!--税额-->
        #[].SFOD_TotalTax#,
        <!--数量-->
        #[].SFOD_Qty#,
        <!--单价-->
        #[].SFOD_UnitPrice#,
        <!--总金额-->
        #[].SFOD_TotalAmount#,
        <!--配件条码-->
        #[].SFOD_Barcode#,
        <!--配件批次号（汽修厂用）-->
        #[].SFOD_BatchNoNew#,
        <!--配件名称-->
        #[].SFOD_Name#,
        <!--配件规格型号-->
        #[].SFOD_Specification#,
        <!--单位-->
        #[].SFOD_UOM#,
        <!--汽修商组织ID-->
        #[].SFOD_AutoFactoryOrgID#,
        <!--汽修商组织名称-->
        #[].SFOD_AutoFactoryOrgName#,
        <!--备注-->
        #[].SFOD_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].SFOD_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].SFOD_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].SFOD_TransID#
        )
      </iterate>
    </insert>

    <!--查询[销售预测订单明细]信息（精确条件）-->
    <select id="COMM_SQL_MDLSD_SalesForecastOrderDetail" parameterClass="MDLSD_SalesForecastOrderDetail" resultClass="MDLSD_SalesForecastOrderDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SFOD_ID)
      FROM SD_SalesForecastOrderDetail
      <dynamic prepend="WHERE">
        <!--销售预测订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_ID">SFOD_ID=#WHERE_SFOD_ID#</isNotEmpty>
        <!--销售预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_ST_ID">SFOD_ST_ID=#WHERE_SFOD_ST_ID#</isNotEmpty>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SFOD_PriceIsIncludeTax">SFOD_PriceIsIncludeTax=#WHERE_SFOD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TaxRate">SFOD_TaxRate=#WHERE_SFOD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TotalTax">SFOD_TotalTax=#WHERE_SFOD_TotalTax#</isNotNull>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SFOD_Qty">SFOD_Qty=#WHERE_SFOD_Qty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SFOD_UnitPrice">SFOD_UnitPrice=#WHERE_SFOD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TotalAmount">SFOD_TotalAmount=#WHERE_SFOD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Barcode">SFOD_Barcode=#WHERE_SFOD_Barcode#</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_BatchNoNew">SFOD_BatchNoNew=#WHERE_SFOD_BatchNoNew#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Name">SFOD_Name=#WHERE_SFOD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Specification">SFOD_Specification=#WHERE_SFOD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_UOM">SFOD_UOM=#WHERE_SFOD_UOM#</isNotEmpty>
        <!--汽修商组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_AutoFactoryOrgID">SFOD_AutoFactoryOrgID=#WHERE_SFOD_AutoFactoryOrgID#</isNotEmpty>
        <!--汽修商组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_AutoFactoryOrgName">SFOD_AutoFactoryOrgName=#WHERE_SFOD_AutoFactoryOrgName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Remark">SFOD_Remark=#WHERE_SFOD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SFOD_IsValid">SFOD_IsValid=#WHERE_SFOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_CreatedBy">SFOD_CreatedBy=#WHERE_SFOD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_UpdatedBy">SFOD_UpdatedBy=#WHERE_SFOD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SFOD_VersionNo">SFOD_VersionNo=#WHERE_SFOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_TransID">SFOD_TransID=#WHERE_SFOD_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SFOD_ID,
      SFOD_ST_ID,
      SFOD_PriceIsIncludeTax,
      SFOD_TaxRate,
      SFOD_TotalTax,
      SFOD_Qty,
      SFOD_UnitPrice,
      SFOD_TotalAmount,
      SFOD_Barcode,
      SFOD_BatchNoNew,
      SFOD_Name,
      SFOD_Specification,
      SFOD_UOM,
      SFOD_AutoFactoryOrgID,
      SFOD_AutoFactoryOrgName,
      SFOD_Remark,
      SFOD_IsValid,
      SFOD_CreatedBy,
      SFOD_CreatedTime,
      SFOD_UpdatedBy,
      SFOD_UpdatedTime,
      SFOD_VersionNo,
      SFOD_TransID
      FROM SD_SalesForecastOrderDetail
      <dynamic prepend="WHERE">
        <!--销售预测订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_ID">SFOD_ID=#WHERE_SFOD_ID#</isNotEmpty>
        <!--销售预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_ST_ID">SFOD_ST_ID=#WHERE_SFOD_ST_ID#</isNotEmpty>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SFOD_PriceIsIncludeTax">SFOD_PriceIsIncludeTax=#WHERE_SFOD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TaxRate">SFOD_TaxRate=#WHERE_SFOD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TotalTax">SFOD_TotalTax=#WHERE_SFOD_TotalTax#</isNotNull>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SFOD_Qty">SFOD_Qty=#WHERE_SFOD_Qty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SFOD_UnitPrice">SFOD_UnitPrice=#WHERE_SFOD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TotalAmount">SFOD_TotalAmount=#WHERE_SFOD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Barcode">SFOD_Barcode=#WHERE_SFOD_Barcode#</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_BatchNoNew">SFOD_BatchNoNew=#WHERE_SFOD_BatchNoNew#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Name">SFOD_Name=#WHERE_SFOD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Specification">SFOD_Specification=#WHERE_SFOD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_UOM">SFOD_UOM=#WHERE_SFOD_UOM#</isNotEmpty>
        <!--汽修商组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_AutoFactoryOrgID">SFOD_AutoFactoryOrgID=#WHERE_SFOD_AutoFactoryOrgID#</isNotEmpty>
        <!--汽修商组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_AutoFactoryOrgName">SFOD_AutoFactoryOrgName=#WHERE_SFOD_AutoFactoryOrgName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Remark">SFOD_Remark=#WHERE_SFOD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SFOD_IsValid">SFOD_IsValid=#WHERE_SFOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_CreatedBy">SFOD_CreatedBy=#WHERE_SFOD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_UpdatedBy">SFOD_UpdatedBy=#WHERE_SFOD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SFOD_VersionNo">SFOD_VersionNo=#WHERE_SFOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_TransID">SFOD_TransID=#WHERE_SFOD_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SFOD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[销售预测订单明细]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLSD_SalesForecastOrderDetail" parameterClass="MDLSD_SalesForecastOrderDetail" resultClass="MDLSD_SalesForecastOrderDetail">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(SFOD_ID)
      FROM SD_SalesForecastOrderDetail
      <dynamic prepend="WHERE">
        <!--销售预测订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_ID">SFOD_ID=#WHERE_SFOD_ID#</isNotEmpty>
        <!--销售预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_ST_ID">SFOD_ST_ID LIKE '%'+#WHERE_SFOD_ST_ID#+'%'</isNotEmpty>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SFOD_PriceIsIncludeTax">SFOD_PriceIsIncludeTax=#WHERE_SFOD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TaxRate">SFOD_TaxRate=#WHERE_SFOD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TotalTax">SFOD_TotalTax=#WHERE_SFOD_TotalTax#</isNotNull>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SFOD_Qty">SFOD_Qty=#WHERE_SFOD_Qty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SFOD_UnitPrice">SFOD_UnitPrice=#WHERE_SFOD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TotalAmount">SFOD_TotalAmount=#WHERE_SFOD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Barcode">SFOD_Barcode LIKE '%'+#WHERE_SFOD_Barcode#+'%'</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_BatchNoNew">SFOD_BatchNoNew LIKE '%'+#WHERE_SFOD_BatchNoNew#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Name">SFOD_Name LIKE '%'+#WHERE_SFOD_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Specification">SFOD_Specification LIKE '%'+#WHERE_SFOD_Specification#+'%'</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_UOM">SFOD_UOM LIKE '%'+#WHERE_SFOD_UOM#+'%'</isNotEmpty>
        <!--汽修商组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_AutoFactoryOrgID">SFOD_AutoFactoryOrgID LIKE '%'+#WHERE_SFOD_AutoFactoryOrgID#+'%'</isNotEmpty>
        <!--汽修商组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_AutoFactoryOrgName">SFOD_AutoFactoryOrgName LIKE '%'+#WHERE_SFOD_AutoFactoryOrgName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Remark">SFOD_Remark LIKE '%'+#WHERE_SFOD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SFOD_IsValid">SFOD_IsValid=#WHERE_SFOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_CreatedBy">SFOD_CreatedBy LIKE '%'+#WHERE_SFOD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_UpdatedBy">SFOD_UpdatedBy LIKE '%'+#WHERE_SFOD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SFOD_VersionNo">SFOD_VersionNo=#WHERE_SFOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_TransID">SFOD_TransID LIKE '%'+#WHERE_SFOD_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      SFOD_ID,
      SFOD_ST_ID,
      SFOD_PriceIsIncludeTax,
      SFOD_TaxRate,
      SFOD_TotalTax,
      SFOD_Qty,
      SFOD_UnitPrice,
      SFOD_TotalAmount,
      SFOD_Barcode,
      SFOD_BatchNoNew,
      SFOD_Name,
      SFOD_Specification,
      SFOD_UOM,
      SFOD_AutoFactoryOrgID,
      SFOD_AutoFactoryOrgName,
      SFOD_Remark,
      SFOD_IsValid,
      SFOD_CreatedBy,
      SFOD_CreatedTime,
      SFOD_UpdatedBy,
      SFOD_UpdatedTime,
      SFOD_VersionNo,
      SFOD_TransID
      FROM SD_SalesForecastOrderDetail
      <dynamic prepend="WHERE">
        <!--销售预测订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_ID">SFOD_ID=#WHERE_SFOD_ID#</isNotEmpty>
        <!--销售预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_ST_ID">SFOD_ST_ID LIKE '%'+#WHERE_SFOD_ST_ID#+'%'</isNotEmpty>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SFOD_PriceIsIncludeTax">SFOD_PriceIsIncludeTax=#WHERE_SFOD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TaxRate">SFOD_TaxRate=#WHERE_SFOD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TotalTax">SFOD_TotalTax=#WHERE_SFOD_TotalTax#</isNotNull>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SFOD_Qty">SFOD_Qty=#WHERE_SFOD_Qty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SFOD_UnitPrice">SFOD_UnitPrice=#WHERE_SFOD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TotalAmount">SFOD_TotalAmount=#WHERE_SFOD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Barcode">SFOD_Barcode LIKE '%'+#WHERE_SFOD_Barcode#+'%'</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_BatchNoNew">SFOD_BatchNoNew LIKE '%'+#WHERE_SFOD_BatchNoNew#+'%'</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Name">SFOD_Name LIKE '%'+#WHERE_SFOD_Name#+'%'</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Specification">SFOD_Specification LIKE '%'+#WHERE_SFOD_Specification#+'%'</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_UOM">SFOD_UOM LIKE '%'+#WHERE_SFOD_UOM#+'%'</isNotEmpty>
        <!--汽修商组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_AutoFactoryOrgID">SFOD_AutoFactoryOrgID LIKE '%'+#WHERE_SFOD_AutoFactoryOrgID#+'%'</isNotEmpty>
        <!--汽修商组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_AutoFactoryOrgName">SFOD_AutoFactoryOrgName LIKE '%'+#WHERE_SFOD_AutoFactoryOrgName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Remark">SFOD_Remark LIKE '%'+#WHERE_SFOD_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SFOD_IsValid">SFOD_IsValid=#WHERE_SFOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_CreatedBy">SFOD_CreatedBy LIKE '%'+#WHERE_SFOD_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_UpdatedBy">SFOD_UpdatedBy LIKE '%'+#WHERE_SFOD_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SFOD_VersionNo">SFOD_VersionNo=#WHERE_SFOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_TransID">SFOD_TransID LIKE '%'+#WHERE_SFOD_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY SFOD_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[销售预测订单明细]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLSD_SalesForecastOrderDetail" parameterClass="MDLSD_SalesForecastOrderDetail" resultClass="int">
      SELECT COUNT(SFOD_ID) 'RecordCount'
      FROM SD_SalesForecastOrderDetail
      <dynamic prepend="WHERE">
        <!--销售预测订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_ID">SFOD_ID=#WHERE_SFOD_ID#</isNotEmpty>
        <!--销售预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_ST_ID">SFOD_ST_ID=#WHERE_SFOD_ST_ID#</isNotEmpty>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SFOD_PriceIsIncludeTax">SFOD_PriceIsIncludeTax=#WHERE_SFOD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TaxRate">SFOD_TaxRate=#WHERE_SFOD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TotalTax">SFOD_TotalTax=#WHERE_SFOD_TotalTax#</isNotNull>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SFOD_Qty">SFOD_Qty=#WHERE_SFOD_Qty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SFOD_UnitPrice">SFOD_UnitPrice=#WHERE_SFOD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TotalAmount">SFOD_TotalAmount=#WHERE_SFOD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Barcode">SFOD_Barcode=#WHERE_SFOD_Barcode#</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_BatchNoNew">SFOD_BatchNoNew=#WHERE_SFOD_BatchNoNew#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Name">SFOD_Name=#WHERE_SFOD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Specification">SFOD_Specification=#WHERE_SFOD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_UOM">SFOD_UOM=#WHERE_SFOD_UOM#</isNotEmpty>
        <!--汽修商组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_AutoFactoryOrgID">SFOD_AutoFactoryOrgID=#WHERE_SFOD_AutoFactoryOrgID#</isNotEmpty>
        <!--汽修商组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_AutoFactoryOrgName">SFOD_AutoFactoryOrgName=#WHERE_SFOD_AutoFactoryOrgName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Remark">SFOD_Remark=#WHERE_SFOD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SFOD_IsValid">SFOD_IsValid=#WHERE_SFOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_CreatedBy">SFOD_CreatedBy=#WHERE_SFOD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_UpdatedBy">SFOD_UpdatedBy=#WHERE_SFOD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SFOD_VersionNo">SFOD_VersionNo=#WHERE_SFOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_TransID">SFOD_TransID=#WHERE_SFOD_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[销售预测订单明细]信息-->
    <update id="COMM_SQL_UpdateMDLSD_SalesForecastOrderDetail" parameterClass="MDLSD_SalesForecastOrderDetail" >
      UPDATE SD_SalesForecastOrderDetail
      SET
      SFOD_UpdatedTime=GETDATE(),
      SFOD_VersionNo=SFOD_VersionNo+1
      <isNotEmpty prepend="," property="SFOD_ST_ID">SFOD_ST_ID=#SFOD_ST_ID#</isNotEmpty>
      <isNotNull prepend="," property="SFOD_PriceIsIncludeTax">SFOD_PriceIsIncludeTax=#SFOD_PriceIsIncludeTax#</isNotNull>
      <isNotNull prepend="," property="SFOD_TaxRate">SFOD_TaxRate=#SFOD_TaxRate#</isNotNull>
      <isNotNull prepend="," property="SFOD_TotalTax">SFOD_TotalTax=#SFOD_TotalTax#</isNotNull>
      <isNotNull prepend="," property="SFOD_Qty">SFOD_Qty=#SFOD_Qty#</isNotNull>
      <isNotNull prepend="," property="SFOD_UnitPrice">SFOD_UnitPrice=#SFOD_UnitPrice#</isNotNull>
      <isNotNull prepend="," property="SFOD_TotalAmount">SFOD_TotalAmount=#SFOD_TotalAmount#</isNotNull>
      <isNotEmpty prepend="," property="SFOD_Barcode">SFOD_Barcode=#SFOD_Barcode#</isNotEmpty>
      <isNotEmpty prepend="," property="SFOD_BatchNoNew">SFOD_BatchNoNew=#SFOD_BatchNoNew#</isNotEmpty>
      <isNotEmpty prepend="," property="SFOD_Name">SFOD_Name=#SFOD_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="SFOD_Specification">SFOD_Specification=#SFOD_Specification#</isNotEmpty>
      <isNotEmpty prepend="," property="SFOD_UOM">SFOD_UOM=#SFOD_UOM#</isNotEmpty>
      <isNotEmpty prepend="," property="SFOD_AutoFactoryOrgID">SFOD_AutoFactoryOrgID=#SFOD_AutoFactoryOrgID#</isNotEmpty>
      <isNotEmpty prepend="," property="SFOD_AutoFactoryOrgName">SFOD_AutoFactoryOrgName=#SFOD_AutoFactoryOrgName#</isNotEmpty>
      <isNotEmpty prepend="," property="SFOD_Remark">SFOD_Remark=#SFOD_Remark#</isNotEmpty>
      <isNotNull prepend="," property="SFOD_IsValid">SFOD_IsValid=#SFOD_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="SFOD_CreatedBy">SFOD_CreatedBy=#SFOD_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="SFOD_CreatedTime">SFOD_CreatedTime=#SFOD_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="SFOD_UpdatedBy">SFOD_UpdatedBy=#SFOD_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="SFOD_TransID">SFOD_TransID=#SFOD_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--销售预测订单明细ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_ID">SFOD_ID=#WHERE_SFOD_ID#</isNotEmpty>
        <!--销售预测订单ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_ST_ID">SFOD_ST_ID=#WHERE_SFOD_ST_ID#</isNotEmpty>
        <!--价格是否含税-->
        <isNotNull prepend="AND" property="WHERE_SFOD_PriceIsIncludeTax">SFOD_PriceIsIncludeTax=#WHERE_SFOD_PriceIsIncludeTax#</isNotNull>
        <!--税率-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TaxRate">SFOD_TaxRate=#WHERE_SFOD_TaxRate#</isNotNull>
        <!--税额-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TotalTax">SFOD_TotalTax=#WHERE_SFOD_TotalTax#</isNotNull>
        <!--数量-->
        <isNotNull prepend="AND" property="WHERE_SFOD_Qty">SFOD_Qty=#WHERE_SFOD_Qty#</isNotNull>
        <!--单价-->
        <isNotNull prepend="AND" property="WHERE_SFOD_UnitPrice">SFOD_UnitPrice=#WHERE_SFOD_UnitPrice#</isNotNull>
        <!--总金额-->
        <isNotNull prepend="AND" property="WHERE_SFOD_TotalAmount">SFOD_TotalAmount=#WHERE_SFOD_TotalAmount#</isNotNull>
        <!--配件条码-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Barcode">SFOD_Barcode=#WHERE_SFOD_Barcode#</isNotEmpty>
        <!--配件批次号（汽修厂用）-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_BatchNoNew">SFOD_BatchNoNew=#WHERE_SFOD_BatchNoNew#</isNotEmpty>
        <!--配件名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Name">SFOD_Name=#WHERE_SFOD_Name#</isNotEmpty>
        <!--配件规格型号-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Specification">SFOD_Specification=#WHERE_SFOD_Specification#</isNotEmpty>
        <!--单位-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_UOM">SFOD_UOM=#WHERE_SFOD_UOM#</isNotEmpty>
        <!--汽修商组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_AutoFactoryOrgID">SFOD_AutoFactoryOrgID=#WHERE_SFOD_AutoFactoryOrgID#</isNotEmpty>
        <!--汽修商组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_AutoFactoryOrgName">SFOD_AutoFactoryOrgName=#WHERE_SFOD_AutoFactoryOrgName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_Remark">SFOD_Remark=#WHERE_SFOD_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_SFOD_IsValid">SFOD_IsValid=#WHERE_SFOD_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_CreatedBy">SFOD_CreatedBy=#WHERE_SFOD_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">SFOD_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_UpdatedBy">SFOD_UpdatedBy=#WHERE_SFOD_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">SFOD_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_SFOD_VersionNo">SFOD_VersionNo=#WHERE_SFOD_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_SFOD_TransID">SFOD_TransID=#WHERE_SFOD_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[销售预测订单明细]信息-->
    <delete id="COMM_SQL_DELETE_MDLSD_SalesForecastOrderDetail" parameterClass="List">
      DELETE FROM SD_SalesForecastOrderDetail
      WHERE SFOD_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_SFOD_ID#
      </iterate>
    </delete>

    <!--新增[系统作业]信息-->
    <insert id="COMM_SQL_INSERT_MDLCSM_BatchJob" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        CSM_BatchJob
        (
        <!--ID-->
        BJ_ID,
        <!--组织ID-->
        BJ_Org_ID,
        <!--组织名称-->
        BJ_Org_Name,
        <!--作业编码-->
        BJ_Code,
        <!--作业名称-->
        BJ_Name,
        <!--作业分组-->
        BJ_GroupName,
        <!--作业方式（消息推送，调度执行）-->
        BJ_Pattern,
        <!--消息类别（PC端，APP端，微信）-->
        BJ_PushMode,
        <!--业务类别（验车，交强险到期，商业险到期，换驾驶证，生日祝福）-->
        BJ_BusinessType,
        <!--类全名-->
        BJ_FullClassName,
        <!--执行类型-->
        BJ_ExecutionType,
        <!--执行一次的时间-->
        BJ_ExecuteTime,
        <!--执行间隔-->
        BJ_ExecutionInterval,
        <!--执行间隔值-->
        BJ_ExecutionIntervalValue,
        <!--日执行类型-->
        BJ_DayExecutionType,
        <!--日一次执行时间-->
        BJ_DayExecutionTime,
        <!--日执行间隔-->
        BJ_DayExecutionFrequency,
        <!--日执行间隔值-->
        BJ_DayExecutionIntervalValue,
        <!--日执行间隔的开始时间-->
        BJ_DayExecutionStartTime,
        <!--日执行间隔的结束时间-->
        BJ_DayExecutionEndTime,
        <!--计划生效时间-->
        BJ_PlanStartDate,
        <!--计划失效时间-->
        BJ_PlanEndDate,
        <!--Cron表达式-->
        BJ_CronExpression,
        <!--计划说明-->
        BJ_Remark,
        <!--有效-->
        BJ_IsValid,
        <!--创建人-->
        BJ_CreatedBy,
        <!--创建时间-->
        BJ_CreatedTime,
        <!--修改人-->
        BJ_UpdatedBy,
        <!--修改时间-->
        BJ_UpdatedTime,
        <!--版本号-->
        BJ_VersionNo,
        <!--事务编号-->
        BJ_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].BJ_ID#,
        <!--组织ID-->
        #[].BJ_Org_ID#,
        <!--组织名称-->
        #[].BJ_Org_Name#,
        <!--作业编码-->
        #[].BJ_Code#,
        <!--作业名称-->
        #[].BJ_Name#,
        <!--作业分组-->
        #[].BJ_GroupName#,
        <!--作业方式（消息推送，调度执行）-->
        #[].BJ_Pattern#,
        <!--消息类别（PC端，APP端，微信）-->
        #[].BJ_PushMode#,
        <!--业务类别（验车，交强险到期，商业险到期，换驾驶证，生日祝福）-->
        #[].BJ_BusinessType#,
        <!--类全名-->
        #[].BJ_FullClassName#,
        <!--执行类型-->
        #[].BJ_ExecutionType#,
        <!--执行一次的时间-->
        #[].BJ_ExecuteTime#,
        <!--执行间隔-->
        #[].BJ_ExecutionInterval#,
        <!--执行间隔值-->
        #[].BJ_ExecutionIntervalValue#,
        <!--日执行类型-->
        #[].BJ_DayExecutionType#,
        <!--日一次执行时间-->
        #[].BJ_DayExecutionTime#,
        <!--日执行间隔-->
        #[].BJ_DayExecutionFrequency#,
        <!--日执行间隔值-->
        #[].BJ_DayExecutionIntervalValue#,
        <!--日执行间隔的开始时间-->
        #[].BJ_DayExecutionStartTime#,
        <!--日执行间隔的结束时间-->
        #[].BJ_DayExecutionEndTime#,
        <!--计划生效时间-->
        #[].BJ_PlanStartDate#,
        <!--计划失效时间-->
        #[].BJ_PlanEndDate#,
        <!--Cron表达式-->
        #[].BJ_CronExpression#,
        <!--计划说明-->
        #[].BJ_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].BJ_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].BJ_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].BJ_TransID#
        )
      </iterate>
    </insert>

    <!--查询[系统作业]信息（精确条件）-->
    <select id="COMM_SQL_MDLCSM_BatchJob" parameterClass="MDLCSM_BatchJob" resultClass="MDLCSM_BatchJob">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(BJ_ID)
      FROM CSM_BatchJob
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ID">BJ_ID=#WHERE_BJ_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Org_ID">BJ_Org_ID=#WHERE_BJ_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Org_Name">BJ_Org_Name=#WHERE_BJ_Org_Name#</isNotEmpty>
        <!--作业编码-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Code">BJ_Code=#WHERE_BJ_Code#</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Name">BJ_Name=#WHERE_BJ_Name#</isNotEmpty>
        <!--作业分组-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_GroupName">BJ_GroupName=#WHERE_BJ_GroupName#</isNotEmpty>
        <!--作业方式（消息推送，调度执行）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Pattern">BJ_Pattern=#WHERE_BJ_Pattern#</isNotEmpty>
        <!--消息类别（PC端，APP端，微信）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_PushMode">BJ_PushMode=#WHERE_BJ_PushMode#</isNotEmpty>
        <!--业务类别（验车，交强险到期，商业险到期，换驾驶证，生日祝福）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_BusinessType">BJ_BusinessType=#WHERE_BJ_BusinessType#</isNotEmpty>
        <!--类全名-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_FullClassName">BJ_FullClassName=#WHERE_BJ_FullClassName#</isNotEmpty>
        <!--执行类型-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ExecutionType">BJ_ExecutionType=#WHERE_BJ_ExecutionType#</isNotEmpty>
        <!--执行一次的时间-->
        <isNotNull prepend="" property="_ExecuteTimeStart">
          <isNotNull prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime BETWEEN #_ExecuteTimeStart# AND #_ExecuteTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime <![CDATA[>=]]> #_ExecuteTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExecuteTimeStart">
          <isNotNull prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime <![CDATA[<=]]> #_ExecuteTimeEnd#</isNotNull>
        </isNull>
        <!--执行间隔-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ExecutionInterval">BJ_ExecutionInterval=#WHERE_BJ_ExecutionInterval#</isNotEmpty>
        <!--执行间隔值-->
        <isNotNull prepend="AND" property="WHERE_BJ_ExecutionIntervalValue">BJ_ExecutionIntervalValue=#WHERE_BJ_ExecutionIntervalValue#</isNotNull>
        <!--日执行类型-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionType">BJ_DayExecutionType=#WHERE_BJ_DayExecutionType#</isNotEmpty>
        <!--日一次执行时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionTime">BJ_DayExecutionTime=#WHERE_BJ_DayExecutionTime#</isNotEmpty>
        <!--日执行间隔-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionFrequency">BJ_DayExecutionFrequency=#WHERE_BJ_DayExecutionFrequency#</isNotEmpty>
        <!--日执行间隔值-->
        <isNotNull prepend="AND" property="WHERE_BJ_DayExecutionIntervalValue">BJ_DayExecutionIntervalValue=#WHERE_BJ_DayExecutionIntervalValue#</isNotNull>
        <!--日执行间隔的开始时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionStartTime">BJ_DayExecutionStartTime=#WHERE_BJ_DayExecutionStartTime#</isNotEmpty>
        <!--日执行间隔的结束时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionEndTime">BJ_DayExecutionEndTime=#WHERE_BJ_DayExecutionEndTime#</isNotEmpty>
        <!--计划生效时间-->
        <isNotNull prepend="" property="_PlanStartDateStart">
          <isNotNull prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate BETWEEN #_PlanStartDateStart# AND #_PlanStartDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate <![CDATA[>=]]> #_PlanStartDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_PlanStartDateStart">
          <isNotNull prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate <![CDATA[<=]]> #_PlanStartDateEnd#</isNotNull>
        </isNull>
        <!--计划失效时间-->
        <isNotNull prepend="" property="_PlanEndDateStart">
          <isNotNull prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate BETWEEN #_PlanEndDateStart# AND #_PlanEndDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate <![CDATA[>=]]> #_PlanEndDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_PlanEndDateStart">
          <isNotNull prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate <![CDATA[<=]]> #_PlanEndDateEnd#</isNotNull>
        </isNull>
        <!--Cron表达式-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_CronExpression">BJ_CronExpression=#WHERE_BJ_CronExpression#</isNotEmpty>
        <!--计划说明-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Remark">BJ_Remark=#WHERE_BJ_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BJ_IsValid">BJ_IsValid=#WHERE_BJ_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_CreatedBy">BJ_CreatedBy=#WHERE_BJ_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_UpdatedBy">BJ_UpdatedBy=#WHERE_BJ_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BJ_VersionNo">BJ_VersionNo=#WHERE_BJ_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_TransID">BJ_TransID=#WHERE_BJ_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      BJ_ID,
      BJ_Org_ID,
      BJ_Org_Name,
      BJ_Code,
      BJ_Name,
      BJ_GroupName,
      BJ_Pattern,
      BJ_PushMode,
      BJ_BusinessType,
      BJ_FullClassName,
      BJ_ExecutionType,
      BJ_ExecuteTime,
      BJ_ExecutionInterval,
      BJ_ExecutionIntervalValue,
      BJ_DayExecutionType,
      BJ_DayExecutionTime,
      BJ_DayExecutionFrequency,
      BJ_DayExecutionIntervalValue,
      BJ_DayExecutionStartTime,
      BJ_DayExecutionEndTime,
      BJ_PlanStartDate,
      BJ_PlanEndDate,
      BJ_CronExpression,
      BJ_Remark,
      BJ_IsValid,
      BJ_CreatedBy,
      BJ_CreatedTime,
      BJ_UpdatedBy,
      BJ_UpdatedTime,
      BJ_VersionNo,
      BJ_TransID
      FROM CSM_BatchJob
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ID">BJ_ID=#WHERE_BJ_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Org_ID">BJ_Org_ID=#WHERE_BJ_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Org_Name">BJ_Org_Name=#WHERE_BJ_Org_Name#</isNotEmpty>
        <!--作业编码-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Code">BJ_Code=#WHERE_BJ_Code#</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Name">BJ_Name=#WHERE_BJ_Name#</isNotEmpty>
        <!--作业分组-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_GroupName">BJ_GroupName=#WHERE_BJ_GroupName#</isNotEmpty>
        <!--作业方式（消息推送，调度执行）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Pattern">BJ_Pattern=#WHERE_BJ_Pattern#</isNotEmpty>
        <!--消息类别（PC端，APP端，微信）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_PushMode">BJ_PushMode=#WHERE_BJ_PushMode#</isNotEmpty>
        <!--业务类别（验车，交强险到期，商业险到期，换驾驶证，生日祝福）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_BusinessType">BJ_BusinessType=#WHERE_BJ_BusinessType#</isNotEmpty>
        <!--类全名-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_FullClassName">BJ_FullClassName=#WHERE_BJ_FullClassName#</isNotEmpty>
        <!--执行类型-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ExecutionType">BJ_ExecutionType=#WHERE_BJ_ExecutionType#</isNotEmpty>
        <!--执行一次的时间-->
        <isNotNull prepend="" property="_ExecuteTimeStart">
          <isNotNull prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime BETWEEN #_ExecuteTimeStart# AND #_ExecuteTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime <![CDATA[>=]]> #_ExecuteTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExecuteTimeStart">
          <isNotNull prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime <![CDATA[<=]]> #_ExecuteTimeEnd#</isNotNull>
        </isNull>
        <!--执行间隔-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ExecutionInterval">BJ_ExecutionInterval=#WHERE_BJ_ExecutionInterval#</isNotEmpty>
        <!--执行间隔值-->
        <isNotNull prepend="AND" property="WHERE_BJ_ExecutionIntervalValue">BJ_ExecutionIntervalValue=#WHERE_BJ_ExecutionIntervalValue#</isNotNull>
        <!--日执行类型-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionType">BJ_DayExecutionType=#WHERE_BJ_DayExecutionType#</isNotEmpty>
        <!--日一次执行时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionTime">BJ_DayExecutionTime=#WHERE_BJ_DayExecutionTime#</isNotEmpty>
        <!--日执行间隔-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionFrequency">BJ_DayExecutionFrequency=#WHERE_BJ_DayExecutionFrequency#</isNotEmpty>
        <!--日执行间隔值-->
        <isNotNull prepend="AND" property="WHERE_BJ_DayExecutionIntervalValue">BJ_DayExecutionIntervalValue=#WHERE_BJ_DayExecutionIntervalValue#</isNotNull>
        <!--日执行间隔的开始时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionStartTime">BJ_DayExecutionStartTime=#WHERE_BJ_DayExecutionStartTime#</isNotEmpty>
        <!--日执行间隔的结束时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionEndTime">BJ_DayExecutionEndTime=#WHERE_BJ_DayExecutionEndTime#</isNotEmpty>
        <!--计划生效时间-->
        <isNotNull prepend="" property="_PlanStartDateStart">
          <isNotNull prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate BETWEEN #_PlanStartDateStart# AND #_PlanStartDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate <![CDATA[>=]]> #_PlanStartDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_PlanStartDateStart">
          <isNotNull prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate <![CDATA[<=]]> #_PlanStartDateEnd#</isNotNull>
        </isNull>
        <!--计划失效时间-->
        <isNotNull prepend="" property="_PlanEndDateStart">
          <isNotNull prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate BETWEEN #_PlanEndDateStart# AND #_PlanEndDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate <![CDATA[>=]]> #_PlanEndDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_PlanEndDateStart">
          <isNotNull prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate <![CDATA[<=]]> #_PlanEndDateEnd#</isNotNull>
        </isNull>
        <!--Cron表达式-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_CronExpression">BJ_CronExpression=#WHERE_BJ_CronExpression#</isNotEmpty>
        <!--计划说明-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Remark">BJ_Remark=#WHERE_BJ_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BJ_IsValid">BJ_IsValid=#WHERE_BJ_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_CreatedBy">BJ_CreatedBy=#WHERE_BJ_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_UpdatedBy">BJ_UpdatedBy=#WHERE_BJ_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BJ_VersionNo">BJ_VersionNo=#WHERE_BJ_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_TransID">BJ_TransID=#WHERE_BJ_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY BJ_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[系统作业]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLCSM_BatchJob" parameterClass="MDLCSM_BatchJob" resultClass="MDLCSM_BatchJob">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(BJ_ID)
      FROM CSM_BatchJob
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ID">BJ_ID=#WHERE_BJ_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Org_ID">BJ_Org_ID LIKE '%'+#WHERE_BJ_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Org_Name">BJ_Org_Name LIKE '%'+#WHERE_BJ_Org_Name#+'%'</isNotEmpty>
        <!--作业编码-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Code">BJ_Code LIKE '%'+#WHERE_BJ_Code#+'%'</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Name">BJ_Name LIKE '%'+#WHERE_BJ_Name#+'%'</isNotEmpty>
        <!--作业分组-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_GroupName">BJ_GroupName LIKE '%'+#WHERE_BJ_GroupName#+'%'</isNotEmpty>
        <!--作业方式（消息推送，调度执行）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Pattern">BJ_Pattern LIKE '%'+#WHERE_BJ_Pattern#+'%'</isNotEmpty>
        <!--消息类别（PC端，APP端，微信）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_PushMode">BJ_PushMode LIKE '%'+#WHERE_BJ_PushMode#+'%'</isNotEmpty>
        <!--业务类别（验车，交强险到期，商业险到期，换驾驶证，生日祝福）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_BusinessType">BJ_BusinessType LIKE '%'+#WHERE_BJ_BusinessType#+'%'</isNotEmpty>
        <!--类全名-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_FullClassName">BJ_FullClassName LIKE '%'+#WHERE_BJ_FullClassName#+'%'</isNotEmpty>
        <!--执行类型-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ExecutionType">BJ_ExecutionType LIKE '%'+#WHERE_BJ_ExecutionType#+'%'</isNotEmpty>
        <!--执行一次的时间-->
        <isNotNull prepend="" property="_ExecuteTimeStart">
          <isNotNull prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime BETWEEN #_ExecuteTimeStart# AND #_ExecuteTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime <![CDATA[>=]]> #_ExecuteTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExecuteTimeStart">
          <isNotNull prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime <![CDATA[<=]]> #_ExecuteTimeEnd#</isNotNull>
        </isNull>
        <!--执行间隔-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ExecutionInterval">BJ_ExecutionInterval LIKE '%'+#WHERE_BJ_ExecutionInterval#+'%'</isNotEmpty>
        <!--执行间隔值-->
        <isNotNull prepend="AND" property="WHERE_BJ_ExecutionIntervalValue">BJ_ExecutionIntervalValue=#WHERE_BJ_ExecutionIntervalValue#</isNotNull>
        <!--日执行类型-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionType">BJ_DayExecutionType LIKE '%'+#WHERE_BJ_DayExecutionType#+'%'</isNotEmpty>
        <!--日一次执行时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionTime">BJ_DayExecutionTime LIKE '%'+#WHERE_BJ_DayExecutionTime#+'%'</isNotEmpty>
        <!--日执行间隔-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionFrequency">BJ_DayExecutionFrequency LIKE '%'+#WHERE_BJ_DayExecutionFrequency#+'%'</isNotEmpty>
        <!--日执行间隔值-->
        <isNotNull prepend="AND" property="WHERE_BJ_DayExecutionIntervalValue">BJ_DayExecutionIntervalValue=#WHERE_BJ_DayExecutionIntervalValue#</isNotNull>
        <!--日执行间隔的开始时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionStartTime">BJ_DayExecutionStartTime LIKE '%'+#WHERE_BJ_DayExecutionStartTime#+'%'</isNotEmpty>
        <!--日执行间隔的结束时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionEndTime">BJ_DayExecutionEndTime LIKE '%'+#WHERE_BJ_DayExecutionEndTime#+'%'</isNotEmpty>
        <!--计划生效时间-->
        <isNotNull prepend="" property="_PlanStartDateStart">
          <isNotNull prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate BETWEEN #_PlanStartDateStart# AND #_PlanStartDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate <![CDATA[>=]]> #_PlanStartDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_PlanStartDateStart">
          <isNotNull prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate <![CDATA[<=]]> #_PlanStartDateEnd#</isNotNull>
        </isNull>
        <!--计划失效时间-->
        <isNotNull prepend="" property="_PlanEndDateStart">
          <isNotNull prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate BETWEEN #_PlanEndDateStart# AND #_PlanEndDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate <![CDATA[>=]]> #_PlanEndDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_PlanEndDateStart">
          <isNotNull prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate <![CDATA[<=]]> #_PlanEndDateEnd#</isNotNull>
        </isNull>
        <!--Cron表达式-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_CronExpression">BJ_CronExpression LIKE '%'+#WHERE_BJ_CronExpression#+'%'</isNotEmpty>
        <!--计划说明-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Remark">BJ_Remark LIKE '%'+#WHERE_BJ_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BJ_IsValid">BJ_IsValid=#WHERE_BJ_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_CreatedBy">BJ_CreatedBy LIKE '%'+#WHERE_BJ_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_UpdatedBy">BJ_UpdatedBy LIKE '%'+#WHERE_BJ_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BJ_VersionNo">BJ_VersionNo=#WHERE_BJ_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_TransID">BJ_TransID LIKE '%'+#WHERE_BJ_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      BJ_ID,
      BJ_Org_ID,
      BJ_Org_Name,
      BJ_Code,
      BJ_Name,
      BJ_GroupName,
      BJ_Pattern,
      BJ_PushMode,
      BJ_BusinessType,
      BJ_FullClassName,
      BJ_ExecutionType,
      BJ_ExecuteTime,
      BJ_ExecutionInterval,
      BJ_ExecutionIntervalValue,
      BJ_DayExecutionType,
      BJ_DayExecutionTime,
      BJ_DayExecutionFrequency,
      BJ_DayExecutionIntervalValue,
      BJ_DayExecutionStartTime,
      BJ_DayExecutionEndTime,
      BJ_PlanStartDate,
      BJ_PlanEndDate,
      BJ_CronExpression,
      BJ_Remark,
      BJ_IsValid,
      BJ_CreatedBy,
      BJ_CreatedTime,
      BJ_UpdatedBy,
      BJ_UpdatedTime,
      BJ_VersionNo,
      BJ_TransID
      FROM CSM_BatchJob
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ID">BJ_ID=#WHERE_BJ_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Org_ID">BJ_Org_ID LIKE '%'+#WHERE_BJ_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Org_Name">BJ_Org_Name LIKE '%'+#WHERE_BJ_Org_Name#+'%'</isNotEmpty>
        <!--作业编码-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Code">BJ_Code LIKE '%'+#WHERE_BJ_Code#+'%'</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Name">BJ_Name LIKE '%'+#WHERE_BJ_Name#+'%'</isNotEmpty>
        <!--作业分组-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_GroupName">BJ_GroupName LIKE '%'+#WHERE_BJ_GroupName#+'%'</isNotEmpty>
        <!--作业方式（消息推送，调度执行）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Pattern">BJ_Pattern LIKE '%'+#WHERE_BJ_Pattern#+'%'</isNotEmpty>
        <!--消息类别（PC端，APP端，微信）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_PushMode">BJ_PushMode LIKE '%'+#WHERE_BJ_PushMode#+'%'</isNotEmpty>
        <!--业务类别（验车，交强险到期，商业险到期，换驾驶证，生日祝福）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_BusinessType">BJ_BusinessType LIKE '%'+#WHERE_BJ_BusinessType#+'%'</isNotEmpty>
        <!--类全名-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_FullClassName">BJ_FullClassName LIKE '%'+#WHERE_BJ_FullClassName#+'%'</isNotEmpty>
        <!--执行类型-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ExecutionType">BJ_ExecutionType LIKE '%'+#WHERE_BJ_ExecutionType#+'%'</isNotEmpty>
        <!--执行一次的时间-->
        <isNotNull prepend="" property="_ExecuteTimeStart">
          <isNotNull prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime BETWEEN #_ExecuteTimeStart# AND #_ExecuteTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime <![CDATA[>=]]> #_ExecuteTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExecuteTimeStart">
          <isNotNull prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime <![CDATA[<=]]> #_ExecuteTimeEnd#</isNotNull>
        </isNull>
        <!--执行间隔-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ExecutionInterval">BJ_ExecutionInterval LIKE '%'+#WHERE_BJ_ExecutionInterval#+'%'</isNotEmpty>
        <!--执行间隔值-->
        <isNotNull prepend="AND" property="WHERE_BJ_ExecutionIntervalValue">BJ_ExecutionIntervalValue=#WHERE_BJ_ExecutionIntervalValue#</isNotNull>
        <!--日执行类型-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionType">BJ_DayExecutionType LIKE '%'+#WHERE_BJ_DayExecutionType#+'%'</isNotEmpty>
        <!--日一次执行时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionTime">BJ_DayExecutionTime LIKE '%'+#WHERE_BJ_DayExecutionTime#+'%'</isNotEmpty>
        <!--日执行间隔-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionFrequency">BJ_DayExecutionFrequency LIKE '%'+#WHERE_BJ_DayExecutionFrequency#+'%'</isNotEmpty>
        <!--日执行间隔值-->
        <isNotNull prepend="AND" property="WHERE_BJ_DayExecutionIntervalValue">BJ_DayExecutionIntervalValue=#WHERE_BJ_DayExecutionIntervalValue#</isNotNull>
        <!--日执行间隔的开始时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionStartTime">BJ_DayExecutionStartTime LIKE '%'+#WHERE_BJ_DayExecutionStartTime#+'%'</isNotEmpty>
        <!--日执行间隔的结束时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionEndTime">BJ_DayExecutionEndTime LIKE '%'+#WHERE_BJ_DayExecutionEndTime#+'%'</isNotEmpty>
        <!--计划生效时间-->
        <isNotNull prepend="" property="_PlanStartDateStart">
          <isNotNull prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate BETWEEN #_PlanStartDateStart# AND #_PlanStartDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate <![CDATA[>=]]> #_PlanStartDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_PlanStartDateStart">
          <isNotNull prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate <![CDATA[<=]]> #_PlanStartDateEnd#</isNotNull>
        </isNull>
        <!--计划失效时间-->
        <isNotNull prepend="" property="_PlanEndDateStart">
          <isNotNull prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate BETWEEN #_PlanEndDateStart# AND #_PlanEndDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate <![CDATA[>=]]> #_PlanEndDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_PlanEndDateStart">
          <isNotNull prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate <![CDATA[<=]]> #_PlanEndDateEnd#</isNotNull>
        </isNull>
        <!--Cron表达式-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_CronExpression">BJ_CronExpression LIKE '%'+#WHERE_BJ_CronExpression#+'%'</isNotEmpty>
        <!--计划说明-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Remark">BJ_Remark LIKE '%'+#WHERE_BJ_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BJ_IsValid">BJ_IsValid=#WHERE_BJ_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_CreatedBy">BJ_CreatedBy LIKE '%'+#WHERE_BJ_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_UpdatedBy">BJ_UpdatedBy LIKE '%'+#WHERE_BJ_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BJ_VersionNo">BJ_VersionNo=#WHERE_BJ_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_TransID">BJ_TransID LIKE '%'+#WHERE_BJ_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY BJ_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[系统作业]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLCSM_BatchJob" parameterClass="MDLCSM_BatchJob" resultClass="int">
      SELECT COUNT(BJ_ID) 'RecordCount'
      FROM CSM_BatchJob
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ID">BJ_ID=#WHERE_BJ_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Org_ID">BJ_Org_ID=#WHERE_BJ_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Org_Name">BJ_Org_Name=#WHERE_BJ_Org_Name#</isNotEmpty>
        <!--作业编码-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Code">BJ_Code=#WHERE_BJ_Code#</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Name">BJ_Name=#WHERE_BJ_Name#</isNotEmpty>
        <!--作业分组-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_GroupName">BJ_GroupName=#WHERE_BJ_GroupName#</isNotEmpty>
        <!--作业方式（消息推送，调度执行）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Pattern">BJ_Pattern=#WHERE_BJ_Pattern#</isNotEmpty>
        <!--消息类别（PC端，APP端，微信）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_PushMode">BJ_PushMode=#WHERE_BJ_PushMode#</isNotEmpty>
        <!--业务类别（验车，交强险到期，商业险到期，换驾驶证，生日祝福）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_BusinessType">BJ_BusinessType=#WHERE_BJ_BusinessType#</isNotEmpty>
        <!--类全名-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_FullClassName">BJ_FullClassName=#WHERE_BJ_FullClassName#</isNotEmpty>
        <!--执行类型-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ExecutionType">BJ_ExecutionType=#WHERE_BJ_ExecutionType#</isNotEmpty>
        <!--执行一次的时间-->
        <isNotNull prepend="" property="_ExecuteTimeStart">
          <isNotNull prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime BETWEEN #_ExecuteTimeStart# AND #_ExecuteTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime <![CDATA[>=]]> #_ExecuteTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExecuteTimeStart">
          <isNotNull prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime <![CDATA[<=]]> #_ExecuteTimeEnd#</isNotNull>
        </isNull>
        <!--执行间隔-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ExecutionInterval">BJ_ExecutionInterval=#WHERE_BJ_ExecutionInterval#</isNotEmpty>
        <!--执行间隔值-->
        <isNotNull prepend="AND" property="WHERE_BJ_ExecutionIntervalValue">BJ_ExecutionIntervalValue=#WHERE_BJ_ExecutionIntervalValue#</isNotNull>
        <!--日执行类型-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionType">BJ_DayExecutionType=#WHERE_BJ_DayExecutionType#</isNotEmpty>
        <!--日一次执行时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionTime">BJ_DayExecutionTime=#WHERE_BJ_DayExecutionTime#</isNotEmpty>
        <!--日执行间隔-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionFrequency">BJ_DayExecutionFrequency=#WHERE_BJ_DayExecutionFrequency#</isNotEmpty>
        <!--日执行间隔值-->
        <isNotNull prepend="AND" property="WHERE_BJ_DayExecutionIntervalValue">BJ_DayExecutionIntervalValue=#WHERE_BJ_DayExecutionIntervalValue#</isNotNull>
        <!--日执行间隔的开始时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionStartTime">BJ_DayExecutionStartTime=#WHERE_BJ_DayExecutionStartTime#</isNotEmpty>
        <!--日执行间隔的结束时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionEndTime">BJ_DayExecutionEndTime=#WHERE_BJ_DayExecutionEndTime#</isNotEmpty>
        <!--计划生效时间-->
        <isNotNull prepend="" property="_PlanStartDateStart">
          <isNotNull prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate BETWEEN #_PlanStartDateStart# AND #_PlanStartDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate <![CDATA[>=]]> #_PlanStartDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_PlanStartDateStart">
          <isNotNull prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate <![CDATA[<=]]> #_PlanStartDateEnd#</isNotNull>
        </isNull>
        <!--计划失效时间-->
        <isNotNull prepend="" property="_PlanEndDateStart">
          <isNotNull prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate BETWEEN #_PlanEndDateStart# AND #_PlanEndDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate <![CDATA[>=]]> #_PlanEndDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_PlanEndDateStart">
          <isNotNull prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate <![CDATA[<=]]> #_PlanEndDateEnd#</isNotNull>
        </isNull>
        <!--Cron表达式-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_CronExpression">BJ_CronExpression=#WHERE_BJ_CronExpression#</isNotEmpty>
        <!--计划说明-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Remark">BJ_Remark=#WHERE_BJ_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BJ_IsValid">BJ_IsValid=#WHERE_BJ_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_CreatedBy">BJ_CreatedBy=#WHERE_BJ_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_UpdatedBy">BJ_UpdatedBy=#WHERE_BJ_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BJ_VersionNo">BJ_VersionNo=#WHERE_BJ_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_TransID">BJ_TransID=#WHERE_BJ_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[系统作业]信息-->
    <update id="COMM_SQL_UpdateMDLCSM_BatchJob" parameterClass="MDLCSM_BatchJob" >
      UPDATE CSM_BatchJob
      SET
      BJ_UpdatedTime=GETDATE(),
      BJ_VersionNo=BJ_VersionNo+1
      <isNotEmpty prepend="," property="BJ_Org_ID">BJ_Org_ID=#BJ_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="BJ_Org_Name">BJ_Org_Name=#BJ_Org_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="BJ_Code">BJ_Code=#BJ_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="BJ_Name">BJ_Name=#BJ_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="BJ_GroupName">BJ_GroupName=#BJ_GroupName#</isNotEmpty>
      <isNotEmpty prepend="," property="BJ_Pattern">BJ_Pattern=#BJ_Pattern#</isNotEmpty>
      <isNotEmpty prepend="," property="BJ_PushMode">BJ_PushMode=#BJ_PushMode#</isNotEmpty>
      <isNotEmpty prepend="," property="BJ_BusinessType">BJ_BusinessType=#BJ_BusinessType#</isNotEmpty>
      <isNotEmpty prepend="," property="BJ_FullClassName">BJ_FullClassName=#BJ_FullClassName#</isNotEmpty>
      <isNotEmpty prepend="," property="BJ_ExecutionType">BJ_ExecutionType=#BJ_ExecutionType#</isNotEmpty>
      <isNotNull prepend="," property="BJ_ExecuteTime">BJ_ExecuteTime=#BJ_ExecuteTime#</isNotNull>
      <isNotEmpty prepend="," property="BJ_ExecutionInterval">BJ_ExecutionInterval=#BJ_ExecutionInterval#</isNotEmpty>
      <isNotNull prepend="," property="BJ_ExecutionIntervalValue">BJ_ExecutionIntervalValue=#BJ_ExecutionIntervalValue#</isNotNull>
      <isNotEmpty prepend="," property="BJ_DayExecutionType">BJ_DayExecutionType=#BJ_DayExecutionType#</isNotEmpty>
      <isNotEmpty prepend="," property="BJ_DayExecutionTime">BJ_DayExecutionTime=#BJ_DayExecutionTime#</isNotEmpty>
      <isNotEmpty prepend="," property="BJ_DayExecutionFrequency">BJ_DayExecutionFrequency=#BJ_DayExecutionFrequency#</isNotEmpty>
      <isNotNull prepend="," property="BJ_DayExecutionIntervalValue">BJ_DayExecutionIntervalValue=#BJ_DayExecutionIntervalValue#</isNotNull>
      <isNotEmpty prepend="," property="BJ_DayExecutionStartTime">BJ_DayExecutionStartTime=#BJ_DayExecutionStartTime#</isNotEmpty>
      <isNotEmpty prepend="," property="BJ_DayExecutionEndTime">BJ_DayExecutionEndTime=#BJ_DayExecutionEndTime#</isNotEmpty>
      <isNotNull prepend="," property="BJ_PlanStartDate">BJ_PlanStartDate=#BJ_PlanStartDate#</isNotNull>
      <isNotNull prepend="," property="BJ_PlanEndDate">BJ_PlanEndDate=#BJ_PlanEndDate#</isNotNull>
      <isNotEmpty prepend="," property="BJ_CronExpression">BJ_CronExpression=#BJ_CronExpression#</isNotEmpty>
      <isNotEmpty prepend="," property="BJ_Remark">BJ_Remark=#BJ_Remark#</isNotEmpty>
      <isNotNull prepend="," property="BJ_IsValid">BJ_IsValid=#BJ_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="BJ_CreatedBy">BJ_CreatedBy=#BJ_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="BJ_CreatedTime">BJ_CreatedTime=#BJ_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="BJ_UpdatedBy">BJ_UpdatedBy=#BJ_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="BJ_TransID">BJ_TransID=#BJ_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ID">BJ_ID=#WHERE_BJ_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Org_ID">BJ_Org_ID=#WHERE_BJ_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Org_Name">BJ_Org_Name=#WHERE_BJ_Org_Name#</isNotEmpty>
        <!--作业编码-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Code">BJ_Code=#WHERE_BJ_Code#</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Name">BJ_Name=#WHERE_BJ_Name#</isNotEmpty>
        <!--作业分组-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_GroupName">BJ_GroupName=#WHERE_BJ_GroupName#</isNotEmpty>
        <!--作业方式（消息推送，调度执行）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Pattern">BJ_Pattern=#WHERE_BJ_Pattern#</isNotEmpty>
        <!--消息类别（PC端，APP端，微信）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_PushMode">BJ_PushMode=#WHERE_BJ_PushMode#</isNotEmpty>
        <!--业务类别（验车，交强险到期，商业险到期，换驾驶证，生日祝福）-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_BusinessType">BJ_BusinessType=#WHERE_BJ_BusinessType#</isNotEmpty>
        <!--类全名-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_FullClassName">BJ_FullClassName=#WHERE_BJ_FullClassName#</isNotEmpty>
        <!--执行类型-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ExecutionType">BJ_ExecutionType=#WHERE_BJ_ExecutionType#</isNotEmpty>
        <!--执行一次的时间-->
        <isNotNull prepend="" property="_ExecuteTimeStart">
          <isNotNull prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime BETWEEN #_ExecuteTimeStart# AND #_ExecuteTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime <![CDATA[>=]]> #_ExecuteTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExecuteTimeStart">
          <isNotNull prepend="AND" property="_ExecuteTimeEnd">BJ_ExecuteTime <![CDATA[<=]]> #_ExecuteTimeEnd#</isNotNull>
        </isNull>
        <!--执行间隔-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_ExecutionInterval">BJ_ExecutionInterval=#WHERE_BJ_ExecutionInterval#</isNotEmpty>
        <!--执行间隔值-->
        <isNotNull prepend="AND" property="WHERE_BJ_ExecutionIntervalValue">BJ_ExecutionIntervalValue=#WHERE_BJ_ExecutionIntervalValue#</isNotNull>
        <!--日执行类型-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionType">BJ_DayExecutionType=#WHERE_BJ_DayExecutionType#</isNotEmpty>
        <!--日一次执行时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionTime">BJ_DayExecutionTime=#WHERE_BJ_DayExecutionTime#</isNotEmpty>
        <!--日执行间隔-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionFrequency">BJ_DayExecutionFrequency=#WHERE_BJ_DayExecutionFrequency#</isNotEmpty>
        <!--日执行间隔值-->
        <isNotNull prepend="AND" property="WHERE_BJ_DayExecutionIntervalValue">BJ_DayExecutionIntervalValue=#WHERE_BJ_DayExecutionIntervalValue#</isNotNull>
        <!--日执行间隔的开始时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionStartTime">BJ_DayExecutionStartTime=#WHERE_BJ_DayExecutionStartTime#</isNotEmpty>
        <!--日执行间隔的结束时间-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_DayExecutionEndTime">BJ_DayExecutionEndTime=#WHERE_BJ_DayExecutionEndTime#</isNotEmpty>
        <!--计划生效时间-->
        <isNotNull prepend="" property="_PlanStartDateStart">
          <isNotNull prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate BETWEEN #_PlanStartDateStart# AND #_PlanStartDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate <![CDATA[>=]]> #_PlanStartDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_PlanStartDateStart">
          <isNotNull prepend="AND" property="_PlanStartDateEnd">BJ_PlanStartDate <![CDATA[<=]]> #_PlanStartDateEnd#</isNotNull>
        </isNull>
        <!--计划失效时间-->
        <isNotNull prepend="" property="_PlanEndDateStart">
          <isNotNull prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate BETWEEN #_PlanEndDateStart# AND #_PlanEndDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate <![CDATA[>=]]> #_PlanEndDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_PlanEndDateStart">
          <isNotNull prepend="AND" property="_PlanEndDateEnd">BJ_PlanEndDate <![CDATA[<=]]> #_PlanEndDateEnd#</isNotNull>
        </isNull>
        <!--Cron表达式-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_CronExpression">BJ_CronExpression=#WHERE_BJ_CronExpression#</isNotEmpty>
        <!--计划说明-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_Remark">BJ_Remark=#WHERE_BJ_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BJ_IsValid">BJ_IsValid=#WHERE_BJ_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_CreatedBy">BJ_CreatedBy=#WHERE_BJ_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJ_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_UpdatedBy">BJ_UpdatedBy=#WHERE_BJ_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJ_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BJ_VersionNo">BJ_VersionNo=#WHERE_BJ_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BJ_TransID">BJ_TransID=#WHERE_BJ_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[系统作业]信息-->
    <delete id="COMM_SQL_DELETE_MDLCSM_BatchJob" parameterClass="List">
      DELETE FROM CSM_BatchJob
      WHERE BJ_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_BJ_ID#
      </iterate>
    </delete>

    <!--新增[系统作业日志]信息-->
    <insert id="COMM_SQL_INSERT_MDLCSM_BatchJobLog" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        CSM_BatchJobLog
        (
        <!--ID-->
        BJL_ID,
        <!--组织ID-->
        BJL_Org_ID,
        <!--组织名称-->
        BJL_Org_Name,
        <!--作业编码-->
        BJL_Code,
        <!--作业名称-->
        BJL_Name,
        <!--作业方式（消息推送，调度执行）-->
        BJL_Pattern,
        <!--推送方式（PC端，APP端，微信）-->
        BJL_PushMode,
        <!--执行开始时间-->
        BJL_ExectueStartDate,
        <!--执行结束时间-->
        BJL_ExectueEndDate,
        <!--启动方式（自动，手动）-->
        BJL_StartMode,
        <!--日志明细-->
        BJL_Details,
        <!--有效-->
        BJL_IsValid,
        <!--创建人-->
        BJL_CreatedBy,
        <!--创建时间-->
        BJL_CreatedTime,
        <!--修改人-->
        BJL_UpdatedBy,
        <!--修改时间-->
        BJL_UpdatedTime,
        <!--版本号-->
        BJL_VersionNo,
        <!--事务编号-->
        BJL_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].BJL_ID#,
        <!--组织ID-->
        #[].BJL_Org_ID#,
        <!--组织名称-->
        #[].BJL_Org_Name#,
        <!--作业编码-->
        #[].BJL_Code#,
        <!--作业名称-->
        #[].BJL_Name#,
        <!--作业方式（消息推送，调度执行）-->
        #[].BJL_Pattern#,
        <!--推送方式（PC端，APP端，微信）-->
        #[].BJL_PushMode#,
        <!--执行开始时间-->
        #[].BJL_ExectueStartDate#,
        <!--执行结束时间-->
        #[].BJL_ExectueEndDate#,
        <!--启动方式（自动，手动）-->
        #[].BJL_StartMode#,
        <!--日志明细-->
        #[].BJL_Details#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].BJL_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].BJL_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].BJL_TransID#
        )
      </iterate>
    </insert>

    <!--查询[系统作业日志]信息（精确条件）-->
    <select id="COMM_SQL_MDLCSM_BatchJobLog" parameterClass="MDLCSM_BatchJobLog" resultClass="MDLCSM_BatchJobLog">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(BJL_ID)
      FROM CSM_BatchJobLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_ID">BJL_ID=#WHERE_BJL_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Org_ID">BJL_Org_ID=#WHERE_BJL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Org_Name">BJL_Org_Name=#WHERE_BJL_Org_Name#</isNotEmpty>
        <!--作业编码-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Code">BJL_Code=#WHERE_BJL_Code#</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Name">BJL_Name=#WHERE_BJL_Name#</isNotEmpty>
        <!--作业方式（消息推送，调度执行）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Pattern">BJL_Pattern=#WHERE_BJL_Pattern#</isNotEmpty>
        <!--推送方式（PC端，APP端，微信）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_PushMode">BJL_PushMode=#WHERE_BJL_PushMode#</isNotEmpty>
        <!--执行开始时间-->
        <isNotNull prepend="" property="_ExectueStartDateStart">
          <isNotNull prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate BETWEEN #_ExectueStartDateStart# AND #_ExectueStartDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate <![CDATA[>=]]> #_ExectueStartDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExectueStartDateStart">
          <isNotNull prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate <![CDATA[<=]]> #_ExectueStartDateEnd#</isNotNull>
        </isNull>
        <!--执行结束时间-->
        <isNotNull prepend="" property="_ExectueEndDateStart">
          <isNotNull prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate BETWEEN #_ExectueEndDateStart# AND #_ExectueEndDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate <![CDATA[>=]]> #_ExectueEndDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExectueEndDateStart">
          <isNotNull prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate <![CDATA[<=]]> #_ExectueEndDateEnd#</isNotNull>
        </isNull>
        <!--启动方式（自动，手动）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_StartMode">BJL_StartMode=#WHERE_BJL_StartMode#</isNotEmpty>
        <!--日志明细-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Details">BJL_Details=#WHERE_BJL_Details#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BJL_IsValid">BJL_IsValid=#WHERE_BJL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_CreatedBy">BJL_CreatedBy=#WHERE_BJL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_UpdatedBy">BJL_UpdatedBy=#WHERE_BJL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BJL_VersionNo">BJL_VersionNo=#WHERE_BJL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_TransID">BJL_TransID=#WHERE_BJL_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      BJL_ID,
      BJL_Org_ID,
      BJL_Org_Name,
      BJL_Code,
      BJL_Name,
      BJL_Pattern,
      BJL_PushMode,
      BJL_ExectueStartDate,
      BJL_ExectueEndDate,
      BJL_StartMode,
      BJL_Details,
      BJL_IsValid,
      BJL_CreatedBy,
      BJL_CreatedTime,
      BJL_UpdatedBy,
      BJL_UpdatedTime,
      BJL_VersionNo,
      BJL_TransID
      FROM CSM_BatchJobLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_ID">BJL_ID=#WHERE_BJL_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Org_ID">BJL_Org_ID=#WHERE_BJL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Org_Name">BJL_Org_Name=#WHERE_BJL_Org_Name#</isNotEmpty>
        <!--作业编码-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Code">BJL_Code=#WHERE_BJL_Code#</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Name">BJL_Name=#WHERE_BJL_Name#</isNotEmpty>
        <!--作业方式（消息推送，调度执行）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Pattern">BJL_Pattern=#WHERE_BJL_Pattern#</isNotEmpty>
        <!--推送方式（PC端，APP端，微信）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_PushMode">BJL_PushMode=#WHERE_BJL_PushMode#</isNotEmpty>
        <!--执行开始时间-->
        <isNotNull prepend="" property="_ExectueStartDateStart">
          <isNotNull prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate BETWEEN #_ExectueStartDateStart# AND #_ExectueStartDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate <![CDATA[>=]]> #_ExectueStartDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExectueStartDateStart">
          <isNotNull prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate <![CDATA[<=]]> #_ExectueStartDateEnd#</isNotNull>
        </isNull>
        <!--执行结束时间-->
        <isNotNull prepend="" property="_ExectueEndDateStart">
          <isNotNull prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate BETWEEN #_ExectueEndDateStart# AND #_ExectueEndDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate <![CDATA[>=]]> #_ExectueEndDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExectueEndDateStart">
          <isNotNull prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate <![CDATA[<=]]> #_ExectueEndDateEnd#</isNotNull>
        </isNull>
        <!--启动方式（自动，手动）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_StartMode">BJL_StartMode=#WHERE_BJL_StartMode#</isNotEmpty>
        <!--日志明细-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Details">BJL_Details=#WHERE_BJL_Details#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BJL_IsValid">BJL_IsValid=#WHERE_BJL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_CreatedBy">BJL_CreatedBy=#WHERE_BJL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_UpdatedBy">BJL_UpdatedBy=#WHERE_BJL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BJL_VersionNo">BJL_VersionNo=#WHERE_BJL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_TransID">BJL_TransID=#WHERE_BJL_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY BJL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[系统作业日志]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLCSM_BatchJobLog" parameterClass="MDLCSM_BatchJobLog" resultClass="MDLCSM_BatchJobLog">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(BJL_ID)
      FROM CSM_BatchJobLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_ID">BJL_ID=#WHERE_BJL_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Org_ID">BJL_Org_ID LIKE '%'+#WHERE_BJL_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Org_Name">BJL_Org_Name LIKE '%'+#WHERE_BJL_Org_Name#+'%'</isNotEmpty>
        <!--作业编码-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Code">BJL_Code LIKE '%'+#WHERE_BJL_Code#+'%'</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Name">BJL_Name LIKE '%'+#WHERE_BJL_Name#+'%'</isNotEmpty>
        <!--作业方式（消息推送，调度执行）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Pattern">BJL_Pattern LIKE '%'+#WHERE_BJL_Pattern#+'%'</isNotEmpty>
        <!--推送方式（PC端，APP端，微信）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_PushMode">BJL_PushMode LIKE '%'+#WHERE_BJL_PushMode#+'%'</isNotEmpty>
        <!--执行开始时间-->
        <isNotNull prepend="" property="_ExectueStartDateStart">
          <isNotNull prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate BETWEEN #_ExectueStartDateStart# AND #_ExectueStartDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate <![CDATA[>=]]> #_ExectueStartDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExectueStartDateStart">
          <isNotNull prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate <![CDATA[<=]]> #_ExectueStartDateEnd#</isNotNull>
        </isNull>
        <!--执行结束时间-->
        <isNotNull prepend="" property="_ExectueEndDateStart">
          <isNotNull prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate BETWEEN #_ExectueEndDateStart# AND #_ExectueEndDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate <![CDATA[>=]]> #_ExectueEndDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExectueEndDateStart">
          <isNotNull prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate <![CDATA[<=]]> #_ExectueEndDateEnd#</isNotNull>
        </isNull>
        <!--启动方式（自动，手动）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_StartMode">BJL_StartMode LIKE '%'+#WHERE_BJL_StartMode#+'%'</isNotEmpty>
        <!--日志明细-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Details">BJL_Details LIKE '%'+#WHERE_BJL_Details#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BJL_IsValid">BJL_IsValid=#WHERE_BJL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_CreatedBy">BJL_CreatedBy LIKE '%'+#WHERE_BJL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_UpdatedBy">BJL_UpdatedBy LIKE '%'+#WHERE_BJL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BJL_VersionNo">BJL_VersionNo=#WHERE_BJL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_TransID">BJL_TransID LIKE '%'+#WHERE_BJL_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      BJL_ID,
      BJL_Org_ID,
      BJL_Org_Name,
      BJL_Code,
      BJL_Name,
      BJL_Pattern,
      BJL_PushMode,
      BJL_ExectueStartDate,
      BJL_ExectueEndDate,
      BJL_StartMode,
      BJL_Details,
      BJL_IsValid,
      BJL_CreatedBy,
      BJL_CreatedTime,
      BJL_UpdatedBy,
      BJL_UpdatedTime,
      BJL_VersionNo,
      BJL_TransID
      FROM CSM_BatchJobLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_ID">BJL_ID=#WHERE_BJL_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Org_ID">BJL_Org_ID LIKE '%'+#WHERE_BJL_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Org_Name">BJL_Org_Name LIKE '%'+#WHERE_BJL_Org_Name#+'%'</isNotEmpty>
        <!--作业编码-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Code">BJL_Code LIKE '%'+#WHERE_BJL_Code#+'%'</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Name">BJL_Name LIKE '%'+#WHERE_BJL_Name#+'%'</isNotEmpty>
        <!--作业方式（消息推送，调度执行）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Pattern">BJL_Pattern LIKE '%'+#WHERE_BJL_Pattern#+'%'</isNotEmpty>
        <!--推送方式（PC端，APP端，微信）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_PushMode">BJL_PushMode LIKE '%'+#WHERE_BJL_PushMode#+'%'</isNotEmpty>
        <!--执行开始时间-->
        <isNotNull prepend="" property="_ExectueStartDateStart">
          <isNotNull prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate BETWEEN #_ExectueStartDateStart# AND #_ExectueStartDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate <![CDATA[>=]]> #_ExectueStartDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExectueStartDateStart">
          <isNotNull prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate <![CDATA[<=]]> #_ExectueStartDateEnd#</isNotNull>
        </isNull>
        <!--执行结束时间-->
        <isNotNull prepend="" property="_ExectueEndDateStart">
          <isNotNull prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate BETWEEN #_ExectueEndDateStart# AND #_ExectueEndDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate <![CDATA[>=]]> #_ExectueEndDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExectueEndDateStart">
          <isNotNull prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate <![CDATA[<=]]> #_ExectueEndDateEnd#</isNotNull>
        </isNull>
        <!--启动方式（自动，手动）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_StartMode">BJL_StartMode LIKE '%'+#WHERE_BJL_StartMode#+'%'</isNotEmpty>
        <!--日志明细-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Details">BJL_Details LIKE '%'+#WHERE_BJL_Details#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BJL_IsValid">BJL_IsValid=#WHERE_BJL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_CreatedBy">BJL_CreatedBy LIKE '%'+#WHERE_BJL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_UpdatedBy">BJL_UpdatedBy LIKE '%'+#WHERE_BJL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BJL_VersionNo">BJL_VersionNo=#WHERE_BJL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_TransID">BJL_TransID LIKE '%'+#WHERE_BJL_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY BJL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[系统作业日志]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLCSM_BatchJobLog" parameterClass="MDLCSM_BatchJobLog" resultClass="int">
      SELECT COUNT(BJL_ID) 'RecordCount'
      FROM CSM_BatchJobLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_ID">BJL_ID=#WHERE_BJL_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Org_ID">BJL_Org_ID=#WHERE_BJL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Org_Name">BJL_Org_Name=#WHERE_BJL_Org_Name#</isNotEmpty>
        <!--作业编码-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Code">BJL_Code=#WHERE_BJL_Code#</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Name">BJL_Name=#WHERE_BJL_Name#</isNotEmpty>
        <!--作业方式（消息推送，调度执行）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Pattern">BJL_Pattern=#WHERE_BJL_Pattern#</isNotEmpty>
        <!--推送方式（PC端，APP端，微信）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_PushMode">BJL_PushMode=#WHERE_BJL_PushMode#</isNotEmpty>
        <!--执行开始时间-->
        <isNotNull prepend="" property="_ExectueStartDateStart">
          <isNotNull prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate BETWEEN #_ExectueStartDateStart# AND #_ExectueStartDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate <![CDATA[>=]]> #_ExectueStartDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExectueStartDateStart">
          <isNotNull prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate <![CDATA[<=]]> #_ExectueStartDateEnd#</isNotNull>
        </isNull>
        <!--执行结束时间-->
        <isNotNull prepend="" property="_ExectueEndDateStart">
          <isNotNull prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate BETWEEN #_ExectueEndDateStart# AND #_ExectueEndDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate <![CDATA[>=]]> #_ExectueEndDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExectueEndDateStart">
          <isNotNull prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate <![CDATA[<=]]> #_ExectueEndDateEnd#</isNotNull>
        </isNull>
        <!--启动方式（自动，手动）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_StartMode">BJL_StartMode=#WHERE_BJL_StartMode#</isNotEmpty>
        <!--日志明细-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Details">BJL_Details=#WHERE_BJL_Details#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BJL_IsValid">BJL_IsValid=#WHERE_BJL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_CreatedBy">BJL_CreatedBy=#WHERE_BJL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_UpdatedBy">BJL_UpdatedBy=#WHERE_BJL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BJL_VersionNo">BJL_VersionNo=#WHERE_BJL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_TransID">BJL_TransID=#WHERE_BJL_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[系统作业日志]信息-->
    <update id="COMM_SQL_UpdateMDLCSM_BatchJobLog" parameterClass="MDLCSM_BatchJobLog" >
      UPDATE CSM_BatchJobLog
      SET
      BJL_UpdatedTime=GETDATE(),
      BJL_VersionNo=BJL_VersionNo+1
      <isNotEmpty prepend="," property="BJL_Org_ID">BJL_Org_ID=#BJL_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="BJL_Org_Name">BJL_Org_Name=#BJL_Org_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="BJL_Code">BJL_Code=#BJL_Code#</isNotEmpty>
      <isNotEmpty prepend="," property="BJL_Name">BJL_Name=#BJL_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="BJL_Pattern">BJL_Pattern=#BJL_Pattern#</isNotEmpty>
      <isNotEmpty prepend="," property="BJL_PushMode">BJL_PushMode=#BJL_PushMode#</isNotEmpty>
      <isNotNull prepend="," property="BJL_ExectueStartDate">BJL_ExectueStartDate=#BJL_ExectueStartDate#</isNotNull>
      <isNotNull prepend="," property="BJL_ExectueEndDate">BJL_ExectueEndDate=#BJL_ExectueEndDate#</isNotNull>
      <isNotEmpty prepend="," property="BJL_StartMode">BJL_StartMode=#BJL_StartMode#</isNotEmpty>
      <isNotEmpty prepend="," property="BJL_Details">BJL_Details=#BJL_Details#</isNotEmpty>
      <isNotNull prepend="," property="BJL_IsValid">BJL_IsValid=#BJL_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="BJL_CreatedBy">BJL_CreatedBy=#BJL_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="BJL_CreatedTime">BJL_CreatedTime=#BJL_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="BJL_UpdatedBy">BJL_UpdatedBy=#BJL_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="BJL_TransID">BJL_TransID=#BJL_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_ID">BJL_ID=#WHERE_BJL_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Org_ID">BJL_Org_ID=#WHERE_BJL_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Org_Name">BJL_Org_Name=#WHERE_BJL_Org_Name#</isNotEmpty>
        <!--作业编码-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Code">BJL_Code=#WHERE_BJL_Code#</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Name">BJL_Name=#WHERE_BJL_Name#</isNotEmpty>
        <!--作业方式（消息推送，调度执行）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Pattern">BJL_Pattern=#WHERE_BJL_Pattern#</isNotEmpty>
        <!--推送方式（PC端，APP端，微信）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_PushMode">BJL_PushMode=#WHERE_BJL_PushMode#</isNotEmpty>
        <!--执行开始时间-->
        <isNotNull prepend="" property="_ExectueStartDateStart">
          <isNotNull prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate BETWEEN #_ExectueStartDateStart# AND #_ExectueStartDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate <![CDATA[>=]]> #_ExectueStartDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExectueStartDateStart">
          <isNotNull prepend="AND" property="_ExectueStartDateEnd">BJL_ExectueStartDate <![CDATA[<=]]> #_ExectueStartDateEnd#</isNotNull>
        </isNull>
        <!--执行结束时间-->
        <isNotNull prepend="" property="_ExectueEndDateStart">
          <isNotNull prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate BETWEEN #_ExectueEndDateStart# AND #_ExectueEndDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate <![CDATA[>=]]> #_ExectueEndDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ExectueEndDateStart">
          <isNotNull prepend="AND" property="_ExectueEndDateEnd">BJL_ExectueEndDate <![CDATA[<=]]> #_ExectueEndDateEnd#</isNotNull>
        </isNull>
        <!--启动方式（自动，手动）-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_StartMode">BJL_StartMode=#WHERE_BJL_StartMode#</isNotEmpty>
        <!--日志明细-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_Details">BJL_Details=#WHERE_BJL_Details#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BJL_IsValid">BJL_IsValid=#WHERE_BJL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_CreatedBy">BJL_CreatedBy=#WHERE_BJL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BJL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_UpdatedBy">BJL_UpdatedBy=#WHERE_BJL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BJL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BJL_VersionNo">BJL_VersionNo=#WHERE_BJL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BJL_TransID">BJL_TransID=#WHERE_BJL_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[系统作业日志]信息-->
    <delete id="COMM_SQL_DELETE_MDLCSM_BatchJobLog" parameterClass="List">
      DELETE FROM CSM_BatchJobLog
      WHERE BJL_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_BJL_ID#
      </iterate>
    </delete>

    <!--新增[业务提醒日志]信息-->
    <insert id="COMM_SQL_INSERT_MDLCSM_BusinessRemindLog" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        CSM_BusinessRemindLog
        (
        <!--ID-->
        BRL_ID,
        <!--组织ID-->
        BRL_Org_ID,
        <!--组织-->
        BRL_Org_Name,
        <!--业务类别-->
        BRL_BJ_BusinessType,
        <!--被提醒对象类别-->
        BRL_RemindObjectType,
        <!--被提醒对象-->
        BRL_RemindObject,
        <!--交强险保险公司-->
        BRL_ComInsuranceCompany,
        <!--商业险保险公司-->
        BRL_BusInsuranceCompany,
        <!--相关日期-->
        BRL_RelateDate,
        <!--备注-->
        BRL_Remark,
        <!--有效-->
        BRL_IsValid,
        <!--创建人-->
        BRL_CreatedBy,
        <!--创建时间-->
        BRL_CreatedTime,
        <!--修改人-->
        BRL_UpdatedBy,
        <!--修改时间-->
        BRL_UpdatedTime,
        <!--版本号-->
        BRL_VersionNo,
        <!--事务编号-->
        BRL_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].BRL_ID#,
        <!--组织ID-->
        #[].BRL_Org_ID#,
        <!--组织-->
        #[].BRL_Org_Name#,
        <!--业务类别-->
        #[].BRL_BJ_BusinessType#,
        <!--被提醒对象类别-->
        #[].BRL_RemindObjectType#,
        <!--被提醒对象-->
        #[].BRL_RemindObject#,
        <!--交强险保险公司-->
        #[].BRL_ComInsuranceCompany#,
        <!--商业险保险公司-->
        #[].BRL_BusInsuranceCompany#,
        <!--相关日期-->
        #[].BRL_RelateDate#,
        <!--备注-->
        #[].BRL_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].BRL_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].BRL_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].BRL_TransID#
        )
      </iterate>
    </insert>

    <!--查询[业务提醒日志]信息（精确条件）-->
    <select id="COMM_SQL_MDLCSM_BusinessRemindLog" parameterClass="MDLCSM_BusinessRemindLog" resultClass="MDLCSM_BusinessRemindLog">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(BRL_ID)
      FROM CSM_BusinessRemindLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_ID">BRL_ID=#WHERE_BRL_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Org_ID">BRL_Org_ID=#WHERE_BRL_Org_ID#</isNotEmpty>
        <!--组织-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Org_Name">BRL_Org_Name=#WHERE_BRL_Org_Name#</isNotEmpty>
        <!--业务类别-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_BJ_BusinessType">BRL_BJ_BusinessType=#WHERE_BRL_BJ_BusinessType#</isNotEmpty>
        <!--被提醒对象类别-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_RemindObjectType">BRL_RemindObjectType=#WHERE_BRL_RemindObjectType#</isNotEmpty>
        <!--被提醒对象-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_RemindObject">BRL_RemindObject=#WHERE_BRL_RemindObject#</isNotEmpty>
        <!--交强险保险公司-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_ComInsuranceCompany">BRL_ComInsuranceCompany=#WHERE_BRL_ComInsuranceCompany#</isNotEmpty>
        <!--商业险保险公司-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_BusInsuranceCompany">BRL_BusInsuranceCompany=#WHERE_BRL_BusInsuranceCompany#</isNotEmpty>
        <!--相关日期-->
        <isNotNull prepend="" property="_RelateDateStart">
          <isNotNull prepend="AND" property="_RelateDateEnd">BRL_RelateDate BETWEEN #_RelateDateStart# AND #_RelateDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_RelateDateEnd">BRL_RelateDate <![CDATA[>=]]> #_RelateDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_RelateDateStart">
          <isNotNull prepend="AND" property="_RelateDateEnd">BRL_RelateDate <![CDATA[<=]]> #_RelateDateEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Remark">BRL_Remark=#WHERE_BRL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BRL_IsValid">BRL_IsValid=#WHERE_BRL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_CreatedBy">BRL_CreatedBy=#WHERE_BRL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_UpdatedBy">BRL_UpdatedBy=#WHERE_BRL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BRL_VersionNo">BRL_VersionNo=#WHERE_BRL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_TransID">BRL_TransID=#WHERE_BRL_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      BRL_ID,
      BRL_Org_ID,
      BRL_Org_Name,
      BRL_BJ_BusinessType,
      BRL_RemindObjectType,
      BRL_RemindObject,
      BRL_ComInsuranceCompany,
      BRL_BusInsuranceCompany,
      BRL_RelateDate,
      BRL_Remark,
      BRL_IsValid,
      BRL_CreatedBy,
      BRL_CreatedTime,
      BRL_UpdatedBy,
      BRL_UpdatedTime,
      BRL_VersionNo,
      BRL_TransID
      FROM CSM_BusinessRemindLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_ID">BRL_ID=#WHERE_BRL_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Org_ID">BRL_Org_ID=#WHERE_BRL_Org_ID#</isNotEmpty>
        <!--组织-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Org_Name">BRL_Org_Name=#WHERE_BRL_Org_Name#</isNotEmpty>
        <!--业务类别-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_BJ_BusinessType">BRL_BJ_BusinessType=#WHERE_BRL_BJ_BusinessType#</isNotEmpty>
        <!--被提醒对象类别-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_RemindObjectType">BRL_RemindObjectType=#WHERE_BRL_RemindObjectType#</isNotEmpty>
        <!--被提醒对象-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_RemindObject">BRL_RemindObject=#WHERE_BRL_RemindObject#</isNotEmpty>
        <!--交强险保险公司-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_ComInsuranceCompany">BRL_ComInsuranceCompany=#WHERE_BRL_ComInsuranceCompany#</isNotEmpty>
        <!--商业险保险公司-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_BusInsuranceCompany">BRL_BusInsuranceCompany=#WHERE_BRL_BusInsuranceCompany#</isNotEmpty>
        <!--相关日期-->
        <isNotNull prepend="" property="_RelateDateStart">
          <isNotNull prepend="AND" property="_RelateDateEnd">BRL_RelateDate BETWEEN #_RelateDateStart# AND #_RelateDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_RelateDateEnd">BRL_RelateDate <![CDATA[>=]]> #_RelateDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_RelateDateStart">
          <isNotNull prepend="AND" property="_RelateDateEnd">BRL_RelateDate <![CDATA[<=]]> #_RelateDateEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Remark">BRL_Remark=#WHERE_BRL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BRL_IsValid">BRL_IsValid=#WHERE_BRL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_CreatedBy">BRL_CreatedBy=#WHERE_BRL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_UpdatedBy">BRL_UpdatedBy=#WHERE_BRL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BRL_VersionNo">BRL_VersionNo=#WHERE_BRL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_TransID">BRL_TransID=#WHERE_BRL_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY BRL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[业务提醒日志]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLCSM_BusinessRemindLog" parameterClass="MDLCSM_BusinessRemindLog" resultClass="MDLCSM_BusinessRemindLog">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(BRL_ID)
      FROM CSM_BusinessRemindLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_ID">BRL_ID=#WHERE_BRL_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Org_ID">BRL_Org_ID LIKE '%'+#WHERE_BRL_Org_ID#+'%'</isNotEmpty>
        <!--组织-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Org_Name">BRL_Org_Name LIKE '%'+#WHERE_BRL_Org_Name#+'%'</isNotEmpty>
        <!--业务类别-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_BJ_BusinessType">BRL_BJ_BusinessType LIKE '%'+#WHERE_BRL_BJ_BusinessType#+'%'</isNotEmpty>
        <!--被提醒对象类别-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_RemindObjectType">BRL_RemindObjectType LIKE '%'+#WHERE_BRL_RemindObjectType#+'%'</isNotEmpty>
        <!--被提醒对象-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_RemindObject">BRL_RemindObject LIKE '%'+#WHERE_BRL_RemindObject#+'%'</isNotEmpty>
        <!--交强险保险公司-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_ComInsuranceCompany">BRL_ComInsuranceCompany LIKE '%'+#WHERE_BRL_ComInsuranceCompany#+'%'</isNotEmpty>
        <!--商业险保险公司-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_BusInsuranceCompany">BRL_BusInsuranceCompany LIKE '%'+#WHERE_BRL_BusInsuranceCompany#+'%'</isNotEmpty>
        <!--相关日期-->
        <isNotNull prepend="" property="_RelateDateStart">
          <isNotNull prepend="AND" property="_RelateDateEnd">BRL_RelateDate BETWEEN #_RelateDateStart# AND #_RelateDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_RelateDateEnd">BRL_RelateDate <![CDATA[>=]]> #_RelateDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_RelateDateStart">
          <isNotNull prepend="AND" property="_RelateDateEnd">BRL_RelateDate <![CDATA[<=]]> #_RelateDateEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Remark">BRL_Remark LIKE '%'+#WHERE_BRL_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BRL_IsValid">BRL_IsValid=#WHERE_BRL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_CreatedBy">BRL_CreatedBy LIKE '%'+#WHERE_BRL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_UpdatedBy">BRL_UpdatedBy LIKE '%'+#WHERE_BRL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BRL_VersionNo">BRL_VersionNo=#WHERE_BRL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_TransID">BRL_TransID LIKE '%'+#WHERE_BRL_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      BRL_ID,
      BRL_Org_ID,
      BRL_Org_Name,
      BRL_BJ_BusinessType,
      BRL_RemindObjectType,
      BRL_RemindObject,
      BRL_ComInsuranceCompany,
      BRL_BusInsuranceCompany,
      BRL_RelateDate,
      BRL_Remark,
      BRL_IsValid,
      BRL_CreatedBy,
      BRL_CreatedTime,
      BRL_UpdatedBy,
      BRL_UpdatedTime,
      BRL_VersionNo,
      BRL_TransID
      FROM CSM_BusinessRemindLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_ID">BRL_ID=#WHERE_BRL_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Org_ID">BRL_Org_ID LIKE '%'+#WHERE_BRL_Org_ID#+'%'</isNotEmpty>
        <!--组织-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Org_Name">BRL_Org_Name LIKE '%'+#WHERE_BRL_Org_Name#+'%'</isNotEmpty>
        <!--业务类别-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_BJ_BusinessType">BRL_BJ_BusinessType LIKE '%'+#WHERE_BRL_BJ_BusinessType#+'%'</isNotEmpty>
        <!--被提醒对象类别-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_RemindObjectType">BRL_RemindObjectType LIKE '%'+#WHERE_BRL_RemindObjectType#+'%'</isNotEmpty>
        <!--被提醒对象-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_RemindObject">BRL_RemindObject LIKE '%'+#WHERE_BRL_RemindObject#+'%'</isNotEmpty>
        <!--交强险保险公司-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_ComInsuranceCompany">BRL_ComInsuranceCompany LIKE '%'+#WHERE_BRL_ComInsuranceCompany#+'%'</isNotEmpty>
        <!--商业险保险公司-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_BusInsuranceCompany">BRL_BusInsuranceCompany LIKE '%'+#WHERE_BRL_BusInsuranceCompany#+'%'</isNotEmpty>
        <!--相关日期-->
        <isNotNull prepend="" property="_RelateDateStart">
          <isNotNull prepend="AND" property="_RelateDateEnd">BRL_RelateDate BETWEEN #_RelateDateStart# AND #_RelateDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_RelateDateEnd">BRL_RelateDate <![CDATA[>=]]> #_RelateDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_RelateDateStart">
          <isNotNull prepend="AND" property="_RelateDateEnd">BRL_RelateDate <![CDATA[<=]]> #_RelateDateEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Remark">BRL_Remark LIKE '%'+#WHERE_BRL_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BRL_IsValid">BRL_IsValid=#WHERE_BRL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_CreatedBy">BRL_CreatedBy LIKE '%'+#WHERE_BRL_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_UpdatedBy">BRL_UpdatedBy LIKE '%'+#WHERE_BRL_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BRL_VersionNo">BRL_VersionNo=#WHERE_BRL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_TransID">BRL_TransID LIKE '%'+#WHERE_BRL_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY BRL_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[业务提醒日志]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLCSM_BusinessRemindLog" parameterClass="MDLCSM_BusinessRemindLog" resultClass="int">
      SELECT COUNT(BRL_ID) 'RecordCount'
      FROM CSM_BusinessRemindLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_ID">BRL_ID=#WHERE_BRL_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Org_ID">BRL_Org_ID=#WHERE_BRL_Org_ID#</isNotEmpty>
        <!--组织-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Org_Name">BRL_Org_Name=#WHERE_BRL_Org_Name#</isNotEmpty>
        <!--业务类别-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_BJ_BusinessType">BRL_BJ_BusinessType=#WHERE_BRL_BJ_BusinessType#</isNotEmpty>
        <!--被提醒对象类别-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_RemindObjectType">BRL_RemindObjectType=#WHERE_BRL_RemindObjectType#</isNotEmpty>
        <!--被提醒对象-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_RemindObject">BRL_RemindObject=#WHERE_BRL_RemindObject#</isNotEmpty>
        <!--交强险保险公司-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_ComInsuranceCompany">BRL_ComInsuranceCompany=#WHERE_BRL_ComInsuranceCompany#</isNotEmpty>
        <!--商业险保险公司-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_BusInsuranceCompany">BRL_BusInsuranceCompany=#WHERE_BRL_BusInsuranceCompany#</isNotEmpty>
        <!--相关日期-->
        <isNotNull prepend="" property="_RelateDateStart">
          <isNotNull prepend="AND" property="_RelateDateEnd">BRL_RelateDate BETWEEN #_RelateDateStart# AND #_RelateDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_RelateDateEnd">BRL_RelateDate <![CDATA[>=]]> #_RelateDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_RelateDateStart">
          <isNotNull prepend="AND" property="_RelateDateEnd">BRL_RelateDate <![CDATA[<=]]> #_RelateDateEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Remark">BRL_Remark=#WHERE_BRL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BRL_IsValid">BRL_IsValid=#WHERE_BRL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_CreatedBy">BRL_CreatedBy=#WHERE_BRL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_UpdatedBy">BRL_UpdatedBy=#WHERE_BRL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BRL_VersionNo">BRL_VersionNo=#WHERE_BRL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_TransID">BRL_TransID=#WHERE_BRL_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[业务提醒日志]信息-->
    <update id="COMM_SQL_UpdateMDLCSM_BusinessRemindLog" parameterClass="MDLCSM_BusinessRemindLog" >
      UPDATE CSM_BusinessRemindLog
      SET
      BRL_UpdatedTime=GETDATE(),
      BRL_VersionNo=BRL_VersionNo+1
      <isNotEmpty prepend="," property="BRL_Org_ID">BRL_Org_ID=#BRL_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="BRL_Org_Name">BRL_Org_Name=#BRL_Org_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="BRL_BJ_BusinessType">BRL_BJ_BusinessType=#BRL_BJ_BusinessType#</isNotEmpty>
      <isNotEmpty prepend="," property="BRL_RemindObjectType">BRL_RemindObjectType=#BRL_RemindObjectType#</isNotEmpty>
      <isNotEmpty prepend="," property="BRL_RemindObject">BRL_RemindObject=#BRL_RemindObject#</isNotEmpty>
      <isNotEmpty prepend="," property="BRL_ComInsuranceCompany">BRL_ComInsuranceCompany=#BRL_ComInsuranceCompany#</isNotEmpty>
      <isNotEmpty prepend="," property="BRL_BusInsuranceCompany">BRL_BusInsuranceCompany=#BRL_BusInsuranceCompany#</isNotEmpty>
      <isNotNull prepend="," property="BRL_RelateDate">BRL_RelateDate=#BRL_RelateDate#</isNotNull>
      <isNotEmpty prepend="," property="BRL_Remark">BRL_Remark=#BRL_Remark#</isNotEmpty>
      <isNotNull prepend="," property="BRL_IsValid">BRL_IsValid=#BRL_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="BRL_CreatedBy">BRL_CreatedBy=#BRL_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="BRL_CreatedTime">BRL_CreatedTime=#BRL_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="BRL_UpdatedBy">BRL_UpdatedBy=#BRL_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="BRL_TransID">BRL_TransID=#BRL_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_ID">BRL_ID=#WHERE_BRL_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Org_ID">BRL_Org_ID=#WHERE_BRL_Org_ID#</isNotEmpty>
        <!--组织-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Org_Name">BRL_Org_Name=#WHERE_BRL_Org_Name#</isNotEmpty>
        <!--业务类别-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_BJ_BusinessType">BRL_BJ_BusinessType=#WHERE_BRL_BJ_BusinessType#</isNotEmpty>
        <!--被提醒对象类别-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_RemindObjectType">BRL_RemindObjectType=#WHERE_BRL_RemindObjectType#</isNotEmpty>
        <!--被提醒对象-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_RemindObject">BRL_RemindObject=#WHERE_BRL_RemindObject#</isNotEmpty>
        <!--交强险保险公司-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_ComInsuranceCompany">BRL_ComInsuranceCompany=#WHERE_BRL_ComInsuranceCompany#</isNotEmpty>
        <!--商业险保险公司-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_BusInsuranceCompany">BRL_BusInsuranceCompany=#WHERE_BRL_BusInsuranceCompany#</isNotEmpty>
        <!--相关日期-->
        <isNotNull prepend="" property="_RelateDateStart">
          <isNotNull prepend="AND" property="_RelateDateEnd">BRL_RelateDate BETWEEN #_RelateDateStart# AND #_RelateDateEnd#</isNotNull>
          <isNull  prepend="AND" property="_RelateDateEnd">BRL_RelateDate <![CDATA[>=]]> #_RelateDateStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_RelateDateStart">
          <isNotNull prepend="AND" property="_RelateDateEnd">BRL_RelateDate <![CDATA[<=]]> #_RelateDateEnd#</isNotNull>
        </isNull>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_Remark">BRL_Remark=#WHERE_BRL_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_BRL_IsValid">BRL_IsValid=#WHERE_BRL_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_CreatedBy">BRL_CreatedBy=#WHERE_BRL_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">BRL_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_UpdatedBy">BRL_UpdatedBy=#WHERE_BRL_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">BRL_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_BRL_VersionNo">BRL_VersionNo=#WHERE_BRL_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_BRL_TransID">BRL_TransID=#WHERE_BRL_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[业务提醒日志]信息-->
    <delete id="COMM_SQL_DELETE_MDLCSM_BusinessRemindLog" parameterClass="List">
      DELETE FROM CSM_BusinessRemindLog
      WHERE BRL_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_BRL_ID#
      </iterate>
    </delete>

    <!--新增[消息推送接收日志]信息-->
    <insert id="COMM_SQL_INSERT_MDLCSM_PushMesageLog" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        CSM_PushMesageLog
        (
        <!--ID-->
        PML_ID,
        <!--业务提醒ID-->
        PML_BRL_ID,
        <!--推送方式-->
        PML_PushMode,
        <!--推送内容-->
        PML_Content,
        <!--推送者类别-->
        PML_SenderType,
        <!--推送者-->
        PML_Sender,
        <!--推送时间-->
        PML_SendTime,
        <!--推送状态-->
        PML_SendStatus,
        <!--接收者类别-->
        PML_ReceiverType,
        <!--接收者-->
        PML_Receiver,
        <!--接收时间-->
        PML_ReceiveTime,
        <!--接收状态-->
        PML_ReceiveStatus,
        <!--作业ID-->
        PML_BJ_ID,
        <!--作业名称-->
        PML_BJ_Name,
        <!--业务消息类别-->
        PML_BusMsgType,
        <!--业务单号-->
        PML_BussinessCode,
        <!--JSON格式内容-->
        PML_JsonFormatContent,
        <!--备注-->
        PML_Remark,
        <!--是否需要跟踪-->
        PML_IsNeedTrack,
        <!--跟踪人-->
        PML_TrackedBy,
        <!--跟踪状态-->
        PML_TrackStatus,
        <!--有效-->
        PML_IsValid,
        <!--创建人-->
        PML_CreatedBy,
        <!--创建时间-->
        PML_CreatedTime,
        <!--修改人-->
        PML_UpdatedBy,
        <!--修改时间-->
        PML_UpdatedTime,
        <!--版本号-->
        PML_VersionNo,
        <!--事务编号-->
        PML_TransID
        )
        VALUES
        (
        <!--ID-->
        #[].PML_ID#,
        <!--业务提醒ID-->
        #[].PML_BRL_ID#,
        <!--推送方式-->
        #[].PML_PushMode#,
        <!--推送内容-->
        #[].PML_Content#,
        <!--推送者类别-->
        #[].PML_SenderType#,
        <!--推送者-->
        #[].PML_Sender#,
        <!--推送时间-->
        #[].PML_SendTime#,
        <!--推送状态-->
        #[].PML_SendStatus#,
        <!--接收者类别-->
        #[].PML_ReceiverType#,
        <!--接收者-->
        #[].PML_Receiver#,
        <!--接收时间-->
        #[].PML_ReceiveTime#,
        <!--接收状态-->
        #[].PML_ReceiveStatus#,
        <!--作业ID-->
        #[].PML_BJ_ID#,
        <!--作业名称-->
        #[].PML_BJ_Name#,
        <!--业务消息类别-->
        #[].PML_BusMsgType#,
        <!--业务单号-->
        #[].PML_BussinessCode#,
        <!--JSON格式内容-->
        #[].PML_JsonFormatContent#,
        <!--备注-->
        #[].PML_Remark#,
        <!--是否需要跟踪-->
        #[].PML_IsNeedTrack#,
        <!--跟踪人-->
        #[].PML_TrackedBy#,
        <!--跟踪状态-->
        #[].PML_TrackStatus#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].PML_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].PML_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].PML_TransID#
        )
      </iterate>
    </insert>

    <!--查询[消息推送接收日志]信息（精确条件）-->
    <select id="COMM_SQL_MDLCSM_PushMesageLog" parameterClass="MDLCSM_PushMesageLog" resultClass="MDLCSM_PushMesageLog">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(PML_ID)
      FROM CSM_PushMesageLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ID">PML_ID=#WHERE_PML_ID#</isNotEmpty>
        <!--业务提醒ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BRL_ID">PML_BRL_ID=#WHERE_PML_BRL_ID#</isNotEmpty>
        <!--推送方式-->
        <isNotEmpty prepend="AND" property="WHERE_PML_PushMode">PML_PushMode=#WHERE_PML_PushMode#</isNotEmpty>
        <!--推送内容-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Content">PML_Content=#WHERE_PML_Content#</isNotEmpty>
        <!--推送者类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_SenderType">PML_SenderType=#WHERE_PML_SenderType#</isNotEmpty>
        <!--推送者-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Sender">PML_Sender=#WHERE_PML_Sender#</isNotEmpty>
        <!--推送时间-->
        <isNotNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PML_SendTime BETWEEN #_SendTimeStart# AND #_SendTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_SendTimeEnd">PML_SendTime <![CDATA[>=]]> #_SendTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PML_SendTime <![CDATA[<=]]> #_SendTimeEnd#</isNotNull>
        </isNull>
        <!--推送状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_SendStatus">PML_SendStatus=#WHERE_PML_SendStatus#</isNotEmpty>
        <!--接收者类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ReceiverType">PML_ReceiverType=#WHERE_PML_ReceiverType#</isNotEmpty>
        <!--接收者-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Receiver">PML_Receiver=#WHERE_PML_Receiver#</isNotEmpty>
        <!--接收时间-->
        <isNotNull prepend="" property="_ReceiveTimeStart">
          <isNotNull prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime BETWEEN #_ReceiveTimeStart# AND #_ReceiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime <![CDATA[>=]]> #_ReceiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceiveTimeStart">
          <isNotNull prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime <![CDATA[<=]]> #_ReceiveTimeEnd#</isNotNull>
        </isNull>
        <!--接收状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ReceiveStatus">PML_ReceiveStatus=#WHERE_PML_ReceiveStatus#</isNotEmpty>
        <!--作业ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BJ_ID">PML_BJ_ID=#WHERE_PML_BJ_ID#</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BJ_Name">PML_BJ_Name=#WHERE_PML_BJ_Name#</isNotEmpty>
        <!--业务消息类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BusMsgType">PML_BusMsgType=#WHERE_PML_BusMsgType#</isNotEmpty>
        <!--业务单号-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BussinessCode">PML_BussinessCode=#WHERE_PML_BussinessCode#</isNotEmpty>
        <!--JSON格式内容-->
        <isNotEmpty prepend="AND" property="WHERE_PML_JsonFormatContent">PML_JsonFormatContent=#WHERE_PML_JsonFormatContent#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Remark">PML_Remark=#WHERE_PML_Remark#</isNotEmpty>
        <!--是否需要跟踪-->
        <isNotNull prepend="AND" property="WHERE_PML_IsNeedTrack">PML_IsNeedTrack=#WHERE_PML_IsNeedTrack#</isNotNull>
        <!--跟踪人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TrackedBy">PML_TrackedBy=#WHERE_PML_TrackedBy#</isNotEmpty>
        <!--跟踪状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TrackStatus">PML_TrackStatus=#WHERE_PML_TrackStatus#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PML_IsValid">PML_IsValid=#WHERE_PML_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_CreatedBy">PML_CreatedBy=#WHERE_PML_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_UpdatedBy">PML_UpdatedBy=#WHERE_PML_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PML_VersionNo">PML_VersionNo=#WHERE_PML_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TransID">PML_TransID=#WHERE_PML_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      PML_ID,
      PML_BRL_ID,
      PML_PushMode,
      PML_Content,
      PML_SenderType,
      PML_Sender,
      PML_SendTime,
      PML_SendStatus,
      PML_ReceiverType,
      PML_Receiver,
      PML_ReceiveTime,
      PML_ReceiveStatus,
      PML_BJ_ID,
      PML_BJ_Name,
      PML_BusMsgType,
      PML_BussinessCode,
      PML_JsonFormatContent,
      PML_Remark,
      PML_IsNeedTrack,
      PML_TrackedBy,
      PML_TrackStatus,
      PML_IsValid,
      PML_CreatedBy,
      PML_CreatedTime,
      PML_UpdatedBy,
      PML_UpdatedTime,
      PML_VersionNo,
      PML_TransID
      FROM CSM_PushMesageLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ID">PML_ID=#WHERE_PML_ID#</isNotEmpty>
        <!--业务提醒ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BRL_ID">PML_BRL_ID=#WHERE_PML_BRL_ID#</isNotEmpty>
        <!--推送方式-->
        <isNotEmpty prepend="AND" property="WHERE_PML_PushMode">PML_PushMode=#WHERE_PML_PushMode#</isNotEmpty>
        <!--推送内容-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Content">PML_Content=#WHERE_PML_Content#</isNotEmpty>
        <!--推送者类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_SenderType">PML_SenderType=#WHERE_PML_SenderType#</isNotEmpty>
        <!--推送者-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Sender">PML_Sender=#WHERE_PML_Sender#</isNotEmpty>
        <!--推送时间-->
        <isNotNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PML_SendTime BETWEEN #_SendTimeStart# AND #_SendTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_SendTimeEnd">PML_SendTime <![CDATA[>=]]> #_SendTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PML_SendTime <![CDATA[<=]]> #_SendTimeEnd#</isNotNull>
        </isNull>
        <!--推送状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_SendStatus">PML_SendStatus=#WHERE_PML_SendStatus#</isNotEmpty>
        <!--接收者类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ReceiverType">PML_ReceiverType=#WHERE_PML_ReceiverType#</isNotEmpty>
        <!--接收者-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Receiver">PML_Receiver=#WHERE_PML_Receiver#</isNotEmpty>
        <!--接收时间-->
        <isNotNull prepend="" property="_ReceiveTimeStart">
          <isNotNull prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime BETWEEN #_ReceiveTimeStart# AND #_ReceiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime <![CDATA[>=]]> #_ReceiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceiveTimeStart">
          <isNotNull prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime <![CDATA[<=]]> #_ReceiveTimeEnd#</isNotNull>
        </isNull>
        <!--接收状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ReceiveStatus">PML_ReceiveStatus=#WHERE_PML_ReceiveStatus#</isNotEmpty>
        <!--作业ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BJ_ID">PML_BJ_ID=#WHERE_PML_BJ_ID#</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BJ_Name">PML_BJ_Name=#WHERE_PML_BJ_Name#</isNotEmpty>
        <!--业务消息类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BusMsgType">PML_BusMsgType=#WHERE_PML_BusMsgType#</isNotEmpty>
        <!--业务单号-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BussinessCode">PML_BussinessCode=#WHERE_PML_BussinessCode#</isNotEmpty>
        <!--JSON格式内容-->
        <isNotEmpty prepend="AND" property="WHERE_PML_JsonFormatContent">PML_JsonFormatContent=#WHERE_PML_JsonFormatContent#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Remark">PML_Remark=#WHERE_PML_Remark#</isNotEmpty>
        <!--是否需要跟踪-->
        <isNotNull prepend="AND" property="WHERE_PML_IsNeedTrack">PML_IsNeedTrack=#WHERE_PML_IsNeedTrack#</isNotNull>
        <!--跟踪人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TrackedBy">PML_TrackedBy=#WHERE_PML_TrackedBy#</isNotEmpty>
        <!--跟踪状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TrackStatus">PML_TrackStatus=#WHERE_PML_TrackStatus#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PML_IsValid">PML_IsValid=#WHERE_PML_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_CreatedBy">PML_CreatedBy=#WHERE_PML_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_UpdatedBy">PML_UpdatedBy=#WHERE_PML_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PML_VersionNo">PML_VersionNo=#WHERE_PML_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TransID">PML_TransID=#WHERE_PML_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY PML_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[消息推送接收日志]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLCSM_PushMesageLog" parameterClass="MDLCSM_PushMesageLog" resultClass="MDLCSM_PushMesageLog">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(PML_ID)
      FROM CSM_PushMesageLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ID">PML_ID=#WHERE_PML_ID#</isNotEmpty>
        <!--业务提醒ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BRL_ID">PML_BRL_ID LIKE '%'+#WHERE_PML_BRL_ID#+'%'</isNotEmpty>
        <!--推送方式-->
        <isNotEmpty prepend="AND" property="WHERE_PML_PushMode">PML_PushMode LIKE '%'+#WHERE_PML_PushMode#+'%'</isNotEmpty>
        <!--推送内容-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Content">PML_Content LIKE '%'+#WHERE_PML_Content#+'%'</isNotEmpty>
        <!--推送者类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_SenderType">PML_SenderType LIKE '%'+#WHERE_PML_SenderType#+'%'</isNotEmpty>
        <!--推送者-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Sender">PML_Sender LIKE '%'+#WHERE_PML_Sender#+'%'</isNotEmpty>
        <!--推送时间-->
        <isNotNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PML_SendTime BETWEEN #_SendTimeStart# AND #_SendTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_SendTimeEnd">PML_SendTime <![CDATA[>=]]> #_SendTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PML_SendTime <![CDATA[<=]]> #_SendTimeEnd#</isNotNull>
        </isNull>
        <!--推送状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_SendStatus">PML_SendStatus LIKE '%'+#WHERE_PML_SendStatus#+'%'</isNotEmpty>
        <!--接收者类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ReceiverType">PML_ReceiverType LIKE '%'+#WHERE_PML_ReceiverType#+'%'</isNotEmpty>
        <!--接收者-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Receiver">PML_Receiver LIKE '%'+#WHERE_PML_Receiver#+'%'</isNotEmpty>
        <!--接收时间-->
        <isNotNull prepend="" property="_ReceiveTimeStart">
          <isNotNull prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime BETWEEN #_ReceiveTimeStart# AND #_ReceiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime <![CDATA[>=]]> #_ReceiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceiveTimeStart">
          <isNotNull prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime <![CDATA[<=]]> #_ReceiveTimeEnd#</isNotNull>
        </isNull>
        <!--接收状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ReceiveStatus">PML_ReceiveStatus LIKE '%'+#WHERE_PML_ReceiveStatus#+'%'</isNotEmpty>
        <!--作业ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BJ_ID">PML_BJ_ID LIKE '%'+#WHERE_PML_BJ_ID#+'%'</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BJ_Name">PML_BJ_Name LIKE '%'+#WHERE_PML_BJ_Name#+'%'</isNotEmpty>
        <!--业务消息类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BusMsgType">PML_BusMsgType LIKE '%'+#WHERE_PML_BusMsgType#+'%'</isNotEmpty>
        <!--业务单号-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BussinessCode">PML_BussinessCode LIKE '%'+#WHERE_PML_BussinessCode#+'%'</isNotEmpty>
        <!--JSON格式内容-->
        <isNotEmpty prepend="AND" property="WHERE_PML_JsonFormatContent">PML_JsonFormatContent LIKE '%'+#WHERE_PML_JsonFormatContent#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Remark">PML_Remark LIKE '%'+#WHERE_PML_Remark#+'%'</isNotEmpty>
        <!--是否需要跟踪-->
        <isNotNull prepend="AND" property="WHERE_PML_IsNeedTrack">PML_IsNeedTrack=#WHERE_PML_IsNeedTrack#</isNotNull>
        <!--跟踪人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TrackedBy">PML_TrackedBy LIKE '%'+#WHERE_PML_TrackedBy#+'%'</isNotEmpty>
        <!--跟踪状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TrackStatus">PML_TrackStatus LIKE '%'+#WHERE_PML_TrackStatus#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PML_IsValid">PML_IsValid=#WHERE_PML_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_CreatedBy">PML_CreatedBy LIKE '%'+#WHERE_PML_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_UpdatedBy">PML_UpdatedBy LIKE '%'+#WHERE_PML_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PML_VersionNo">PML_VersionNo=#WHERE_PML_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TransID">PML_TransID LIKE '%'+#WHERE_PML_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      PML_ID,
      PML_BRL_ID,
      PML_PushMode,
      PML_Content,
      PML_SenderType,
      PML_Sender,
      PML_SendTime,
      PML_SendStatus,
      PML_ReceiverType,
      PML_Receiver,
      PML_ReceiveTime,
      PML_ReceiveStatus,
      PML_BJ_ID,
      PML_BJ_Name,
      PML_BusMsgType,
      PML_BussinessCode,
      PML_JsonFormatContent,
      PML_Remark,
      PML_IsNeedTrack,
      PML_TrackedBy,
      PML_TrackStatus,
      PML_IsValid,
      PML_CreatedBy,
      PML_CreatedTime,
      PML_UpdatedBy,
      PML_UpdatedTime,
      PML_VersionNo,
      PML_TransID
      FROM CSM_PushMesageLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ID">PML_ID=#WHERE_PML_ID#</isNotEmpty>
        <!--业务提醒ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BRL_ID">PML_BRL_ID LIKE '%'+#WHERE_PML_BRL_ID#+'%'</isNotEmpty>
        <!--推送方式-->
        <isNotEmpty prepend="AND" property="WHERE_PML_PushMode">PML_PushMode LIKE '%'+#WHERE_PML_PushMode#+'%'</isNotEmpty>
        <!--推送内容-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Content">PML_Content LIKE '%'+#WHERE_PML_Content#+'%'</isNotEmpty>
        <!--推送者类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_SenderType">PML_SenderType LIKE '%'+#WHERE_PML_SenderType#+'%'</isNotEmpty>
        <!--推送者-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Sender">PML_Sender LIKE '%'+#WHERE_PML_Sender#+'%'</isNotEmpty>
        <!--推送时间-->
        <isNotNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PML_SendTime BETWEEN #_SendTimeStart# AND #_SendTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_SendTimeEnd">PML_SendTime <![CDATA[>=]]> #_SendTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PML_SendTime <![CDATA[<=]]> #_SendTimeEnd#</isNotNull>
        </isNull>
        <!--推送状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_SendStatus">PML_SendStatus LIKE '%'+#WHERE_PML_SendStatus#+'%'</isNotEmpty>
        <!--接收者类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ReceiverType">PML_ReceiverType LIKE '%'+#WHERE_PML_ReceiverType#+'%'</isNotEmpty>
        <!--接收者-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Receiver">PML_Receiver LIKE '%'+#WHERE_PML_Receiver#+'%'</isNotEmpty>
        <!--接收时间-->
        <isNotNull prepend="" property="_ReceiveTimeStart">
          <isNotNull prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime BETWEEN #_ReceiveTimeStart# AND #_ReceiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime <![CDATA[>=]]> #_ReceiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceiveTimeStart">
          <isNotNull prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime <![CDATA[<=]]> #_ReceiveTimeEnd#</isNotNull>
        </isNull>
        <!--接收状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ReceiveStatus">PML_ReceiveStatus LIKE '%'+#WHERE_PML_ReceiveStatus#+'%'</isNotEmpty>
        <!--作业ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BJ_ID">PML_BJ_ID LIKE '%'+#WHERE_PML_BJ_ID#+'%'</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BJ_Name">PML_BJ_Name LIKE '%'+#WHERE_PML_BJ_Name#+'%'</isNotEmpty>
        <!--业务消息类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BusMsgType">PML_BusMsgType LIKE '%'+#WHERE_PML_BusMsgType#+'%'</isNotEmpty>
        <!--业务单号-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BussinessCode">PML_BussinessCode LIKE '%'+#WHERE_PML_BussinessCode#+'%'</isNotEmpty>
        <!--JSON格式内容-->
        <isNotEmpty prepend="AND" property="WHERE_PML_JsonFormatContent">PML_JsonFormatContent LIKE '%'+#WHERE_PML_JsonFormatContent#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Remark">PML_Remark LIKE '%'+#WHERE_PML_Remark#+'%'</isNotEmpty>
        <!--是否需要跟踪-->
        <isNotNull prepend="AND" property="WHERE_PML_IsNeedTrack">PML_IsNeedTrack=#WHERE_PML_IsNeedTrack#</isNotNull>
        <!--跟踪人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TrackedBy">PML_TrackedBy LIKE '%'+#WHERE_PML_TrackedBy#+'%'</isNotEmpty>
        <!--跟踪状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TrackStatus">PML_TrackStatus LIKE '%'+#WHERE_PML_TrackStatus#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PML_IsValid">PML_IsValid=#WHERE_PML_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_CreatedBy">PML_CreatedBy LIKE '%'+#WHERE_PML_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_UpdatedBy">PML_UpdatedBy LIKE '%'+#WHERE_PML_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PML_VersionNo">PML_VersionNo=#WHERE_PML_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TransID">PML_TransID LIKE '%'+#WHERE_PML_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY PML_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[消息推送接收日志]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLCSM_PushMesageLog" parameterClass="MDLCSM_PushMesageLog" resultClass="int">
      SELECT COUNT(PML_ID) 'RecordCount'
      FROM CSM_PushMesageLog
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ID">PML_ID=#WHERE_PML_ID#</isNotEmpty>
        <!--业务提醒ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BRL_ID">PML_BRL_ID=#WHERE_PML_BRL_ID#</isNotEmpty>
        <!--推送方式-->
        <isNotEmpty prepend="AND" property="WHERE_PML_PushMode">PML_PushMode=#WHERE_PML_PushMode#</isNotEmpty>
        <!--推送内容-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Content">PML_Content=#WHERE_PML_Content#</isNotEmpty>
        <!--推送者类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_SenderType">PML_SenderType=#WHERE_PML_SenderType#</isNotEmpty>
        <!--推送者-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Sender">PML_Sender=#WHERE_PML_Sender#</isNotEmpty>
        <!--推送时间-->
        <isNotNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PML_SendTime BETWEEN #_SendTimeStart# AND #_SendTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_SendTimeEnd">PML_SendTime <![CDATA[>=]]> #_SendTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PML_SendTime <![CDATA[<=]]> #_SendTimeEnd#</isNotNull>
        </isNull>
        <!--推送状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_SendStatus">PML_SendStatus=#WHERE_PML_SendStatus#</isNotEmpty>
        <!--接收者类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ReceiverType">PML_ReceiverType=#WHERE_PML_ReceiverType#</isNotEmpty>
        <!--接收者-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Receiver">PML_Receiver=#WHERE_PML_Receiver#</isNotEmpty>
        <!--接收时间-->
        <isNotNull prepend="" property="_ReceiveTimeStart">
          <isNotNull prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime BETWEEN #_ReceiveTimeStart# AND #_ReceiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime <![CDATA[>=]]> #_ReceiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceiveTimeStart">
          <isNotNull prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime <![CDATA[<=]]> #_ReceiveTimeEnd#</isNotNull>
        </isNull>
        <!--接收状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ReceiveStatus">PML_ReceiveStatus=#WHERE_PML_ReceiveStatus#</isNotEmpty>
        <!--作业ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BJ_ID">PML_BJ_ID=#WHERE_PML_BJ_ID#</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BJ_Name">PML_BJ_Name=#WHERE_PML_BJ_Name#</isNotEmpty>
        <!--业务消息类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BusMsgType">PML_BusMsgType=#WHERE_PML_BusMsgType#</isNotEmpty>
        <!--业务单号-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BussinessCode">PML_BussinessCode=#WHERE_PML_BussinessCode#</isNotEmpty>
        <!--JSON格式内容-->
        <isNotEmpty prepend="AND" property="WHERE_PML_JsonFormatContent">PML_JsonFormatContent=#WHERE_PML_JsonFormatContent#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Remark">PML_Remark=#WHERE_PML_Remark#</isNotEmpty>
        <!--是否需要跟踪-->
        <isNotNull prepend="AND" property="WHERE_PML_IsNeedTrack">PML_IsNeedTrack=#WHERE_PML_IsNeedTrack#</isNotNull>
        <!--跟踪人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TrackedBy">PML_TrackedBy=#WHERE_PML_TrackedBy#</isNotEmpty>
        <!--跟踪状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TrackStatus">PML_TrackStatus=#WHERE_PML_TrackStatus#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PML_IsValid">PML_IsValid=#WHERE_PML_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_CreatedBy">PML_CreatedBy=#WHERE_PML_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_UpdatedBy">PML_UpdatedBy=#WHERE_PML_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PML_VersionNo">PML_VersionNo=#WHERE_PML_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TransID">PML_TransID=#WHERE_PML_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[消息推送接收日志]信息-->
    <update id="COMM_SQL_UpdateMDLCSM_PushMesageLog" parameterClass="MDLCSM_PushMesageLog" >
      UPDATE CSM_PushMesageLog
      SET
      PML_UpdatedTime=GETDATE(),
      PML_VersionNo=PML_VersionNo+1
      <isNotEmpty prepend="," property="PML_BRL_ID">PML_BRL_ID=#PML_BRL_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="PML_PushMode">PML_PushMode=#PML_PushMode#</isNotEmpty>
      <isNotEmpty prepend="," property="PML_Content">PML_Content=#PML_Content#</isNotEmpty>
      <isNotEmpty prepend="," property="PML_SenderType">PML_SenderType=#PML_SenderType#</isNotEmpty>
      <isNotEmpty prepend="," property="PML_Sender">PML_Sender=#PML_Sender#</isNotEmpty>
      <isNotNull prepend="," property="PML_SendTime">PML_SendTime=#PML_SendTime#</isNotNull>
      <isNotEmpty prepend="," property="PML_SendStatus">PML_SendStatus=#PML_SendStatus#</isNotEmpty>
      <isNotEmpty prepend="," property="PML_ReceiverType">PML_ReceiverType=#PML_ReceiverType#</isNotEmpty>
      <isNotEmpty prepend="," property="PML_Receiver">PML_Receiver=#PML_Receiver#</isNotEmpty>
      <isNotNull prepend="," property="PML_ReceiveTime">PML_ReceiveTime=#PML_ReceiveTime#</isNotNull>
      <isNotEmpty prepend="," property="PML_ReceiveStatus">PML_ReceiveStatus=#PML_ReceiveStatus#</isNotEmpty>
      <isNotEmpty prepend="," property="PML_BJ_ID">PML_BJ_ID=#PML_BJ_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="PML_BJ_Name">PML_BJ_Name=#PML_BJ_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="PML_BusMsgType">PML_BusMsgType=#PML_BusMsgType#</isNotEmpty>
      <isNotEmpty prepend="," property="PML_BussinessCode">PML_BussinessCode=#PML_BussinessCode#</isNotEmpty>
      <isNotEmpty prepend="," property="PML_JsonFormatContent">PML_JsonFormatContent=#PML_JsonFormatContent#</isNotEmpty>
      <isNotEmpty prepend="," property="PML_Remark">PML_Remark=#PML_Remark#</isNotEmpty>
      <isNotNull prepend="," property="PML_IsNeedTrack">PML_IsNeedTrack=#PML_IsNeedTrack#</isNotNull>
      <isNotEmpty prepend="," property="PML_TrackedBy">PML_TrackedBy=#PML_TrackedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="PML_TrackStatus">PML_TrackStatus=#PML_TrackStatus#</isNotEmpty>
      <isNotNull prepend="," property="PML_IsValid">PML_IsValid=#PML_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="PML_CreatedBy">PML_CreatedBy=#PML_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="PML_CreatedTime">PML_CreatedTime=#PML_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="PML_UpdatedBy">PML_UpdatedBy=#PML_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="PML_TransID">PML_TransID=#PML_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ID">PML_ID=#WHERE_PML_ID#</isNotEmpty>
        <!--业务提醒ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BRL_ID">PML_BRL_ID=#WHERE_PML_BRL_ID#</isNotEmpty>
        <!--推送方式-->
        <isNotEmpty prepend="AND" property="WHERE_PML_PushMode">PML_PushMode=#WHERE_PML_PushMode#</isNotEmpty>
        <!--推送内容-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Content">PML_Content=#WHERE_PML_Content#</isNotEmpty>
        <!--推送者类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_SenderType">PML_SenderType=#WHERE_PML_SenderType#</isNotEmpty>
        <!--推送者-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Sender">PML_Sender=#WHERE_PML_Sender#</isNotEmpty>
        <!--推送时间-->
        <isNotNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PML_SendTime BETWEEN #_SendTimeStart# AND #_SendTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_SendTimeEnd">PML_SendTime <![CDATA[>=]]> #_SendTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_SendTimeStart">
          <isNotNull prepend="AND" property="_SendTimeEnd">PML_SendTime <![CDATA[<=]]> #_SendTimeEnd#</isNotNull>
        </isNull>
        <!--推送状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_SendStatus">PML_SendStatus=#WHERE_PML_SendStatus#</isNotEmpty>
        <!--接收者类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ReceiverType">PML_ReceiverType=#WHERE_PML_ReceiverType#</isNotEmpty>
        <!--接收者-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Receiver">PML_Receiver=#WHERE_PML_Receiver#</isNotEmpty>
        <!--接收时间-->
        <isNotNull prepend="" property="_ReceiveTimeStart">
          <isNotNull prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime BETWEEN #_ReceiveTimeStart# AND #_ReceiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime <![CDATA[>=]]> #_ReceiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_ReceiveTimeStart">
          <isNotNull prepend="AND" property="_ReceiveTimeEnd">PML_ReceiveTime <![CDATA[<=]]> #_ReceiveTimeEnd#</isNotNull>
        </isNull>
        <!--接收状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_ReceiveStatus">PML_ReceiveStatus=#WHERE_PML_ReceiveStatus#</isNotEmpty>
        <!--作业ID-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BJ_ID">PML_BJ_ID=#WHERE_PML_BJ_ID#</isNotEmpty>
        <!--作业名称-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BJ_Name">PML_BJ_Name=#WHERE_PML_BJ_Name#</isNotEmpty>
        <!--业务消息类别-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BusMsgType">PML_BusMsgType=#WHERE_PML_BusMsgType#</isNotEmpty>
        <!--业务单号-->
        <isNotEmpty prepend="AND" property="WHERE_PML_BussinessCode">PML_BussinessCode=#WHERE_PML_BussinessCode#</isNotEmpty>
        <!--JSON格式内容-->
        <isNotEmpty prepend="AND" property="WHERE_PML_JsonFormatContent">PML_JsonFormatContent=#WHERE_PML_JsonFormatContent#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_PML_Remark">PML_Remark=#WHERE_PML_Remark#</isNotEmpty>
        <!--是否需要跟踪-->
        <isNotNull prepend="AND" property="WHERE_PML_IsNeedTrack">PML_IsNeedTrack=#WHERE_PML_IsNeedTrack#</isNotNull>
        <!--跟踪人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TrackedBy">PML_TrackedBy=#WHERE_PML_TrackedBy#</isNotEmpty>
        <!--跟踪状态-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TrackStatus">PML_TrackStatus=#WHERE_PML_TrackStatus#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_PML_IsValid">PML_IsValid=#WHERE_PML_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_CreatedBy">PML_CreatedBy=#WHERE_PML_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">PML_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_PML_UpdatedBy">PML_UpdatedBy=#WHERE_PML_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">PML_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_PML_VersionNo">PML_VersionNo=#WHERE_PML_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_PML_TransID">PML_TransID=#WHERE_PML_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[消息推送接收日志]信息-->
    <delete id="COMM_SQL_DELETE_MDLCSM_PushMesageLog" parameterClass="List">
      DELETE FROM CSM_PushMesageLog
      WHERE PML_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_PML_ID#
      </iterate>
    </delete>

    <!--新增[电子钱包]信息-->
    <insert id="COMM_SQL_INSERT_MDLEWM_Wallet" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        EWM_Wallet
        (
        <!--钱包ID-->
        Wal_ID,
        <!--组织ID-->
        Wal_Org_ID,
        <!--组织名称-->
        Wal_Org_Name,
        <!--钱包账号-->
        Wal_No,
        <!--钱包来源类型编码-->
        Wal_SourceTypeCode,
        <!--钱包来源类型名称-->
        Wal_SourceTypeName,
        <!--来源账号-->
        Wal_SourceNo,
        <!--钱包所有人类别编码-->
        Wal_OwnerTypeCode,
        <!--钱包所有人类别名称-->
        Wal_OwnerTypeName,
        <!--开户人ID-->
        Wal_CustomerID,
        <!--开户人姓名-->
        Wal_CustomerName,
        <!--汽修商户编码-->
        Wal_AutoFactoryCode,
        <!--汽修商户组织编码-->
        Wal_AutoFactoryOrgCode,
        <!--交易密码-->
        Wal_TradingPassword,
        <!--可用余额-->
        Wal_AvailableBalance,
        <!--冻结余额-->
        Wal_FreezingBalance,
        <!--充值基数-->
        Wal_DepositBaseAmount,
        <!--推荐员工ID-->
        Wal_RecommendEmployeeID,
        <!--推荐员工-->
        Wal_RecommendEmployee,
        <!--开户组织ID-->
        Wal_CreatedByOrgID,
        <!--开户组织名称-->
        Wal_CreatedByOrgName,
        <!--生效时间-->
        Wal_EffectiveTime,
        <!--失效时间-->
        Wal_IneffectiveTime,
        <!--钱包状态编码-->
        Wal_StatusCode,
        <!--钱包状态名称-->
        Wal_StatusName,
        <!--备注-->
        Wal_Remark,
        <!--有效-->
        Wal_IsValid,
        <!--创建人-->
        Wal_CreatedBy,
        <!--创建时间-->
        Wal_CreatedTime,
        <!--修改人-->
        Wal_UpdatedBy,
        <!--修改时间-->
        Wal_UpdatedTime,
        <!--版本号-->
        Wal_VersionNo,
        <!--事务编号-->
        Wal_TransID
        )
        VALUES
        (
        <!--钱包ID-->
        #[].Wal_ID#,
        <!--组织ID-->
        #[].Wal_Org_ID#,
        <!--组织名称-->
        #[].Wal_Org_Name#,
        <!--钱包账号-->
        #[].Wal_No#,
        <!--钱包来源类型编码-->
        #[].Wal_SourceTypeCode#,
        <!--钱包来源类型名称-->
        #[].Wal_SourceTypeName#,
        <!--来源账号-->
        #[].Wal_SourceNo#,
        <!--钱包所有人类别编码-->
        #[].Wal_OwnerTypeCode#,
        <!--钱包所有人类别名称-->
        #[].Wal_OwnerTypeName#,
        <!--开户人ID-->
        #[].Wal_CustomerID#,
        <!--开户人姓名-->
        #[].Wal_CustomerName#,
        <!--汽修商户编码-->
        #[].Wal_AutoFactoryCode#,
        <!--汽修商户组织编码-->
        #[].Wal_AutoFactoryOrgCode#,
        <!--交易密码-->
        #[].Wal_TradingPassword#,
        <!--可用余额-->
        #[].Wal_AvailableBalance#,
        <!--冻结余额-->
        #[].Wal_FreezingBalance#,
        <!--充值基数-->
        #[].Wal_DepositBaseAmount#,
        <!--推荐员工ID-->
        #[].Wal_RecommendEmployeeID#,
        <!--推荐员工-->
        #[].Wal_RecommendEmployee#,
        <!--开户组织ID-->
        #[].Wal_CreatedByOrgID#,
        <!--开户组织名称-->
        #[].Wal_CreatedByOrgName#,
        <!--生效时间-->
        #[].Wal_EffectiveTime#,
        <!--失效时间-->
        #[].Wal_IneffectiveTime#,
        <!--钱包状态编码-->
        #[].Wal_StatusCode#,
        <!--钱包状态名称-->
        #[].Wal_StatusName#,
        <!--备注-->
        #[].Wal_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].Wal_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].Wal_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].Wal_TransID#
        )
      </iterate>
    </insert>

    <!--查询[电子钱包]信息（精确条件）-->
    <select id="COMM_SQL_MDLEWM_Wallet" parameterClass="MDLEWM_Wallet" resultClass="MDLEWM_Wallet">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Wal_ID)
      FROM EWM_Wallet
      <dynamic prepend="WHERE">
        <!--钱包ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_ID">Wal_ID=#WHERE_Wal_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Org_ID">Wal_Org_ID=#WHERE_Wal_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Org_Name">Wal_Org_Name=#WHERE_Wal_Org_Name#</isNotEmpty>
        <!--钱包账号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_No">Wal_No=#WHERE_Wal_No#</isNotEmpty>
        <!--钱包来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceTypeCode">Wal_SourceTypeCode=#WHERE_Wal_SourceTypeCode#</isNotEmpty>
        <!--钱包来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceTypeName">Wal_SourceTypeName=#WHERE_Wal_SourceTypeName#</isNotEmpty>
        <!--来源账号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceNo">Wal_SourceNo=#WHERE_Wal_SourceNo#</isNotEmpty>
        <!--钱包所有人类别编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_OwnerTypeCode">Wal_OwnerTypeCode=#WHERE_Wal_OwnerTypeCode#</isNotEmpty>
        <!--钱包所有人类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_OwnerTypeName">Wal_OwnerTypeName=#WHERE_Wal_OwnerTypeName#</isNotEmpty>
        <!--开户人ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CustomerID">Wal_CustomerID=#WHERE_Wal_CustomerID#</isNotEmpty>
        <!--开户人姓名-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CustomerName">Wal_CustomerName=#WHERE_Wal_CustomerName#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_AutoFactoryCode">Wal_AutoFactoryCode=#WHERE_Wal_AutoFactoryCode#</isNotEmpty>
        <!--汽修商户组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_AutoFactoryOrgCode">Wal_AutoFactoryOrgCode=#WHERE_Wal_AutoFactoryOrgCode#</isNotEmpty>
        <!--交易密码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_TradingPassword">Wal_TradingPassword=#WHERE_Wal_TradingPassword#</isNotEmpty>
        <!--可用余额-->
        <isNotNull prepend="AND" property="WHERE_Wal_AvailableBalance">Wal_AvailableBalance=#WHERE_Wal_AvailableBalance#</isNotNull>
        <!--冻结余额-->
        <isNotNull prepend="AND" property="WHERE_Wal_FreezingBalance">Wal_FreezingBalance=#WHERE_Wal_FreezingBalance#</isNotNull>
        <!--充值基数-->
        <isNotNull prepend="AND" property="WHERE_Wal_DepositBaseAmount">Wal_DepositBaseAmount=#WHERE_Wal_DepositBaseAmount#</isNotNull>
        <!--推荐员工ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_RecommendEmployeeID">Wal_RecommendEmployeeID=#WHERE_Wal_RecommendEmployeeID#</isNotEmpty>
        <!--推荐员工-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_RecommendEmployee">Wal_RecommendEmployee=#WHERE_Wal_RecommendEmployee#</isNotEmpty>
        <!--开户组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedByOrgID">Wal_CreatedByOrgID=#WHERE_Wal_CreatedByOrgID#</isNotEmpty>
        <!--开户组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedByOrgName">Wal_CreatedByOrgName=#WHERE_Wal_CreatedByOrgName#</isNotEmpty>
        <!--生效时间-->
        <isNotNull prepend="" property="_EffectiveTimeStart">
          <isNotNull prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime BETWEEN #_EffectiveTimeStart# AND #_EffectiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime <![CDATA[>=]]> #_EffectiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_EffectiveTimeStart">
          <isNotNull prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime <![CDATA[<=]]> #_EffectiveTimeEnd#</isNotNull>
        </isNull>
        <!--失效时间-->
        <isNotNull prepend="" property="_IneffectiveTimeStart">
          <isNotNull prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime BETWEEN #_IneffectiveTimeStart# AND #_IneffectiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime <![CDATA[>=]]> #_IneffectiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_IneffectiveTimeStart">
          <isNotNull prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime <![CDATA[<=]]> #_IneffectiveTimeEnd#</isNotNull>
        </isNull>
        <!--钱包状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_StatusCode">Wal_StatusCode=#WHERE_Wal_StatusCode#</isNotEmpty>
        <!--钱包状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_StatusName">Wal_StatusName=#WHERE_Wal_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Remark">Wal_Remark=#WHERE_Wal_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Wal_IsValid">Wal_IsValid=#WHERE_Wal_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedBy">Wal_CreatedBy=#WHERE_Wal_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_UpdatedBy">Wal_UpdatedBy=#WHERE_Wal_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Wal_VersionNo">Wal_VersionNo=#WHERE_Wal_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_TransID">Wal_TransID=#WHERE_Wal_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Wal_ID,
      Wal_Org_ID,
      Wal_Org_Name,
      Wal_No,
      Wal_SourceTypeCode,
      Wal_SourceTypeName,
      Wal_SourceNo,
      Wal_OwnerTypeCode,
      Wal_OwnerTypeName,
      Wal_CustomerID,
      Wal_CustomerName,
      Wal_AutoFactoryCode,
      Wal_AutoFactoryOrgCode,
      Wal_TradingPassword,
      Wal_AvailableBalance,
      Wal_FreezingBalance,
      Wal_DepositBaseAmount,
      Wal_RecommendEmployeeID,
      Wal_RecommendEmployee,
      Wal_CreatedByOrgID,
      Wal_CreatedByOrgName,
      Wal_EffectiveTime,
      Wal_IneffectiveTime,
      Wal_StatusCode,
      Wal_StatusName,
      Wal_Remark,
      Wal_IsValid,
      Wal_CreatedBy,
      Wal_CreatedTime,
      Wal_UpdatedBy,
      Wal_UpdatedTime,
      Wal_VersionNo,
      Wal_TransID
      FROM EWM_Wallet
      <dynamic prepend="WHERE">
        <!--钱包ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_ID">Wal_ID=#WHERE_Wal_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Org_ID">Wal_Org_ID=#WHERE_Wal_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Org_Name">Wal_Org_Name=#WHERE_Wal_Org_Name#</isNotEmpty>
        <!--钱包账号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_No">Wal_No=#WHERE_Wal_No#</isNotEmpty>
        <!--钱包来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceTypeCode">Wal_SourceTypeCode=#WHERE_Wal_SourceTypeCode#</isNotEmpty>
        <!--钱包来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceTypeName">Wal_SourceTypeName=#WHERE_Wal_SourceTypeName#</isNotEmpty>
        <!--来源账号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceNo">Wal_SourceNo=#WHERE_Wal_SourceNo#</isNotEmpty>
        <!--钱包所有人类别编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_OwnerTypeCode">Wal_OwnerTypeCode=#WHERE_Wal_OwnerTypeCode#</isNotEmpty>
        <!--钱包所有人类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_OwnerTypeName">Wal_OwnerTypeName=#WHERE_Wal_OwnerTypeName#</isNotEmpty>
        <!--开户人ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CustomerID">Wal_CustomerID=#WHERE_Wal_CustomerID#</isNotEmpty>
        <!--开户人姓名-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CustomerName">Wal_CustomerName=#WHERE_Wal_CustomerName#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_AutoFactoryCode">Wal_AutoFactoryCode=#WHERE_Wal_AutoFactoryCode#</isNotEmpty>
        <!--汽修商户组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_AutoFactoryOrgCode">Wal_AutoFactoryOrgCode=#WHERE_Wal_AutoFactoryOrgCode#</isNotEmpty>
        <!--交易密码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_TradingPassword">Wal_TradingPassword=#WHERE_Wal_TradingPassword#</isNotEmpty>
        <!--可用余额-->
        <isNotNull prepend="AND" property="WHERE_Wal_AvailableBalance">Wal_AvailableBalance=#WHERE_Wal_AvailableBalance#</isNotNull>
        <!--冻结余额-->
        <isNotNull prepend="AND" property="WHERE_Wal_FreezingBalance">Wal_FreezingBalance=#WHERE_Wal_FreezingBalance#</isNotNull>
        <!--充值基数-->
        <isNotNull prepend="AND" property="WHERE_Wal_DepositBaseAmount">Wal_DepositBaseAmount=#WHERE_Wal_DepositBaseAmount#</isNotNull>
        <!--推荐员工ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_RecommendEmployeeID">Wal_RecommendEmployeeID=#WHERE_Wal_RecommendEmployeeID#</isNotEmpty>
        <!--推荐员工-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_RecommendEmployee">Wal_RecommendEmployee=#WHERE_Wal_RecommendEmployee#</isNotEmpty>
        <!--开户组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedByOrgID">Wal_CreatedByOrgID=#WHERE_Wal_CreatedByOrgID#</isNotEmpty>
        <!--开户组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedByOrgName">Wal_CreatedByOrgName=#WHERE_Wal_CreatedByOrgName#</isNotEmpty>
        <!--生效时间-->
        <isNotNull prepend="" property="_EffectiveTimeStart">
          <isNotNull prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime BETWEEN #_EffectiveTimeStart# AND #_EffectiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime <![CDATA[>=]]> #_EffectiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_EffectiveTimeStart">
          <isNotNull prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime <![CDATA[<=]]> #_EffectiveTimeEnd#</isNotNull>
        </isNull>
        <!--失效时间-->
        <isNotNull prepend="" property="_IneffectiveTimeStart">
          <isNotNull prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime BETWEEN #_IneffectiveTimeStart# AND #_IneffectiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime <![CDATA[>=]]> #_IneffectiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_IneffectiveTimeStart">
          <isNotNull prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime <![CDATA[<=]]> #_IneffectiveTimeEnd#</isNotNull>
        </isNull>
        <!--钱包状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_StatusCode">Wal_StatusCode=#WHERE_Wal_StatusCode#</isNotEmpty>
        <!--钱包状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_StatusName">Wal_StatusName=#WHERE_Wal_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Remark">Wal_Remark=#WHERE_Wal_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Wal_IsValid">Wal_IsValid=#WHERE_Wal_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedBy">Wal_CreatedBy=#WHERE_Wal_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_UpdatedBy">Wal_UpdatedBy=#WHERE_Wal_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Wal_VersionNo">Wal_VersionNo=#WHERE_Wal_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_TransID">Wal_TransID=#WHERE_Wal_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Wal_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[电子钱包]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLEWM_Wallet" parameterClass="MDLEWM_Wallet" resultClass="MDLEWM_Wallet">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(Wal_ID)
      FROM EWM_Wallet
      <dynamic prepend="WHERE">
        <!--钱包ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_ID">Wal_ID=#WHERE_Wal_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Org_ID">Wal_Org_ID LIKE '%'+#WHERE_Wal_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Org_Name">Wal_Org_Name LIKE '%'+#WHERE_Wal_Org_Name#+'%'</isNotEmpty>
        <!--钱包账号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_No">Wal_No LIKE '%'+#WHERE_Wal_No#+'%'</isNotEmpty>
        <!--钱包来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceTypeCode">Wal_SourceTypeCode LIKE '%'+#WHERE_Wal_SourceTypeCode#+'%'</isNotEmpty>
        <!--钱包来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceTypeName">Wal_SourceTypeName LIKE '%'+#WHERE_Wal_SourceTypeName#+'%'</isNotEmpty>
        <!--来源账号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceNo">Wal_SourceNo LIKE '%'+#WHERE_Wal_SourceNo#+'%'</isNotEmpty>
        <!--钱包所有人类别编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_OwnerTypeCode">Wal_OwnerTypeCode LIKE '%'+#WHERE_Wal_OwnerTypeCode#+'%'</isNotEmpty>
        <!--钱包所有人类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_OwnerTypeName">Wal_OwnerTypeName LIKE '%'+#WHERE_Wal_OwnerTypeName#+'%'</isNotEmpty>
        <!--开户人ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CustomerID">Wal_CustomerID LIKE '%'+#WHERE_Wal_CustomerID#+'%'</isNotEmpty>
        <!--开户人姓名-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CustomerName">Wal_CustomerName LIKE '%'+#WHERE_Wal_CustomerName#+'%'</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_AutoFactoryCode">Wal_AutoFactoryCode LIKE '%'+#WHERE_Wal_AutoFactoryCode#+'%'</isNotEmpty>
        <!--汽修商户组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_AutoFactoryOrgCode">Wal_AutoFactoryOrgCode LIKE '%'+#WHERE_Wal_AutoFactoryOrgCode#+'%'</isNotEmpty>
        <!--交易密码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_TradingPassword">Wal_TradingPassword LIKE '%'+#WHERE_Wal_TradingPassword#+'%'</isNotEmpty>
        <!--可用余额-->
        <isNotNull prepend="AND" property="WHERE_Wal_AvailableBalance">Wal_AvailableBalance=#WHERE_Wal_AvailableBalance#</isNotNull>
        <!--冻结余额-->
        <isNotNull prepend="AND" property="WHERE_Wal_FreezingBalance">Wal_FreezingBalance=#WHERE_Wal_FreezingBalance#</isNotNull>
        <!--充值基数-->
        <isNotNull prepend="AND" property="WHERE_Wal_DepositBaseAmount">Wal_DepositBaseAmount=#WHERE_Wal_DepositBaseAmount#</isNotNull>
        <!--推荐员工ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_RecommendEmployeeID">Wal_RecommendEmployeeID LIKE '%'+#WHERE_Wal_RecommendEmployeeID#+'%'</isNotEmpty>
        <!--推荐员工-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_RecommendEmployee">Wal_RecommendEmployee LIKE '%'+#WHERE_Wal_RecommendEmployee#+'%'</isNotEmpty>
        <!--开户组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedByOrgID">Wal_CreatedByOrgID LIKE '%'+#WHERE_Wal_CreatedByOrgID#+'%'</isNotEmpty>
        <!--开户组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedByOrgName">Wal_CreatedByOrgName LIKE '%'+#WHERE_Wal_CreatedByOrgName#+'%'</isNotEmpty>
        <!--生效时间-->
        <isNotNull prepend="" property="_EffectiveTimeStart">
          <isNotNull prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime BETWEEN #_EffectiveTimeStart# AND #_EffectiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime <![CDATA[>=]]> #_EffectiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_EffectiveTimeStart">
          <isNotNull prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime <![CDATA[<=]]> #_EffectiveTimeEnd#</isNotNull>
        </isNull>
        <!--失效时间-->
        <isNotNull prepend="" property="_IneffectiveTimeStart">
          <isNotNull prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime BETWEEN #_IneffectiveTimeStart# AND #_IneffectiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime <![CDATA[>=]]> #_IneffectiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_IneffectiveTimeStart">
          <isNotNull prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime <![CDATA[<=]]> #_IneffectiveTimeEnd#</isNotNull>
        </isNull>
        <!--钱包状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_StatusCode">Wal_StatusCode LIKE '%'+#WHERE_Wal_StatusCode#+'%'</isNotEmpty>
        <!--钱包状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_StatusName">Wal_StatusName LIKE '%'+#WHERE_Wal_StatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Remark">Wal_Remark LIKE '%'+#WHERE_Wal_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Wal_IsValid">Wal_IsValid=#WHERE_Wal_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedBy">Wal_CreatedBy LIKE '%'+#WHERE_Wal_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_UpdatedBy">Wal_UpdatedBy LIKE '%'+#WHERE_Wal_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Wal_VersionNo">Wal_VersionNo=#WHERE_Wal_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_TransID">Wal_TransID LIKE '%'+#WHERE_Wal_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      Wal_ID,
      Wal_Org_ID,
      Wal_Org_Name,
      Wal_No,
      Wal_SourceTypeCode,
      Wal_SourceTypeName,
      Wal_SourceNo,
      Wal_OwnerTypeCode,
      Wal_OwnerTypeName,
      Wal_CustomerID,
      Wal_CustomerName,
      Wal_AutoFactoryCode,
      Wal_AutoFactoryOrgCode,
      Wal_TradingPassword,
      Wal_AvailableBalance,
      Wal_FreezingBalance,
      Wal_DepositBaseAmount,
      Wal_RecommendEmployeeID,
      Wal_RecommendEmployee,
      Wal_CreatedByOrgID,
      Wal_CreatedByOrgName,
      Wal_EffectiveTime,
      Wal_IneffectiveTime,
      Wal_StatusCode,
      Wal_StatusName,
      Wal_Remark,
      Wal_IsValid,
      Wal_CreatedBy,
      Wal_CreatedTime,
      Wal_UpdatedBy,
      Wal_UpdatedTime,
      Wal_VersionNo,
      Wal_TransID
      FROM EWM_Wallet
      <dynamic prepend="WHERE">
        <!--钱包ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_ID">Wal_ID=#WHERE_Wal_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Org_ID">Wal_Org_ID LIKE '%'+#WHERE_Wal_Org_ID#+'%'</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Org_Name">Wal_Org_Name LIKE '%'+#WHERE_Wal_Org_Name#+'%'</isNotEmpty>
        <!--钱包账号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_No">Wal_No LIKE '%'+#WHERE_Wal_No#+'%'</isNotEmpty>
        <!--钱包来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceTypeCode">Wal_SourceTypeCode LIKE '%'+#WHERE_Wal_SourceTypeCode#+'%'</isNotEmpty>
        <!--钱包来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceTypeName">Wal_SourceTypeName LIKE '%'+#WHERE_Wal_SourceTypeName#+'%'</isNotEmpty>
        <!--来源账号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceNo">Wal_SourceNo LIKE '%'+#WHERE_Wal_SourceNo#+'%'</isNotEmpty>
        <!--钱包所有人类别编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_OwnerTypeCode">Wal_OwnerTypeCode LIKE '%'+#WHERE_Wal_OwnerTypeCode#+'%'</isNotEmpty>
        <!--钱包所有人类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_OwnerTypeName">Wal_OwnerTypeName LIKE '%'+#WHERE_Wal_OwnerTypeName#+'%'</isNotEmpty>
        <!--开户人ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CustomerID">Wal_CustomerID LIKE '%'+#WHERE_Wal_CustomerID#+'%'</isNotEmpty>
        <!--开户人姓名-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CustomerName">Wal_CustomerName LIKE '%'+#WHERE_Wal_CustomerName#+'%'</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_AutoFactoryCode">Wal_AutoFactoryCode LIKE '%'+#WHERE_Wal_AutoFactoryCode#+'%'</isNotEmpty>
        <!--汽修商户组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_AutoFactoryOrgCode">Wal_AutoFactoryOrgCode LIKE '%'+#WHERE_Wal_AutoFactoryOrgCode#+'%'</isNotEmpty>
        <!--交易密码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_TradingPassword">Wal_TradingPassword LIKE '%'+#WHERE_Wal_TradingPassword#+'%'</isNotEmpty>
        <!--可用余额-->
        <isNotNull prepend="AND" property="WHERE_Wal_AvailableBalance">Wal_AvailableBalance=#WHERE_Wal_AvailableBalance#</isNotNull>
        <!--冻结余额-->
        <isNotNull prepend="AND" property="WHERE_Wal_FreezingBalance">Wal_FreezingBalance=#WHERE_Wal_FreezingBalance#</isNotNull>
        <!--充值基数-->
        <isNotNull prepend="AND" property="WHERE_Wal_DepositBaseAmount">Wal_DepositBaseAmount=#WHERE_Wal_DepositBaseAmount#</isNotNull>
        <!--推荐员工ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_RecommendEmployeeID">Wal_RecommendEmployeeID LIKE '%'+#WHERE_Wal_RecommendEmployeeID#+'%'</isNotEmpty>
        <!--推荐员工-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_RecommendEmployee">Wal_RecommendEmployee LIKE '%'+#WHERE_Wal_RecommendEmployee#+'%'</isNotEmpty>
        <!--开户组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedByOrgID">Wal_CreatedByOrgID LIKE '%'+#WHERE_Wal_CreatedByOrgID#+'%'</isNotEmpty>
        <!--开户组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedByOrgName">Wal_CreatedByOrgName LIKE '%'+#WHERE_Wal_CreatedByOrgName#+'%'</isNotEmpty>
        <!--生效时间-->
        <isNotNull prepend="" property="_EffectiveTimeStart">
          <isNotNull prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime BETWEEN #_EffectiveTimeStart# AND #_EffectiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime <![CDATA[>=]]> #_EffectiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_EffectiveTimeStart">
          <isNotNull prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime <![CDATA[<=]]> #_EffectiveTimeEnd#</isNotNull>
        </isNull>
        <!--失效时间-->
        <isNotNull prepend="" property="_IneffectiveTimeStart">
          <isNotNull prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime BETWEEN #_IneffectiveTimeStart# AND #_IneffectiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime <![CDATA[>=]]> #_IneffectiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_IneffectiveTimeStart">
          <isNotNull prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime <![CDATA[<=]]> #_IneffectiveTimeEnd#</isNotNull>
        </isNull>
        <!--钱包状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_StatusCode">Wal_StatusCode LIKE '%'+#WHERE_Wal_StatusCode#+'%'</isNotEmpty>
        <!--钱包状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_StatusName">Wal_StatusName LIKE '%'+#WHERE_Wal_StatusName#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Remark">Wal_Remark LIKE '%'+#WHERE_Wal_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Wal_IsValid">Wal_IsValid=#WHERE_Wal_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedBy">Wal_CreatedBy LIKE '%'+#WHERE_Wal_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_UpdatedBy">Wal_UpdatedBy LIKE '%'+#WHERE_Wal_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Wal_VersionNo">Wal_VersionNo=#WHERE_Wal_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_TransID">Wal_TransID LIKE '%'+#WHERE_Wal_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY Wal_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[电子钱包]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLEWM_Wallet" parameterClass="MDLEWM_Wallet" resultClass="int">
      SELECT COUNT(Wal_ID) 'RecordCount'
      FROM EWM_Wallet
      <dynamic prepend="WHERE">
        <!--钱包ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_ID">Wal_ID=#WHERE_Wal_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Org_ID">Wal_Org_ID=#WHERE_Wal_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Org_Name">Wal_Org_Name=#WHERE_Wal_Org_Name#</isNotEmpty>
        <!--钱包账号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_No">Wal_No=#WHERE_Wal_No#</isNotEmpty>
        <!--钱包来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceTypeCode">Wal_SourceTypeCode=#WHERE_Wal_SourceTypeCode#</isNotEmpty>
        <!--钱包来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceTypeName">Wal_SourceTypeName=#WHERE_Wal_SourceTypeName#</isNotEmpty>
        <!--来源账号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceNo">Wal_SourceNo=#WHERE_Wal_SourceNo#</isNotEmpty>
        <!--钱包所有人类别编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_OwnerTypeCode">Wal_OwnerTypeCode=#WHERE_Wal_OwnerTypeCode#</isNotEmpty>
        <!--钱包所有人类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_OwnerTypeName">Wal_OwnerTypeName=#WHERE_Wal_OwnerTypeName#</isNotEmpty>
        <!--开户人ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CustomerID">Wal_CustomerID=#WHERE_Wal_CustomerID#</isNotEmpty>
        <!--开户人姓名-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CustomerName">Wal_CustomerName=#WHERE_Wal_CustomerName#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_AutoFactoryCode">Wal_AutoFactoryCode=#WHERE_Wal_AutoFactoryCode#</isNotEmpty>
        <!--汽修商户组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_AutoFactoryOrgCode">Wal_AutoFactoryOrgCode=#WHERE_Wal_AutoFactoryOrgCode#</isNotEmpty>
        <!--交易密码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_TradingPassword">Wal_TradingPassword=#WHERE_Wal_TradingPassword#</isNotEmpty>
        <!--可用余额-->
        <isNotNull prepend="AND" property="WHERE_Wal_AvailableBalance">Wal_AvailableBalance=#WHERE_Wal_AvailableBalance#</isNotNull>
        <!--冻结余额-->
        <isNotNull prepend="AND" property="WHERE_Wal_FreezingBalance">Wal_FreezingBalance=#WHERE_Wal_FreezingBalance#</isNotNull>
        <!--充值基数-->
        <isNotNull prepend="AND" property="WHERE_Wal_DepositBaseAmount">Wal_DepositBaseAmount=#WHERE_Wal_DepositBaseAmount#</isNotNull>
        <!--推荐员工ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_RecommendEmployeeID">Wal_RecommendEmployeeID=#WHERE_Wal_RecommendEmployeeID#</isNotEmpty>
        <!--推荐员工-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_RecommendEmployee">Wal_RecommendEmployee=#WHERE_Wal_RecommendEmployee#</isNotEmpty>
        <!--开户组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedByOrgID">Wal_CreatedByOrgID=#WHERE_Wal_CreatedByOrgID#</isNotEmpty>
        <!--开户组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedByOrgName">Wal_CreatedByOrgName=#WHERE_Wal_CreatedByOrgName#</isNotEmpty>
        <!--生效时间-->
        <isNotNull prepend="" property="_EffectiveTimeStart">
          <isNotNull prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime BETWEEN #_EffectiveTimeStart# AND #_EffectiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime <![CDATA[>=]]> #_EffectiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_EffectiveTimeStart">
          <isNotNull prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime <![CDATA[<=]]> #_EffectiveTimeEnd#</isNotNull>
        </isNull>
        <!--失效时间-->
        <isNotNull prepend="" property="_IneffectiveTimeStart">
          <isNotNull prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime BETWEEN #_IneffectiveTimeStart# AND #_IneffectiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime <![CDATA[>=]]> #_IneffectiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_IneffectiveTimeStart">
          <isNotNull prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime <![CDATA[<=]]> #_IneffectiveTimeEnd#</isNotNull>
        </isNull>
        <!--钱包状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_StatusCode">Wal_StatusCode=#WHERE_Wal_StatusCode#</isNotEmpty>
        <!--钱包状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_StatusName">Wal_StatusName=#WHERE_Wal_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Remark">Wal_Remark=#WHERE_Wal_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Wal_IsValid">Wal_IsValid=#WHERE_Wal_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedBy">Wal_CreatedBy=#WHERE_Wal_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_UpdatedBy">Wal_UpdatedBy=#WHERE_Wal_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Wal_VersionNo">Wal_VersionNo=#WHERE_Wal_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_TransID">Wal_TransID=#WHERE_Wal_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[电子钱包]信息-->
    <update id="COMM_SQL_UpdateMDLEWM_Wallet" parameterClass="MDLEWM_Wallet" >
      UPDATE EWM_Wallet
      SET
      Wal_UpdatedTime=GETDATE(),
      Wal_VersionNo=Wal_VersionNo+1
      <isNotEmpty prepend="," property="Wal_Org_ID">Wal_Org_ID=#Wal_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_Org_Name">Wal_Org_Name=#Wal_Org_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_No">Wal_No=#Wal_No#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_SourceTypeCode">Wal_SourceTypeCode=#Wal_SourceTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_SourceTypeName">Wal_SourceTypeName=#Wal_SourceTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_SourceNo">Wal_SourceNo=#Wal_SourceNo#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_OwnerTypeCode">Wal_OwnerTypeCode=#Wal_OwnerTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_OwnerTypeName">Wal_OwnerTypeName=#Wal_OwnerTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_CustomerID">Wal_CustomerID=#Wal_CustomerID#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_CustomerName">Wal_CustomerName=#Wal_CustomerName#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_AutoFactoryCode">Wal_AutoFactoryCode=#Wal_AutoFactoryCode#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_AutoFactoryOrgCode">Wal_AutoFactoryOrgCode=#Wal_AutoFactoryOrgCode#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_TradingPassword">Wal_TradingPassword=#Wal_TradingPassword#</isNotEmpty>
      <isNotNull prepend="," property="Wal_AvailableBalance">Wal_AvailableBalance=#Wal_AvailableBalance#</isNotNull>
      <isNotNull prepend="," property="Wal_FreezingBalance">Wal_FreezingBalance=#Wal_FreezingBalance#</isNotNull>
      <isNotNull prepend="," property="Wal_DepositBaseAmount">Wal_DepositBaseAmount=#Wal_DepositBaseAmount#</isNotNull>
      <isNotEmpty prepend="," property="Wal_RecommendEmployeeID">Wal_RecommendEmployeeID=#Wal_RecommendEmployeeID#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_RecommendEmployee">Wal_RecommendEmployee=#Wal_RecommendEmployee#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_CreatedByOrgID">Wal_CreatedByOrgID=#Wal_CreatedByOrgID#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_CreatedByOrgName">Wal_CreatedByOrgName=#Wal_CreatedByOrgName#</isNotEmpty>
      <isNotNull prepend="," property="Wal_EffectiveTime">Wal_EffectiveTime=#Wal_EffectiveTime#</isNotNull>
      <isNotNull prepend="," property="Wal_IneffectiveTime">Wal_IneffectiveTime=#Wal_IneffectiveTime#</isNotNull>
      <isNotEmpty prepend="," property="Wal_StatusCode">Wal_StatusCode=#Wal_StatusCode#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_StatusName">Wal_StatusName=#Wal_StatusName#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_Remark">Wal_Remark=#Wal_Remark#</isNotEmpty>
      <isNotNull prepend="," property="Wal_IsValid">Wal_IsValid=#Wal_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="Wal_CreatedBy">Wal_CreatedBy=#Wal_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="Wal_CreatedTime">Wal_CreatedTime=#Wal_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="Wal_UpdatedBy">Wal_UpdatedBy=#Wal_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="Wal_TransID">Wal_TransID=#Wal_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--钱包ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_ID">Wal_ID=#WHERE_Wal_ID#</isNotEmpty>
        <!--组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Org_ID">Wal_Org_ID=#WHERE_Wal_Org_ID#</isNotEmpty>
        <!--组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Org_Name">Wal_Org_Name=#WHERE_Wal_Org_Name#</isNotEmpty>
        <!--钱包账号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_No">Wal_No=#WHERE_Wal_No#</isNotEmpty>
        <!--钱包来源类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceTypeCode">Wal_SourceTypeCode=#WHERE_Wal_SourceTypeCode#</isNotEmpty>
        <!--钱包来源类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceTypeName">Wal_SourceTypeName=#WHERE_Wal_SourceTypeName#</isNotEmpty>
        <!--来源账号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_SourceNo">Wal_SourceNo=#WHERE_Wal_SourceNo#</isNotEmpty>
        <!--钱包所有人类别编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_OwnerTypeCode">Wal_OwnerTypeCode=#WHERE_Wal_OwnerTypeCode#</isNotEmpty>
        <!--钱包所有人类别名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_OwnerTypeName">Wal_OwnerTypeName=#WHERE_Wal_OwnerTypeName#</isNotEmpty>
        <!--开户人ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CustomerID">Wal_CustomerID=#WHERE_Wal_CustomerID#</isNotEmpty>
        <!--开户人姓名-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CustomerName">Wal_CustomerName=#WHERE_Wal_CustomerName#</isNotEmpty>
        <!--汽修商户编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_AutoFactoryCode">Wal_AutoFactoryCode=#WHERE_Wal_AutoFactoryCode#</isNotEmpty>
        <!--汽修商户组织编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_AutoFactoryOrgCode">Wal_AutoFactoryOrgCode=#WHERE_Wal_AutoFactoryOrgCode#</isNotEmpty>
        <!--交易密码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_TradingPassword">Wal_TradingPassword=#WHERE_Wal_TradingPassword#</isNotEmpty>
        <!--可用余额-->
        <isNotNull prepend="AND" property="WHERE_Wal_AvailableBalance">Wal_AvailableBalance=#WHERE_Wal_AvailableBalance#</isNotNull>
        <!--冻结余额-->
        <isNotNull prepend="AND" property="WHERE_Wal_FreezingBalance">Wal_FreezingBalance=#WHERE_Wal_FreezingBalance#</isNotNull>
        <!--充值基数-->
        <isNotNull prepend="AND" property="WHERE_Wal_DepositBaseAmount">Wal_DepositBaseAmount=#WHERE_Wal_DepositBaseAmount#</isNotNull>
        <!--推荐员工ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_RecommendEmployeeID">Wal_RecommendEmployeeID=#WHERE_Wal_RecommendEmployeeID#</isNotEmpty>
        <!--推荐员工-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_RecommendEmployee">Wal_RecommendEmployee=#WHERE_Wal_RecommendEmployee#</isNotEmpty>
        <!--开户组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedByOrgID">Wal_CreatedByOrgID=#WHERE_Wal_CreatedByOrgID#</isNotEmpty>
        <!--开户组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedByOrgName">Wal_CreatedByOrgName=#WHERE_Wal_CreatedByOrgName#</isNotEmpty>
        <!--生效时间-->
        <isNotNull prepend="" property="_EffectiveTimeStart">
          <isNotNull prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime BETWEEN #_EffectiveTimeStart# AND #_EffectiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime <![CDATA[>=]]> #_EffectiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_EffectiveTimeStart">
          <isNotNull prepend="AND" property="_EffectiveTimeEnd">Wal_EffectiveTime <![CDATA[<=]]> #_EffectiveTimeEnd#</isNotNull>
        </isNull>
        <!--失效时间-->
        <isNotNull prepend="" property="_IneffectiveTimeStart">
          <isNotNull prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime BETWEEN #_IneffectiveTimeStart# AND #_IneffectiveTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime <![CDATA[>=]]> #_IneffectiveTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_IneffectiveTimeStart">
          <isNotNull prepend="AND" property="_IneffectiveTimeEnd">Wal_IneffectiveTime <![CDATA[<=]]> #_IneffectiveTimeEnd#</isNotNull>
        </isNull>
        <!--钱包状态编码-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_StatusCode">Wal_StatusCode=#WHERE_Wal_StatusCode#</isNotEmpty>
        <!--钱包状态名称-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_StatusName">Wal_StatusName=#WHERE_Wal_StatusName#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_Remark">Wal_Remark=#WHERE_Wal_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_Wal_IsValid">Wal_IsValid=#WHERE_Wal_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_CreatedBy">Wal_CreatedBy=#WHERE_Wal_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">Wal_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_UpdatedBy">Wal_UpdatedBy=#WHERE_Wal_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">Wal_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_Wal_VersionNo">Wal_VersionNo=#WHERE_Wal_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_Wal_TransID">Wal_TransID=#WHERE_Wal_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[电子钱包]信息-->
    <delete id="COMM_SQL_DELETE_MDLEWM_Wallet" parameterClass="List">
      DELETE FROM EWM_Wallet
      WHERE Wal_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_Wal_ID#
      </iterate>
    </delete>

    <!--新增[电子钱包异动]信息-->
    <insert id="COMM_SQL_INSERT_MDLEWM_WalletTrans" parameterClass="List">
      <iterate conjunction=" " open="" close="">
        INSERT INTO
        EWM_WalletTrans
        (
        <!--钱包异动ID-->
        WalT_ID,
        <!--受理组织ID-->
        WalT_Org_ID,
        <!--受理组织名称-->
        WalT_Org_Name,
        <!--钱包ID-->
        WalT_Wal_ID,
        <!--钱包账号-->
        WalT_Wal_No,
        <!--异动时间-->
        WalT_Time,
        <!--异动类型编码-->
        WalT_TypeCode,
        <!--异动类型名称-->
        WalT_TypeName,
        <!--充值方式编码-->
        WalT_RechargeTypeCode,
        <!--充值方式名称-->
        WalT_RechargeTypeName,
        <!--通道编码-->
        WalT_ChannelCode,
        <!--通道名称-->
        WalT_ChannelName,
        <!--异动金额-->
        WalT_Amount,
        <!--单据编号-->
        WalT_BillNo,
        <!--备注-->
        WalT_Remark,
        <!--有效-->
        WalT_IsValid,
        <!--创建人-->
        WalT_CreatedBy,
        <!--创建时间-->
        WalT_CreatedTime,
        <!--修改人-->
        WalT_UpdatedBy,
        <!--修改时间-->
        WalT_UpdatedTime,
        <!--版本号-->
        WalT_VersionNo,
        <!--事务编号-->
        WalT_TransID
        )
        VALUES
        (
        <!--钱包异动ID-->
        #[].WalT_ID#,
        <!--受理组织ID-->
        #[].WalT_Org_ID#,
        <!--受理组织名称-->
        #[].WalT_Org_Name#,
        <!--钱包ID-->
        #[].WalT_Wal_ID#,
        <!--钱包账号-->
        #[].WalT_Wal_No#,
        <!--异动时间-->
        #[].WalT_Time#,
        <!--异动类型编码-->
        #[].WalT_TypeCode#,
        <!--异动类型名称-->
        #[].WalT_TypeName#,
        <!--充值方式编码-->
        #[].WalT_RechargeTypeCode#,
        <!--充值方式名称-->
        #[].WalT_RechargeTypeName#,
        <!--通道编码-->
        #[].WalT_ChannelCode#,
        <!--通道名称-->
        #[].WalT_ChannelName#,
        <!--异动金额-->
        #[].WalT_Amount#,
        <!--单据编号-->
        #[].WalT_BillNo#,
        <!--备注-->
        #[].WalT_Remark#,
        <!--有效-->
        1,
        <!--创建人-->
        #[].WalT_CreatedBy#,
        <!--创建时间-->
        GETDATE(),
        <!--修改人-->
        #[].WalT_UpdatedBy#,
        <!--修改时间-->
        GETDATE(),
        <!--版本号-->
        1,
        <!--事务编号-->
        #[].WalT_TransID#
        )
      </iterate>
    </insert>

    <!--查询[电子钱包异动]信息（精确条件）-->
    <select id="COMM_SQL_MDLEWM_WalletTrans" parameterClass="MDLEWM_WalletTrans" resultClass="MDLEWM_WalletTrans">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WalT_ID)
      FROM EWM_WalletTrans
      <dynamic prepend="WHERE">
        <!--钱包异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ID">WalT_ID=#WHERE_WalT_ID#</isNotEmpty>
        <!--受理组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Org_ID">WalT_Org_ID=#WHERE_WalT_Org_ID#</isNotEmpty>
        <!--受理组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Org_Name">WalT_Org_Name=#WHERE_WalT_Org_Name#</isNotEmpty>
        <!--钱包ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Wal_ID">WalT_Wal_ID=#WHERE_WalT_Wal_ID#</isNotEmpty>
        <!--钱包账号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Wal_No">WalT_Wal_No=#WHERE_WalT_Wal_No#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WalT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WalT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WalT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--异动类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TypeCode">WalT_TypeCode=#WHERE_WalT_TypeCode#</isNotEmpty>
        <!--异动类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TypeName">WalT_TypeName=#WHERE_WalT_TypeName#</isNotEmpty>
        <!--充值方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_RechargeTypeCode">WalT_RechargeTypeCode=#WHERE_WalT_RechargeTypeCode#</isNotEmpty>
        <!--充值方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_RechargeTypeName">WalT_RechargeTypeName=#WHERE_WalT_RechargeTypeName#</isNotEmpty>
        <!--通道编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ChannelCode">WalT_ChannelCode=#WHERE_WalT_ChannelCode#</isNotEmpty>
        <!--通道名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ChannelName">WalT_ChannelName=#WHERE_WalT_ChannelName#</isNotEmpty>
        <!--异动金额-->
        <isNotNull prepend="AND" property="WHERE_WalT_Amount">WalT_Amount=#WHERE_WalT_Amount#</isNotNull>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_BillNo">WalT_BillNo=#WHERE_WalT_BillNo#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Remark">WalT_Remark=#WHERE_WalT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WalT_IsValid">WalT_IsValid=#WHERE_WalT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_CreatedBy">WalT_CreatedBy=#WHERE_WalT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_UpdatedBy">WalT_UpdatedBy=#WHERE_WalT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WalT_VersionNo">WalT_VersionNo=#WHERE_WalT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TransID">WalT_TransID=#WHERE_WalT_TransID#</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WalT_ID,
      WalT_Org_ID,
      WalT_Org_Name,
      WalT_Wal_ID,
      WalT_Wal_No,
      WalT_Time,
      WalT_TypeCode,
      WalT_TypeName,
      WalT_RechargeTypeCode,
      WalT_RechargeTypeName,
      WalT_ChannelCode,
      WalT_ChannelName,
      WalT_Amount,
      WalT_BillNo,
      WalT_Remark,
      WalT_IsValid,
      WalT_CreatedBy,
      WalT_CreatedTime,
      WalT_UpdatedBy,
      WalT_UpdatedTime,
      WalT_VersionNo,
      WalT_TransID
      FROM EWM_WalletTrans
      <dynamic prepend="WHERE">
        <!--钱包异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ID">WalT_ID=#WHERE_WalT_ID#</isNotEmpty>
        <!--受理组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Org_ID">WalT_Org_ID=#WHERE_WalT_Org_ID#</isNotEmpty>
        <!--受理组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Org_Name">WalT_Org_Name=#WHERE_WalT_Org_Name#</isNotEmpty>
        <!--钱包ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Wal_ID">WalT_Wal_ID=#WHERE_WalT_Wal_ID#</isNotEmpty>
        <!--钱包账号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Wal_No">WalT_Wal_No=#WHERE_WalT_Wal_No#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WalT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WalT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WalT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--异动类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TypeCode">WalT_TypeCode=#WHERE_WalT_TypeCode#</isNotEmpty>
        <!--异动类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TypeName">WalT_TypeName=#WHERE_WalT_TypeName#</isNotEmpty>
        <!--充值方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_RechargeTypeCode">WalT_RechargeTypeCode=#WHERE_WalT_RechargeTypeCode#</isNotEmpty>
        <!--充值方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_RechargeTypeName">WalT_RechargeTypeName=#WHERE_WalT_RechargeTypeName#</isNotEmpty>
        <!--通道编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ChannelCode">WalT_ChannelCode=#WHERE_WalT_ChannelCode#</isNotEmpty>
        <!--通道名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ChannelName">WalT_ChannelName=#WHERE_WalT_ChannelName#</isNotEmpty>
        <!--异动金额-->
        <isNotNull prepend="AND" property="WHERE_WalT_Amount">WalT_Amount=#WHERE_WalT_Amount#</isNotNull>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_BillNo">WalT_BillNo=#WHERE_WalT_BillNo#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Remark">WalT_Remark=#WHERE_WalT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WalT_IsValid">WalT_IsValid=#WHERE_WalT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_CreatedBy">WalT_CreatedBy=#WHERE_WalT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_UpdatedBy">WalT_UpdatedBy=#WHERE_WalT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WalT_VersionNo">WalT_VersionNo=#WHERE_WalT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TransID">WalT_TransID=#WHERE_WalT_TransID#</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WalT_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[电子钱包异动]信息（模糊条件）-->
    <select id="COMM_SQL_LIKE_MDLEWM_WalletTrans" parameterClass="MDLEWM_WalletTrans" resultClass="MDLEWM_WalletTrans">
      DECLARE @RecordCount INT
      SELECT  @RecordCount = COUNT(WalT_ID)
      FROM EWM_WalletTrans
      <dynamic prepend="WHERE">
        <!--钱包异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ID">WalT_ID=#WHERE_WalT_ID#</isNotEmpty>
        <!--受理组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Org_ID">WalT_Org_ID LIKE '%'+#WHERE_WalT_Org_ID#+'%'</isNotEmpty>
        <!--受理组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Org_Name">WalT_Org_Name LIKE '%'+#WHERE_WalT_Org_Name#+'%'</isNotEmpty>
        <!--钱包ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Wal_ID">WalT_Wal_ID LIKE '%'+#WHERE_WalT_Wal_ID#+'%'</isNotEmpty>
        <!--钱包账号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Wal_No">WalT_Wal_No LIKE '%'+#WHERE_WalT_Wal_No#+'%'</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WalT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WalT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WalT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--异动类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TypeCode">WalT_TypeCode LIKE '%'+#WHERE_WalT_TypeCode#+'%'</isNotEmpty>
        <!--异动类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TypeName">WalT_TypeName LIKE '%'+#WHERE_WalT_TypeName#+'%'</isNotEmpty>
        <!--充值方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_RechargeTypeCode">WalT_RechargeTypeCode LIKE '%'+#WHERE_WalT_RechargeTypeCode#+'%'</isNotEmpty>
        <!--充值方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_RechargeTypeName">WalT_RechargeTypeName LIKE '%'+#WHERE_WalT_RechargeTypeName#+'%'</isNotEmpty>
        <!--通道编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ChannelCode">WalT_ChannelCode LIKE '%'+#WHERE_WalT_ChannelCode#+'%'</isNotEmpty>
        <!--通道名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ChannelName">WalT_ChannelName LIKE '%'+#WHERE_WalT_ChannelName#+'%'</isNotEmpty>
        <!--异动金额-->
        <isNotNull prepend="AND" property="WHERE_WalT_Amount">WalT_Amount=#WHERE_WalT_Amount#</isNotNull>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_BillNo">WalT_BillNo LIKE '%'+#WHERE_WalT_BillNo#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Remark">WalT_Remark LIKE '%'+#WHERE_WalT_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WalT_IsValid">WalT_IsValid=#WHERE_WalT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_CreatedBy">WalT_CreatedBy LIKE '%'+#WHERE_WalT_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_UpdatedBy">WalT_UpdatedBy LIKE '%'+#WHERE_WalT_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WalT_VersionNo">WalT_VersionNo=#WHERE_WalT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TransID">WalT_TransID LIKE '%'+#WHERE_WalT_TransID#+'%'</isNotEmpty>
      </dynamic>

      SELECT
      @RecordCount 'RecordCount',
      WalT_ID,
      WalT_Org_ID,
      WalT_Org_Name,
      WalT_Wal_ID,
      WalT_Wal_No,
      WalT_Time,
      WalT_TypeCode,
      WalT_TypeName,
      WalT_RechargeTypeCode,
      WalT_RechargeTypeName,
      WalT_ChannelCode,
      WalT_ChannelName,
      WalT_Amount,
      WalT_BillNo,
      WalT_Remark,
      WalT_IsValid,
      WalT_CreatedBy,
      WalT_CreatedTime,
      WalT_UpdatedBy,
      WalT_UpdatedTime,
      WalT_VersionNo,
      WalT_TransID
      FROM EWM_WalletTrans
      <dynamic prepend="WHERE">
        <!--钱包异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ID">WalT_ID=#WHERE_WalT_ID#</isNotEmpty>
        <!--受理组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Org_ID">WalT_Org_ID LIKE '%'+#WHERE_WalT_Org_ID#+'%'</isNotEmpty>
        <!--受理组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Org_Name">WalT_Org_Name LIKE '%'+#WHERE_WalT_Org_Name#+'%'</isNotEmpty>
        <!--钱包ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Wal_ID">WalT_Wal_ID LIKE '%'+#WHERE_WalT_Wal_ID#+'%'</isNotEmpty>
        <!--钱包账号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Wal_No">WalT_Wal_No LIKE '%'+#WHERE_WalT_Wal_No#+'%'</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WalT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WalT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WalT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--异动类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TypeCode">WalT_TypeCode LIKE '%'+#WHERE_WalT_TypeCode#+'%'</isNotEmpty>
        <!--异动类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TypeName">WalT_TypeName LIKE '%'+#WHERE_WalT_TypeName#+'%'</isNotEmpty>
        <!--充值方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_RechargeTypeCode">WalT_RechargeTypeCode LIKE '%'+#WHERE_WalT_RechargeTypeCode#+'%'</isNotEmpty>
        <!--充值方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_RechargeTypeName">WalT_RechargeTypeName LIKE '%'+#WHERE_WalT_RechargeTypeName#+'%'</isNotEmpty>
        <!--通道编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ChannelCode">WalT_ChannelCode LIKE '%'+#WHERE_WalT_ChannelCode#+'%'</isNotEmpty>
        <!--通道名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ChannelName">WalT_ChannelName LIKE '%'+#WHERE_WalT_ChannelName#+'%'</isNotEmpty>
        <!--异动金额-->
        <isNotNull prepend="AND" property="WHERE_WalT_Amount">WalT_Amount=#WHERE_WalT_Amount#</isNotNull>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_BillNo">WalT_BillNo LIKE '%'+#WHERE_WalT_BillNo#+'%'</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Remark">WalT_Remark LIKE '%'+#WHERE_WalT_Remark#+'%'</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WalT_IsValid">WalT_IsValid=#WHERE_WalT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_CreatedBy">WalT_CreatedBy LIKE '%'+#WHERE_WalT_CreatedBy#+'%'</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_UpdatedBy">WalT_UpdatedBy LIKE '%'+#WHERE_WalT_UpdatedBy#+'%'</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WalT_VersionNo">WalT_VersionNo=#WHERE_WalT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TransID">WalT_TransID LIKE '%'+#WHERE_WalT_TransID#+'%'</isNotEmpty>
      </dynamic>

      <!--翻页用-->
      ORDER BY WalT_UpdatedTime DESC
      <isNotNull prepend="" property="PageSize">
        <isNotNull prepend="" property="PageIndex">
          OFFSET ( #PageIndex# - 1 ) * #PageSize# ROWS
          FETCH NEXT #PageSize# ROWS ONLY
        </isNotNull>
      </isNotNull>
    </select>

    <!--查询[电子钱包异动]信息的记录条数-->
    <select id="COMM_SQL_COUNT_MDLEWM_WalletTrans" parameterClass="MDLEWM_WalletTrans" resultClass="int">
      SELECT COUNT(WalT_ID) 'RecordCount'
      FROM EWM_WalletTrans
      <dynamic prepend="WHERE">
        <!--钱包异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ID">WalT_ID=#WHERE_WalT_ID#</isNotEmpty>
        <!--受理组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Org_ID">WalT_Org_ID=#WHERE_WalT_Org_ID#</isNotEmpty>
        <!--受理组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Org_Name">WalT_Org_Name=#WHERE_WalT_Org_Name#</isNotEmpty>
        <!--钱包ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Wal_ID">WalT_Wal_ID=#WHERE_WalT_Wal_ID#</isNotEmpty>
        <!--钱包账号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Wal_No">WalT_Wal_No=#WHERE_WalT_Wal_No#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WalT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WalT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WalT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--异动类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TypeCode">WalT_TypeCode=#WHERE_WalT_TypeCode#</isNotEmpty>
        <!--异动类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TypeName">WalT_TypeName=#WHERE_WalT_TypeName#</isNotEmpty>
        <!--充值方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_RechargeTypeCode">WalT_RechargeTypeCode=#WHERE_WalT_RechargeTypeCode#</isNotEmpty>
        <!--充值方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_RechargeTypeName">WalT_RechargeTypeName=#WHERE_WalT_RechargeTypeName#</isNotEmpty>
        <!--通道编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ChannelCode">WalT_ChannelCode=#WHERE_WalT_ChannelCode#</isNotEmpty>
        <!--通道名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ChannelName">WalT_ChannelName=#WHERE_WalT_ChannelName#</isNotEmpty>
        <!--异动金额-->
        <isNotNull prepend="AND" property="WHERE_WalT_Amount">WalT_Amount=#WHERE_WalT_Amount#</isNotNull>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_BillNo">WalT_BillNo=#WHERE_WalT_BillNo#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Remark">WalT_Remark=#WHERE_WalT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WalT_IsValid">WalT_IsValid=#WHERE_WalT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_CreatedBy">WalT_CreatedBy=#WHERE_WalT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_UpdatedBy">WalT_UpdatedBy=#WHERE_WalT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WalT_VersionNo">WalT_VersionNo=#WHERE_WalT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TransID">WalT_TransID=#WHERE_WalT_TransID#</isNotEmpty>
      </dynamic>

    </select>

    <!--更新[电子钱包异动]信息-->
    <update id="COMM_SQL_UpdateMDLEWM_WalletTrans" parameterClass="MDLEWM_WalletTrans" >
      UPDATE EWM_WalletTrans
      SET
      WalT_UpdatedTime=GETDATE(),
      WalT_VersionNo=WalT_VersionNo+1
      <isNotEmpty prepend="," property="WalT_Org_ID">WalT_Org_ID=#WalT_Org_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="WalT_Org_Name">WalT_Org_Name=#WalT_Org_Name#</isNotEmpty>
      <isNotEmpty prepend="," property="WalT_Wal_ID">WalT_Wal_ID=#WalT_Wal_ID#</isNotEmpty>
      <isNotEmpty prepend="," property="WalT_Wal_No">WalT_Wal_No=#WalT_Wal_No#</isNotEmpty>
      <isNotNull prepend="," property="WalT_Time">WalT_Time=#WalT_Time#</isNotNull>
      <isNotEmpty prepend="," property="WalT_TypeCode">WalT_TypeCode=#WalT_TypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="WalT_TypeName">WalT_TypeName=#WalT_TypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="WalT_RechargeTypeCode">WalT_RechargeTypeCode=#WalT_RechargeTypeCode#</isNotEmpty>
      <isNotEmpty prepend="," property="WalT_RechargeTypeName">WalT_RechargeTypeName=#WalT_RechargeTypeName#</isNotEmpty>
      <isNotEmpty prepend="," property="WalT_ChannelCode">WalT_ChannelCode=#WalT_ChannelCode#</isNotEmpty>
      <isNotEmpty prepend="," property="WalT_ChannelName">WalT_ChannelName=#WalT_ChannelName#</isNotEmpty>
      <isNotNull prepend="," property="WalT_Amount">WalT_Amount=#WalT_Amount#</isNotNull>
      <isNotEmpty prepend="," property="WalT_BillNo">WalT_BillNo=#WalT_BillNo#</isNotEmpty>
      <isNotEmpty prepend="," property="WalT_Remark">WalT_Remark=#WalT_Remark#</isNotEmpty>
      <isNotNull prepend="," property="WalT_IsValid">WalT_IsValid=#WalT_IsValid#</isNotNull>
      <isNotEmpty prepend="," property="WalT_CreatedBy">WalT_CreatedBy=#WalT_CreatedBy#</isNotEmpty>
      <isNotNull prepend="," property="WalT_CreatedTime">WalT_CreatedTime=#WalT_CreatedTime#</isNotNull>
      <isNotEmpty prepend="," property="WalT_UpdatedBy">WalT_UpdatedBy=#WalT_UpdatedBy#</isNotEmpty>
      <isNotEmpty prepend="," property="WalT_TransID">WalT_TransID=#WalT_TransID#</isNotEmpty>
      <dynamic prepend="WHERE">
        <!--钱包异动ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ID">WalT_ID=#WHERE_WalT_ID#</isNotEmpty>
        <!--受理组织ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Org_ID">WalT_Org_ID=#WHERE_WalT_Org_ID#</isNotEmpty>
        <!--受理组织名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Org_Name">WalT_Org_Name=#WHERE_WalT_Org_Name#</isNotEmpty>
        <!--钱包ID-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Wal_ID">WalT_Wal_ID=#WHERE_WalT_Wal_ID#</isNotEmpty>
        <!--钱包账号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Wal_No">WalT_Wal_No=#WHERE_WalT_Wal_No#</isNotEmpty>
        <!--异动时间-->
        <isNotNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WalT_Time BETWEEN #_TimeStart# AND #_TimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_TimeEnd">WalT_Time <![CDATA[>=]]> #_TimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_TimeStart">
          <isNotNull prepend="AND" property="_TimeEnd">WalT_Time <![CDATA[<=]]> #_TimeEnd#</isNotNull>
        </isNull>
        <!--异动类型编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TypeCode">WalT_TypeCode=#WHERE_WalT_TypeCode#</isNotEmpty>
        <!--异动类型名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TypeName">WalT_TypeName=#WHERE_WalT_TypeName#</isNotEmpty>
        <!--充值方式编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_RechargeTypeCode">WalT_RechargeTypeCode=#WHERE_WalT_RechargeTypeCode#</isNotEmpty>
        <!--充值方式名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_RechargeTypeName">WalT_RechargeTypeName=#WHERE_WalT_RechargeTypeName#</isNotEmpty>
        <!--通道编码-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ChannelCode">WalT_ChannelCode=#WHERE_WalT_ChannelCode#</isNotEmpty>
        <!--通道名称-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_ChannelName">WalT_ChannelName=#WHERE_WalT_ChannelName#</isNotEmpty>
        <!--异动金额-->
        <isNotNull prepend="AND" property="WHERE_WalT_Amount">WalT_Amount=#WHERE_WalT_Amount#</isNotNull>
        <!--单据编号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_BillNo">WalT_BillNo=#WHERE_WalT_BillNo#</isNotEmpty>
        <!--备注-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_Remark">WalT_Remark=#WHERE_WalT_Remark#</isNotEmpty>
        <!--有效-->
        <isNotNull prepend="AND" property="WHERE_WalT_IsValid">WalT_IsValid=#WHERE_WalT_IsValid#</isNotNull>
        <!--创建人-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_CreatedBy">WalT_CreatedBy=#WHERE_WalT_CreatedBy#</isNotEmpty>
        <!--创建时间-->
        <isNotNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime BETWEEN #_CreatedTimeStart# AND #_CreatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime <![CDATA[>=]]> #_CreatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_CreatedTimeStart">
          <isNotNull prepend="AND" property="_CreatedTimeEnd">WalT_CreatedTime <![CDATA[<=]]> #_CreatedTimeEnd#</isNotNull>
        </isNull>
        <!--修改人-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_UpdatedBy">WalT_UpdatedBy=#WHERE_WalT_UpdatedBy#</isNotEmpty>
        <!--修改时间-->
        <isNotNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime BETWEEN #_UpdatedTimeStart# AND #_UpdatedTimeEnd#</isNotNull>
          <isNull  prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime <![CDATA[>=]]> #_UpdatedTimeStart#</isNull>
        </isNotNull>
        <isNull prepend="" property="_UpdatedTimeStart">
          <isNotNull prepend="AND" property="_UpdatedTimeEnd">WalT_UpdatedTime <![CDATA[<=]]> #_UpdatedTimeEnd#</isNotNull>
        </isNull>
        <!--版本号-->
        <isNotNull prepend="AND" property="WHERE_WalT_VersionNo">WalT_VersionNo=#WHERE_WalT_VersionNo#</isNotNull>
        <!--事务编号-->
        <isNotEmpty prepend="AND" property="WHERE_WalT_TransID">WalT_TransID=#WHERE_WalT_TransID#</isNotEmpty>
      </dynamic>

    </update>

    <!--删除[电子钱包异动]信息-->
    <delete id="COMM_SQL_DELETE_MDLEWM_WalletTrans" parameterClass="List">
      DELETE FROM EWM_WalletTrans
      WHERE WalT_ID IN
      <iterate conjunction="," open="(" close=")">
        #[].WHERE_WalT_ID#
      </iterate>
    </delete>

  </statements>
</sqlMap>
